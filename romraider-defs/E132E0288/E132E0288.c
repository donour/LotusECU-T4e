#define 2 0x2
#define 10 0xa
#define 1550 0x60e
#define 2750 0xabe
#define 3950 0xf6e
#define 350 0x15e
#define 0x40 0x40
#define 0x60 0x60
#define 0x2 0x2
#define 1 0x1
#define 3 0x3
#define 2.2420775E-44 0x10
#define 20 0x14
#define 16 0x10
#define 32 0x20
#define 8 0x8
#define 40 0x28
#define 31 0x1f
#define 0 0x0
#define 268435456 0x10000000
#define 4194304 0x400000
#define 1048576 0x100000
#define 4 0x4
#define 6 0x6
#define 15 0xf
#define 1.7936620E-43 0x80
#define 12 0xc
#define '0' 0x30
#define '9' 0x39
#define 'F' 0x46
#define 2040 0x7f8
#define 7 0x7
#define 5 0x5
#define 'E' 0x45
#define 14 0xe
#define 36 0x24
#define 38 0x26
#define 63 0x3f
#define 11 0xb
#define 17 0x11
#define 440 0x1b8
#define 1514 0x5ea
#define 127 0x7f
#define 9 0x9
#define 30 0x1e
#define 00001110b 0xe
#define 00000000000000000000000000001110b 0xe
#define 11111011b 0xfb
#define 11111101b 0xfd
#define 11110111b 0xf7
#define 00000000000000000000000000001000b 0x8
#define 00000000000000000000000000000010b 0x2
#define 00000000000000000000000000000100b 0x4
#define 00010000b 0x10
#define 00000001b 0x1
#define 45 0x2d
#define 256 0x100
#define 50 0x32
#define 3276 0xccc
#define 00000000000000000000000000010000b 0x10
#define 0x1000000 0x1000000
#define 100 0x64
#define 24 0x18
#define 1460 0x5b4
#define 33 0x21
#define 11111100b 0xfc
#define 80 0x50
#define 'A' 0x41
#define 572 0x23c
#define 1829 0x725
#define 'J' 0x4a
#define 'H' 0x48
#define 'K' 0x4b
#define 0000000011111110b 0xfe
#define 0000000000000001b 0x1
#define 11011111b 0xdf
#define 00000000000000000000000000100000b 0x20
#define 0000000000000000000000000000000000000000000000000000000000100000b 0x20
#define 37 0x25
#define 10000000b 0x80
#define 1173 0x495
#define 911 0x38f
#define -112 -0x70
#define 'W' 0x57
#define 'T' 0x54
#define '?' 0x3f
#define 1380 0x564
#define 52 0x34
#define 180 0xb4
#define 65424 0xff90
#define 255 0xff
#define 510 0x1fe
#define 1023 0x3ff
#define 1024 0x400
#define 156 0x9c
#define 19 0x13
#define 96 0x60
#define 253 0xfd
#define 68 0x44
#define 64 0x40
#define 34 0x22
#define 46 0x2e
#define 230 0xe6
#define 170 0xaa
#define 128 0x80
#define 360 0x168
#define 5100 0x13ec
#define 13 0xd
#define 25 0x19
#define 21 0x15
#define 26 0x1a
#define 28 0x1c
#define 1111111111111110b 0xfffe
#define 27 0x1b
#define 11100111b 0xe7
#define 11111110b 0xfe
#define 4096 0x1000
#define 22 0x16
#define 00000000000000000000000000000001b 0x1
#define 972 0x3cc
#define 11000111b 0xc7
#define 01000000b 0x40
#define 10111111b 0xbf
#define 2047 0x7ff
#define 400 0x190
#define 0000000000001000b 0x8
#define 1020 0x3fc
#define 00000000000000000000000000011111b 0x1f
#define 11101111b 0xef
#define 00000000000000000000000001000000b 0x40
#define 11111010b 0xfa
#define 00000100b 0x4
#define 00100000b 0x20
#define 00001111b 0xf
#define 00000101b 0x5
#define 00000010b 0x2
#define 0000000000100000b 0x20
#define 2.8025969E-45 0x2
#define 3050 0xbea
#define 5150 0x141e
#define 6350 0x18ce
#define 0000000000010000b 0x10
#define 512 0x200
#define 955 0x3bb
#define 00000000000000000100000000000000b 0x4000
#define 11001111b 0xcf
#define 01100000b 0x60
#define 00000000000000000000001000000000b 0x200
#define 1111110111111111b 0xfdff
#define 01111111b 0x7f
#define 1022 0x3fe
#define 00111111b 0x3f
#define 0000000000000000000000000000000000000000000000000000000000001111b 0xf
#define 0000000000000000000000000000000000000000000000000000000000000011b 0x3
#define 784 0x310
#define 126 0x7e
#define 11100000b 0xe0
#define 00011111b 0x1f
#define 10011111b 0x9f
#define 11000000b 0xc0
#define -16 -0x10
#define 4095 0xfff
#define 00001000b 0x8
#define 65 0x41
#define 0xF 0xf
#define 00000000000000000000000010000000b 0x80
#define 58386 0xe412
#define 7200 0x1c20
#define 1125 0x465
#define 11110011b 0xf3
#define 00000000000000000000000000111111b 0x3f
#define 2560 0xa00
#define 20000 0x4e20
#define -254 -0xfe
#define 00000000000000000000000001111111b 0x7f
#define 1111111111111011b 0xfffb
#define 144 0x90
#define 67 0x43
#define 112 0x70
#define 65535 0xffff
#define 00000000000000000011111111111111b 0x3fff
#define 32768 0x8000
#define 00000000000000000000000000001100b 0xc
#define 00000000000000001000000000000000b 0x8000
#define 11111111111111111111111101111100b 0xffffff7c
#define 00000000000000001111111111111100b 0xfffc
#define 00000000000000000000000000010001b 0x11
#define 450 0x1c2
#define 48 0x30
#define 153 0x99
#define 3.3631163E-44 0x18
#define 01011111b 0x5f
#define 23 0x17
#define 00000000000000000000000000101000b 0x28
#define 11111001b 0xf9
#define 11111000b 0xf8
#define 00000000000000000000000000110000b 0x30
#define 1111111001011111b 0xfe5f
#define 00000000000000000000000000010100b 0x14
#define 0000000110100000b 0x1a0
#define 1111111111111100b 0xfffc
#define 1111111111111101b 0xfffd
#define 1111111111100111b 0xffe7
#define 00000000000000000000000000011000b 0x18
#define 1111111111100011b 0xffe3
#define 11110101b 0xf5
#define 00100001b 0x21
#define 00000011b 0x3
#define 254 0xfe
#define 12750 0x31ce
#define 1111111111110111b 0xfff7
#define 160 0xa0
#define 250 0xfa
#define 2550 0x9f6
#define -1280 -0x500
#define 2870 0xb36
#define 233 0xe9
#define 287 0x11f
#define 112500 0x1b774
#define 2.8025969E-44 0x14
#define 0011111100111111b 0x3f3f
#define 00000000000000000000010000001101b 0x40d
#define 00000000000000000000010000000100b 0x404
#define 00000000000000000000100001100000b 0x860
#define 8192000 0x7d0000
#define 2040000 0x1f20c0
#define 00000000000000000100101101001111b 0x4b4f
#define 0101001101010010b 0x5352
#define 00000000000000000000000010000001b 0x81
#define 172 0xac
#define 6284 0x188c
#define 5839 0x16cf
#define 1000 0x3e8
#define 0000100000000000b 0x800
#define 35 0x23
#define 0x20000 0x20000
#define 0xFFFDFFFF 0xfffdffff
#define 11110001b 0xf1
#define 18 0x12
#define 10000 0x2710
#define 6250 0x186a
#define -6500 -0x1964
#define 511 0x1ff
#define -512 -0x200
#define -255 -0xff
#define 1111111111101111b 0xffef
#define -20 -0x14
#define 00000000000000000000000000000111b 0x7
#define 10700 0x29cc
#define 225 0xe1
#define 750 0x2ee
#define 1111111011111111b 0xfeff
#define 00000000000000001111100000000000b 0xf800
#define 00000011000000000000000000000000b 0x3000000
#define 00000000000000000000000011110000b 0xf0
#define 00000000000000000000000100000000b 0x100
#define 00000000000000000000010000000000b 0x400
#define 1111011111111111b 0xf7ff
#define 1111001111111111b 0xf3ff
#define 49 0x31
#define 53 0x35
#define 61 0x3d
#define 4080 0xff0
#define 00000000000000000010000000000000b 0x2000
#define 0x40000 0x40000
#define 42 0x2a
#define 1111110111111110b 0xfdfe
#define 1110011111111111b 0xe7ff
#define -52 -0x34
#define 25500 0x639c
#define 32767 0x7fff
#define 1100 0x44c
#define 2049 0x801
#define 20385 0x4fa1
#define 2048 0x800
#define 00000000000000000000000000001111b 0xf
#define 11110000b 0xf0
#define 0000000000000000000000000000000000000000000000000000000011111111b 0xff
#define 85 0x55
#define 3584 0xe00
#define 39321000 0x257fda8
#define 72 0x48
#define 00000000000000000000000000001001b 0x9
#define 44 0x2c
#define 0000000001000000b 0x40
#define 0xD 0xd
#define 01010111b 0x57
#define 00000000000000000000000000000011b 0x3
#define 10101000b 0xa8
#define 00000000000000000000000010101000b 0xa8
#define 1100011111111111b 0xc7ff
#define 0000000100000000b 0x100
#define 0000001000000000b 0x200
#define 00000000000000000000000011000000b 0xc0
#define 0000000010000000b 0x80
#define 625 0x271
#define 1110000011111111b 0xe0ff
#define -508 -0x1fc
#define 508 0x1fc
#define 3788 0xecc
#define 159 0x9f
#define 66 0x42
#define 1152000 0x119400
#define 1111111110111111b 0xffbf
#define 1350 0x546
#define 1270 0x4f6
#define 0000000000111111b 0x3f
#define 2051 0x803
#define 1891 0x763
#define 1111110111000000b 0xfdc0
#define 00101000b 0x28
#define 00000111b 0x7
#define 0000000000011000b 0x18
#define -7200 -0x1c20
#define 58336 0xe3e0
#define 01000001b 0x41
#define 1013 0x3f5
#define 0xE 0xe
#define 51000 0xc738
#define -150 -0x96
#define 'C' 0x43
#define 'M' 0x4d
#define 00h 0x0
#define '-' 0x2d
#define 'n' 0x6e
#define 01h 0x1
#define 'g' 0x67
#define 'L' 0x4c
#define 'X' 0x58
#define 'V' 0x56
#define '3' 0x33
#define '.' 0x2e
#define '5' 0x35
#define 3600 0xe10
#define 125 0x7d
#define 161 0xa1
#define 'i' 0x69
#define 'e' 0x65
#define 'o' 0x6f
#define 't' 0x74
#define 'r' 0x72
#define 'l' 0x6c
#define 11111111111111111111111111111101b 0xfffffffd
#define 11111111111111111111111111111011b 0xfffffffb
#define 1500 0x5dc
#define 70 0x46

typedef unsigned char   undefined;

typedef unsigned char    bool;
typedef unsigned char    byte;
typedef long long    longlong;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned long long    ulonglong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined3;
typedef unsigned int    undefined4;
typedef unsigned long long    undefined5;
typedef unsigned long long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    wchar16;
typedef ushort uint16_t;

typedef uint16_t u16_mass_100ug;

typedef uint16_t u16_factor_1/32;

typedef uint uint32_t;

typedef uint32_t u32_time_100ns;

typedef short int16_t;

typedef char int8_t;

typedef int int32_t;

typedef uchar uint8_t;

typedef uint8_t u8_angle_1/4deg;

typedef uint16_t u16_flow_10mg/s;

typedef uint8_t u8_pressure_50mbar;

typedef struct wheelspeeds_short wheelspeeds_short, *Pwheelspeeds_short;

struct wheelspeeds_short {
    short LR;
    short RR;
    short LF;
    short RF;
};

typedef uint8_t u8_load_1173mg/255stroke;

typedef uint8_t u8_factor_1/2560;

typedef uint16_t u16_rspeed_rpm;

typedef uint16_t u16_voltage_5/1023v;

typedef uint16_t u16_flow_100mg/s;

typedef uint16_t u16_time_us;

typedef uint8_t u8_obd2level;

typedef uint8_t u8_torque_nm;

typedef uint8_t u8_rspeed_10rpm;

typedef uint8_t u8_temp_1/10C;

typedef uint8_t u8_count;

typedef uint8_t u8_angle_1/4-20deg;

typedef uint32_t u32_angle_1/10deg;

typedef uint8_t u8_factor_1/1023;

typedef uint8_t u8_dt_factor_1/100/5ms;

typedef enum enum_launch_mode {
    LC_INACTIVE=0,
    LC_READY=1,
    LC_ACTIVE_HOLD=2,
    LC_FREEREV=3
} enum_launch_mode;

typedef uint8_t u8_angle_1/4-10deg;

typedef uint16_t u16_power_1/100kw;

typedef uint8_t u8_angle_1/4-32deg;

typedef uint8_t u8_load_4mg/stroke;

typedef uint16_t u16_speed_kph_x100;

typedef uint8_t u8_factor_1/200;

typedef uint8_t u8_afr_1/20+5;

typedef uint16_t u16_volume_cc;

typedef int16_t i16_angle_1/4deg;

typedef uint16_t u16_factor_1/4095;

typedef uint16_t u16_pressure_mbar;

typedef enum enum_ips_shift_state {
    normal=0,
    pre-shift=1,
    speed-match=2,
    re-engage=3,
    recovery=4
} enum_ips_shift_state;

typedef struct struct_dspi_mmio struct_dspi_mmio, *Pstruct_dspi_mmio;

struct struct_dspi_mmio {
    uint32_t mcr;
    int32_t reserved1;
    uint32_t tcr;
    uint32_t ctar[8];
    uint32_t sr;
    uint32_t rser;
    uint32_t pushr;
    uint32_t popr;
    uint32_t txfr[4];
    byte reserved2[48];
    uint32_t rxfr[4];
    byte reverved3[48];
    uint32_t dsicr;
    uint32_t sdr;
    uint32_t asdr;
    uint32_t compr;
    uint32_t ddr;
};

typedef uint8_t u8_rspeed_8rpm;

typedef uint8_t u8_rspeed_2rpm;

typedef uint32_t u32_pressure_mbar;

typedef uint16_t u16_flow_kg/h;

typedef uint8_t u8_time_ms;

typedef uint8_t u8_factor_1;

typedef uint32_t u32_angle_1/4deg;

typedef uint16_t u16_load_mg/stroke;

typedef uint16_t u16_temp_5/8-40c;

typedef struct struct_segment_bss struct_segment_bss, *Pstruct_segment_bss;

struct struct_segment_bss {
    pointer dest;
    uint size;
};

typedef uint8_t u8_time_10ms;

typedef uint16_t u16_afr_1/100;

typedef uint8_t u8_afr_1/100;

typedef uint16_t u16_factor_1/1023;

typedef struct struct_tps_shaping_flags struct_tps_shaping_flags, *Pstruct_tps_shaping_flags;

struct struct_tps_shaping_flags {
    uint8_t current_input;
    uint8_t state;
    byte debounce;
    uint8_t decrement_rate;
    uint32_t increment_rate;
    uint32_t accum_timer;
    uint16_t curr_threshold;
    uint16_t threshold_0;
    uint16_t threshold_2;
};

typedef uint32_t u32_time_100ms;

typedef uint8_t u8_rspeed_4rpm;

typedef uint8_t u8_factor_1/100;

typedef uint8_t u8_torque_4nm;

typedef uint16_t u16_time_ms;

typedef uint8_t u8_time_s;

typedef uint8_t u8_mass_8g;

typedef uint8_t u8_rspeed_rpm;

typedef int16_t i16_accel_1/2550g;

typedef uint8_t u8_obd2level_t6;

typedef uint16_t u16_torque_nm;

typedef uint8_t u8_angle_720/256deg;

typedef struct cluster_data cluster_data, *Pcluster_data;

typedef uint8_t u8_temp_5/8-40c;

struct cluster_data {
    uint16_t fuel_usage_instantaneous;
    byte cluster_flags;
    byte fuel_level_pct;
    u8_temp_5/8-40c temp_coolant;
    byte cluster_indicator_flags;
    byte field6;
    byte field7;
};

typedef int8_t i8_angle_1/4deg;

typedef uint8_t u8_rspeed_4+500rpm;

typedef uint16_t u16_temp_1/10C;

typedef uint8_t u8_factor_1/128;

typedef uint8_t u8_voltage_72/1023v;

typedef uint16_t u16_rspeed_1/4rpm;

typedef uint16_t u16_factor_1/255;

typedef uint8_t u8_time_us;

typedef struct o2_narrowband_threshold o2_narrowband_threshold, *Po2_narrowband_threshold;

struct o2_narrowband_threshold { // o2_narrowband_threshold
    u16_voltage_5/1023v lean;
    u16_voltage_5/1023v rich;
};

typedef uint32_t u32_angle_1/10defg;

typedef uint32_t u32_temp_5/8-40__2560C;

typedef uint16_t u16_time_10ms;

typedef uint8_t u8_speed_1/10kph;

typedef uint8_t u8_time_20us;

typedef uint16_t u16_flow_mg/s;

typedef uint8_t u8_temp_-40c;

typedef uint16_t u16_rspeed_4rpm;

typedef enum enum_accel_pedal_mode { // accel_pedal_mapping_mode
    unknown=0,
    low_gear=1,
    shifting=2,
    unknown3=3,
    high_gear=4
} enum_accel_pedal_mode;

typedef enum enum_knock_mode {
    NONE=0,
    goertzel_64sample=1,
    goertzel_2window=2,
    spectral_128window=3,
    goertzel_32sample_x3=4
} enum_knock_mode;

typedef uint8_t u8_pressure_4mbar;

typedef uint8_t u8_factor_1/255;

typedef uint8_t u8_time_256us;

typedef uint16_t u16_angle_1/10deg;

typedef struct struct_adc_smoothing_state struct_adc_smoothing_state, *Pstruct_adc_smoothing_state;

struct struct_adc_smoothing_state {
    int32_t x_prev;
    int32_t s1;
    int32_t s2;
    int32_t s3;
    int32_t s4;
    int16_t k0;
    int16_t b0;
    int16_t b1;
    int16_t a1;
    int16_t a2;
    int16_t c2;
    int16_t c0;
    int16_t c1;
};

typedef struct struct_emios_unified_channel_register struct_emios_unified_channel_register, *Pstruct_emios_unified_channel_register;

struct struct_emios_unified_channel_register {
    byte uc[256];
};

typedef uint8_t u8_factor_1/64;

typedef uint8_t u8_rspeed_50rpm;

typedef uint8_t u8_rspeed_125/4rpm;

typedef uint16_t u16_accel_1/10g;

typedef uint8_t u8_mass_g;

typedef uint32_t u32_rspeed_1024rpm;

typedef uint8_t u8_pressure_5kpa;

typedef uint8_t checksum_8bit;

typedef uint8_t u8_time_5ms;

typedef struct struct_segment_data struct_segment_data, *Pstruct_segment_data;

struct struct_segment_data {
    pointer src;
    pointer dest;
    uint size;
};

typedef uint16_t u16_flow_g/s;

typedef uint32_t u32_load_mg/stroke;

typedef uint8_t u8_time_64us;

typedef int16_t i16_time_us;

typedef uint16_t u16_load_1173mg/255stroke;

typedef struct struct_dma_transfer_control_descriptor struct_dma_transfer_control_descriptor, *Pstruct_dma_transfer_control_descriptor;

struct struct_dma_transfer_control_descriptor {
    uint32_t saddr;
    uint32_t cfg;
    uint32_t nbytes;
    uint32_t daddr;
    uint32_t u1;
};

typedef uint16_t u16_factor_1/10000;

typedef enum enum_t6e_gear {
    NO_GEAR=0,
    GEAR_1=1,
    GEAR_2=2,
    GEAR_3=3,
    GEAR_4=4,
    GEAR_5=5,
    GEAR_6=6
} enum_t6e_gear;

typedef uint16_t u16_accel_g_x10;

typedef uint8_t u8_factor_1/32;

typedef uint8_t u8_torque_2nm;

typedef uint8_t u8_flow_2g/s;

typedef uint16_t u16_factor_1/65536;

typedef uint32_t u32_mass_ug;

typedef uint8_t u8_accel_1/2550g;

typedef int16_t i16_accel_g_x10;

typedef uint8_t u8_rspeed_125/4+500rpm;

typedef uint16_t u16_mass_mg;

typedef enum enum_vehicle_mode {
    VM_TOUR=0,
    VM_SPORT=1,
    VM_TC_OFF=2,
    VM_RACE=3,
    VM_LAUNCH=4,
    VM_LAUNCH_SUB1=5,
    VM_LAUNCH_FALLBACK=6
} enum_vehicle_mode;

typedef uint32_t u32_time_us;

typedef uint16_t u16_time_50ms;

typedef uint16_t u16_time_s;

typedef uint8_t u8_rspeed_-128;

typedef uint16_t u16_time_4us;

typedef uint8_t u8_gear;

typedef int32_t i32_accel_1/2550g;

typedef uint16_t u16_angle_deg_x2;

typedef uint16_t u16_time_5ms;

typedef uint8_t u8_angle_1/4-64deg;

typedef uint8_t u8_load_2mg/stroke;

typedef uint8_t u8_fuel_gal_x10;

typedef uint16_t u16_distance_mm_div2;

typedef uint16_t u16_flow_50mg/s;

typedef uint8_t u8_rspeed_4-512rpm;

typedef uint16_t u16_temp_K;

typedef uint16_t u16_voltage_18/1023v;

typedef enum enum_vin_type {
    VT_NONE=0,
    VT_2010-2011=1,
    VT_2011-2021=2
} enum_vin_type;

typedef uint16_t u16_press_kpa;

typedef uint16_t u16_ratio_mbar/5v;

typedef uint16_t u16_mass_g;

typedef struct flexcan_msg_buffer flexcan_msg_buffer, *Pflexcan_msg_buffer;

struct flexcan_msg_buffer {
    uint code_and_timestamp;
    uint32_t arb_id;
    byte data[8];
};

typedef uint8_t u8_rspeed_10+6000rpm;

typedef uint16_t u16_speed_1/100kph;

typedef uint8_t u8_time_250ms;

typedef uint8_t u8_speed_kph;

typedef uint8_t u8_voltage_5/255v;

typedef uint8_t u8_dutycycle_100/255;

typedef uint8_t u8_flow_100mg/s;

typedef uint16_t u16_angle_1/4deg;

typedef uint32_t u32_time_50ms;

typedef uint16_t u16_distance_km;

typedef int16_t i16_accel_1/10g;

typedef int16_t i16_pressure_mbar;

typedef struct wheelspeeds_int wheelspeeds_int, *Pwheelspeeds_int;

struct wheelspeeds_int {
    int LR;
    int RR;
    int LF;
    int RF;
};

typedef uint8_t u8_time_hours;

typedef uint16_t u16_time_100ms;

typedef enum enum_traction_mode {
    TC_DISABLED=0,
    TC_EXTERNAL_ONLY=1,
    TC_ENABLED=2,
    TC_VARIABLE=3
} enum_traction_mode;

typedef struct struct_esci_control_registers struct_esci_control_registers, *Pstruct_esci_control_registers;

struct struct_esci_control_registers {
    uint32_t cr1;
    uint16_t cr2;
    uint16_t dr;
    uint32_t sr;
    uint32_t lcr;
    uint32_t ltr;
    uint32_t lrr;
    uint32_t lpr;
};

typedef uint32_t u32_torque_nm;

typedef uint8_t u8_time_100ms;

typedef uint32_t u32_speed_kph_x100;

typedef uint8_t u8_time_50ms;

typedef uint8_t u8_percent_-125;

typedef uint32_t u32_rspeed_rpm;

typedef uint32_t u32_speed_kph_1/100kph;

typedef enum enum_tps_smooth_step_flag {
    TPS_SMOOTH_NO_STEP=0,
    TPS_SMOOTH_STEP_UP=1,
    TPS_SMOOTH_STEP_DOWN=2
} enum_tps_smooth_step_flag;

typedef uint32_t u32_time_5ms;

typedef uint8_t u8_time_10us;

typedef ulong size_t;

typedef struct evp_pkey_ctx_st evp_pkey_ctx_st, *Pevp_pkey_ctx_st;

typedef struct evp_pkey_ctx_st EVP_PKEY_CTX;

struct evp_pkey_ctx_st {
};

typedef ulonglong uint64_t;



undefined4 DAT_c3f88020;
undefined DAT_00001770;
uint32_t FMPLL_SYNCSR;
uint32_t siu_srcr;
undefined4 DAT_c3fd8b00;
undefined4 DAT_000d0860;
undefined4 DAT_000d0864;
uint32_t FMPLL_SYNCR;
undefined DAT_400095a8;
uint8_t[256] CAL_knock_sampling_window;
uint16_t engine_speed_period_0;
undefined SUB_4000f000;
undefined4 DAT_000d0680;
undefined DAT_000017b4;
undefined4 DAT_000d0840;
undefined4 DAT_000d0844;
undefined4 DAT_000d0848;
undefined4 DAT_000d0850;
undefined4 DAT_000d0854;
undefined *PTR_DAT_000d0858;
undefined4 DAT_000d0868;
undefined4 DAT_000d0870;
undefined4 DAT_000d0874;
undefined4 DAT_000d0878;
undefined4 DAT_000d0880;
undefined4 DAT_000d0884;
undefined *PTR_PTR_000d0888;
undefined4 DAT_000d0890;
undefined4 DAT_000d0894;
undefined *PTR_DAT_000d0898;
undefined4 DAT_000d08a0;
undefined *PTR_DAT_000d08a4;
undefined4 DAT_000d08a8;
undefined4 DAT_000d08ac;
undefined4 DAT_000d08b0;
undefined4 DAT_000d08b8;
undefined4 DAT_000d08bc;
undefined4 DAT_000d08c0;
undefined4 DAT_000d08c8;
undefined4 DAT_000d08cc;
undefined4 DAT_000d08d0;
undefined4 DAT_000d08d8;
undefined4 DAT_000d08dc;
undefined4 DAT_000d08e0;
undefined4 DAT_000d08e8;
undefined4 DAT_000d08ec;
undefined4 DAT_000d08f0;
undefined4 DAT_000d08f8;
undefined4 DAT_000d08fc;
undefined4 DAT_000d0900;
undefined4 DAT_000d0908;
undefined4 DAT_000d090c;
undefined4 DAT_000d0910;
undefined4 DAT_000d0914;
struct_segment_data[15] segment_data;
struct_segment_bss[4] segment_bss;
undefined *PTR_PTR_000dc964;
uint32_t intc_mcr;
uint32_t intc_iackr;
uint8_t uint8_t_ARRAY_fff48024;
int DAT_400017b8;
uint32_t intc_cpr;
uint16_t siu_pcr[229];
uint32_t SIU_ECCR;
uint16_t siu_pcr[214];
uint16_t[343] siu_pcr;
uint32_t EBI_MCR;
uint32_t EBI_BR0;
uint32_t EBI_OR0;
uint DAT_400017c4;
uint DAT_400017c0;
uint16_t[6] eqadc_cfcr;
uint16_t[6] eqadc_idcr;
uint32_t[6] eqadc_fisr;
uint32_t[6] EQADC_CFPR;
uint32_t[6] EQADC_RFPR0;
uint32_t EQADC_CFSR;
uint32_t EQADC_RFPR0[2];
uint32_t eqadc_fisr[2];
uint32_t DAT_40002ae0;
uint32_t DAT_40002b30;
uint32_t DAT_40002af4;
uint32_t DAT_40002b1c;
uint32_t EQADC_RFPR0[3];
uint32_t eqadc_fisr[3];
uint32_t DAT_40002b08;
uint32_t DAT_40002b34;
uint32_t DAT_40002b20;
uint32_t DAT_40002af8;
uint32_t DAT_40002b0c;
uint32_t DAT_40002ae4;
undefined2 DAT_40002baa;
undefined2 DAT_40002bac;
uint32_t EQADC_RFPR0[1];
uint32_t eqadc_fisr[1];
undefined2 DAT_40002bae;
undefined2 DAT_40002bb0;
undefined2 DAT_40002bb2;
undefined2 DAT_40002ba0;
undefined2 DAT_40002ba2;
undefined2 DAT_40002ba4;
undefined2 DAT_40002ba6;
undefined2 DAT_40002ba8;
uint DAT_400017d0;
uint DAT_400017cc;
undefined2 DAT_400017ca;
undefined2 DAT_400017c8;
uint32_t EQADC_RFPR0[4];
uint32_t eqadc_fisr[4];
undefined4 DAT_40002ec0;
undefined4 DAT_40002ec4;
undefined4 DAT_40002ec8;
undefined4 DAT_40002ecc;
undefined4 DAT_40002ed0;
undefined4 DAT_40002ed4;
uint16_t eqadc_cfcr[4];
uint16_t eqadc_cfcr[5];
uint16_t eqadc_cfcr[1];
uint16_t eqadc_cfcr[2];
uint16_t eqadc_cfcr[3];
undefined4 DAT_fff80008;
uint16_t eqadc_idcr[4];
uint16_t eqadc_idcr[5];
undefined4 DAT_fff8000c;
undefined4 DAT_fff80000;
uint16_t eqadc_idcr[1];
uint16_t eqadc_idcr[2];
uint32_t eqadc_fisr[5];
uint16_t eqadc_idcr[3];
undefined4 DAT_40002f78;
undefined4 DAT_40002f7c;
undefined4 DAT_40002f80;
undefined4 DAT_40002f84;
undefined4 DAT_40002f88;
undefined4 DAT_40002f8c;
undefined4 DAT_40002f90;
undefined4 DAT_40002f94;
undefined4 DAT_40002f98;
undefined4 DAT_40002f9c;
undefined4 DAT_40002fa0;
undefined4 DAT_40002ed8;
undefined4 DAT_40002edc;
undefined4 DAT_40002ee0;
undefined4 DAT_40002ee4;
undefined4 DAT_40002ee8;
undefined4 DAT_40002eec;
undefined4 DAT_40002ef0;
undefined4 DAT_40002ef4;
undefined4 DAT_40002ef8;
undefined4 DAT_40002efc;
undefined4 DAT_40002f00;
undefined4 DAT_40002f04;
undefined4 DAT_40002f08;
undefined4 DAT_40002f0c;
undefined4 DAT_40002f10;
undefined4 DAT_40002f14;
undefined4 DAT_40002f18;
undefined4 DAT_40002f1c;
undefined4 DAT_40002f20;
undefined4 DAT_40002f24;
undefined4 DAT_40002f28;
undefined4 DAT_40002f2c;
undefined4 DAT_40002f30;
undefined4 DAT_40002f34;
undefined4 DAT_40002f38;
undefined4 DAT_40002f3c;
undefined4 DAT_40002f40;
undefined4 DAT_40002f44;
undefined4 DAT_40002f48;
undefined4 DAT_40002f4c;
undefined4 DAT_40002f50;
undefined4 DAT_40002f54;
undefined4 DAT_40002f58;
undefined4 DAT_40002f5c;
undefined4 DAT_40002f60;
undefined4 DAT_40002f64;
undefined4 DAT_40002f68;
undefined4 DAT_40002f6c;
undefined4 DAT_40002f70;
uint32_t etpu_base_unknown2;
byte *DAT_40001b6c;
undefined4 DAT_40001b5c;
uint32_t *etpu_mcr_addr;
uint DAT_40001b5c;
uint DAT_40001b64;
uint32_t eTPU_base_unknown;
uint16_t siu_pcr[92];
uint16_t siu_pcr[124];
uint16_t siu_pcr[125];
uint16_t siu_pcr[189];
uint16_t siu_pcr[126];
uint16_t siu_pcr[127];
uint16_t siu_pcr[120];
uint16_t siu_pcr[184];
uint16_t siu_pcr[121];
uint16_t siu_pcr[122];
uint16_t siu_pcr[186];
uint16_t siu_pcr[91];
uint16_t siu_pcr[123];
uint16_t siu_pcr[116];
uint16_t siu_pcr[180];
uint16_t siu_pcr[212];
uint16_t siu_pcr[117];
uint16_t siu_pcr[86];
uint16_t siu_pcr[118];
uint16_t siu_pcr[119];
uint16_t siu_pcr[183];
uint16_t siu_pcr[144];
uint16_t siu_pcr[113];
uint16_t siu_pcr[145];
uint16_t siu_pcr[114];
uint16_t siu_pcr[115];
uint16_t siu_pcr[179];
uint16_t siu_pcr[211];
uint16_t siu_pcr[143];
uint16_t siu_pcr[207];
uint16_t siu_pcr[136];
uint16_t siu_pcr[137];
uint16_t siu_pcr[202];
uint16_t siu_pcr[203];
uint16_t siu_pcr[100];
uint16_t siu_pcr[132];
uint16_t siu_pcr[133];
uint16_t siu_pcr[134];
uint16_t siu_pcr[135];
uint16_t siu_pcr[199];
uint16_t siu_pcr[96];
uint16_t siu_pcr[128];
uint16_t siu_pcr[193];
uint16_t siu_pcr[98];
uint16_t siu_pcr[99];
uint16_t siu_pcr[131];
uint16_t siu_pcr[195];
undefined1 afr_target_trim_0p02_steps;
undefined1 DAT_400017fb;
undefined1 DAT_400017fa;
undefined1 DAT_400017f9;
undefined1 inj_efficiency_test_trim;
undefined1 DAT_400017f5;
undefined1 DAT_400017f4;
byte DAT_400017d8;
undefined4 *DAT_400015a8;
undefined1 vvt_exhaust_fallback_angle_zero;
undefined2 DAT_400017dc;
undefined DAT_00001a6b;
bool ecu_unlocked;
undefined UNK_ffff8012;
u8_angle_1/4deg vvt_intake_fallback_angle_zero;
uint16_t calibration_verification_number;
uint8_t fuel_pressure_state_flags;
char[4] CAL_ecu_unlock_magic;
u16_factor_1/1023 CAL_ecu_data_base;
byte ips_rev_match_ctrl?;
uint32_t[2] COD_base;
uint32_t DAT_40003088;
uint32_t DAT_40003098;
uint32_t DAT_4000309c;
uint16_t main_diagnostic_flags;
uint32_t DAT_4000308c;
int DAT_40003090;
int DAT_40003094;
uint32_t timerbase_mainloop;
int DAT_400030a0;
int DAT_400030a4;
uint8_t CAL_ecu_flexcan_config_unknown;
uint8_t eeprom_update_flags;
undefined4 timer_main;
uint32_t siu_rsr;
uint32_t freeRamEstimateScaled;
undefined4 freeRamScanPtr;
bool freeRamBoundaryLatched;
byte emios_uc[0].uc[136];
uint8_t uint8_t_ARRAY_fff48077;
byte emios_uc[0].uc[140];
byte emios_uc[0].uc[128];
byte emios_uc[0].uc[132];
uint32_t[12] uint32_t_ARRAY_40003108;
u16_time_100ms ecu_run_timer;
undefined1 event_timer_1000hz;
uint32_t[12] uint32_t_ARRAY_400030d8;
undefined1 event_timer_200hz;
uint32_t[12] uint32_t_ARRAY_400030a8;
undefined1 event_timer_100hz;
u8_time_5ms event_timer_50hz;
uint32_t DAT_40003084;
uint32_t DAT_40001878;
u8_time_5ms event_timer_20hz;
uint32_t DAT_4000187c;
u16_time_5ms event_timer_10hz;
u8_time_100ms event_timer_5hz;
char DAT_4000185d;
u8_time_100ms event_timer_333ms;
char DAT_4000185e;
u8_time_100ms event_timer_2hz;
char DAT_4000185f;
u8_time_100ms event_timer_1hz;
char DAT_40001860;
u8_rspeed_125/4+500rpm engine_speed_3;
u16_rspeed_rpm revlimit_final?;
char DAT_40001861;
undefined1 unknown_timer_reset_at_2hz;
char DAT_40001862;
u16_flow_10mg/s obd_ii_maf_flow;
u8_obd2level_t6 CAL_obd_ii_P1809;
char DAT_40001863;
char DAT_40001864;
byte DAT_4000ccaf;
uint DAT_40001870;
short DAT_400019ea;
char DAT_40001880;
u8_time_5ms u8_time_5ms_40001881;
u8_time_5ms u8_time_5ms_400015b4;
u16_time_5ms u16_time_5ms_40001f1a;
undefined4 maf_accum_unknown2;
u16_time_5ms u16_time_5ms_40001830;
undefined4 maf_accum_unknown3;
u16_time_5ms u16_time_5ms_40001832;
undefined2 maf_accum_unknown2_scaled;
u16_time_5ms u16_time_5ms_40001834;
u16_time_5ms u16_time_5ms_40001836;
u32_time_100ms u32_time_100ms_40001874;
u16_time_100ms u16_time_100ms_40001846;
uint8_t counter_unknown_cycles_every_256;
u8_factor_1/255 knock_inhibit_tps_max;
char DAT_40001df4;
u16_time_100ms u16_time_100ms_4000183e;
u16_time_100ms u16_time_100ms_40001840;
u16_time_100ms u16_time_100ms_40001df6;
u16_time_5ms u16_time_5ms_40001b74;
byte DAT_40001cc0;
undefined1 trqlimit_external_request_flags???;
u8_rspeed_125/4+500rpm[20] LEA_load_alphaN_adj_X_engine_speed;
ushort DAT_4000180c;
char DAT_40001858;
char DAT_4000869f;
short DAT_4000180e;
u16_mass_mg maf_accumulated2;
short DAT_40001810;
u8_factor_1/255 tps2;
byte DAT_40002849;
u16_time_5ms u16_time_5ms_40001cce;
char DAT_40001d42;
u16_time_5ms u16_time_5ms_40001848;
u32_time_5ms u32_time_5ms_4000184c;
u16_time_5ms u16_time_5ms_40001814;
bool BOOL_4000898b;
u32_load_mg/stroke u32_load_mg/stroke_40001d0c;
ushort DAT_40001d00;
uint DAT_400019e0;
u8_factor_1/255 u8_factor_1/255_4000185c;
byte DAT_4000185a;
byte DAT_400086a0;
uint DAT_4000186c;
short DAT_400019e8;
uint DAT_400019e4;
short DAT_40001868;
byte DAT_400087cf;
byte DAT_4000869b;
short DAT_40001850;
byte DAT_400087d1;
byte DAT_400087d0;
undefined1 DAT_40001824;
u8_temp_5/8-40c coolant_temp;
ushort DAT_400086e4;
byte DAT_40001856;
byte DAT_400086e3;
char DAT_400019f8;
char DAT_400019f9;
char DAT_400019f6;
char DAT_400019f7;
u16_rspeed_1/4rpm obd_ii_engine_speed;
byte DAT_40002538;
u8_temp_5/8-40c u8_temp_5/8-40c_400086d4;
u16_mass_mg u16_mass_mg_400087b8;
int DAT_400018e8;
short DAT_4000877a;
char DAT_4000230c;
byte emios_uc[0].uc[144];
char DAT_400025cc;
short DAT_40001854;
short DAT_40001822;
short DAT_400087b2;
ushort DAT_40001e88;
ushort DAT_40001e8a;
u16_factor_1/4095 obd_ii_commanded_throttle_actuator;
ushort DAT_40001d12;
byte DAT_40001d49;
short DAT_400087b6;
short DAT_400087b4;
ushort DAT_40001d14;
byte DAT_40001d4a;
short DAT_400087ba;
char DAT_40001859;
u8_time_s unknown_timer_reset_at_1;
char DAT_400016f8;
byte DAT_40006a78;
char DAT_400026e0;
undefined4 DAT_40003058;
undefined2 DAT_40004f58;
undefined2 revlimit_state_flags;
uint8_t[8] s__4000e278;
u8_rspeed_125/4+500rpm[20] LEA_torque_torque_to_tps_scaling_X_engine_speed;
u8_factor_1/255[8] s_ELf_4000e280;
uint8_t[8] s__4000e288;
uint32_t obd_ii_mode2f_flags_enabled;
u8_factor_1/255[8] s_)-0=__4000e290;
uint32_t obd_ii_mode2f_flags_state;
uint8_t fan_engine_bay_timer_???;
u32_mass_ug obd_ii_accumulated_mass_air;
uint16_t injection_flags;
uint16_t ignition_on_flags;
undefined1 ips_cruise_status_flags;
u8_time_5ms brake_or_clutch_inactive_timer;
u32_time_5ms ecu_shutdown_timer;
u32_time_5ms cooling_timer_recirc_pump;
undefined1 paddle_shift_flags;
u16_factor_1/1023 tps_delta_rate;
uint8_t uint8_t_ARRAY_c3f90660;
u16_factor_1/255 tps_rate_unknown;
uint8_t uint8_t_ARRAY_c3f90663;
uint8_t uint8_t_ARRAY_c3f90662;
u16_time_5ms injtip_overrun_hysteresis_timer;
u16_factor_1/1023[16] tps_target_div4_history;
uint8_t uint8_t_ARRAY_c3f90664;
u16_time_5ms injtip_overrun_inhibit_timer;
uint16_t inj_flags;
u8_time_5ms[64] CAL_injtip_transient_throttle_response_time;
undefined1 injtip_comp_step1;
u8_temp_5/8-40c[8] CAL_injtip_transient_throttle_response_time_X_coolant_tmp;
u8_rspeed_125/4+500rpm[8] CAL_injtip_transient_throttle_response_time_Y_rpm;
u16_time_5ms injtip_transient_throttle_response_time;
u8_factor_1/255[16] CAL_tps_rate_unknown2;
undefined4 obd_ii_cruise_status;
uint8_t CAL_ecu_ips_mesg_unknown;
u16_factor_1/1023[2] CAL_injtip_out_threshold;
u8_rspeed_125/4+500rpm[4] CAL_tps_rate_unknown2_X_rpm;
u16_factor_1/1023 tps_inj_tipin_rate?;
u8_factor_1/255[4] CAL_tps_rate_unknown2_Y_tps;
bool engine_is_running;
u16_factor_1/1023[2] CAL_injtip_in_threshold;
u8_rspeed_125/4+500rpm[2] CAL_torque_torque_to_tps_scaling_rpm_range;
u16_factor_1/255[16] tps_requested_history?;
u8_factor_1/1023 injtip_step_unknown;
undefined2 obd_ii_MIL_flags_unknown;
u16_time_5ms timer_unknown5;
u8_speed_kph car_speed_u8;
u32_time_5ms runtime_since_start;
u16_rspeed_rpm engine_speed_2;
u32_load_mg/stroke load_computed_maf;
undefined2 new_gear_detected_flags;
u32_load_mg/stroke load_mass_per_stroke_raw;
undefined1 fuel_film_comp_load???;
u8_factor_1/255[16] CAL_injtip_fuel_film_comp_unknown;
u8_load_4mg/stroke[16] CAL_injtip_fuel_film_comp_unknown_X_load;
u16_time_100ms current_gear_time;
u8_factor_1/255 cranking_enrichment_load;
undefined1 recent_shift_flags_ips;
undefined1 abs_esp_flags;
u16_factor_1/255 tps_requested2;
u16_speed_1/100kph cruise_speed_target;
u16_voltage_5/1023v[32] maf_voltage_buffer;
u16_voltage_5/1023v[32] map_voltage_buffer;
uint16_t[256] adc_dma_dest;
undefined2 maf_voltage_buffer_index;
uint8_t CAL_sensor_maf_buffer_size;
uint8_t CAL_sensor_map_avg_window_size;
undefined2 map_voltage_buffer_index;
u16_rspeed_rpm u16_rspeed_rpm_40003010;
u16_rspeed_rpm engine_speed_delta100ms;
u16_rspeed_rpm[4] engine_speed_history_500ms;
undefined4 DAT_40001878;
undefined4 DAT_4000187c;
u16_angle_1/10deg[6] ign_angle_scheduled;
u32_angle_1/10deg[6] ign_adv_scheduled_angle;
uint16_t[6] ign_dwell_start_angle_per_cyl;
u32_angle_1/10deg[6] ign_volt_comp_angle_per_cyl;
u16_time_us inj_pulse_time_b1;
u16_time_us inj_pulse_time_b2;
u32_time_100ns[6] inj_pulse_time_schedule_vals;
short[6] inj_start_angle;
undefined4 inj_start_angle_offset_deg;
byte DAT_400018a9;
byte DAT_400018a4;
uint8_t ign_diag_phase;
undefined1 ign_diag_threshold_unknown;
byte DAT_400018a5;
uint8_t coil_diag_bitmap;
byte DAT_400018a6;
byte DAT_400018a7;
byte DAT_400018a8;
undefined2 trigger_type_of_event??;
undefined1 DAT_40001948;
undefined1 DAT_400018fd;
undefined1 DAT_40001901;
undefined4 DAT_40001944;
undefined1 DAT_40001905;
undefined1 DAT_40001909;
undefined1 DAT_4000190d;
undefined2 DAT_4000191c;
undefined2 DAT_40001924;
undefined2 DAT_40001914;
undefined1 DAT_400018fc;
undefined1 DAT_40001900;
undefined4 DAT_40001940;
undefined1 DAT_40001904;
undefined1 DAT_40001908;
undefined1 DAT_4000190c;
undefined2 DAT_4000191a;
undefined2 DAT_40001922;
undefined2 DAT_40001912;
undefined1 DAT_400018fb;
undefined1 DAT_400018ff;
undefined4 DAT_4000193c;
undefined1 DAT_40001903;
undefined1 DAT_40001907;
undefined1 DAT_4000190b;
undefined2 DAT_40001918;
undefined2 DAT_40001920;
undefined2 DAT_40001910;
undefined1 DAT_400018fa;
undefined1 DAT_400018fe;
undefined4 DAT_40001938;
undefined1 DAT_40001902;
undefined1 DAT_40001906;
undefined1 DAT_4000190a;
undefined2 DAT_40001916;
undefined2 DAT_4000191e;
undefined2 DAT_4000190e;
undefined1 DAT_40001949;
undefined2 DAT_400018f8;
undefined2 DAT_400018f6;
undefined2 DAT_400018f4;
undefined2 DAT_400018f2;
undefined2 DAT_400018f0;
undefined1 DAT_40001888;
undefined1 DAT_40001896;
undefined4 DAT_40001950;
undefined2 DAT_40001898;
undefined1 DAT_400018c4;
char DAT_400018aa;
u32_time_100ns engine_speed_period_1;
uint32_t engine_speed_period_2;
uint8_t uint8_t_ARRAY_fff48091;
uint8_t uint8_t_ARRAY_fff48092;
uint8_t uint8_t_ARRAY_fff48084;
uint8_t uint8_t_ARRAY_fff48085;
uint8_t uint8_t_ARRAY_fff48086;
uint8_t uint8_t_ARRAY_fff48087;
uint32_t eTPU_crank_angle_speed_scaling;
byte[6] BYTE_ARRAY_400015c8;
byte[6] BYTE_ARRAY_40002a90;
byte[6] BYTE_ARRAY_40002a98;
bool[6] ign_per_cyl_spark_done???;
bool[6] ign_per_cyl_enable???;
byte DAT_4000194b;
undefined1 DAT_4000194a;
uint32_t DAT_40001954;
uint32_t DAT_40001950;
undefined2 DAT_400087a6;
undefined2 DAT_40002a38;
undefined *PTR_400015e4;
uint DAT_400018b0;
undefined DAT_ffffffff;
u32_time_100ns crank_trigger_event_time_previous;
ushort DAT_400018f8;
byte DAT_4000194a;
undefined1 DAT_40001964;
undefined1 DAT_40001892;
undefined1 DAT_40001893;
undefined1 DAT_40001894;
undefined1 DAT_40001895;
char DAT_40001888;
char DAT_40001896;
uint16_t CAL_ecu_cvn;
char DAT_400025d2;
char DAT_400025eb;
char DAT_400025d1;
char DAT_400025ea;
char DAT_400025d0;
char DAT_400025e9;
char DAT_400025cf;
char DAT_400025e8;
char DAT_400018c4;
u32_time_us DAT_400018c0;
char DAT_40001948;
undefined1 DAT_4000189e;
undefined2 DAT_400018a0;
uint8_t uint8_t_ARRAY_fff480a3;
undefined DAT_00030d40;
u32_time_us inj_startup_pulse_time;
uint8_t uint8_t_ARRAY_fff48095;
undefined1 prog_version_mismatch;
uint8_t uint8_t_ARRAY_fff4808c;
uint8_t uint8_t_ARRAY_fff4808d;
uint8_t uint8_t_ARRAY_fff48088;
uint8_t uint8_t_ARRAY_fff48089;
uint8_t uint8_t_ARRAY_fff4808a;
uint8_t uint8_t_ARRAY_fff4808b;
uint8_t DAT_40001904;
uint8_t DAT_4000190c;
short DAT_40001922;
short DAT_40001912;
uint32_t DAT_40001930;
int DAT_40001940;
char DAT_400018fc;
u16_angle_1/4deg obd_ii_vvt_inlet_position_bank1;
char DAT_40001900;
char DAT_40001892;
char DAT_40001949;
ushort DAT_400018f4;
char DAT_40001908;
short DAT_4000191a;
undefined1 DAT_4000ca3d;
undefined1 DAT_400025d2;
uint8_t DAT_40001905;
uint8_t DAT_4000190d;
short DAT_40001924;
short DAT_40001914;
uint32_t DAT_40001934;
int DAT_40001944;
char DAT_400018fd;
char DAT_40001901;
char DAT_40001893;
ushort DAT_400018f6;
char DAT_40001909;
short DAT_4000191c;
undefined1 DAT_400025d1;
u16_angle_1/4deg obd_ii_vvt_inlet_angle_bank2;
uint8_t DAT_40001903;
uint8_t DAT_4000190b;
short DAT_40001920;
short DAT_40001910;
uint32_t DAT_4000192c;
int DAT_4000193c;
char DAT_400018fb;
char DAT_400018ff;
char DAT_40001895;
ushort DAT_400018f0;
char DAT_40001907;
short DAT_40001918;
undefined1 DAT_400025cf;
u16_angle_1/4deg obd_ii_vvt_exhaust_position_bank2;
uint8_t DAT_40001902;
uint8_t DAT_4000190a;
short DAT_4000191e;
short DAT_4000190e;
uint32_t DAT_40001928;
int DAT_40001938;
char DAT_400018fa;
char DAT_400018fe;
char DAT_40001894;
ushort DAT_400018f2;
char DAT_40001906;
short DAT_40001916;
undefined1 DAT_400025d0;
u16_angle_1/4deg obd_ii_vvt_exhaust_position_bank1;
char DAT_40001963;
short DAT_40001898;
byte DAT_400018c7;
byte DAT_400018bb;
byte DAT_40001ce9;
byte DAT_400087ee;
undefined s__40001cec;
byte DAT_400015dc;
undefined2 coilpack_failure_flags;
undefined1 DAT_400018c8;
undefined4 misfire_condition_flags;
undefined1 ign_flags_unknown;
char DAT_40001962;
byte DAT_400015dd;
char DAT_40001961;
byte DAT_400015de;
char DAT_40001960;
byte DAT_400015df;
char DAT_4000195f;
byte DAT_400015e0;
char DAT_4000195e;
byte DAT_400015e1;
char DAT_400018b4;
byte DAT_400018b5;
char DAT_4000195d;
undefined DAT_000d0918;
char DAT_40001964;
u8_load_4mg/stroke load_mass_per_stroke;
undefined1 DAT_40002530;
short DAT_400015da;
undefined DAT_40008780;
byte DAT_400018b6;
byte DAT_400018b9;
byte DAT_400018c8;
byte DAT_400018ba;
char DAT_400018b7;
byte DAT_400018b8;
u16_voltage_5/1023v sensor_adc_maf2;
char DAT_400018c6;
u16_voltage_5/1023v sensor_adc_maf1;
char DAT_400018c5;
uint8_t[16] s_vlf`YOC5(_4000dfe8;
uint8_t[16] s_vlf`YOC5(_4000e016;
u8_temp_5/8-40c[64] CAL_sensor_tmap_expected_temp;
u8_rspeed_125/4+500rpm[8] CAL_sensor_tmap_expected_temp_X_rpm;
u8_load_4mg/stroke[8] CAL_sensor_tmap_expected_temp_Y_load;
u8_temp_5/8-40c tmap_lookup_raw;
undefined4 engine_state_failure_flags;
u16_temp_K manifold_temp_adjusted;
u16_voltage_5/1023v map_voltage;
undefined1 trqlimit_failure_condition_count???;
undefined2 air_density_ambiant;
undefined2 air_density_manifold_temp;
u8_temp_5/8-40c obd_ii_manifold_temp;
u8_temp_5/8-40c[33] CAL_sensor_engine_air_scaling;
uint8_t[32] CAL_sensor_intake_air_scaling;
u8_temp_5/8-40c coolant_temp_engine_stopped;
u8_temp_5/8-40c engine_air_temp2;
undefined1 iat2;
u16_voltage_5/1023v coolant_temp_sensor_voltage;
u16_voltage_5/1023v intake_air_sensor_voltage;
u16_voltage_5/1023v sensor_adc_engine_air_voltage;
u16_pressure_mbar obd_ii_atmospheric_baro;
u8_temp_5/8-40c[33] CAL_sensor_coolant_temp_sensor_engine_off_scaling;
uint8_t[2] CAL_ecu_engine_running_threshold_unknown;
u8_temp_5/8-40c temp_engine_air;
undefined2 iat_corrected?;
undefined2 manifold_temp_corrected?;
undefined2 engine_speed_period_3;
ushort DAT_400015da;
byte DAT_400086cb;
u32_time_us u32_time_us_40001cb0;
byte DAT_400087f0;
uint16_t uint16_t_400018ee;
byte DAT_4000189f;
byte DAT_4000872a;
undefined DAT_40000016;
ushort DAT_40000014;
u16_time_5ms timer_engine_off_unknown1;
ushort DAT_40000012;
u16_time_5ms CAL_ecu_obd_mode2F_timer;
byte DAT_40008706;
undefined2 DAT_400018e4;
byte DAT_400086ab;
undefined4 rpm_or_roughness_measure_unknown;
uint32_t DSPIB_SR;
uint32_t DSPIB_POPR;
uint32_t DSPIB_PUSHR;
uint32_t DSPIB_CTAR0;
undefined UNK_ffffbafc;
uint16_t siu_pcr[108];
uint16_t siu_pcr[93];
uint16_t siu_pcr[109];
uint16_t siu_pcr[94];
uint16_t siu_pcr[110];
uint16_t siu_pcr[190];
undefined1 obd_ii_relay_status;
uint16_t siu_pcr[95];
uint8_t uint8_t_ARRAY_c3f906be;
struct_dspi_mmio DSPI_B;
uint16_t siu_pcr[104];
struct_dspi_mmio DSPI_C;
uint16_t siu_pcr[105];
uint16_t siu_pcr[107];
uint16_t siu_pcr[101];
uint16_t siu_pcr[102];
uint16_t siu_pcr[103];
undefined1 DAT_400031bf;
undefined1 DAT_400031c0;
undefined1 DAT_400031bd;
undefined1 DAT_400031ba;
undefined1 DAT_400031be;
uint32_t DSPI_C.popr;
undefined1 DAT_400031bc;
undefined1 DAT_400031bb;
uint32_t DSPI_C.ctar[0];
uint32_t DSPI_C.sr;
uint32_t DSPI_C.pushr;
byte DAT_400015e8;
char DAT_40001979;
byte DAT_40001978;
byte DAT_400031b9;
uint32_t DSPI_C.ctar[1];
uint32_t edma_cr;
undefined4 DAT_fff44014;
undefined1 DAT_fff44114;
undefined1 DAT_fff44115;
undefined1 DAT_fff44116;
undefined1 DAT_fff44117;
undefined1 DAT_fff44110;
undefined1 DAT_fff44111;
undefined1 DAT_fff44112;
undefined1 DAT_fff44113;
undefined1 DAT_fff4411c;
undefined1 DAT_fff4411d;
undefined1 DAT_fff4411e;
undefined1 DAT_fff4411f;
undefined1 DAT_fff44118;
undefined1 DAT_fff44119;
undefined1 DAT_fff4411a;
undefined1 DAT_fff4411b;
undefined1 DAT_fff44104;
undefined1 DAT_fff44105;
undefined1 DAT_fff44106;
undefined1 DAT_fff44107;
undefined1 DAT_fff44100;
undefined1 DAT_fff44101;
undefined1 DAT_fff44102;
undefined1 DAT_fff44103;
undefined4 DAT_fff4400c;
undefined1 DAT_fff4410c;
undefined1 DAT_fff4410d;
undefined1 DAT_fff4410e;
undefined1 DAT_fff4410f;
undefined1 DAT_fff44108;
undefined1 DAT_fff44109;
undefined1 DAT_fff4410a;
undefined1 DAT_fff4410b;
undefined2 DAT_fff45144;
undefined2 DAT_fff45154;
undefined2 DAT_fff45146;
undefined2 DAT_fff45156;
undefined4 DAT_fff45140;
undefined4 DAT_fff45150;
undefined4 DAT_fff4514c;
undefined2 DAT_fff4515c;
undefined2 DAT_fff4515e;
undefined4 DAT_fff45148;
undefined4 DAT_fff45158;
undefined2 DAT_fff450f4;
undefined2 DAT_fff450f6;
undefined4 DAT_fff45000;
undefined4 DAT_fff450f0;
undefined4 DAT_fff45010;
undefined2 DAT_fff45004;
undefined2 DAT_fff45006;
undefined4 DAT_fff45008;
undefined2 DAT_fff450fc;
undefined4 DAT_fff4500c;
undefined2 DAT_fff45014;
undefined2 DAT_fff450fe;
undefined2 DAT_fff45016;
undefined4 DAT_fff45018;
undefined4 DAT_fff450f8;
undefined2 DAT_fff4501c;
undefined2 DAT_fff4501e;
undefined2 DAT_fff450e4;
undefined2 DAT_fff450e6;
undefined4 DAT_fff450e0;
undefined4 DAT_fff450ec;
undefined4 DAT_fff450e8;
undefined2 DAT_fff450d4;
undefined2 DAT_fff450d6;
undefined4 DAT_fff450d0;
undefined2 DAT_fff450dc;
undefined2 DAT_fff450de;
undefined4 DAT_fff450d8;
undefined2 DAT_fff450c4;
undefined2 DAT_fff450c6;
undefined4 DAT_fff450c0;
undefined4 DAT_fff450cc;
undefined4 DAT_fff450c8;
undefined2 DAT_fff450b4;
undefined2 DAT_fff450b6;
undefined4 DAT_fff450b0;
undefined2 DAT_fff450bc;
undefined2 DAT_fff450be;
undefined4 DAT_fff450b8;
undefined2 DAT_fff450a4;
undefined2 DAT_fff450a6;
undefined4 DAT_fff450a0;
undefined4 DAT_fff450ac;
undefined4 DAT_fff450a8;
undefined2 DAT_fff45094;
undefined2 DAT_fff45096;
undefined4 DAT_fff45090;
undefined2 DAT_fff4509c;
undefined2 DAT_fff4509e;
undefined4 DAT_fff45098;
undefined2 DAT_fff45084;
undefined2 DAT_fff45086;
undefined4 DAT_fff45080;
undefined4 DAT_fff4508c;
undefined4 DAT_fff45088;
undefined2 DAT_fff45074;
undefined2 DAT_fff45174;
undefined2 DAT_fff45076;
undefined2 DAT_fff45176;
undefined4 DAT_fff45070;
undefined4 DAT_fff45170;
undefined2 DAT_fff4507c;
undefined2 DAT_fff4517c;
undefined2 DAT_fff4507e;
undefined2 DAT_fff4517e;
undefined4 DAT_fff45078;
undefined4 DAT_fff45178;
undefined2 DAT_fff45064;
undefined2 DAT_fff45164;
undefined2 DAT_fff45066;
undefined2 DAT_fff45166;
undefined4 DAT_fff45060;
undefined4 DAT_fff45160;
undefined4 DAT_fff4506c;
undefined4 DAT_fff4516c;
undefined4 DAT_fff45068;
undefined4 DAT_fff45168;
undefined2 DAT_fff45054;
undefined2 DAT_fff45056;
undefined4 DAT_fff45050;
undefined2 DAT_fff4505c;
undefined2 DAT_fff4505e;
undefined4 DAT_fff45058;
undefined2 DAT_fff45044;
undefined2 DAT_fff45046;
undefined4 DAT_fff45040;
undefined4 DAT_fff4504c;
undefined4 DAT_fff45048;
undefined2 DAT_fff45034;
undefined2 DAT_fff45134;
undefined2 DAT_fff45036;
undefined2 DAT_fff45136;
undefined4 DAT_fff45030;
undefined4 DAT_fff45130;
undefined2 DAT_fff4503c;
undefined2 DAT_fff4513c;
undefined2 DAT_fff4503e;
undefined2 DAT_fff4513e;
undefined4 DAT_fff45038;
undefined4 DAT_fff45138;
undefined4 DAT_fff44024;
undefined2 DAT_fff45024;
undefined2 DAT_fff45124;
undefined2 DAT_fff45026;
undefined2 DAT_fff45126;
undefined4 DAT_fff45020;
undefined4 DAT_fff45120;
undefined4 DAT_fff4502c;
undefined4 DAT_fff4512c;
undefined4 DAT_fff45028;
undefined4 DAT_fff45128;
undefined2 DAT_fff45114;
undefined2 DAT_fff45116;
undefined4 DAT_fff45110;
undefined2 DAT_fff4511c;
undefined2 DAT_fff4511e;
undefined4 DAT_fff45118;
undefined2 DAT_fff45104;
undefined2 DAT_fff45106;
undefined4 DAT_fff45100;
undefined4 DAT_fff4510c;
undefined4 DAT_fff45108;
uint32_t EMIOS_MCR;
undefined DAT_000d0958;
struct_emios_unified_channel_register[24] emios_uc;
uint8_t[212] INTC_PSR;
char DAT_40001988;
byte emios_uc[0].uc[208];
char DAT_4000198a;
undefined4 DAT_40001990;
undefined1 DAT_4000198a;
uint DAT_40001990;
byte emios_uc[0].uc[160];
byte emios_uc[0].uc[176];
byte emios_uc[0].uc[164];
uint16_t siu_pcr[188];
char DAT_40001989;
undefined4 DAT_4000198c;
undefined1 DAT_40001989;
uint DAT_4000198c;
byte emios_uc[1].uc[32];
byte emios_uc[1].uc[48];
byte emios_uc[1].uc[36];
undefined1 lookup_bounds_???;
uint DAT_4000199c;
short DAT_40001a34;
uint8_t CAL_fuel_level_debounce_window_???;
u8_fuel_gal_x10 CAL_fuel_level_debounce_window2???;
u8_fuel_gal_x10 u8_fuel_gal_x10_40008855;
char DAT_400015f5;
char DAT_40008697;
byte DAT_40008696;
byte DAT_400086db;
byte DAT_400087e9;
undefined1 ips_state_flags;
u8_fuel_gal_x10 fuel_level;
undefined1 clutch_pos_sensor;
uint16_t[2] CAL_sensor_fuel_level_sensor_voltage_threshold;
uint16_t[8] CAL_sensor_fuel_level;
uint16_t[8] CAL_sensor_fuel_level_X_voltage;
uint DAT_40001998;
byte DAT_4000c9e1;
uint16_t[45] adc_sampled_unknown;
uint16_t[11] adc_sampled_unknown2;
undefined1 DAT_40000138;
undefined DAT_400031d8;
undefined DAT_40000139;
uint8_t[214] siu_gpdi;
undefined DAT_4000013a;
undefined DAT_4000013b;
undefined DAT_4000013c;
undefined DAT_40000180;
undefined DAT_400031c8;
byte DAT_400031db;
u16_time_10ms CAL_ecu_vehicle_mode_button_time;
u8_time_10ms driver_input_timer_unknown2;
u16_factor_1/1023 accel_pedal_pos2;
char DAT_400031de;
u16_time_10ms u16_time_10ms_40001a42;
undefined1 abs_a8_flag2_previous_state;
u16_time_10ms u16_time_10ms_40001a46;
u8_temp_5/8-40c u8_temp_5/8-40c_400088da;
u8_temp_5/8-40c u8_temp_5/8-40c_400088db;
char DAT_4000426c;
u8_time_10ms driver_input_timer_unknown3;
char DAT_40001dec;
uint8_t race_button_pressed???;
byte DAT_40000183;
u8_time_10ms race_button_press_timer_unknown1;
undefined PTR_DAT_40000186;
u8_time_10ms sport_button_press_timer_unknown1;
char DAT_40001a49;
undefined1 vehicle_mode_button_register;
byte DAT_40001789;
u8_time_10ms vehicle_mode_timer_unknown3;
char DAT_400031dc;
undefined1 lbf_state_flags;
undefined2 obd_ii_montior_passes_bitfield;
uint8_t LEA_obd_ii_P0122_flags;
uint8_t LEA_obd_ii_P0316_flags;
uint8_t uint8_t_ARRAY_c3f906cf;
uint8_t LEA_obd_ii_P0416_flags;
bool ign_voltage_above_threshold;
u16_voltage_5/1023v CAL_sensor_clutch_disengaged_threshold;
u16_voltage_5/1023v clutch_pos_voltage;
enum_vehicle_mode vehicle_mode;
undefined1 abs_a8_flag2;
bool ips_enforce_speed_limit;
bool obd_ii_diag_override;
uint8_t[2] driver_input_flags;
undefined1 brake_switch;
u16_voltage_5/1023v CAL_sensor_clutch_engaged_threshold;
uint8_t sport_button_pressed;
uint8_t LEA_obd_ii_P0610_flags;
u16_time_10ms driver_input_timer_unknown1;
uint16_t vehicle_mode_flags;
bool CAL_vvt_low_load_ips_enable;
u16_voltage_5/1023v u16_voltage_5/1023v_40001a2c;
u16_voltage_5/1023v u16_voltage_5/1023v_40001a2e;
u16_voltage_5/1023v u16_voltage_5/1023v_40001a30;
u16_voltage_5/1023v u16_voltage_5/1023v_40001a32;
u16_voltage_5/1023v u16_voltage_5/1023v_400019de;
undefined2 obd_ii_o2_sensor1_voltage;
undefined2 DAT_40001a60;
undefined2 obd_ii_o2_sensor2_voltage;
undefined2 obd_ii_o2_sensor5_voltage;
undefined2 obd_ii_o2_sensor6_voltage;
u16_voltage_5/1023v evap_purge_pressure_voltage;
u16_voltage_5/1023v ac_evap_temp_voltage;
u16_voltage_5/1023v cruise_switch_unknown_voltage;
u16_voltage_5/1023v atmo_baro_sensor_voltage;
u16_voltage_5/1023v trans_temp_voltage;
u16_voltage_5/1023v knock_sensor1_voltage;
u16_voltage_5/1023v knock_sensor2_voltage;
u16_voltage_5/1023v fuel_pressure_voltage;
u16_voltage_5/1023v sensor_adc_ign_voltage;
u16_voltage_18/1023v sensor_adc_ecu_voltage;
undefined2 paddle_shift_sensor_raw;
u16_voltage_5/1023v fuel_level_voltage;
u16_voltage_5/1023v oil_pressure_warning_switch_voltage;
char DAT_400031dd;
char DAT_40001a4b;
char DAT_40001a4c;
u16_time_5ms u16_time_5ms_40008774;
char DAT_400016e1;
undefined1 DAT_400019fc;
u16_speed_1/100kph car_speed_div100;
u8_speed_kph CAL_cluster_brake_switch_max_speed_ips_unknown;
char[12] COD_VIN;
u8_time_10ms brake_clutch_debounce_timer???;
u8_time_5ms CAL_brake_or_clutch_inactive_timer;
byte DAT_400086d1;
byte DAT_400086d2;
byte DAT_400086d7;
byte DAT_400086ad;
byte DAT_40008726;
byte DAT_400086d9;
uint DAT_400023f4;
ushort DAT_40001a66;
uint8_t DAT_400019dc;
ushort DAT_40001a64;
uint8_t DAT_400019dd;
short DAT_400019f4;
u16_pressure_mbar DAT_4000ca14;
short DAT_4000867e;
ushort DAT_4000867c;
byte DAT_40008939;
u16_flow_10mg/s[32] CAL_sensor_maf_scaling;
short DAT_400019f2;
u16_voltage_5/1023v[32] CAL_sensor_maf_scaling_X_signal;
byte DAT_4000893f;
undefined DAT_40008ccc;
undefined DAT_40008cdc;
uint16_t[16] CAL_sensor_ac_evap_temp_scaling;
u16_voltage_5/1023v[16] CAL_sensor_ac_evap_temp_scaling_X_voltage;
uint8_t CAL_cluster_oil_pressure_warning_light_mode;
u32_temp_5/8-40__2560C coolant_temp_derived1;
uint8_t CAL_sensor_coolant_temp_derived1_scaling;
u8_temp_5/8-40c CAL_sensor_coolant_temp_fallback_value;
u32_temp_5/8-40__2560C coolant_temp_derived2;
undefined4 clutch_position_raw2;
undefined4 intake_manifold_pressure2;
uint8_t fuel_level_raw;
undefined4 chargecooler_temp2;
undefined4 iat2;
undefined1 coolant_temp_derived3;
u8_temp_5/8-40c CAL_sensor_iat_fallback;
u16_temp_1/10C ac_evap_temp;
u8_pressure_50mbar fuel_pressure_target_clamped;
u16_pressure_mbar fuel_pressure_abs;
uint16_t CAL_sensor_fuel_pressure_scaling;
undefined2 oil_pressure_reading_unknown;
u16_pressure_mbar CAL_sensor_fuel_pressure_offset;
u16_pressure_mbar manifold_pressure_calculated;
u16_temp_5/8-40c coolant_temp_raw;
uint16_t maf_flow;
uint16_t CAL_sensor_manifold_pressure_sensor_scaling;
u16_pressure_mbar map;
u8_temp_5/8-40c air_temp_intake_unknown;
u16_voltage_5/1023v[2] CAL_sensor_iat_voltage_threshold;
u16_voltage_5/1023v[2] CAL_sensor_coolant_voltage_threshold;
u16_voltage_5/1023v[2] CAL_sensor_intake_air_temp_voltage_threshold;
u16_pressure_mbar CAL_sensor_manifold_pressure_sensor_offset;
undefined4 fuel_pressure_abs_scaled;
uint16_t clutch_position;
uint16_t CAL_evap_purge_pressure_scaling;
uint16_t CAL_evap_purge_pressure_offset;
undefined4 ac_evap_temp_raw;
int16_t ac_evap_temp_unknown;
uint8_t sensor_;
u16_pressure_mbar CAL_oil_pressure_switch_voltage_scaling;
u16_pressure_mbar CAL_oil_pressure_switch_offset;
u8_temp_5/8-40c[33] CAL_sensor_trans_temp_scaling;
u8_temp_5/8-40c trans_fluid_temp_raw;
undefined4 trans_fluid_temp_u32;
u8_temp_5/8-40c trans_fluid_temp_u8;
u16_factor_1/1023 tps_u16;
u8_voltage_5/255v CAL_ecu_ign_threshold;
uint16_t obd_ii_evap_purge_pressure;
uint8_t CAL_trans_cooler_temp_scaling;
ushort iat;
u16_pressure_mbar fuel_pressure_abs2;
u16_pressure_mbar fuel_pressure_atmo_relative;
u16_pressure_mbar obd_ii_manifold_pressure;
uint16_t chargecooler_temp_div_160;
u8_factor_1/255 CAL_sensor_lat_accel_smoothing_factor;
i32_accel_1/2550g lat_accel_last;
i16_accel_1/10g lat_accel;
i16_accel_1/2550g imu_accel_lat;
ushort DAT_400019ce;
ushort DAT_400019d0;
ushort DAT_400019d2;
ushort DAT_400019d4;
ushort DAT_4000ca6c;
char DAT_40001824;
undefined2 _tmp_val1;
undefined4 _tmp_val2;
u8_speed_kph u8_speed_kph_40008994;
u8_rspeed_10rpm u8_rspeed_10rpm_40008995;
u16_rspeed_rpm u16_rspeed_rpm_40001f70;
byte DAT_4000872b;
short DAT_40001f90;
char DAT_40001aaf;
u8_angle_1/4-10deg u8_angle_1/4-10deg_400088c1;
u8_angle_1/4-10deg u8_angle_1/4-10deg_400086a3;
char DAT_400028ae;
byte DAT_400017fb;
byte DAT_40008703;
u8_temp_5/8-40c u8_temp_5/8-40c_40008913;
i16_angle_1/4deg[6] obd_ii_ign_adv_per_cylinder;
u16_time_us ign_dwell_time;
u8_rspeed_125/4+500rpm[20] CAL_ign_base_manual_X_engine_speed;
i16_angle_1/4deg ign_adv_min;
u8_load_1173mg/255stroke[20] CAL_ign_base_manual_Y_load;
i16_angle_1/4deg ign_base;
i16_angle_1/4deg ign_knock_safe;
u8_angle_1/4-10deg[400] CAL_ign_base_ips;
u8_angle_1/4-10deg[400] CAL_ign_base_manual;
u8_load_1173mg/255stroke load_1;
u8_angle_1/4-10deg[400] CAL_ign_knock_safe;
i16_angle_1/4deg ign_mbt_modeled;
u8_angle_1/4-10deg[400] CAL_ign_mbt_modeled;
u8_time_64us[64] CAL_ign_dwell_time;
u8_rspeed_125/4+500rpm[8] CAL_ign_dwell_time_X_rpm;
u8_voltage_72/1023v[8] CAL_ign_dwell_time_Y_ecu_voltage;
u8_rspeed_125/4+500rpm[20] CAL_ign_base_ips_X_engine_speed;
u8_load_1173mg/255stroke[20] CAL_ign_base_ips_Y_load;
undefined1 ign_comp_manifold_temp_load_multiplier;
u8_rspeed_125/4+500rpm[20] CAL_ign_knock_safe_X_engine_speed;
u8_load_1173mg/255stroke[20] CAL_ign_knock_safe_Y_load;
u8_rspeed_125/4+500rpm[20] CAL_ign_mbt_modeled_X_engine_speed;
u8_load_1173mg/255stroke[20] CAL_ign_mbt_modeled_Y_load;
i16_angle_1/4deg ign_maf_accum_trim_startup;
u8_temp_5/8-40c CAL_ign_comp_coolant_engine_stopped_min;
undefined2 ign_flags_unknown;
u8_angle_1/4-20deg[256] CAL_ign_min;
u8_rspeed_125/4+500rpm[16] CAL_ign_min_X_engine_speed;
i8_angle_1/4deg[56] CAL_ign_comp_tps_ips;
u8_load_4mg/stroke[16] CAL_ign_min_Y_load;
u8_rspeed_125/4+500rpm[7] CAL_ign_comp_tps_ips_X_engine_speed;
u8_factor_1/255[8] CAL_ign_comp_tps_ips_Y_pedal_pos;
i8_angle_1/4deg[64] CAL_ign_comp_tps_manual;
u8_angle_1/4-10deg[8] CAL_ign_limit_first_gear_manual;
u8_rspeed_125/4+500rpm[8] CAL_ign_comp_tps_manual_X_engine_speed;
u8_rspeed_125/4+500rpm[8] CAL_ign_limit_first_gear_manual_X_engine_speed;
u8_factor_1/255[8] CAL_ign_comp_tps_manual_Y_accel_pedal;
i16_angle_1/4deg ign_adv_limit;
i16_angle_1/4deg ign_adv_target1;
u8_angle_1/4deg[6] ign_retard_knock;
bool[6] ign_per_cyl_enable2???;
u8_gear CAL_ign_low_gear_number;
i8_angle_1/4deg[64] CAL_ign_retard_recovery_step;
u8_rspeed_125/4+500rpm[8] CAL_ign_retard_recovery_step_X_engine_speed;
u8_load_4mg/stroke[8] CAL_ign_retard_recovery_step_Y_load;
i8_angle_1/4deg[64] CAL_ign_comp_maf_accum;
u8_mass_g[8] CAL_ign_comp_maf_accum_X_maf_accum;
u8_factor_1/255[8] CAL_ign_comp_maf_accum_Y_tps;
undefined1 ign_tps_comp;
undefined1 ign_adv_tps_comp2;
u8_angle_1/4-10deg[8] CAL_ign_comp_coldstart;
u8_temp_5/8-40c[8] CAL_ign_comp_coldstart_X_startup_temp;
u8_angle_1/4deg ign_adv_coldstart_comp;
u8_angle_1/4deg[16] CAL_ign_comp_coolant_manual1;
u8_angle_1/4deg[16] CAL_ign_comp_coolant_manual_vvt_alt;
i16_angle_1/4deg ign_temp_engine_air_comp;
u8_temp_5/8-40c[16] CAL_ign_comp_coolant_manual1_X_coolant_temp;
uint8_t ign_comp_rpm_multiplier;
u8_temp_5/8-40c[16] CAL_ign_comp_coolant_manual_vvt_alt_X_coolant_temp;
i16_angle_1/4deg[6] ign_adv_with_torque_retard;
u8_angle_1/4deg[16] CAL_ign_comp_coolant_ips_noflags;
i16_angle_1/4deg ign_adv_coolant_comp;
u8_temp_5/8-40c[16] CAL_ign_comp_coolant_ips_noflags_X_coolant_temp;
undefined2 ign_comp_rpm;
u8_factor_1/128[8] CAL_ign_comp_rpm_multiplier;
u8_angle_1/4deg[16] CAL_ign_comp_coolant_ips_flags;
u8_temp_5/8-40c[8] CAL_ign_comp_rpm_multiplier_X_coolant_temp;
u8_temp_5/8-40c[16] CAL_ign_comp_coolant_ips_flags_X_coolant_temp;
u8_angle_1/4-32deg[16] CAL_ign_comp_engine_air;
u8_temp_5/8-40c[16] CAL_ign_comp_engine_air_X_air_temp;
u8_angle_1/4-32deg[16] CAL_ign_comp_rpm;
u8_rspeed_125/4+500rpm[16] CAL_ign_comp_rpm_X_engine_speed;
i8_angle_1/4deg[8] CAL_ign_comp_tps_rate;
uint8_t[8] CAL_ign_comp_tps_rate_X_tps_rate;
i16_angle_1/4deg ign_rpm_and_coolant_comp;
u8_angle_1/4-32deg[192] CAL_ign_comp_manifold_temp;
u8_rspeed_125/4+500rpm[16] CAL_ign_comp_manifold_temp_X_engine_speed;
u8_temp_5/8-40c[12] CAL_ign_comp_manifold_temp_Y_manifold_temp;
u8_angle_1/4-32deg[16] CAL_ign_comp_idle_error1;
undefined ign_comp_manifold_temp;
u8_angle_1/4-32deg[16] CAL_ign_comp_idle_error2;
u8_factor_1/128[192] CAL_ign_comp_manifold_temp_load_multiplier;
uint16_t obd_ii_idle_speed_error???;
u8_rspeed_-128[16] CAL_ign_comp_idle_error1_X_rpm;
u8_rspeed_125/4+500rpm[16] CAL_ign_comp_manifold_temp_load_multiplier_X_engine_speed;
i8_angle_1/4deg ign_comp_startup;
undefined1 vvt_intake_mode_flags;
i16_angle_1/4deg[6] ign_adv_with_knock_retard;
uint8_t[16] CAL_ign_comp_idle_error2_X_idle_speed_error;
i16_angle_1/4deg[8] CAL_ign_comp_startup_manual;
u8_load_4mg/stroke[12] CAL_ign_comp_manifold_temp_load_multiplier_Y_load;
u16_mass_mg[8] CAL_ign_comp_startup_manual_X_maf_accum;
i16_angle_1/4deg ign_comp_iat;
i16_angle_1/4deg[40] CAL_ign_comp_startup_ips;
u16_temp_5/8-40c[4] CAL_ign_comp_startup_ips_X_coolant_temp_engine_stopped;
i16_angle_1/4deg ign_comp_idle_speed1;
uint16_t[10] CAL_ign_comp_startup_ips_Y_maf_accumulated;
undefined2 ign_comp_idle_speed2;
u8_angle_1/4-32deg[16] CAL_ign_comp_idle_error3;
i16_angle_1/4deg ign_comp_unknown2;
uint8_t[16] CAL_ign_comp_idle_error3_X_rpm;
uint8_t[16] CAL_ign_comp_speed_variation_unknown;
uint8_t[16] CAL_ign_comp_speed_variation_unknown_X_rpm_delta;
u8_load_4mg/stroke CAL_ign_zero_load_threshold;
u8_rspeed_125/4+500rpm CAL_ign_zero_rpm_threshold;
u8_gear CAL_ign_zero_gear;
u8_angle_1/4-20deg[9] CAL_ign_min_engine_off;
u8_rspeed_125/4+500rpm[3] CAL_ign_min_engine_off_X_engine_speed;
u8_load_4mg/stroke[3] CAL_ign_min_engine_off_Y_load;
bool CAL_ign_enable_lea_knock_retard;
u8_speed_kph CAL_vehicle_moving_threshold?;
enum_t6e_gear car_current_gear;
u16_time_5ms ign_target_update_inhibit_timer_5ms;
i16_angle_1/4deg ign_adv_target;
u16_time_5ms ign_timer_unknown3;
bool CAL_ecu_inj_use_tmap;
i8_angle_1/4deg[128] CAL_ign_comp_tps2;
undefined2 engine_operating_state_flags;
u8_rspeed_125/4+500rpm[8] CAL_ign_comp_tps2_X_engine_speed;
u8_factor_1/255[16] CAL_ign_comp_tps2_Y_accel_pedal;
u16_factor_1/1023 tps_rate_unknown2?;
i8_angle_1/4deg ign_comp_tps_rate;
u16_rspeed_rpm idle_speed_error_tps_compensated;
i16_angle_1/4deg ign_comp_idle_error3;
i16_angle_1/4deg ign_comp_unknown6;
u8_angle_1/4deg[6] LEA_ign_knock_retard;
i16_angle_1/4deg ign_adv_from_roughness_detection;
u8_angle_1/4deg _ign_comp_roughness_detection;
undefined2 roughness_flags;
i16_angle_1/4deg ign_adv_target2;
i16_angle_1/4deg ign_comp_torque_reduction;
i16_angle_1/4deg[6] ign_target_reduced_target;
u8_angle_1/4deg[6] CAL_ign_trim_per_cyl;
u8_angle_1/4-32deg ign_retard_recovery_step;
u8_time_5ms ign_idle_comp_recovery_timer_5ms;
u8_time_5ms CAL_ign_timer_unknown;
u16_factor_1/1023 cruise_tps_commanded;
u8_time_10ms u8_time_10ms_4000869a;
u8_time_10ms u8_time_10ms_40008885;
uint8_t ign_target_slew_counter?;
short DAT_40001aba;
byte DAT_4000868a;
byte DAT_40008689;
u16_factor_1/1023 u16_factor_1/1023_4000897c;
u16_factor_1/1023 u16_factor_1/1023_4000897e;
uint8_t[8] CAL_unknown_rate_limit2;
uint8_t[8] CAL_unknown_rate_limit3;
u8_rspeed_125/4+500rpm[8] CAL_unknown_rate_limit2_X_rpm;
u8_rspeed_125/4+500rpm[8] CAL_unknown_rate_limit3_X_rpm;
u16_factor_1/1023[2] CAL_unknown_rate_limit1;
byte DAT_400017fa;
u16_time_5ms u16_time_5ms_40001b22;
byte DAT_400017f5;
u32_time_us obd_ii_injector_pulse_time_bank2_us;
u16_mass_100ug u16_mass_100ug_40002314;
u16_mass_100ug u16_mass_100ug_40001b04;
u16_mass_100ug u16_mass_100ug_40002316;
u16_mass_100ug u16_mass_100ug_40001b06;
undefined1 DAT_40001b1a;
uint DAT_40001ac8;
undefined2 DAT_40001612;
short DAT_40001cd0;
u32_time_us u32_time_us_40001b3c;
u32_time_us u32_time_us_40001b40;
byte DAT_40001b31;
u32_time_us u32_time_us_40001b34;
u32_time_us u32_time_us_40001b38;
u32_time_us u32_time_us_40001afc;
u32_time_us u32_time_us_40001b00;
int DAT_40001af0;
u16_time_us u16_time_us_40003d30;
undefined u16_time_us_40001af4;
u8_factor_1/64[192] CAL_inj_enrichment_factor_load_n_coolant_ips;
u16_time_us u16_time_us_40003d32;
u8_factor_1/64[192] CAL_inj_enrichment_factor_load_n_coolant_manual;
undefined1 DAT_40001b0c;
u8_load_4mg/stroke[12] CAL_inj_enrichment_factor_load_n_coolant_ips_X_load;
u16_time_100ms u16_time_100ms_40001b16;
u8_load_4mg/stroke[12] CAL_inj_enrichment_factor_load_n_coolant_manual_X_load;
u8_temp_5/8-40c[16] CAL_inj_enrichment_factor_load_n_coolant_ips_Y_coolant;
u8_temp_5/8-40c[16] CAL_inj_enrichment_factor_load_n_coolant_manual_Y_coolant;
u16_pressure_mbar[8] CAL_inj_flow_rate_X_fuel_pressure;
u32_time_us u32_time_us_40001b2c;
undefined DAT_000013ec;
uint8_t inj_comp_air_temp_raw2;
undefined DAT_00002710;
undefined1 inj_comp_air_temp_raw3;
u8_temp_5/8-40c[8] s_0@P`_4000c49a;
u8_factor_1/100 inj_efficiency;
u8_factor_1/100 load_pct;
u16_angle_1/4deg knock_ign_retard_cyl0;
undefined2 fuel_mileage_instantaneous;
undefined2 fuel_usage_instantaneous;
u16_voltage_5/1023v CAL_inj_stft_max_???;
undefined4 inj_angle_unknown_always_zero;
undefined1 inj_angle_unknown2_always_zero;
u32_time_us inj_startup_enrichment_offset;
u32_time_us obd_ii_injector_pulse_time_bank1_us;
undefined1 inj_split_unknown;
u16_flow_mg/s inj_flow_rate_b1?;
u16_flow_mg/s inj_flow_rate_b2?;
uint16_t CAL_fuel_usage_to_flow_scaling;
u8_factor_1/64 inj_enrichment_factor_load_n_coolant;
i16_time_us LEA_fuel_learn_lean_time_bank1;
u8_factor_1[8] CAL_inj_comp_iat;
u8_temp_5/8-40c[8] CAL_inj_comp_iat_X_iat;
u8_pressure_50mbar fuel_pressure_lookup_for_time_base;
u8_time_20us[64] CAL_inj_time_base;
u16_rspeed_rpm rev_limit;
u8_voltage_72/1023v[8] CAL_inj_time_base_X_car_voltage;
u8_pressure_50mbar[8] CAL_inj_time_base_Y_fuel_pressure;
u16_afr_1/100 afr_target2;
i16_time_us LEA_ltft_idle_b_adj;
u32_time_us inj_tip_adj_enrichment;
undefined1 inj_dutycycle???;
u32_time_us inj_pw_window_size;
u8_factor_1/255 inj_cranking_enrichment_unknown1;
u16_afr_1/100 afr_commanded;
u8_factor_1/255 CAL_inj_pulsewidth_scaling_unknown;
uint8_t[128] CAL_inj_comp_air_temp2;
uint8_t[100] CAL_inj_comp_air_temp_startup;
u8_temp_5/8-40c[10] CAL_inj_comp_air_temp_startup_X_air_temp;
u8_load_4mg/stroke[8] CAL_inj_comp_air_temp2_X_load;
u8_temp_5/8-40c[16] CAL_inj_comp_air_temp2_Y_air_temp;
u8_mass_g[10] CAL_inj_comp_air_temp_startup_Y_maf_accum;
u32_time_us inj_tip_adj_enleanment;
undefined1 fuel_flags_unknown;
int16_t stft_bank1;
u8_count revlimit_fuelcut_count;
int16_t stft_bank2;
int16_t ltft_bank1;
int16_t ltft_bank2;
u8_angle_720/256deg[256] CAL_inj_angle;
u8_rspeed_125/4+500rpm[16] CAL_inj_angle_X_engine_speed;
u8_load_4mg/stroke[16] CAL_inj_angle_Y_load;
u8_time_256us[16] CAL_inj_startup_enrichment_offset;
u8_temp_5/8-40c[16] CAL_inj_startup_enrichment_offset_X_coolant_temp_engine_stopped;
undefined1 inj_comp_air_temp_raw;
u8_factor_1/200[400] CAL_inj_bank_balance;
u16_pressure_mbar fuel_pressure_manifold_relative;
u8_factor_1/100[8] CAL_inj_accel_enrichment_load_threshold;
u8_rspeed_125/4+500rpm[20] CAL_inj_bank_balance_X_engine_speed;
u8_rspeed_125/4+500rpm[8] CAL_inj_accel_enrichment_load_threshold_X_rpm;
u8_load_1173mg/255stroke[20] CAL_inj_bank_balance_Y_load;
undefined1 afr_enrichment_commanded_unknown;
undefined1 inj_accel_enrichment_load_threshold;
u16_time_us inj_pulse_time_scaled;
u16_flow_mg/s inj_flow_rate_scaled;
u16_rspeed_rpm CAL_revlimit_inj_threshold_unknown;
u16_mass_100ug inj_fuel_mass_required;
u8_time_ms closedloop_entry_delay_steps;
u8_time_ms CAL_closedloop_entry_delay_time_cruise;
u8_time_ms CAL_closedloop_entry_delay_power_enrich;
u8_factor_1/100 CAL_inj_comp_power_enrich_from_ign_retard;
undefined1 mass_ratio_b1_prev;
undefined4 mass_to_time_scaler_b1;
undefined1 enrichment_cranking_blend;
uint32_t inj_pw_limit???;
u16_factor_1/32[168] CAL_inj_cranking_enrichment_coolant_ips;
u16_temp_5/8-40c[12] CAL_inj_cranking_enrichment_coolant_ips_X_coolant_engine_stopped;
u16_afr_1/100 CAL_closedloop_afr;
u16_mass_mg[14] CAL_inj_cranking_enrichment_coolant_ips_Y_maf_accumulated;
u16_factor_1/32[168] CAL_inj_cranking_enrichment_coolant_manual;
u16_temp_5/8-40c[12] CAL_inj_cranking_enrichment_coolant_manual_X_coolant_engine_stopped;
u16_mass_mg[14] CAL_inj_cranking_enrichment_coolant_manual_Y_maf_accumulated;
u8_factor_1/32 cranking_enrichment_coolant;
u8_afr_1/20+5[400] CAL_inj_afr_base;
u8_rspeed_125/4+500rpm[20] CAL_inj_afr_base_X_engine_speed;
u8_factor_1/255[64] CAL_inj_cranking_enrichment_air_temp;
u8_load_1173mg/255stroke[20] CAL_inj_afr_base_Y_engine_load;
u8_temp_5/8-40c[8] CAL_inj_cranking_enrichment_air_temp_X_iat;
u8_temp_5/8-40c[8] CAL_inj_cranking_enrichment_air_temp_Y_coolant_temp_engine_stopped;
u16_afr_1/100 afr_target;
u8_factor_1/200[400] CAL_inj_efficiency;
u8_factor_1/255 cranking_enrichment_air_temp;
u8_rspeed_125/4+500rpm[20] CAL_inj_efficiency_X_engine_speed;
u8_load_1173mg/255stroke[20] CAL_inj_efficiency_Y_engine_load;
u8_factor_1/255[6] CAL_inj_cranking_enrichment_load;
u8_load_4mg/stroke[6] CAL_inj_cranking_enrichment_load_X_load;
u16_flow_mg/s inj_flow_rate;
u16_flow_mg/s[8] CAL_inj_flow_rate;
u8_factor_1/255[10] CAL_inj_cranking_enrichment_unknown1;
uint8_t[10] CAL_inj_cranking_enrichment_unknown1_X_unknown;
u8_mass_8g[10] CAL_inj_cranking_enrichment_mass_accum_X_maf_accum;
uint8_t[10] CAL_inj_cranking_enrichment_mass_accum;
undefined1 cranking_enrichment_mass_accum;
uint8_t[64] uint8_t[64];
uint8_t[8] uint8_t[8];
char DAT_4000161c;
undefined PTR_DAT_40001614;
byte DAT_40008964;
ushort DAT_40001612;
ushort DAT_40008962;
u8_time_5ms inj_timer_unknown1;
undefined4 DAT_40001b64;
uint DAT_40000190;
undefined *PTR_DAT_40000194;
undefined *PTR_DAT_40000198;
undefined4 DAT_4000019c;
undefined4 DAT_400001a0;
undefined *PTR_DAT_400001a4;
undefined *PTR_DAT_400001a8;
undefined4 DAT_400001ac;
undefined DAT_000d09b8;
undefined DAT_000d0ac8;
uint32_t ETPU_MCR;
byte[3071] ETPU_shared_ram;
byte[12287] ETPU_scm;
undefined ETPU_sdm_pse_mirror;
undefined DAT_c3fc0404;
undefined DAT_40001b7c;
undefined DAT_40001b84;
undefined DAT_40001b88;
undefined DAT_40001b8c;
undefined DAT_40001b90;
undefined4 eTPU_period;
undefined4 eTPU_freq;
undefined2 eTPU_period2;
undefined1 eTPU_status_flag;
undefined DAT_00001638;
char[32] LEA_base;
undefined DAT_00001c4c;
uint8_t obd_ii_dtc_state;
undefined4 lea_base_size;
undefined4 lea_write_size;
undefined4 lea_crc;
undefined4 lea_crc2;
undefined2 DAT_40001ba2;
undefined2 DAT_40001ba0;
short DAT_400048b2;
char DAT_40004a48;
char DAT_40004b8c;
char DAT_4000ca66;
undefined1 DAT_400042c8;
undefined UNK_ffff8010;
undefined4 ecu_startup_flags_unknown;
char[32] ecu_prog_version;
undefined1 obd_ii_fuel_learn_zone_2_bank2;
u8_rspeed_125/4+500rpm[20] CAL_load_to_tps_max_X_engine_speed;
undefined1 obd_ii_fuel_learn_zone_3_bank2;
undefined2 DAT_40004266;
uint16_t[6] LEA_octane_scaler;
uint16_t LEA_idle_cold_learning_coolant;
uint16_t LEA_idle_cold_learning_coolant_ac_on;
uint16_t LEA_idle_learn_ac_on;
undefined1 obd_ii_fuel_learn_zone_2_bank1;
undefined1 obd_ii_fuel_learn_zone_3_bank1;
short uint16_t;
u8_rspeed_125/4+500rpm[20] CAL_load_alphaN_base_X_engine_speed;
undefined2 DAT_40004964;
undefined2 DAT_40004966;
undefined2 DAT_40004968;
undefined2 DAT_4000496a;
undefined2 DAT_4000496c;
undefined2 DAT_4000496e;
undefined2 DAT_40004970;
undefined2 DAT_40004972;
undefined2 DAT_40004b50;
undefined DAT_40004914;
uint16_t[10] uint16_t_ARRAY_40004928;
undefined2 DAT_4000493c;
undefined2 DAT_40004950;
uint16_t[10] uint16_t_ARRAY_40004974;
undefined2 DAT_40004988;
undefined2 DAT_4000499c;
undefined2 DAT_400049b0;
undefined2 DAT_400049c4;
undefined2 DAT_400049d8;
uint16_t[10] uint16_t_ARRAY_400049ec;
undefined2 DAT_40004a00;
uint16_t[10] uint16_t_ARRAY_40004a14;
uint16_t[10] uint16_t_ARRAY_40004a28;
undefined1 max_engine_speed_5_coolant;
uint32_t uint32_t_40004268;
undefined1 DAT_4000426c;
u32_time_100ms u32_time_100ms_400040c0;
u32_time_100ms engine_run_timer_total;
uint32_t[8] time_at_tps;
uint32_t[8] time_at_rpm;
uint32_t[8] time_at_speed_range_kmh;
uint32_t[4] time_at_coolant_temp;
uint16_t max_engine_speed5;
uint16_t[5] max_vehicle_speed;
uint8_t[2] standing_start_fastest;
uint16_t standing_start_num;
uint8_t[2] standing_start_last;
undefined1 DAT_4000421c;
undefined DAT_4000421d;
undefined DAT_4000421e;
undefined4 DAT_40004220;
undefined4 DAT_40004224;
undefined1 DAT_40004240;
u8_speed_kph u8_speed_kph_40004241;
u16_rspeed_rpm u16_rspeed_rpm_40004242;
undefined4 DAT_40004244;
u32_time_100ms u32_time_100ms_40004248;
undefined1 total_num_low_oil_pres_events;
uint32_t[5] time_at_lateral_g;
undefined2 DAT_40004a3c;
undefined2 DAT_40004a3e;
undefined2 DAT_40004a40;
undefined2 DAT_40004a42;
undefined4 fuel_usage_running_total;
undefined1 DAT_40004a45;
undefined4 car_speed_running_total;
undefined1 DAT_40004b8d;
undefined4 fuel_usage_running_total2;
undefined2 DAT_40004a46;
undefined4 car_speed_running_total2;
undefined1 DAT_40004a44;
undefined2 DAT_40004bd6;
undefined1 DAT_40004bd8;
undefined1 DAT_40004bd9;
undefined1 DAT_40004bda;
undefined1 DAT_40004bdb;
undefined1 DAT_40004bdc;
undefined2 DAT_40004bde;
undefined2 range_to_empty_smoothed?;
undefined1 DAT_40004a48;
byte DAT_40004a8a;
byte DAT_40004a89;
uint8_t[8] LEA_maf_comp1_unknown;
u8_mass_g[8] CAL_maf_comp_ips_unknown_X_maf_flow;
u8_mass_g[8] CAL_maf_comp_manual_unknown_X_maf_flow;
uint8_t[8] LEA_maf_comp2_unknown;
uint8_t[8] LEA_maf_comp3_unknown;
uint8_t[8] LEA_maf_comp4_unknown;
uint16_t uint16_t_40004910;
uint16_t uint16_t_40004912;
undefined2 DAT_400048bc;
undefined2 DAT_400048e6;
undefined1 DAT_40004a8a;
undefined1 DAT_40004a89;
undefined1 DAT_40004a8e;
undefined1 DAT_40004b18;
undefined1 DAT_40004ae6;
undefined2 DAT_40004b7c;
undefined2 DAT_40004b7e;
undefined2 DAT_40004b80;
undefined2 DAT_40004b82;
undefined2 DAT_40004b84;
undefined2 DAT_40004b86;
undefined2 DAT_40004b88;
undefined2 DAT_40004b8a;
undefined4 DAT_40004bb0;
undefined1 DAT_40004bb4;
undefined1 DAT_40004bb5;
undefined1 DAT_40004bb6;
undefined4 DAT_40004bb8;
undefined1 DAT_40004bdd;
undefined2 DAT_40004c04;
undefined2 DAT_40004c06;
undefined2 DAT_40004c08;
undefined2 DAT_40004c0a;
undefined2 DAT_40004c0c;
undefined2 DAT_40004c0e;
undefined2 DAT_40004c10;
undefined1 DAT_40004c13;
undefined1 DAT_40004c14;
undefined1 DAT_40004c16;
undefined1 DAT_40004c17;
undefined1 DAT_40004c19;
undefined1 DAT_40004c1a;
undefined1 DAT_40004c1c;
undefined1 DAT_40004c1d;
undefined1 DAT_40004c1f;
undefined1 DAT_40004c20;
undefined1 DAT_40004c22;
undefined1 DAT_40004c23;
undefined1 DAT_40004c25;
undefined1 DAT_40004c26;
undefined1 DAT_40004c28;
undefined1 DAT_40004c29;
undefined1 DAT_40004c2b;
undefined1 DAT_40004c2c;
undefined1 DAT_40004c2e;
undefined1 DAT_40004c2f;
undefined1 DAT_40004c31;
undefined1 DAT_40004c32;
undefined1 DAT_40004c34;
undefined1 DAT_40004c35;
undefined1 DAT_40004c37;
undefined1 DAT_40004c38;
undefined1 DAT_40004c3a;
undefined1 DAT_40004c3b;
undefined1 DAT_40004c3d;
undefined1 DAT_40004c3e;
undefined1 DAT_40004c40;
undefined1 DAT_40004c41;
undefined1 DAT_40004c43;
undefined1 DAT_40004c44;
undefined1 DAT_40004c46;
undefined1 DAT_40004c47;
undefined1 DAT_40004c49;
undefined1 DAT_40004c4a;
undefined1 DAT_40004c4c;
undefined1 DAT_40004c4d;
undefined1 DAT_40004c4f;
undefined1 DAT_40004c50;
undefined1 DAT_40004c52;
undefined1 DAT_40004c53;
undefined1 DAT_40004c55;
undefined1 DAT_40004c56;
undefined1 DAT_40004c58;
undefined1 DAT_40004c59;
undefined1 DAT_40004c5b;
undefined1 DAT_40004c5c;
undefined1 DAT_40004c5e;
undefined1 DAT_40004c5f;
undefined1 DAT_40004c61;
undefined1 DAT_40004c62;
undefined1 DAT_40004c64;
undefined1 DAT_40004c65;
undefined1 DAT_40004c67;
undefined1 DAT_40004c68;
undefined1 DAT_40004c6a;
undefined1 DAT_40004c6b;
undefined1 DAT_40004c6d;
undefined1 DAT_40004c6e;
undefined1 DAT_40004c70;
undefined1 DAT_40004c71;
undefined1 DAT_40004c73;
undefined1 DAT_40004c74;
undefined1 DAT_40004c76;
undefined1 DAT_40004c77;
undefined1 DAT_40004c79;
undefined1 DAT_40004c7a;
undefined1 DAT_40004c7c;
undefined1 DAT_40004c7d;
undefined1 DAT_40004c7f;
undefined1 DAT_40004c80;
undefined1 DAT_40004c82;
undefined1 DAT_40004c83;
undefined1 DAT_40004c85;
undefined1 DAT_40004c86;
undefined1 DAT_40004c88;
undefined1 DAT_40004c89;
undefined1 DAT_40004c8b;
undefined1 DAT_40004c8c;
undefined1 DAT_40004c8e;
undefined1 DAT_40004c8f;
undefined1 DAT_40004c91;
undefined1 DAT_40004c92;
uint16_t obd_ii_max_misfire_results_emissions;
undefined1 DAT_40004c94;
undefined1 DAT_40004c95;
undefined1 DAT_40004c97;
undefined1 DAT_40004c98;
undefined1 DAT_40004c9a;
undefined1 DAT_40004c9b;
undefined1 DAT_40004c9d;
undefined1 DAT_40004c9e;
undefined1 DAT_40004ca0;
undefined1 DAT_40004ca1;
undefined1 DAT_40004ca3;
undefined1 DAT_40004ca4;
undefined1 DAT_40004ca6;
undefined1 DAT_40004ca7;
undefined1 DAT_40004ca9;
undefined1 DAT_40004caa;
undefined1 fuel_system_diagnostic??;
undefined1 DAT_40004cac;
undefined1 DAT_40004cad;
undefined2 fuel_system_diagnostic2??;
undefined1 DAT_40004caf;
undefined1 DAT_40004cb0;
undefined1 DAT_40004cb2;
undefined1 DAT_40004cb3;
undefined1 DAT_40004cb5;
undefined1 DAT_40004cb6;
undefined1 DAT_40004cb8;
undefined1 DAT_40004cb9;
undefined1 DAT_40004cbb;
undefined1 DAT_40004cbc;
undefined1 DAT_40004cbe;
undefined1 DAT_40004cbf;
undefined1 DAT_40004cc1;
undefined1 DAT_40004cc2;
undefined1 DAT_40004cc4;
undefined1 DAT_40004cc5;
undefined1 DAT_40004cc7;
undefined1 DAT_40004cc8;
undefined1 DAT_40004cca;
undefined1 DAT_40004ccb;
undefined1 DAT_40004ccd;
undefined1 DAT_40004cce;
undefined1 DAT_40004cd0;
undefined1 DAT_40004cd1;
undefined1 DAT_40004cd3;
undefined1 DAT_40004cd4;
undefined1 DAT_40004cd6;
undefined1 DAT_40004cd7;
undefined1 DAT_40004cd9;
undefined1 DAT_40004cda;
undefined1 DAT_40004cdc;
undefined1 DAT_40004cdd;
undefined1 DAT_40004cdf;
undefined1 DAT_40004ce0;
undefined1 DAT_40004ce2;
undefined1 DAT_40004ce3;
undefined1 DAT_40004ce5;
uint16_t[2] obd_ii_misfires_unknown_cat_damage;
undefined1 DAT_40004ce6;
undefined1 DAT_40004ce8;
undefined1 DAT_40004ce9;
undefined1 DAT_40004d14;
undefined1 DAT_40004d15;
undefined1 DAT_40004d16;
undefined1 DAT_40004d17;
undefined1 DAT_40004d18;
undefined1 DAT_40004d19;
undefined1 DAT_40004d1b;
undefined1 DAT_40004d1c;
undefined1 DAT_40004d1e;
undefined1 DAT_40004d1f;
undefined1 DAT_40004ceb;
undefined1 DAT_40004cec;
undefined1 DAT_40004cee;
undefined1 DAT_40004cef;
undefined1 DAT_40004cf1;
undefined1 DAT_40004cf2;
undefined1 DAT_40004cf4;
undefined1 DAT_40004cf5;
undefined1 DAT_40004cf7;
undefined1 DAT_40004cf8;
undefined1 DAT_40004cfa;
undefined1 DAT_40004cfb;
undefined1 DAT_40004cfd;
undefined1 DAT_40004cfe;
undefined1 DAT_40004d00;
undefined1 DAT_40004d01;
undefined1 DAT_40004d03;
undefined1 DAT_40004d04;
undefined1 DAT_40004d06;
undefined1 DAT_40004d07;
undefined1 DAT_40004d09;
undefined1 DAT_40004d0a;
undefined1 DAT_40004d0c;
undefined1 DAT_40004d0d;
undefined1 DAT_40004d0f;
undefined1 DAT_40004d10;
undefined1 DAT_40004d12;
undefined1 DAT_40004d13;
undefined1 DAT_40004d21;
undefined1 DAT_40004d22;
undefined1 DAT_40004d24;
undefined1 DAT_40004d25;
undefined1 DAT_40004d27;
undefined1 DAT_40004d28;
undefined1 DAT_40004d2a;
undefined1 DAT_40004d2b;
undefined1 DAT_40004d2d;
undefined1 DAT_40004d2e;
undefined1 DAT_40004d30;
undefined1 DAT_40004d31;
undefined1 DAT_40004d33;
undefined1 DAT_40004d34;
undefined1 DAT_40004d36;
undefined1 DAT_40004d37;
undefined1 DAT_40004d39;
undefined1 DAT_40004d3a;
undefined1 DAT_40004d3c;
undefined1 DAT_40004d3d;
undefined1 DAT_40004d3f;
undefined1 DAT_40004d40;
undefined1 DAT_40004d63;
undefined1 DAT_40004d64;
undefined1 DAT_40004d66;
undefined1 DAT_40004d67;
undefined1 DAT_40004d42;
undefined1 DAT_40004d43;
undefined1 DAT_40004d45;
undefined1 DAT_40004d46;
undefined1 DAT_40004d48;
undefined1 DAT_40004d49;
undefined1 DAT_40004d4b;
undefined1 DAT_40004d4c;
undefined1 DAT_40004d4e;
undefined1 DAT_40004d4f;
undefined1 DAT_40004d51;
undefined1 DAT_40004d52;
undefined1 DAT_40004d54;
undefined4 obd_ii_status_unknokwn;
undefined1 DAT_40004d55;
undefined1 DAT_40004d57;
undefined1 DAT_40004d58;
undefined1 DAT_40004d5a;
undefined1 DAT_40004d5b;
undefined1 DAT_40004d5d;
undefined1 DAT_40004d5e;
undefined1 DAT_40004d60;
undefined1 DAT_40004d61;
undefined1 DAT_40004d69;
undefined1 DAT_40004d6a;
undefined1 DAT_40004d6c;
undefined1 DAT_40004d6d;
undefined1 DAT_40004d6f;
undefined1 DAT_40004d70;
undefined1 DAT_40004d72;
undefined1 DAT_40004d73;
undefined1 DAT_40004d75;
undefined1 DAT_40004d76;
undefined1 DAT_40004d78;
undefined1 DAT_40004d79;
undefined1 DAT_40004d7b;
undefined1 DAT_40004d7c;
undefined1 DAT_40004d7e;
undefined1 DAT_40004d7f;
undefined1 DAT_40004d81;
undefined1 DAT_40004d82;
undefined1 DAT_40004d84;
undefined1 DAT_40004d85;
undefined1 DAT_40004d87;
undefined1 DAT_40004d88;
undefined1 DAT_40004d8a;
undefined1 DAT_40004d8b;
undefined1 DAT_40004d8d;
undefined1 DAT_40004d8e;
undefined1 DAT_40004d90;
undefined1 DAT_40004d91;
undefined1 DAT_40004d93;
undefined1 DAT_40004d94;
undefined1 DAT_40004d96;
undefined1 DAT_40004d97;
undefined1 DAT_40004d99;
undefined1 DAT_40004d9a;
undefined1 DAT_40004d9c;
undefined1 DAT_40004d9d;
undefined1 DAT_40004d9f;
undefined1 DAT_40004da0;
undefined1 DAT_40004da2;
undefined1 DAT_40004da3;
undefined1 DAT_40004da5;
undefined1 DAT_40004da6;
undefined1 DAT_40004da8;
undefined1 DAT_40004da9;
undefined1 DAT_40004dab;
undefined1 DAT_40004dac;
undefined1 DAT_40004dae;
undefined1 DAT_40004daf;
undefined1 DAT_40004db1;
undefined1 DAT_40004db2;
undefined1 DAT_40004db4;
undefined1 DAT_40004db5;
undefined1 DAT_40004db7;
undefined1 DAT_40004db8;
undefined1 DAT_40004dba;
undefined1 DAT_40004dbb;
undefined1 DAT_40004dbd;
undefined1 DAT_40004dbe;
undefined1 DAT_40004dc3;
undefined1 DAT_40004dc4;
undefined1 DAT_40004dc0;
undefined1 DAT_40004dc1;
undefined1 DAT_40004dc6;
undefined1 DAT_40004dc7;
undefined1 DAT_40004dc9;
undefined1 DAT_40004dca;
undefined1 DAT_40004dcc;
undefined1 DAT_40004dcd;
undefined1 DAT_40004dcf;
undefined1 DAT_40004dd0;
undefined1 DAT_40004dd2;
undefined1 DAT_40004dd3;
undefined1 DAT_40004dd5;
undefined1 DAT_40004dd6;
undefined1 DAT_40004dd8;
undefined1 DAT_40004dd9;
undefined1 DAT_40004ded;
undefined1 DAT_40004dee;
undefined1 DAT_40004ddb;
undefined1 DAT_40004ddc;
undefined1 DAT_40004dde;
undefined1 DAT_40004ddf;
undefined1 DAT_40004de1;
undefined1 DAT_40004de2;
undefined1 DAT_40004de4;
undefined1 DAT_40004de5;
undefined1 DAT_40004de7;
undefined1 DAT_40004de8;
undefined1 DAT_40004dea;
undefined1 DAT_40004deb;
undefined1 DAT_40004df0;
undefined1 DAT_40004df1;
undefined1 DAT_40004df3;
undefined1 DAT_40004df4;
undefined1 DAT_40004df6;
undefined1 DAT_40004df7;
undefined1 DAT_40004df9;
undefined1 DAT_40004dfa;
undefined1 DAT_40004dfc;
undefined1 DAT_40004dfd;
undefined1 DAT_40004dff;
undefined1 DAT_40004e00;
undefined1 DAT_40004e02;
undefined1 DAT_40004e03;
undefined1 DAT_40004e05;
undefined1 DAT_40004e06;
undefined1 DAT_40004e8f;
undefined1 DAT_40004e90;
undefined1 DAT_40004e92;
undefined1 DAT_40004e93;
undefined1 DAT_40004e95;
undefined1 DAT_40004e96;
undefined1 DAT_40004e08;
undefined1 DAT_40004e09;
undefined1 DAT_40004e0b;
undefined1 DAT_40004e0c;
undefined1 DAT_40004e0e;
undefined1 DAT_40004e0f;
undefined1 DAT_40004e11;
undefined1 DAT_40004e12;
undefined1 DAT_40004e14;
undefined1 DAT_40004e15;
undefined1 DAT_40004e17;
undefined1 DAT_40004e18;
undefined1 DAT_40004e1a;
undefined1 DAT_40004e1b;
undefined1 DAT_40004e1d;
undefined1 DAT_40004e1e;
undefined1 DAT_40004e20;
undefined1 DAT_40004e21;
undefined1 DAT_40004e23;
undefined1 DAT_40004e24;
undefined1 DAT_40004e26;
undefined1 DAT_40004e27;
undefined1 DAT_40004e29;
undefined1 DAT_40004e2a;
undefined1 DAT_40004e2b;
undefined1 DAT_40004e2c;
undefined1 DAT_40004e2d;
undefined1 DAT_40004e2e;
undefined1 DAT_40004e2f;
undefined1 DAT_40004e30;
undefined1 DAT_40004e38;
undefined1 DAT_40004e39;
undefined1 DAT_40004e3b;
undefined1 DAT_40004e3c;
undefined1 DAT_40004e3e;
undefined1 DAT_40004e3f;
undefined1 DAT_40004e41;
undefined1 DAT_40004e42;
undefined1 DAT_40004e44;
undefined1 DAT_40004e45;
undefined1 DAT_40004e47;
undefined1 DAT_40004e48;
undefined1 DAT_40004e4a;
undefined1 DAT_40004e4b;
undefined1 DAT_40004e4d;
undefined1 DAT_40004e4e;
undefined1 DAT_40004e50;
undefined1 DAT_40004e51;
undefined1 DAT_40004e53;
undefined1 DAT_40004e54;
undefined1 DAT_40004e56;
undefined1 DAT_40004e57;
undefined1 DAT_40004e59;
undefined1 DAT_40004e5a;
undefined1 DAT_40004e5c;
undefined1 DAT_40004e5d;
undefined1 DAT_40004e5f;
undefined1 DAT_40004e60;
undefined1 DAT_40004e62;
undefined1 DAT_40004e63;
undefined1 DAT_40004e65;
undefined1 DAT_40004e66;
undefined1 DAT_40004e68;
undefined1 DAT_40004e69;
undefined1 DAT_40004e6b;
undefined1 DAT_40004e6c;
undefined1 DAT_40004e6e;
undefined1 DAT_40004e6f;
undefined1 DAT_40004e71;
undefined1 DAT_40004e72;
undefined1 DAT_40004e74;
undefined1 DAT_40004e75;
undefined1 DAT_40004e77;
undefined1 DAT_40004e78;
undefined1 DAT_40004e7a;
undefined1 DAT_40004e7b;
undefined1 DAT_40004e7d;
undefined1 DAT_40004e7e;
undefined1 DAT_40004e80;
undefined1 DAT_40004e81;
undefined1 DAT_40004e83;
undefined1 DAT_40004e84;
undefined1 DAT_40004e86;
undefined1 DAT_40004e87;
undefined1 DAT_40004e89;
undefined1 DAT_40004e8a;
undefined1 DAT_40004e8c;
undefined1 DAT_40004e8d;
undefined1 DAT_40004e98;
undefined1 DAT_40004e99;
undefined1 DAT_40004e9b;
undefined1 DAT_40004e9c;
undefined1 DAT_40004e9e;
undefined1 DAT_40004e9f;
undefined1 DAT_40004ea1;
undefined1 DAT_40004ea2;
undefined1 DAT_40004ea4;
undefined1 DAT_40004ea5;
undefined1 DAT_40004ea7;
undefined1 DAT_40004ea8;
undefined1 DAT_40004eaa;
undefined1 DAT_40004eab;
undefined1 DAT_40004ead;
undefined1 DAT_40004eae;
undefined1 DAT_40004eb0;
undefined1 DAT_40004eb1;
undefined1 DAT_40004eb3;
undefined1 DAT_40004eb4;
undefined1 DAT_40004eb6;
undefined1 DAT_40004eb7;
undefined1 DAT_40004eb9;
undefined1 DAT_40004eba;
undefined1 DAT_40004ebc;
undefined1 DAT_40004ebd;
undefined1 DAT_40004ebf;
undefined1 DAT_40004ec0;
undefined2 DAT_40004ae8;
u16_rspeed_4rpm u16_rspeed_4rpm_40004aea;
u16_flow_10mg/s u16_flow_10mg/s_40004aec;
undefined2 DAT_40004aee;
undefined2 DAT_40004af0;
uint16_t[6] coil_pack_diag_reading_unknown;
undefined2 DAT_40004af2;
undefined2 DAT_40004af4;
u8_temp_5/8-40c u8_temp_5/8-40c_40004af6;
u8_temp_5/8-40c u8_temp_5/8-40c_40004af7;
u8_temp_5/8-40c u8_temp_5/8-40c_40004af8;
u8_factor_1/255 u8_factor_1/255_40004af9;
u32_time_5ms u32_time_5ms_40004afc;
undefined2 DAT_40004b00;
undefined2 DAT_40004b02;
undefined2 DAT_40004b04;
undefined2 DAT_40004b06;
undefined4 DAT_40004b08;
u8_speed_kph u8_speed_kph_40004b0c;
undefined2 DAT_40004b0e;
undefined2 DAT_40004b34;
undefined2 DAT_40004b32;
undefined2 DAT_40004b1c;
undefined2 DAT_40004b1a;
undefined2 DAT_40004b38;
undefined2 DAT_40004b36;
undefined2 DAT_40004b22;
undefined2 DAT_40004b20;
undefined2 DAT_40004b2a;
undefined2 DAT_40004b28;
undefined2 DAT_40004b26;
undefined2 DAT_40004b24;
undefined2 DAT_40004b2c;
undefined2 DAT_40004b2e;
undefined2 DAT_40004b30;
undefined2 DAT_40004b3a;
undefined2 DAT_40004b3c;
undefined2 DAT_40004b3e;
undefined2 DAT_40004b46;
undefined2 DAT_40004b44;
undefined2 DAT_40004b42;
undefined2 DAT_40004b40;
undefined2 DAT_40004b4e;
undefined2 DAT_40004b4c;
undefined2 DAT_40004b4a;
undefined2 DAT_40004b48;
undefined2 DAT_40004b62;
undefined2 DAT_40004bbe;
undefined2 DAT_40004bbc;
undefined1 DAT_40004b57;
undefined1 DAT_40004b56;
undefined2 DAT_40004b54;
undefined2 DAT_40004b52;
int16_t[6] int16_t_ARRAY_40004ab8;
undefined1 DAT_40004acc;
undefined2 DAT_40004ad2;
undefined1 DAT_40004adc;
undefined1 DAT_40004ae1;
undefined2 DAT_40004b64;
undefined4 DAT_40004be0;
int16_t[6] int16_t_ARRAY_40004bf8;
undefined1 obd_ii_FF_intake_manifold_pressure;
uint8_t LEA_obd_ii_P0011_flags;
uint8_t LEA_obd_ii_P0012_flags;
uint8_t LEA_obd_ii_P0021_flags;
uint8_t LEA_obd_ii_P0022_flags;
uint8_t LEA_obd_ii_P0014_flags;
uint8_t LEA_obd_ii_P0015_flags;
uint8_t LEA_obd_ii_P0024_flags;
uint8_t LEA_obd_ii_P0025_flags;
uint8_t LEA_obd_ii_P0016_flags;
uint8_t LEA_obd_ii_P0017_flags;
uint8_t LEA_obd_ii_P0018_flags;
uint8_t LEA_obd_ii_P0019_flags;
uint8_t LEA_obd_ii_P0420_flags;
uint8_t LEA_obd_ii_P0430_flags;
uint8_t LEA_obd_ii_P0123_flags;
uint8_t LEA_obd_ii_P0223_flags;
uint8_t LEA_obd_ii_P0222_flags;
uint8_t LEA_obd_ii_P0638_flags;
uint8_t LEA_obd_ii_P1106_flags;
uint8_t LEA_obd_ii_P2119_flags;
uint8_t LEA_obd_ii_P2173_flags;
uint8_t LEA_obd_ii_P2135_flags;
uint8_t LEA_obd_ii_P2104_flags;
uint8_t LEA_obd_ii_P1104_flags;
uint8_t LEA_obd_ii_P2105_flags;
uint8_t LEA_obd_ii_P2106_flags;
uint8_t LEA_obd_ii_P2107_flags;
uint8_t LEA_obd_ii_P2100_flags;
uint8_t LEA_obd_ii_P2102_flags;
uint8_t LEA_obd_ii_P2103_flags;
uint8_t LEA_obd_ii_P2108_flags;
uint8_t LEA_obd_ii_P0441_flags;
uint8_t LEA_obd_ii_P0446_flags;
uint8_t LEA_obd_ii_P0335_flags;
uint8_t LEA_obd_ii_P0500_flags;
uint8_t LEA_obd_ii_P0341_flags;
uint8_t LEA_obd_ii_P0346_flags;
uint8_t LEA_obd_ii_P0366_flags;
uint8_t LEA_obd_ii_P0391_flags;
uint8_t LEA_obd_ii_P0171_flags;
uint8_t LEA_obd_ii_P0172_flags;
uint8_t LEA_obd_ii_P0174_flags;
uint8_t LEA_obd_ii_P0175_flags;
uint8_t LEA_obd_ii_P2191_flags;
uint8_t LEA_obd_ii_P2193_flags;
uint8_t LEA_obd_ii_P219A_flags;
uint8_t LEA_obd_ii_P219B_flags;
uint8_t LEA_obd_ii_P0506_flags;
uint8_t LEA_obd_ii_P0507_flags;
uint8_t LEA_obd_ii_P050A_flags;
uint8_t LEA_obd_ii_P0442_flags;
uint8_t LEA_obd_ii_P0455_flags;
uint8_t LEA_obd_ii_P0456_flags;
uint8_t LEA_obd_ii_P050B_flags;
uint8_t LEA_obd_ii_P0601_flags;
uint8_t LEA_obd_ii_P0606_flags;
uint8_t LEA_obd_ii_P0630_flags;
uint8_t LEA_obd_ii_P0700_flags;
uint8_t LEA_obd_ii_P2336_flags;
uint8_t LEA_obd_ii_P2337_flags;
uint8_t LEA_obd_ii_P2338_flags;
uint8_t LEA_obd_ii_P2339_flags;
uint8_t LEA_obd_ii_P2340_flags;
uint8_t LEA_obd_ii_P2341_flags;
uint8_t LEA_obd_ii_P0300_flags;
uint8_t LEA_obd_ii_P0301_flags;
uint8_t LEA_obd_ii_P0302_flags;
uint8_t LEA_obd_ii_P0303_flags;
uint8_t LEA_obd_ii_P0304_flags;
uint8_t LEA_obd_ii_P0305_flags;
uint8_t LEA_obd_ii_P0306_flags;
uint8_t LEA_obd_ii_P1301_flags;
uint8_t LEA_obd_ii_P1302_flags;
uint8_t LEA_obd_ii_P0133_flags;
uint8_t LEA_obd_ii_P0134_flags;
uint8_t LEA_obd_ii_P0139_flags;
uint8_t LEA_obd_ii_P0140_flags;
uint8_t LEA_obd_ii_P0153_flags;
uint8_t LEA_obd_ii_P0154_flags;
uint8_t LEA_obd_ii_P0159_flags;
uint8_t LEA_obd_ii_P0160_flags;
uint8_t LEA_obd_ii_P2602_flags;
uint8_t LEA_obd_ii_P2603_flags;
uint8_t LEA_obd_ii_P0482_flags;
uint8_t LEA_obd_ii_P0480_flags;
uint8_t LEA_obd_ii_P0141_flags;
uint8_t LEA_obd_ii_P025C_flags;
uint8_t LEA_obd_ii_P025D_flags;
uint8_t LEA_obd_ii_P0261_flags;
uint8_t LEA_obd_ii_P0262_flags;
uint8_t LEA_obd_ii_P0264_flags;
uint8_t LEA_obd_ii_P0265_flags;
uint8_t LEA_obd_ii_P0267_flags;
uint8_t LEA_obd_ii_P0268_flags;
uint8_t LEA_obd_ii_P0270_flags;
uint8_t LEA_obd_ii_P0271_flags;
uint8_t LEA_obd_ii_P0273_flags;
uint8_t LEA_obd_ii_P0274_flags;
uint8_t LEA_obd_ii_P0276_flags;
uint8_t LEA_obd_ii_P0277_flags;
uint8_t LEA_obd_ii_P0135_flags;
uint8_t LEA_obd_ii_P0155_flags;
uint8_t LEA_obd_ii_P0161_flags;
uint8_t LEA_obd_ii_P0445_flags;
uint8_t LEA_obd_ii_P0444_flags;
uint8_t LEA_obd_ii_P0448_flags;
uint8_t LEA_obd_ii_P0447_flags;
uint8_t LEA_obd_ii_P0646_flags;
uint8_t LEA_obd_ii_P0647_flags;
uint8_t LEA_obd_ii_P0076_flags;
uint8_t LEA_obd_ii_P0077_flags;
uint8_t LEA_obd_ii_P0079_flags;
uint8_t LEA_obd_ii_P0080_flags;
uint8_t LEA_obd_ii_P0082_flags;
uint8_t LEA_obd_ii_P0083_flags;
uint8_t LEA_obd_ii_P0085_flags;
uint8_t LEA_obd_ii_P0086_flags;
uint8_t LEA_obd_ii_P0351_flags;
uint8_t LEA_obd_ii_P0352_flags;
uint8_t LEA_obd_ii_P0353_flags;
uint8_t LEA_obd_ii_P0354_flags;
uint8_t LEA_obd_ii_P0355_flags;
uint8_t LEA_obd_ii_P0356_flags;
uint8_t LEA_obd_ii_P2612_flags;
uint8_t LEA_obd_ii_P2613_flags;
uint8_t LEA_obd_ii_P0616_flags;
uint8_t LEA_obd_ii_P0617_flags;
uint8_t LEA_obd_ii_P2170_flags;
uint8_t LEA_obd_ii_P2171_flags;
uint8_t LEA_obd_ii_P023B_flags;
uint8_t LEA_obd_ii_P023C_flags;
uint8_t LEA_obd_ii_P123B_flags;
uint8_t LEA_obd_ii_P123C_flags;
uint8_t LEA_obd_ii_P2754_flags;
uint8_t LEA_obd_ii_P2755_flags;
uint8_t LEA_obd_ii_P2138_flags;
uint8_t LEA_obd_ii_P2122_flags;
uint8_t LEA_obd_ii_P2123_flags;
uint8_t LEA_obd_ii_P2127_flags;
uint8_t LEA_obd_ii_P2128_flags;
uint8_t LEA_obd_ii_P0096_flags;
uint8_t LEA_obd_ii_P0097_flags;
uint8_t LEA_obd_ii_P0098_flags;
uint8_t LEA_obd_ii_P0685_flags;
uint8_t LEA_obd_ii_P0578_flags;
uint8_t LEA_obd_ii_P0579_flags;
uint8_t LEA_obd_ii_P0564_flags;
uint8_t LEA_obd_ii_P0563_flags;
uint8_t LEA_obd_ii_P0562_flags;
uint8_t LEA_obd_ii_P0522_flags;
uint8_t LEA_obd_ii_P1562_flags;
uint8_t LEA_obd_ii_P0523_flags;
uint8_t LEA_obd_ii_P0524_flags;
uint8_t LEA_obd_ii_P0453_flags;
uint8_t LEA_obd_ii_P0452_flags;
uint8_t LEA_obd_ii_P0463_flags;
uint8_t LEA_obd_ii_P0462_flags;
uint8_t LEA_obd_ii_P0101_flags;
uint8_t LEA_obd_ii_P0102_flags;
uint8_t LEA_obd_ii_P0103_flags;
uint8_t LEA_obd_ii_P0118_flags;
uint8_t LEA_obd_ii_P0117_flags;
uint8_t LEA_obd_ii_P0116_flags;
uint8_t LEA_obd_ii_P0113_flags;
uint8_t LEA_obd_ii_P0071_flags;
uint8_t LEA_obd_ii_P0072_flags;
uint8_t LEA_obd_ii_P0073_flags;
uint8_t LEA_obd_ii_P0112_flags;
uint8_t LEA_obd_ii_P0111_flags;
uint8_t LEA_obd_ii_P0138_flags;
uint8_t LEA_obd_ii_P0137_flags;
uint8_t LEA_obd_ii_P0151_flags;
uint8_t LEA_obd_ii_P0152_flags;
uint8_t LEA_obd_ii_P0157_flags;
undefined1 obd_ii_common_test_available;
undefined1 obd_ii_engine_tests_completeness;
uint8_t LEA_obd_ii_P0158_flags;
uint8_t LEA_obd_ii_P0191_flags;
uint8_t LEA_obd_ii_P0192_flags;
uint8_t LEA_obd_ii_P0193_flags;
uint8_t LEA_obd_ii_P0328_flags;
uint8_t LEA_obd_ii_P0327_flags;
uint8_t LEA_obd_ii_P0332_flags;
uint8_t LEA_obd_ii_P0333_flags;
uint8_t LEA_obd_ii_P0132_flags;
uint8_t LEA_obd_ii_P0131_flags;
uint8_t LEA_obd_ii_P0106_flags;
uint8_t LEA_obd_ii_P0108_flags;
uint8_t LEA_obd_ii_P0107_flags;
uint8_t LEA_obd_ii_P0571_flags;
uint8_t LEA_obd_ii_P0806_flags;
uint8_t LEA_obd_ii_P1809_flags;
uint8_t LEA_obd_ii_P0807_flags;
uint8_t LEA_obd_ii_P0808_flags;
uint8_t LEA_obd_ii_P0826_flags;
uint8_t LEA_obd_ii_P0827_flags;
uint8_t LEA_obd_ii_P0828_flags;
uint8_t LEA_obd_ii_P1107_flags;
uint8_t LEA_obd_ii_P1108_flags;
uint8_t LEA_obd_ii_P1109_flags;
uint8_t LEA_obd_ii_P0128_flags;
uint8_t LEA_obd_ii_P0461_flags;
uint8_t LEA_obd_ii_P0451_flags;
uint8_t LEA_obd_ii_P0537_flags;
uint8_t LEA_obd_ii_P0538_flags;
uint8_t LEA_obd_ii_P1422_flags;
uint8_t LEA_obd_ii_P0513_flags;
uint8_t LEA_obd_ii_P0087_flags;
uint8_t LEA_obd_ii_P0088_flags;
uint8_t LEA_obd_ii_P0627_flags;
uint8_t LEA_obd_ii_P0109_flags;
undefined1 obd_ii_stft_bank2;
uint8_t LEA_obd_ii_P2797_flags;
uint8_t LEA_obd_ii_P0897_flags;
uint8_t LEA_obd_ii_P0712_flags;
uint8_t LEA_obd_ii_P0713_flags;
uint8_t obd_ii_fuel_pressure;
undefined1 fuel_tank_level;
ushort obd_ii_DTC_causing_FF;
uint32_t obd_ii_distance_traveled_with_MIL;
u8_count obd_ii_warmups_since_code_cleared;
u16_distance_km obd_ii_distance_since_codes_cleared_km;
ushort obd_ii_FF_fuel_system_status;
undefined1 obd_ii_FF_calc_engine_load;
undefined1 obd_ii_FF_engine_coolant_temp_C;
undefined1 obd_ii_FF_stft_bank1;
undefined1 obd_ii_FF_ltft_bank1;
undefined1 obd_ii_FF_ltft_bank2;
u16_rspeed_1/4rpm obd_ii_FF_engine_speed;
undefined1 obd_ii_FF_car_speed;
ushort obd_ii_FF_maf_flow_1;
undefined1 obd_ii_FF_tps_x4;
ushort obd_ii_FF_runtime_since_start;
ushort obd_ii_FF_atmo_pressure;
ushort obd_ii_FF_ecu_voltage;
undefined2 obd_ii_FF_load_abs_percentage;
undefined1 obd_ii_FF_throttle_target_pos;
undefined1 obd_ii_FF_ign_adv;
undefined1 obd_ii_FF_iat;
undefined1 obd_ii_FF_evap_purge_cmd;
ushort obd_ii_FF_afr_commanded;
undefined1 obd_ii_FF_chargecooler_temp;
undefined1 obd_ii_FF_accelerator_pos_e;
undefined1 obd_ii_FF_accelerator_pos_d;
undefined1 obd_ii_FF_abs_tps_b;
undefined1 obd_ii_FF_ambiant_air_temp;
undefined1 obd_ii_FF_tps_relative;
byte DAT_40004d14;
byte DAT_40004d17;
byte DAT_40004e2b;
byte DAT_40004e2e;
undefined1 DAT_400041ff;
u32_time_5ms u32_time_5ms_400040e4;
u16_time_100ms u16_time_100ms_400041ec;
u16_voltage_18/1023v u16_voltage_18/1023v_400041ee;
undefined2 DAT_400041f0;
undefined1 DAT_400041fe;
undefined4 DAT_400040e8;
undefined2 DAT_400041f2;
undefined2 DAT_400041f4;
undefined2 DAT_400041f6;
undefined2 DAT_400041f8;
undefined2 DAT_400041fa;
undefined2 DAT_400041fc;
undefined2 DAT_40004264;
undefined2 DAT_400040ec;
undefined2 DAT_4000412c;
undefined2 DAT_4000416c;
undefined2 DAT_400041ac;
uint16_t uint16_t_40001ba8;
uint DAT_40001be0;
uint DAT_40001bdc;
uint DAT_40001bd8;
undefined1 DAT_40001be4;
undefined *PTR_FUN_40002aa8;
undefined4 DAT_40001bb0;
int DAT_400005ec;
int DAT_40001bd4;
int DAT_40001bd0;
pointer PTR_FLASH_MCR_400005e8;
undefined DAT_40001bb4;
undefined DAT_40001bc0;
undefined DAT_40001bc8;
undefined UNK_ffff801c;
undefined DAT_ffff8020;
undefined UNK_ffff802c;
undefined UNK_ffff8030;
undefined4 DAT_40001bd0;
undefined4 DAT_40001bd4;
undefined4 DAT_40001bcc;
undefined *PTR_FUN_40002ab4;
undefined DAT_40001bb8;
undefined UNK_ffff8028;
undefined4 FLASH_SLMLR;
undefined4 FLASH_HSR;
undefined4 FLASH_HLR;
undefined4 FLASH_MLSR;
undefined4 FLASH_LMLR;
undefined DAT_0000c350;
string LEAROM_base;
undefined4 FLASH_MCR;
undefined2 DAT_00020000;
u16_time_s shutdown_timer;
uint8_t uint8_t_ARRAY_c3f9085c;
uint32_t siu_start;
u8_time_s[64] CAL_cooling_fan_afterrun;
u8_temp_5/8-40c[8] CAL_cooling_fan_afterrun_X_air_temp;
u8_temp_5/8-40c[8] CAL_cooling_fan_afterrun_Y_coolant_temp;
uint8_t uint8_t_ARRAY_c3f906cb;
char[32] CAL_base;
bool shutdown_eeprom_saved;
uint16_t[2] CAL_ecu_system_voltage_threshold;
uint8_t uint8_t_ARRAY_c3f908c7;
ushort[12] gear_lookup;
uint32_t gear_index_manual;
char DAT_400031e2;
char DAT_40001c74;
byte BYTE_40001c56;
char DAT_40001c72;
char DAT_40001c57;
byte DAT_40008737;
short DAT_40001c54;
char DAT_40001c73;
u8_time_s CAL_cooling_timer_recircpump;
uint8_t accessory_unknown;
u8_temp_5/8-40c CAL_cooling_aux_pump_airtemp_disable_engine_on;
u16_rspeed_rpm CAL_cooling_aux_pump_enginespeed_disable_engine_on;
u16_rspeed_rpm CAL_cooling_aux_pump_enginespeed_enable_engine_on;
uint8_t coolant_circulation_pump;
undefined4 cooling_system_flags;
u8_temp_5/8-40c CAL_cooling_aux_pump_timer_reset_coolant_temp;
u8_temp_5/8-40c temp_engine_air_cooling_control;
undefined1 cooling_ips;
uint8_t[8] CAL_cooling_fan_scaling;
u8_factor_1/255[8] CAL_cooling_fan_scaling_X_dutycycle;
ushort DAT_40001624;
u8_factor_1/255 cooling_fan1_duty_cycle_car_speed;
undefined DAT_000186a0;
uint8_t[8] CAL_cooling_fan_duty_cycle_stopped;
undefined1 cooling_fan1_scaled;
u8_factor_1/255[36] CAL_cooling_fan1_running;
u8_temp_5/8-40c[6] CAL_cooling_fan1_running_X_coolant_temp;
u8_speed_kph[6] CAL_cooling_fan1_running_Y_car_speed;
u8_factor_1/255 cooling_fan1_duty_cycle_air_temp;
undefined1 fan_cooling1_emios_initialized;
u8_rspeed_4rpm[2] CAL_cooling_engine_speed_unknown_threshold;
uint16_t siu_pcr[182];
u8_dutycycle_100/255 cooling_fan1;
u8_speed_kph CAL_cooling_fan_speed_disable_speed;
u16_time_5ms CAL_cooling_fan_startup_time;
uint8_t ac_cooling_fan_required;
u8_factor_1/255[64] CAL_cooling_fan1_ac_off;
u8_factor_1/255[36] CAL_cooling_fan1_ac_on;
u8_temp_5/8-40c[6] CAL_cooling_fan1_ac_on_X_air_temp;
uint8_t[6] CAL_cooling_fan1_ac_on_Y_car_speed;
u8_temp_5/8-40c[8] CAL_cooling_fan1_ac_off_X_air_temp;
uint8_t[8] CAL_cooling_fan1_ac_off_Y_car_speed;
u8_temp_5/8-40c[8] CAL_cooling_fan_duty_cycle_stopped_X_coolant_temp;
u8_temp_5/8-40c CAL_cooling_fan_hotstart_temp;
u8_factor_1/255 CAL_cooling_fan_hotstart_dutycycle;
undefined1 hotstart_duty_cycle;
undefined1 obd_ii_mode2f_cooling_fan_dutycycle;
char DAT_40001c5a;
char DAT_40001c7a;
ushort DAT_400087ac;
u8_factor_1/255 CAL_cooling_fan_engine_bay_radfan_threshold_enable;
u8_factor_1/255 CAL_cooling_fan_engine_bay_radfan_threshold_disable;
u8_temp_5/8-40c CAL_cooling_fan_engine_bay_airtemp_enable;
u16_factor_1/255 u16_factor_1/255_40001626;
uint16_t siu_pcr[201];
undefined1 cc_state;
u8_factor_1/255[8] CAL_cooling_cc_pump_dutycycle;
u8_temp_5/8-40c[8] CAL_cooling_cc_pump_dutycycle_X_manifold_temp;
u8_factor_1/255 cc_pump_dutycycle??;
u8_factor_1/255 cc_pwm_output;
u8_factor_1/255[8] CAL_cooling_cc_pump_dc_drive_output;
u8_factor_1/255[8] CAL_cooling_cc_pump_dc_drive_output_X_target_dutycycle;
u8_time_100ms cc_warmup_timer;
u8_factor_1/255 cc_pwm_output_last;
u8_factor_1/255 CAL_cooling_cc_pump_diag_dutycycle_min;
u8_factor_1/255 cooling_cc_pump_test_2F_dutycycle;
byte DAT_40001bf2;
undefined1 DAT_40001bf4;
undefined1 DAT_40001bfe;
undefined1 DAT_40001bff;
undefined1 DAT_40001bfc;
undefined1 recirculation_pump_state_???_or_acis;
undefined1 DAT_40001bfd;
u16_rspeed_rpm u16_rspeed_rpm_400087de;
undefined2 cluster_oil_pressure_warn_threshold?;
char DAT_40001c26;
u8_rspeed_125/4+500rpm[8] CAL_cluster_oil_pressure_warn_threshold;
uint16_t fuel_range_remaining;
u8_rspeed_125/4+500rpm[8] CAL_cluster_oil_pressure_warn_threshold_X_engine_speed;
uint16_t fuel_usage_average???;
bool CAL_cluster_test_enable???;
undefined1 traction_intervention_flags;
enum_traction_mode CAL_traction_mode;
u8_gear[8] CAL_cluster_shiftlight_rpm_offset_ips_X_gear;
u8_gear[8] CAL_cluster_shiftlight_rpm_offset_manual_X_gear;
cluster_data dash_data_CAN400;
u8_fuel_gal_x10[2] CAL_cluster_fuel_level_warning_threshold;
undefined1 cluster_flags;
undefined1 fuel_level_pct;
u8_temp_5/8-40c[2] CAL_cluster_coolant_warning;
u8_fuel_gal_x10 CAL_cluster_fuel_level_zero_clip_threshold;
undefined1 oil_pressure_warning_light_timer;
undefined1 cluster_test_timer;
uint16_t mileage_instantaneous???;
u16_time_100ms lfb_pulse_toggle_timer;
uint8_t shift_light_state_from_ips;
undefined1 cluster_indicator_flags;
uint8_t cluster_shift_light_state;
u16_rspeed_4rpm shift_light_rpm_offset;
bool BOOL_40001c7e;
byte DAT_40001c80;
u8_time_5ms pwm_0xB3_drive_timer;
uint8_t uint8_t_ARRAY_c3f906b3;
byte DAT_40001623;
byte DAT_40001622;
byte DAT_4000876c;
u8_time_250ms u8_time_250ms_40008766;
u8_time_250ms u8_time_250ms_4000875f;
char DAT_40001c59;
char DAT_40008763;
byte DAT_40001c5b;
byte DAT_40001c58;
byte DAT_40008762;
byte DAT_40001c5a;
undefined1 DAT_40001c00;
u8_time_100ms trans_cooler_timer;
uint8_t uint8_t_ARRAY_c3f9068f;
pointer CRC16_salt;
char DAT_40001c4b;
byte DAT_4000cca9;
char DAT_40008807;
char DAT_40008806;
uint8_t DAT_40001c81;
uint16_t DAT_4000162a;
undefined DAT_4000e2c8;
undefined DAT_4000e2d0;
u8_factor_1/255[8] s__4000e2d8;
undefined DAT_4000e318;
undefined DAT_4000e320;
u8_factor_1/255[8] s__4000e328;
uint8_t uint8_t_ARRAY_c3f906b4;
undefined DAT_4000e7cc;
u8_time_100ms CAL_exhaust_flap_startup_threshold;
undefined DAT_4000e7d4;
u8_factor_1/255[8] s__4000e7dc;
u16_rspeed_rpm CAL_exhaust_flap_RPM_threshold_open;
u8_load_4mg/stroke CAL_exhaust_flap_load_threshold_open;
uint8_t exhaust_flap_flags;
uint16_t siu_pcr[140];
undefined1 exahust_override_switch_status;
u16_rspeed_rpm CAL_exhaust_flap_RPM_threshold_close;
u8_load_4mg/stroke CAL_exhaust_flap_load_threshold_close;
enum_launch_mode launch_mode;
uint16_t CAL_tc_unknown_tire_circumference;
u8_count CAL_tc_abs_ring_teeth_count;
uint wheelspeed;
uint8_t CAL_wheel_speed_smoothing;
undefined1 DAT_4000284c;
int8_t flexcan_a_tx_102_timer;
short DAT_40001c6e;
u8_factor_1/100 u8_factor_1/100_400088a2;
byte DAT_40001c61;
ushort DAT_40001c68;
byte DAT_400088a5;
byte DAT_40001c60;
byte DAT_400088a3;
u16_rspeed_1/4rpm DAT_40001c62;
ushort DAT_40001c64;
byte DAT_400088a4;
undefined2 DAT_40004ed0;
ushort DAT_40001c6a;
ushort DAT_40001c6c;
undefined2 DAT_40004ee4;
u16_rspeed_1/4rpm DAT_40001c66;
undefined2 DAT_40004ef8;
undefined2 DAT_40004f0c;
byte DAT_400088a7;
ushort DAT_40001c2e;
u16_rspeed_1/4rpm[2] CAL_roughness_enable_rpm;
ushort DAT_40001c2c;
u8_load_4mg/stroke[2] CAL_roughness_enable_load;
ushort DAT_40001c82;
byte DAT_400088a6;
u8_angle_1/4deg CAL_roughness_ign_adv_min_sign_flipped;
byte DAT_400088a1;
u8_angle_1/4deg CAL_roughness_ign_adv_max;
byte DAT_400088a0;
byte DAT_400088a8;
byte DAT_400088a9;
byte DAT_400088ac;
u16_rspeed_1/4rpm engine_speed_previous_ER;
short DAT_40001c84;
undefined2 wheel_speed_front_avg;
int8_t wheel_speed_timer1;
uint8_t CAL_wheel_speed_timer1;
undefined2 wheel_speed_front_avg_last;
undefined2 wheel_speed_front_avg_dvdt;
uint8_t CAL_wheel_speed_front_dvdt_scaling;
short wheel_speed_front_accel;
wheelspeeds_short wheel_speeds;
u16_rspeed_1/4rpm u16_rspeed_1/4rpm_40008926;
u8_temp_5/8-40c u8_temp_5/8-40c_40008922;
char DAT_400088e4;
char DAT_40001c94;
u16_rspeed_1/4rpm u16_rspeed_1/4rpm_40008924;
u8_time_50ms CAL_revlimit_enforce_engine_start_delay???;
u32_rspeed_1024rpm engine_speed_1/1024rpm;
enum_accel_pedal_mode accel_pedal_mode;
undefined4 engine_speed2_x256;
u16_rspeed_1/4rpm engine_speed_pps_target;
u16_rspeed_1/4rpm[10] CAL_ecu_engine_speed_target_tour;
u16_factor_1/1023[10] CAL_ecu_engine_speed_target_tour_X_pps;
u16_rspeed_1/4rpm[10] CAL_ecu_engine_speed_target_sport;
u16_factor_1/1023[10] CAL_ecu_engine_speed_target_sport_X_pps;
u16_rspeed_1/4rpm engine_speed_tach;
u8_factor_1/2560[16] CAL_ecu_engine_speed_target_ramp_gain_tour;
u8_rspeed_125/4+500rpm[4] CAL_ecu_engine_speed_target_ramp_gain_tour_X_rpm;
u8_temp_5/8-40c[4] CAL_ecu_engine_speed_target_ramp_gain_tour_Y_coolant_temp;
u8_factor_1/2560[16] CAL_ecu_engine_speed_target_ramp_gain_sport;
u8_rspeed_125/4+500rpm[4] CAL_ecu_engine_speed_target_ramp_gain_sport_X_rpm;
u8_temp_5/8-40c[4] CAL_ecu_engine_speed_target_ramp_gain_sport_Y_coolant_temp;
bool idle_underspeed_latch;
u8_factor_1/255[4] CAL_ecu_engine_speed_target_dec_gain;
u8_temp_5/8-40c[4] CAL_ecu_engine_speed_target_dec_gain_X_coolant_temp;
u8_factor_1/2560 engine_speed_target_ramp_up_gain;
u16_rspeed_rpm obd_ii_idle_speed_target???;
byte DAT_4000898e;
byte DAT_40008979;
ushort DAT_40001ca0;
ushort DAT_40004bd6;
byte DAT_40008990;
u8_time_100ms fuel_usage_reset_request_timer;
uint8_t[2] CAL_cluster_range_to_empty_limit;
u8_time_100ms CAL_cluster_fuel_mileage_update_timer;
u8_time_100ms fuel_usage_timer1;
u8_time_100ms CAL_fuel_range_smoothing_interval;
undefined2 range_to_empty;
uint8_t CAL_fuel_range_remaining_smoothing_factor;
u8_time_100ms cluster_fuel_mileage_update_timer;
undefined1 fuel_level2;
bool fuel_usage_reset;
u8_time_100ms CAL_fuel_usage_reset_request_timer;
u8_rspeed_10rpm u8_rspeed_10rpm_40008811;
u8_time_50ms u8_time_50ms_400087f1;
u8_temp_5/8-40c u8_temp_5/8-40c_400087ed;
u16_rspeed_rpm u16_rspeed_rpm_40008946;
u16_time_5ms DAT_40008948;
byte DAT_4000875e;
uint8_t[6] s__40001cec;
u8_temp_5/8-40c[4] s_@_40008cf4;
u8_rspeed_10rpm[4] s_xxx_40008cf8;
u8_temp_5/8-40c[4] s_@`_40008cfc;
u8_rspeed_10rpm[4] s__40008d00;
uint8_t[16] s__40008d7e;
u8_temp_5/8-40c[4] s_@p_4000919a;
u8_rspeed_10rpm[4] s_nnn_4000919e;
u8_factor_1/255[4] s__40009f9a;
uint8_t[4] s__40009f9e;
uint8_t[6] CAL_injtip_in_adj_gears;
undefined2 injtip_engine_speed_unknown1;
u8_speed_kph CAL_injtip_carspeed_unknown1;
uint32_t decel_enleanment???;
uint32_t accel_enrichment???;
bool inj_tip_apply_adj;
uint8_t inj_tps_ips_flag1;
u16_rspeed_rpm injtip_engine_speed_unknown2;
u16_rspeed_rpm dfco_enable_engine_speed;
u8_rspeed_10rpm[4] CAL_injtip_dfco_ips_unknown1;
u8_temp_5/8-40c[4] CAL_injtip_dfco_ips_unknown1_X_coolant_temp;
u8_rspeed_10rpm[4] CAL_injtip_dfco_manual_unknown1;
u8_temp_5/8-40c[4] CAL_injtip_dfco_manual_unknown1_X_coolant_temp;
uint8_t[16] CAL_injtip_comp_rpm1;
u8_rspeed_125/4+500rpm[16] CAL_injtip_comp_rpm1_X_engine_speed;
u16_time_5ms CAL_injtip_overrun_hysteresis_timer;
u8_factor_1/64[16] CAL_injtip_comp_temp1;
u8_temp_5/8-40c[16] CAL_injtip_comp_temp1_X_coolant;
u8_factor_1/1023 CAL_injtip_dfco_ips_min_accel_pedal;
uint8_t[16] CAL_injtip_comp_load1;
u8_load_4mg/stroke[16] CAL_injtip_comp_load1_X_load;
u16_time_5ms CAL_injtip_overrun_inhibit_timer;
undefined1 injtip_comp_positive_rpm;
undefined1 injtip_comp_positive_temp;
undefined1 injtip_comp_positive_load;
uint8_t CAL_injtip_comp_base;
uint8_t[16] CAL_injtip_comp_step1;
u8_rspeed_125/4+500rpm[16] CAL_injtip_comp_step1_X_rpm;
u8_temp_5/8-40c CAL_injtip_dfco_enable_temp;
uint8_t CAL_injtip_in_adj_gears_6;
u8_factor_1/1023 CAL_injtip_dfco_enable_accel_pedal;
u8_rspeed_50rpm[4] CAL_injtip_dfco_enable_rpm_ips_firstgear;
u8_temp_5/8-40c[4] CAL_injtip_dfco_enable_rpm_ips_firstgear_X_coolant;
u8_temp_5/8-40c[4] CAL_injtip_dfco_enable_rpm_ips_default_X_coolant;
u8_rspeed_10rpm[4] CAL_injtip_dfco_enable_rpm_ips_default;
u8_rspeed_10rpm[4] CAL_injtip_dfco_enable_rpm_manual_default;
u16_factor_1/1023 tps_inj_tipin_rate2?;
u8_temp_5/8-40c[4] CAL_injtip_dfco_enable_rpm_manual_default_X_coolant;
undefined1 injtip_comp_negative_load;
undefined1 injtip_comp_negative_rpm;
undefined1 injtip_comp_negative_temp;
uint8_t[16] CAL_injtip_comp_negative_rpm;
u8_rspeed_125/4+500rpm[16] CAL_injtip_comp_negative_rpm_X_rpm;
u8_factor_1/64[16] CAL_injtip_comp_negative_temp;
u8_temp_5/8-40c[16] CAL_injtip_comp_negative_temp_X_coolant_temp;
uint8_t[16] CAL_injtip_comp_negative_load;
u8_load_4mg/stroke[16] CAL_injtip_comp_negative_load_X_load;
u8_factor_1/1023[16] CAL_injtip_step_unknown;
u8_rspeed_125/4+500rpm[16] CAL_injtip_step_unknown_X_rpm;
u8_speed_kph CAL_injtip_dfco_enable_speed;
u8_factor_1/255 CAL_injtip_accel_pedal_min_unknown;
int8_t inj_tip_in_adj_gear_current;
char DAT_40001ce7;
byte DAT_40001ce1;
char DAT_40001ce8;
ushort[24] USHORT_ARRAY_40004f20;
byte DAT_4000ccae;
short DAT_40001ce2;
short DAT_40001ce4;
byte DAT_40001ce6;
uint8_t[8] s__40008fba;
u8_temp_5/8-40c[8] s_08@PX`h_40008fc2;
uint8_t[64] s_<<<FPd_<<<FPd_<<<FPd_]]]]]x_tttt_40008fca;
uint8_t[8] s__4000900a;
u8_temp_5/8-40c[8] s_08@PX`h_40009012;
uint8_t[64] s_4_>_J_Z_e_"(-<Z_2<FZx_d}_4000901a;
undefined DAT_40009a5a;
undefined DAT_40009a62;
undefined DAT_40009a6a;
undefined DAT_40009a72;
uint8_t[8] s__4000c44a;
u8_temp_5/8-40c[8] s_08@PX`h_4000c452;
uint8_t[64] s__4000c45a;
u32_load_mg/stroke load_computed_alphaN;
ushort DAT_40001d50;
undefined2 DAT_40001d12;
u8_factor_1/255 u8_factor_1/255_40001d47;
char DAT_4000caa3;
ushort DAT_400018e4;
undefined2 DAT_40001d00;
undefined2 DAT_40001d02;
u32_load_mg/stroke load_alphaN_expected;
undefined4 DAT_40001d58;
ushort DAT_40001d40;
undefined2 DAT_40001d14;
short DAT_40001d3a;
u16_flow_10mg/s maf_flow_2;
int DAT_40001d34;
u16_flow_10mg/s maf_flow_difference;
ushort DAT_4000230e;
ushort DAT_40002310;
undefined1 DAT_40001d49;
short DAT_40001d1e;
undefined1 DAT_40001d4a;
short DAT_40001d3c;
u16_pressure_mbar vacuum_mbar;
u16_factor_1/255 u16_factor_1/255_400087f4;
u16_factor_1/255 u16_factor_1/255_40008822;
char DAT_40008698;
u16_rspeed_rpm u16_rspeed_rpm_400087f2;
undefined1 DAT_40001d4f;
u8_load_4mg/stroke DAT_40001d54;
u8_rspeed_125/4+500rpm[16] s_#0=JVcp}_40009db2;
u8_factor_1/255[16] s__40009dc2;
u8_load_4mg/stroke[400] CAL_load_alphaN_base;
u8_factor_1/255[20] CAL_load_alphaN_base_Y_tps;
undefined1 load_unused1;
u8_factor_1/255[400] LEA_load_alphaN_adj;
u8_factor_1/255[20] LEA_load_alphaN_adj_Y_tps;
u16_load_mg/stroke load_from_torque_adjusted;
uint8_t[16] CAL_load_alphaN_seed;
u8_factor_1/255[16] CAL_load_alphaN_seed_X_tps;
u8_load_1173mg/255stroke load_zero;
u16_load_mg/stroke load_maf_vs_alphaN_difference;
u16_factor_1/255 obd_ii_load_abs;
u16_flow_100mg/s exhaust_air_mass???;
uint8_t CAL_sensor_manifold_temp_sensor_present;
u8_factor_1/100[400] LEA_torque_torque_to_tps_scaling;
u8_load_1173mg/255stroke[20] LEA_torque_torque_to_tps_scaling_Y_load;
u8_factor_1/255[400] CAL_load_to_tps_max;
u8_load_1173mg/255stroke[20] CAL_load_to_tps_max_Y_load;
uint16_t manifold_pressure_ratio_mbar;
u16_flow_50mg/s[2] exhaust_flow_per_bank;
uint16_t[256] CAL_load_cylinder_efficiency;
u16_rspeed_1/4rpm[16] CAL_load_cylinder_efficiency_X_engine_speed;
u16_pressure_mbar[16] CAL_load_cylinder_efficiency_Y_map;
undefined2 load_cylinder_efficiency;
u8_factor_1/255[16] CAL_knock_inhibit_tps_max;
u8_rspeed_125/4+500rpm[16] CAL_knock_inhibit_tps_max_X_rpm;
uint8_t[16] CAL_load_unused1;
u8_factor_1/255[16] CAL_load_tps_max;
u8_rspeed_125/4+500rpm[16] CAL_load_unused1_X_rpm;
u8_rspeed_125/4+500rpm[16] CAL_load_tps_max_X_rpm;
u8_factor_1/255 load_tps_max;
u16_load_1173mg/255stroke load_alphaN_calc;
u8_factor_1/100[256] CAL_load_efficiency1_unknown;
u8_factor_1/255 obd_ii_calc_engine_load;
u8_rspeed_125/4+500rpm[16] CAL_load_efficiency1_unknown_X_rpm;
u8_load_4mg/stroke[16] CAL_load_efficiency1_unknown_Y_load;
undefined2 load_efficiency1_unknown;
uint8_t[256] CAL_load_baro_gain;
u8_rspeed_125/4+500rpm[16] CAL_load_baro_gain_X_rpm;
u8_load_4mg/stroke[16] CAL_load_baro_gain_Y_load;
undefined2 load_baro_gain;
u8_load_4mg/stroke[16] CAL_load_reference_charge;
u8_rspeed_125/4+500rpm[16] CAL_load_reference_charge_X_rpm;
u32_load_mg/stroke load_computed_map;
bool CAL_ecu_load_use_tmap;
u16_mass_mg CAL_ecu_2gr_cylinder_air_mass_mg_obd_ii;
u16_volume_cc CAL_load_cylinder_volume;
u16_mass_mg CAL_ecu_2gr_cylinder_air_mass_mg;
undefined2 learned_load_alphaN_from_rpm_tps;
uint16_t obd_ii_monitor_status_this_drive_cycle;
byte DAT_4000ca48;
ushort DAT_4000ca4a;
short DAT_4000ca20;
byte DAT_40001d78;
byte DAT_40001d7c;
byte DAT_40001d74;
byte DAT_4000ca49;
byte DAT_40001d68;
byte DAT_4000d3f6;
short DAT_40004b7c;
byte DAT_40001d69;
byte DAT_4000d3f7;
short DAT_40004b7e;
short DAT_40001d80;
byte DAT_4000ca70;
short DAT_40001d88;
byte DAT_40001d7d;
byte DAT_40001d75;
byte DAT_40001d79;
byte DAT_40001d6d;
byte DAT_4000d3aa;
short DAT_40004b86;
byte DAT_40001d6c;
byte DAT_4000d3a6;
short DAT_40004b84;
short DAT_40001d82;
short DAT_40001d8a;
byte DAT_40001d7a;
byte DAT_40001d7e;
byte DAT_40001d76;
byte DAT_40001d6a;
byte DAT_4000d42e;
short DAT_40004b80;
byte DAT_40001d6b;
u16_time_5ms vvt_start_time;
byte DAT_4000d42f;
short DAT_40004b82;
short DAT_40001d84;
short DAT_40001d8c;
byte DAT_40001d7f;
byte DAT_40001d77;
byte DAT_40001d7b;
byte DAT_40001d6f;
byte DAT_4000d3b2;
short DAT_40004b8a;
byte DAT_40001d6e;
byte DAT_4000d3ae;
short DAT_40004b88;
short DAT_40001d86;
short DAT_40001d8e;
char DAT_400025e7;
byte DAT_40001d70;
byte DAT_4000d41b;
char DAT_400025e5;
byte DAT_40001d71;
byte DAT_4000d437;
char DAT_400025e6;
byte DAT_40001d72;
byte DAT_4000d438;
char DAT_400025e4;
byte DAT_40001d73;
byte DAT_4000d439;
char DAT_40001e79;
char DAT_40001e7a;
char DAT_40001e7b;
char DAT_40001e7c;
u16_angle_1/4deg obd_ii_vvt_inlet_angle_error_bank1;
u16_angle_1/4deg obd_ii_vvt_inlet_angle_error_bank2;
u16_angle_1/4deg obd_ii_vvt_exhaust_error_bank1;
u16_angle_1/4deg obd_ii_vvt_exhaust_error_bank2;
u8_obd2level_t6 CAL_obd_ii_P0011;
u8_obd2level_t6 CAL_obd_ii_P0012;
u8_obd2level_t6 CAL_obd_ii_P0021;
u8_obd2level_t6 CAL_obd_ii_P0022;
u8_obd2level_t6 CAL_obd_ii_P0014;
u8_obd2level_t6 CAL_obd_ii_P0015;
u8_obd2level_t6 CAL_obd_ii_P0024;
u8_obd2level_t6 CAL_obd_ii_P0025;
u8_obd2level_t6 CAL_obd_ii_P0016;
u8_obd2level_t6 CAL_obd_ii_P0017;
u8_obd2level_t6 CAL_obd_ii_P0018;
u8_obd2level_t6 CAL_obd_ii_P0019;
undefined1 DAT_40001d74;
undefined1 DAT_40001d75;
undefined1 DAT_40001d76;
undefined1 DAT_40001d77;
undefined1 DAT_40001d78;
undefined1 DAT_40001d79;
undefined1 DAT_40001d7a;
undefined1 DAT_40001d7b;
undefined1 DAT_40001d7c;
undefined1 DAT_40001d7d;
undefined1 DAT_40001d7e;
undefined1 DAT_40001d7f;
undefined1 DAT_4000d3f6;
undefined1 DAT_40001d68;
undefined1 DAT_4000d3f7;
undefined1 DAT_40001d69;
undefined1 DAT_4000d42e;
undefined1 DAT_40001d6a;
undefined1 DAT_4000d42f;
undefined1 DAT_40001d6b;
undefined1 DAT_4000d3a6;
undefined1 DAT_40001d6c;
undefined1 DAT_4000d3aa;
undefined1 DAT_40001d6d;
undefined1 DAT_4000d3ae;
undefined1 DAT_40001d6e;
undefined1 DAT_4000d3b2;
undefined1 DAT_40001d6f;
undefined1 DAT_4000d41b;
undefined1 DAT_40001d70;
undefined1 DAT_4000d437;
undefined1 DAT_40001d71;
undefined1 DAT_4000d438;
undefined1 DAT_40001d72;
undefined1 DAT_4000d439;
undefined1 DAT_40001d73;
byte DAT_40001d92;
ushort DAT_40001dbc;
uint8_t *DAT_40001da4;
uint8_t *DAT_40001da8;
uint8_t *DAT_40001dac;
uint8_t *DAT_40001db0;
ushort DAT_40001e90;
u8_temp_5/8-40c u8_temp_5/8-40c_4000c9f4;
u8_speed_kph u8_speed_kph_4000c9ff;
u8_speed_kph u8_speed_kph_4000c9fe;
u16_flow_10mg/s u16_flow_10mg/s_4000c9f6;
u16_flow_10mg/s u16_flow_10mg/s_4000c9f8;
short DAT_40001d9e;
short DAT_40001da0;
u8_temp_5/8-40c u8_temp_5/8-40c_4000c9f5;
u16_pressure_mbar u16_pressure_mbar_4000c9f2;
ushort DAT_40001dc2;
short DAT_4000ca18;
short DAT_4000ca16;
int DAT_40001db8;
short DAT_4000ca1c;
short DAT_4000ca1a;
ushort DAT_40001e92;
ushort DAT_40001dc0;
int DAT_40001db4;
ushort DAT_40001d94;
ushort DAT_40001d98;
ushort DAT_40004b30;
ushort DAT_4000ca1e;
byte DAT_40001d90;
byte DAT_4000d3ed;
ushort DAT_40001d96;
ushort DAT_40001d9a;
ushort DAT_40004b3e;
byte DAT_40001d91;
byte DAT_4000d3f2;
undefined1 DAT_40004a51;
undefined1 DAT_40004a61;
undefined1 DAT_40004a71;
undefined1 DAT_40004a81;
u8_temp_5/8-40c[8] s_0@`_4000dee0;
uint8_t[8] s_}}}_4000dee8;
undefined2 maf_comp_unknown;
uint16_t obd_ii_o2_precat_sw_bank2;
undefined2 maf_comp1_learned;
undefined2 maf_comp2_learned;
u8_obd2level_t6 CAL_obd_ii_P0420;
u8_obd2level_t6 CAL_obd_ii_P0430;
char DAT_40001d9c;
char DAT_4000c9fb;
byte DAT_4000872e;
short DAT_40008730;
uint8_t CAL_obd_ii_postcat_o2_voltage_scaling_unknown;
undefined1 DAT_4000d3ed;
undefined1 DAT_40001d90;
undefined1 DAT_4000d3f2;
undefined1 DAT_40001d91;
undefined PTR_DAT_000d5610;
undefined2 DAT_000d561c;
undefined2 DAT_000d561e;
undefined2 DAT_000d5620;
undefined2 DAT_000d5622;
undefined2 DAT_000d5624;
undefined1 DAT_000d562d;
undefined1 DAT_000d562e;
undefined1 DAT_000d562f;
bool oil_pressure_low_pressure_event_detected;
undefined1 oil_pressure_low_event_count_unknown;
undefined PTR_DAT_000d5630;
undefined1 DAT_000d5639;
undefined1 DAT_000d563a;
undefined1 DAT_000d563b;
undefined1 DAT_000d563c;
undefined2 DAT_000d5648;
undefined2 DAT_000d564a;
undefined2 DAT_000d564c;
undefined1 flexcan_timer_???;
undefined2 DAT_000d564e;
undefined2 DAT_000d5650;
byte DAT_40001788;
char DAT_40001638;
u16_rspeed_rpm DAT_40001dd6;
byte DAT_40001dd8;
u16_rspeed_rpm u16_rspeed_rpm_400087aa;
byte DAT_40001dd9;
ushort DAT_400088bc;
short DAT_40001dde;
u8_speed_kph DAT_4000421d;
byte DAT_40001ddd;
i16_accel_1/10g i16_accel_1/10g_40001de0;
undefined1 DAT_40001dd0;
undefined DAT_ee6b2800;
u16_factor_1/1023 CAL_vehicle_standing_start_throttle_threshold;
undefined1 standing_start_flags;
undefined1 standing_start_timer;
u16_accel_1/10g[4] lat_accel_range_config;
u8_temp_5/8-40c[5] coolant_temp_range_config;
u8_speed_kph[5] car_speed_range_config;
u16_rspeed_rpm[4] engine_speed_range_config;
u8_factor_1/255[8] tps_range_config;
undefined2 flexcan_flags_unknown;
char DAT_400086d6;
short DAT_40001dfc;
byte DAT_40001dec;
char DAT_40001def;
undefined1 DAT_40001df5;
short DAT_40001e0a;
short DAT_40001e0c;
u8_speed_kph u8_speed_kph_4000cba7;
u16_rspeed_rpm u16_rspeed_rpm_40001f2c;
short DAT_40001e08;
u8_speed_kph u8_speed_kph_4000cbb1;
u16_rspeed_rpm u16_rspeed_rpm_4000cbae;
short DAT_4000cba8;
undefined1 DAT_40001df8;
byte DAT_40001dfe;
uint8_t CAL_obd_ii_standards_supported;
byte DAT_40001dff;
uint16_t DAT_40001e0e;
undefined2 DAT_40001df0;
byte DAT_40001e02;
uint16_t DAT_40001e12;
undefined2 DAT_40001e18;
byte DAT_40001e00;
uint16_t DAT_40001e10;
undefined2 DAT_40001e16;
byte DAT_40001e01;
uint16_t DAT_40001e14;
undefined2 DAT_40001df2;
ushort DAT_40001e04;
uint8_t CAL_obd_ii_diag_unknown;
string s__40001648;
uint16_t[8] obd_ii_dtc_perm;
string s__40001650;
string s__40001658;
string s__40001660;
uint8_t[2] CAL_obd_ii_coolant_warmup_thresholds;
undefined1 obd_ii_warmup_completed;
uint8_t obd_ii_stft_bank1;
uint8_t obd_ii_ltft_bank1;
uint8_t obd_ii_stft_bank2;
uint8_t obd_ii_ltft_bank2;
uint16_t[128] obd_ii_dtc_pending;
uint16_t[128] obd_ii_dtc_current;
u8_temp_-40c obd_ii_engine_coolant_temp;
uint16_t[128] obd_ii_dtc_unknown;
ushort DAT_4000c9ca;
byte DAT_4000c9c8;
char DAT_40001df5;
byte DAT_40001de8;
undefined2 DAT_4000c9cc;
byte DAT_40001e28;
uint DAT_40001e24;
byte DAT_40004a8e;
byte DAT_40008699;
u8_count obd_ii_monitors_completed_this_drive_cycle;
ushort DAT_40004ae8;
int16_t DAT_40004aee;
int16_t DAT_40004af0;
int16_t DAT_40004af2;
int16_t DAT_40004af4;
u8_factor_1/255 obd_ii_commanded_evap_purge;
u16_factor_1/1023 accelerator_pedal_pos_e;
u16_factor_1/1023 accelerator_pedal_pos_d;
char DAT_40001df9;
char DAT_40004b18;
byte DAT_4000c9c6;
char DAT_40004ae6;
undefined1 DAT_40001dfb;
byte DAT_4000c9c7;
byte DAT_40004b18;
byte DAT_4000ca12;
char DAT_40001dfb;
char DAT_40001df8;
undefined1 DAT_40001e1c;
undefined DAT_00004e20;
undefined DAT_00007530;
undefined2 DAT_4000cba8;
undefined2 DAT_40001e08;
undefined2 DAT_4000cbaa;
undefined2 DAT_40001e0a;
undefined2 DAT_4000cbac;
undefined2 DAT_40001e0c;
undefined1 DAT_40001e30;
undefined1 DAT_40004f68;
undefined1 DAT_40004f69;
undefined2 DAT_40004f6a;
undefined2 DAT_40004f6c;
undefined2 DAT_40004f6e;
undefined2 DAT_40004f70;
undefined1 DAT_400050c4;
undefined2 DAT_40004f9a;
undefined2 DAT_40004f9c;
undefined2 DAT_40004fa6;
undefined2 DAT_40004fa8;
undefined2 DAT_40004fca;
undefined2 DAT_40004fcc;
undefined2 DAT_40004f76;
undefined2 DAT_40004f78;
undefined2 DAT_40004f82;
undefined2 DAT_40004f84;
undefined2 DAT_40004f8e;
undefined2 DAT_40004f90;
undefined2 DAT_4000504e;
undefined2 DAT_4000505a;
undefined2 DAT_40005066;
undefined2 DAT_40005072;
undefined2 DAT_40004fee;
undefined2 DAT_40004ff0;
byte DAT_4000d3fe;
ushort DAT_40005096;
undefined2 DAT_40005098;
byte DAT_4000d432;
ushort DAT_400050a2;
undefined2 DAT_400050a4;
byte DAT_4000d401;
ushort DAT_400050ae;
undefined2 DAT_400050b0;
byte DAT_4000d436;
ushort DAT_400050ba;
undefined2 DAT_400050bc;
undefined1 latch_counter_p2119;
char DAT_400023d1;
u8_load_2mg/stroke[64] CAL_load_plausibility_test_delta;
char DAT_400023d2;
u8_rspeed_125/4+500rpm[8] CAL_load_plausibility_test_delta_X_rpm;
char DAT_400023e4;
u8_factor_1/255[8] CAL_load_plausibility_test_delta_Y_tps;
char DAT_400023e5;
ushort DAT_40001e4c;
u16_load_mg/stroke tps_monitor_plausibility_delta;
ushort DAT_4000ca88;
byte DAT_40001e3e;
u32_load_mg/stroke load_delta_maf;
byte DAT_4000d41c;
undefined1 DAT_40001e41;
u32_load_mg/stroke load_delta_map;
undefined1 DAT_40001e50;
byte DAT_400050ea;
byte DAT_40001f20;
undefined1 DAT_40001e40;
undefined1 DAT_40001e42;
byte DAT_400050eb;
short DAT_40001e4e;
short DAT_400023e8;
byte DAT_40001e44;
undefined1 DAT_40001e49;
byte DAT_4000d420;
char DAT_400026bc;
char DAT_400026c3;
char DAT_400026b8;
undefined1 DAT_40001e43;
char DAT_40001e45;
char DAT_40001e46;
char DAT_40001e47;
char DAT_40001e48;
byte DAT_40002900;
char DAT_400081b9;
ushort DAT_40001e52;
ushort DAT_40004a46;
char DAT_40004a44;
char DAT_40001e3c;
u8_obd2level_t6 CAL_obd_ii_P0123;
u8_obd2level_t6 CAL_obd_ii_P0122;
u8_obd2level_t6 CAL_obd_ii_P0223;
u8_obd2level_t6 CAL_obd_ii_P0222;
u8_obd2level_t6 CAL_obd_ii_P1106;
u8_obd2level_t6 CAL_obd_ii_P2119;
u8_obd2level_t6 CAL_obd_ii_P2173;
u8_obd2level_t6 CAL_obd_ii_P2135;
u8_obd2level_t6 CAL_obd_ii_P2104;
u8_obd2level_t6 CAL_obd_ii_P1104;
u8_obd2level_t6 CAL_obd_ii_P2105;
u8_obd2level_t6 CAL_obd_ii_P2106;
u8_obd2level_t6 CAL_obd_ii_P2107;
u8_obd2level_t6 CAL_obd_ii_P2100;
u8_obd2level_t6 CAL_obd_ii_P2102;
u8_obd2level_t6 CAL_obd_ii_P2103;
u8_obd2level_t6 CAL_obd_ii_P2108;
undefined1 obd_ii_tps_1_2_correlation;
undefined1 obd_ii_throttle_body_range_perf;
undefined1 obd_ii_throttle_limp_mode_conditions;
undefined1 latch_counter_p2135;
undefined1 latch_counter_p0122;
undefined1 latch_counter_p0123;
undefined1 latch_counter_p0222;
undefined1 latch_counter_p0223;
uint16_t uint16_t_40001668;
byte DAT_4000cc4e;
short DAT_4000cc50;
byte DAT_4000cc4f;
short DAT_4000cc52;
short DAT_40001e60;
byte DAT_4000cc54;
byte DAT_4000cc57;
byte DAT_4000cc55;
byte DAT_4000cc56;
short DAT_40001e62;
ushort DAT_4000cc5c;
byte DAT_4000cc5e;
byte DAT_40001e64;
ushort DAT_4000ca86;
ushort DAT_4000cc58;
ushort DAT_40001e4a;
ushort DAT_4000cc5a;
byte DAT_40001e3c;
byte DAT_4000d3f1;
u8_obd2level_t6 CAL_obd_ii_P0638;
undefined1 DAT_4000d3b4;
undefined1 DAT_4000d3b5;
undefined1 DAT_4000d3ee;
undefined1 DAT_4000d3ef;
undefined1 DAT_4000d3f1;
undefined1 DAT_40001e3c;
undefined2 DAT_40001e4a;
undefined1 DAT_4000d3e6;
undefined1 DAT_4000d418;
undefined1 DAT_4000d41c;
undefined1 DAT_40001e3e;
undefined1 DAT_4000d3f0;
undefined1 DAT_4000d41d;
undefined1 DAT_4000d404;
undefined1 DAT_4000d41e;
undefined1 DAT_4000d41f;
undefined1 DAT_4000d420;
undefined1 DAT_40001e44;
undefined1 DAT_4000d421;
undefined1 DAT_40001e45;
undefined1 DAT_4000d422;
undefined1 DAT_40001e46;
undefined1 DAT_4000d423;
undefined1 DAT_40001e47;
undefined1 DAT_4000d424;
undefined1 DAT_40001e48;
byte DAT_4000c9e2;
byte DAT_4000c9e3;
char DAT_40001e75;
u16_factor_1/255 CAL_evap_commanded_purge_unknown;
uint16_t evap_status_flags;
char DAT_4000c9e4;
uint32_t flags_unknown;
short DAT_40002322;
short DAT_4000cb00;
short DAT_4000caf6;
u8_time_100ms DAT_4000cafc;
u8_time_100ms u8_time_100ms_40001e71;
char DAT_40001e73;
char DAT_40001e72;
uint16_t DAT_40002548;
short DAT_4000caf8;
short DAT_4000cafa;
short DAT_4000cb08;
uint16_t DAT_40001e6a;
u8_time_100ms DAT_4000cafd;
u8_time_100ms u8_time_100ms_40001e6f;
byte DAT_40001e70;
undefined1 DAT_4000caff;
uint16_t DAT_40001e6c;
undefined1 DAT_4000cafe;
uint16_t DAT_40001ff0;
uint16_t DAT_40004c04;
undefined2 DAT_40001ff4;
undefined2 DAT_40001ffe;
char DAT_40002320;
u8_time_100ms u8_time_100ms_40001e74;
byte DAT_40001e6e;
byte DAT_4000d416;
uint8_t uint8_t_ARRAY_c3f906c3;
u8_obd2level_t6 CAL_obd_ii_P0441;
u8_obd2level_t6 CAL_obd_ii_P0446;
undefined1 evap_canister_close_command;
undefined1 obd_ii_system_leak_status;
undefined1 DAT_4000c9e4;
undefined1 DAT_40001e75;
undefined1 DAT_4000d416;
undefined1 DAT_40001e6e;
u8_speed_kph u8_speed_kph_40001e84;
u8_rspeed_125/4+500rpm u8_rspeed_125/4+500rpm_4000ca3f;
u8_rspeed_125/4+500rpm u8_rspeed_125/4+500rpm_4000ca9a;
short DAT_4000ca38;
short DAT_40001e80;
byte DAT_4000ca3c;
ushort DAT_40001e82;
byte DAT_4000c9d9;
char DAT_400029e4;
byte DAT_40001e7d;
byte DAT_4000d407;
byte DAT_40001896;
byte DAT_4000ca3d;
byte DAT_40001892;
byte DAT_40001893;
byte DAT_40001894;
byte DAT_40001895;
byte DAT_40001e78;
byte DAT_4000d405;
byte DAT_40001888;
char DAT_4000189e;
byte DAT_40001e79;
byte DAT_4000d43f;
byte DAT_40001e7a;
byte DAT_4000d440;
byte DAT_40001e7b;
byte DAT_4000d441;
byte DAT_40001e7c;
byte DAT_4000d442;
u8_obd2level_t6 CAL_obd_ii_P0335;
u8_obd2level_t6 CAL_obd_ii_P0500;
u8_obd2level_t6 CAL_obd_ii_P0341;
u8_obd2level_t6 CAL_obd_ii_P0346;
u8_obd2level_t6 CAL_obd_ii_P0366;
u8_obd2level_t6 CAL_obd_ii_P0391;
undefined1 car_speed_flags_unknown;
undefined1 DAT_4000d405;
undefined1 DAT_40001e78;
undefined1 DAT_4000d407;
undefined1 DAT_40001e7d;
undefined1 DAT_4000d43f;
undefined1 DAT_40001e79;
undefined1 DAT_4000d440;
undefined1 DAT_40001e7a;
undefined1 DAT_4000d441;
undefined1 DAT_40001e7b;
undefined1 DAT_4000d442;
undefined1 DAT_40001e7c;
undefined2 DAT_4000ca38;
undefined2 DAT_40001e80;
ushort DAT_40008846;
ushort DAT_40001eaa;
ushort DAT_40008848;
ushort DAT_40001eac;
ushort DAT_4000884a;
ushort DAT_40001eae;
ushort DAT_4000884c;
ushort DAT_40001eb0;
byte DAT_400086c7;
undefined1 DAT_40001670;
byte DAT_4000cb84;
short DAT_40001ed2;
undefined1 DAT_400087da;
byte DAT_40008874;
byte DAT_40008887;
undefined2 DAT_40008850;
undefined2 DAT_40001ec8;
undefined2 DAT_4000884e;
undefined2 DAT_40001eca;
undefined2 DAT_40001eb6;
int16_t int16_t_40001eb4;
ushort DAT_4000879e;
ushort DAT_400087a0;
byte DAT_4000cb88;
byte DAT_4000cb89;
char DAT_40001ecf;
undefined BYTE_ARRAY_400015c8;
short DAT_40001ed0;
char DAT_40001ede;
char DAT_40008818;
short DAT_4000cb82;
short DAT_40001eba;
char DAT_40001edf;
short DAT_40001ebe;
undefined DAT_400094ba;
undefined DAT_400094c2;
undefined DAT_400094ca;
undefined DAT_4000950a;
undefined DAT_40009512;
undefined DAT_4000951a;
undefined DAT_4000955a;
undefined DAT_40009562;
undefined DAT_4000956a;
undefined DAT_400095aa;
undefined DAT_400095b2;
undefined DAT_400095ba;
undefined DAT_4000aa22;
undefined DAT_4000aa2a;
u16_time_5ms CAL_inj_closedloop_activate_timer_o2_check;
u16_time_5ms closedloop_activate_time;
u8_time_s[16] CAL_inj_closedloop_activate_engine_timer;
u8_time_hours CAL_inj_closedloop_engine_run_learn_timer_unknown;
u8_rspeed_125/4+500rpm u8_rspeed_125/4+500rpm_400086da;
ushort DAT_40001ec8;
short DAT_40001eca;
short DAT_40001eb6;
short DAT_40001ed4;
byte DAT_40001670;
ushort DAT_40001eb8;
undefined2 DAT_40001ed2;
undefined2 DAT_40001eba;
ushort DAT_400021d4;
short DAT_40001eac;
short DAT_40001eb0;
byte DAT_4000cb86;
byte DAT_400087db;
short DAT_40001eaa;
short DAT_40001eae;
byte DAT_4000cb85;
byte DAT_400087c9;
ushort DAT_40008808;
short DAT_40001ed6;
ushort DAT_40001ebc;
undefined2 DAT_40001ebe;
ushort DAT_400021d2;
char DAT_400086c5;
byte DAT_4000cb87;
ushort DAT_40001ed0;
byte DAT_40008761;
uint8_t[8] s_&>^}_4000affa;
uint8_t[8] s__4000b002;
u16_flow_10mg/s u16_flow_10mg/s_4000882a;
undefined1 DAT_40001ece;
u16_flow_10mg/s u16_flow_10mg/s_40008830;
u16_flow_10mg/s u16_flow_10mg/s_4000882e;
ushort DAT_40008836;
byte DAT_40008890;
byte DAT_4000888f;
byte DAT_400087dc;
byte DAT_4000883a;
ushort DAT_400087fc;
byte DAT_400087dd;
ushort DAT_4000897a;
u16_rspeed_rpm u16_rspeed_rpm_4000882c;
ushort DAT_4000885a;
byte DAT_4000880a;
byte DAT_4000880b;
byte DAT_400087a9;
char DAT_4000883b;
char DAT_4000cb59;
char DAT_40001ecc;
char DAT_40001ed8;
short DAT_40001e94;
ushort DAT_4000883c;
undefined1 vvt_bank_inhibit_flags;
byte DAT_40008840;
ushort DAT_4000883e;
byte DAT_40008841;
u16_load_mg/stroke u16_load_mg/stroke_40008834;
u16_load_mg/stroke u16_load_mg/stroke_40008832;
char DAT_4000cb5a;
char DAT_40001ed9;
byte DAT_40008842;
byte DAT_40008843;
ushort DAT_40008838;
char DAT_4000cb5b;
char DAT_40001eda;
byte DAT_40008844;
byte DAT_40008845;
char DAT_40001ecd;
char DAT_40001edb;
short DAT_40001e96;
char DAT_40001edc;
char DAT_40001edd;
ushort DAT_40001ea2;
ushort DAT_40001e9e;
ushort DAT_40001ea6;
ushort DAT_40001ea4;
ushort DAT_40001ea0;
ushort DAT_40001ea8;
byte DAT_40001ee6;
ushort DAT_4000cac2;
ushort DAT_4000cac0;
uint DAT_40001ec0;
byte DAT_400086f7;
uint DAT_40001ec4;
uint8_t CAL_fuel_learn_time_step;
short DAT_4000ca22;
u8_time_10us u8_time_10us_4000ca56;
byte DAT_40001ee0;
byte DAT_4000d3f8;
short DAT_4000ca24;
byte DAT_4000ca57;
byte DAT_40001ee1;
byte DAT_4000d3f9;
byte DAT_40001ee2;
byte DAT_4000d430;
byte DAT_40001ee3;
byte DAT_4000d431;
byte DAT_4000cba6;
ushort DAT_4000cba2;
char DAT_4000cba5;
char DAT_40001f0b;
char DAT_40001f0d;
char DAT_4000cba4;
byte DAT_40001ee4;
byte DAT_4000d45b;
char DAT_40001f0a;
char DAT_40001f0c;
byte DAT_40001ee5;
byte DAT_4000d45c;
ushort DAT_4000cbd8;
ushort DAT_4000cbda;
byte DAT_4000cbdc;
u16_voltage_5/1023v CAL_sensor_o2_lean_voltage_threshold;
byte DAT_4000cbdd;
byte DAT_4000cbe4;
short DAT_40001ef0;
ushort DAT_4000cbde;
ushort DAT_4000cbe0;
byte DAT_40001f0f;
undefined2 DAT_40001f00;
undefined1 DAT_40001efe;
undefined1 DAT_40001eff;
byte DAT_40001f0e;
undefined2 DAT_40001ef4;
undefined1 DAT_40001ef2;
undefined1 DAT_40001ef3;
u8_obd2level_t6 CAL_obd_ii_P0171;
u8_obd2level_t6 CAL_obd_ii_P0172;
u8_obd2level_t6 CAL_obd_ii_P0174;
u8_obd2level_t6 CAL_obd_ii_P0175;
u8_obd2level_t6 CAL_obd_ii_P2191;
u8_obd2level_t6 CAL_obd_ii_P2193;
u8_obd2level_t6 CAL_obd_ii_P219A;
u8_obd2level_t6 CAL_obd_ii_P219B;
uint DAT_40002198;
byte DAT_4000cbe5;
char DAT_40001d4f;
ushort DAT_4000cbe2;
short DAT_4000cbe6;
char DAT_40001eee;
char DAT_4000cbec;
undefined1 DAT_40001f0f;
u16_voltage_5/1023v u16_voltage_5/1023v_40001f08;
undefined1 DAT_40001f0e;
u16_voltage_5/1023v u16_voltage_5/1023v_40001efc;
undefined2 DAT_40001ef6;
u16_afr_1/100 u16_afr_1/100_40001ef8;
undefined2 DAT_40001f02;
u16_afr_1/100 u16_afr_1/100_40001f04;
ushort DAT_4000cbe8;
ushort DAT_4000cbea;
char DAT_4000cbd7;
u16_afr_1/100[16] CAL_sensor_o2_afr_diag_scaling;
u16_voltage_5/1023v[16] CAL_sensor_o2_afr_diag_scaling_X_voltage;
u16_afr_1/100 afr_delta_diag;
u16_afr_1/100 afr_diag_current;
u16_afr_1/100 afr_diag_last;
undefined1 DAT_4000d3f8;
undefined1 DAT_40001ee0;
undefined1 DAT_4000d3f9;
undefined1 DAT_40001ee1;
undefined1 DAT_4000d430;
undefined1 DAT_40001ee2;
undefined1 DAT_4000d431;
undefined1 DAT_40001ee3;
undefined1 DAT_4000d45b;
undefined1 DAT_40001ee4;
undefined1 DAT_4000d45c;
undefined1 DAT_40001ee5;
undefined1 DAT_4000cba4;
undefined1 DAT_40001f0c;
undefined1 DAT_40001f0d;
undefined1 DAT_4000cba5;
undefined1 DAT_40001f0a;
undefined1 DAT_40001f0b;
undefined2 DAT_40001ea0;
undefined2 DAT_40001e9e;
undefined2 DAT_40001ea4;
undefined2 DAT_40001ea2;
undefined2 DAT_40001ea8;
undefined2 DAT_40001ea6;
undefined1 DAT_40001ee6;
u8_time_100ms DAT_400087fe;
u8_time_100ms u8_time_100ms_40002330;
undefined u16_afr_1/100_40001f04;
undefined u16_afr_1/100_40001ef8;
undefined1 DAT_40001f10;
undefined1 DAT_40001f20;
undefined1 DAT_40001f21;
undefined2 DAT_400050e8;
uint16_t siu_pcr[206];
uint8_t uint8_t_ARRAY_c3f906d1;
uint8_t uint8_t_ARRAY_c3f90616;
uint16_t siu_pcr[22];
uint16_t siu_pcr[198];
uint8_t uint8_t_ARRAY_c3f906ce;
uint16_t siu_pcr[209];
ushort DAT_400050e8;
undefined UNK_ffff25ff;
short DAT_40001f14;
short DAT_40001f12;
char DAT_400028ac;
char DAT_400028a1;
u16_rspeed_rpm u16_rspeed_rpm_40001f5c;
u8_temp_5/8-40c u8_temp_5/8-40c_40008914;
u16_rspeed_rpm u16_rspeed_rpm_40001f7e;
byte DAT_40001f81;
u16_rspeed_rpm u16_rspeed_rpm_40001f8a;
byte DAT_400087c8;
undefined u16_rspeed_rpm_ARRAY_40001f4c;
byte DAT_400087c7;
byte DAT_40008765;
byte DAT_40008764;
char DAT_40001f7a;
undefined1 DAT_40001f7b;
byte DAT_400025cc;
ushort DAT_40001f74;
uint16_t DAT_40001f68;
byte DAT_40001f6a;
u16_pressure_mbar DAT_40001f6e;
uint16_t DAT_40001f92;
u16_flow_100mg/s DAT_40001f8e;
ushort DAT_40001f42;
ushort DAT_40001f78;
ushort DAT_40001f66;
ushort DAT_40001f5e;
ushort DAT_40001f5a;
u16_rspeed_rpm DAT_40001f90;
byte DAT_4000872c;
u8_time_50ms u8_time_50ms_400088f5;
byte DAT_4000872d;
byte DAT_4000872f;
ushort DAT_40001f4a;
ushort DAT_40001f60;
ushort DAT_40001f62;
ushort DAT_40001f64;
char DAT_400088e8;
ushort DAT_40001f72;
ushort DAT_40001f76;
char DAT_40001f80;
ushort DAT_40001f46;
ushort DAT_4000894e;
ushort DAT_40001f56;
byte DAT_400087c2;
byte DAT_400087c3;
byte DAT_400087c4;
ushort DAT_40008816;
byte DAT_400086c0;
byte DAT_40008912;
byte DAT_400086c2;
uint16_t DAT_4000496c;
uint16_t DAT_40004964;
uint16_t DAT_40004970;
short DAT_40004968;
byte DAT_400086c1;
byte DAT_400086c3;
uint16_t DAT_4000496e;
uint16_t DAT_40004966;
uint16_t DAT_40004972;
short DAT_4000496a;
short DAT_40001678;
undefined DAT_400089ca;
undefined DAT_400089da;
pointer PTR_DAT_400089ea;
u8_temp_5/8-40c[16] s_0@P`p_400091e2;
undefined DAT_400091f2;
undefined DAT_400091fa;
undefined DAT_4000929a;
undefined DAT_400092aa;
undefined DAT_400092ba;
unicode u__400092ca;
undefined DAT_400093fa;
undefined DAT_40009402;
undefined DAT_4000943a;
undefined DAT_4000944a;
undefined DAT_400094a2;
undefined DAT_400094aa;
undefined DAT_40009e4a;
uint16_t[16] uint16_t_ARRAY_40009e6a;
undefined DAT_40009eda;
undefined DAT_40009eea;
u8_temp_5/8-40c[8] s_sssssx_40009f4a;
uint8_t[8] s__40009f52;
uint8_t[64] s_XXXXXdddXXXXXdddXXXXXdddXXXXXddd_40009f5a;
u16_speed_1/100kph[8] u16_speed_1/100kph_ARRAY_4000a942;
ushort[8] USHORT_ARRAY_4000a952;
u16_speed_1/100kph[8] u16_speed_1/100kph_ARRAY_4000acb2;
ushort[8] USHORT_ARRAY_4000acc2;
undefined DAT_4000bfba;
undefined DAT_4000bfda;
undefined DAT_4000c72a;
undefined DAT_4000c74a;
undefined DAT_4000c8f2;
undefined DAT_4000c8fa;
u16_flow_100mg/s obd_ii_idle_air_output;
undefined DAT_4000cd14;
undefined DAT_4000cd24;
undefined1 obd_ii_idle_status;
undefined DAT_4000cd34;
u8_temp_5/8-40c[16] s_0@P`p_4000e190;
undefined DAT_4000e1a0;
undefined DAT_4000e1a8;
u8_temp_5/8-40c[8] s_sssssx_4000e368;
uint8_t[8] s__4000e370;
uint8_t[64] s_]]]]]ddd]]]]]ddd]]]]]ddd]]]]]ddd_4000e378;
undefined2 idle_air_control_proportional_term;
int idle_air_control_integral_term;
u16_factor_1/1023 idle_tps_requested;
u16_factor_1/1023 tps_request_idle_cranking???;
u16_factor_1/1023 CAL_idle_tps_requested_max???;
uint8_t[8] CAL_idle_comp_accel_pedal_pos;
u8_factor_1/255[8] idle_comp_accel_pedal_pos_X_pps;
u8_rspeed_rpm[8] CAL_idle_comp_iat;
u8_temp_5/8-40c[8] CAL_idle_comp_iat_X_iat;
u8_rspeed_rpm idle_comp_iat;
undefined2 ac_load2_???;
u8_speed_kph CAL_idle_car_moving_threshold;
u8_speed_1/10kph CAL_idle_clutch_antistall_speed_threshold;
u8_rspeed_4rpm[8] CAL_idle_comp_carspeed_ips;
u8_speed_kph[8] CAL_idle_comp_carspeed_ips_X_carspeed;
u8_rspeed_4rpm[8] CAL_idle_comp_carspeed_manual;
u8_speed_kph[8] CAL_idle_comp_carspeed_manual_X_carspeed;
u16_angle_1/10deg steering_angle;
u8_rspeed_4+500rpm[16] CAL_idle_target_ips_coolant_fallback;
u8_rspeed_4+500rpm[16] CAL_idle_target_ips;
undefined1 idle_target_mode???;
u8_rspeed_4+500rpm[16] CAL_idle_target_manual_tour;
u8_rspeed_4+500rpm[16] CAL_idle_target_manual_sport;
u8_temp_5/8-40c[16] CAL_idle_target_manual_tour_X_coolant_temp;
u8_temp_5/8-40c[16] CAL_idle_target_manual_sport_X_coolant_temp;
u16_factor_1/1023 idle_tps_calculated;
int16_t[8] CAL_idle_comp_baro2;
u16_pressure_mbar[8] CAL_idle_comp_baro2_X_ambiant_baro;
u16_flow_100mg/s[16] CAL_idle_comp_while_moving;
u16_rspeed_rpm[16] CAL_idle_comp_while_moving_X_rpm;
int16_t[8] CAL_idle_comp_ecu_v_unknown;
u16_voltage_18/1023v[8] CAL_idle_comp_ecu_v_unknown_X_voltage;
u8_temp_5/8-40c[16] CAL_idle_target_ips_X_coolant_temp;
u8_temp_5/8-40c[16] CAL_idle_target_ips_coolant_fallback_X_coolant_temp;
undefined2 idle_comp_ecu_v_unknown;
u16_flow_100mg/s flow_offset_car_moving;
uint16_t[16] CAL_idle_error_correction_unknown_X_speed_error;
uint16_t[16] CAL_idle_error_correction_unknown;
undefined2 idle_comp_steering???;
uint8_t[4] CAL_idle_comp_steering;
uint8_t[4] CAL_idle_comp_steering_X_steering_load;
undefined2 idle_air_control_proportional_calc;
uint16_t[16] CAL_idle_air_control_proportional;
uint16_t[16] CAL_idle_air_control_proportional_X_speed_error;
uint8_t timer_above_min_carspeed;
u16_rspeed_rpm idle_comp_car_speed;
undefined2 idle_comp_timer_carspeed;
u8_temp_5/8-40c CAL_idle_coolant_fallback_temp???;
u8_rspeed_4rpm idle_comp_accel_pedal_pos;
u16_rspeed_rpm idle_speed_target_tps_compensated;
u8_factor_1/255[64] CAL_idle_comp_tps_while_cranking;
u8_pressure_4mbar[4] CAL_idle_comp_tps_while_cranking_X_baro;
u8_temp_5/8-40c[16] CAL_idle_comp_tps_while_cranking_Y_coolant_temp;
byte DAT_400088be;
byte DAT_40008858;
char DAT_40001f44;
char DAT_4000167b;
u8_time_ms idle_control_timer_10hz;
ushort DAT_40001f8e;
char DAT_40001f7b;
byte DAT_40001f83;
byte DAT_40008889;
byte DAT_400087a5;
short DAT_40001f56;
char DAT_40001f82;
char DAT_40008733;
u8_rspeed_rpm u8_rspeed_rpm_40008767;
u8_rspeed_rpm u8_rspeed_rpm_40001f84;
char DAT_400087ef;
u8_rspeed_rpm u8_rspeed_rpm_4000880c;
byte DAT_400087a4;
undefined DAT_40008d04;
undefined DAT_40008d09;
u8_speed_kph CAL_idle_low_car_speed_enter;
u8_speed_kph CAL_idle_low_car_speed_exit;
ushort DAT_4000ca42;
ushort DAT_4000ca40;
byte DAT_4000ca5c;
byte DAT_4000ca45;
byte DAT_4000ca68;
byte DAT_4000ca44;
byte DAT_4000ca67;
byte DAT_40001f9d;
byte DAT_4000ca46;
byte DAT_40001f9a;
byte DAT_4000d451;
byte DAT_40001f9b;
byte DAT_40001f98;
byte DAT_4000d408;
byte DAT_40001f9c;
byte DAT_40001f99;
byte DAT_4000d409;
byte DAT_40001f9e;
byte DAT_40001f9f;
u8_obd2level_t6 CAL_obd_ii_P0506;
u8_obd2level_t6 CAL_obd_ii_P0507;
u8_obd2level_t6 CAL_obd_ii_P050A;
undefined1 DAT_4000d408;
undefined1 DAT_40001f98;
undefined1 DAT_4000d409;
undefined1 DAT_40001f99;
undefined1 DAT_4000d451;
undefined1 DAT_40001f9a;
char DAT_40001fd3;
char DAT_40001fd2;
uint8_t uint8_t_ARRAY_c3f906d3;
uint8_t uint8_t_ARRAY_c3f906d4;
ushort[16] USHORT_ARRAY_40003d38;
undefined1 knock_sampling_window_offset;
u16_angle_1/10deg[6] knock_window_center_angle;
u16_angle_1/10deg[6] knock_window_offset_tdc;
u8_rspeed_125/4+500rpm[16] CAL_knock_sampling_window_X_rpm;
u8_load_4mg/stroke[16] CAL_knock_sampling_window_Y_load;
undefined1 knock_buffer_size;
u8_rspeed_125/4+500rpm[16] CAL_knock_buffer_size_X_engine_speed;
u8_load_4mg/stroke[16] CAL_knock_buffer_size_Y_load;
bool knock_sampling_active;
uint8_t[256] CAL_knock_buffer_size;
u8_factor_1/255 knock_sensitivity;
undefined1 knock_peak_threshold;
u8_factor_1/255[64] CAL_knock_sensitivity;
uint8_t[64] CAL_knock_peak_threshold;
u8_load_4mg/stroke CAL_knock_detection_load_margin_debounce;
u8_load_4mg/stroke[8] CAL_knock_detection_load_threshold;
u8_rspeed_125/4+500rpm[8] CAL_knock_detection_load_threshold_X_rpm;
u8_load_4mg/stroke[8] CAL_knock_learning_load_threshold;
u8_rspeed_125/4+500rpm[8] CAL_knock_learning_load_threshold_X_rpm;
u8_angle_1/4deg CAL_knock_corr_limit;
u8_temp_5/8-40c CAL_knock_corr_temp_threshold;
i16_angle_1/4deg ign_adv_delta_to_knock_safe;
u8_rspeed_125/4+500rpm[8] CAL_knock_sensitivity_X_engine_speed;
u8_load_4mg/stroke[8] CAL_knock_sensitivity_Y_load;
u8_rspeed_125/4+500rpm[8] CAL_knock_peak_threshold_X_engine_speed;
u8_load_4mg/stroke[8] CAL_knock_peak_threshold_Y_load;
undefined1 knock_flags;
u16_factor_1/1023 CAL_knock_inhibit_tps_rate1;
uint16_t[6] knock_octane_correction_per_cyl;
u8_angle_1/4deg CAL_knock_corr_octane_base;
u8_time_5ms knock_inhibit_timer_tps_rate;
u8_angle_1/4deg[8] CAL_knock_count_to_retard;
u8_time_5ms CAL_knock_inhibit_timer_tps_rate;
uint8_t[8] CAL_knock_count_to_retard_X_knock_count;
uint8_t[6] knock_count_per_cyl;
uint16_t octane_scaler_current_min;
uint16_t[6] octane_scaler_shortterm;
u8_rspeed_125/4+500rpm CAL_knock_detection_engine_speed_min;
u8_rspeed_125/4+500rpm CAL_knock_detection_engine_speed_max;
u8_rspeed_125/4+500rpm CAL_knock_detection_engine_speed_margin;
byte DAT_400086ef;
byte DAT_40001fce;
byte DAT_40001fd1;
byte DAT_400086e7;
ushort[12] USHORT_ARRAY_40005134;
byte[6] knock_count_snapshot;
ushort[12] USHORT_ARRAY_4000514c;
ushort[6] knock_count_snapshot_raw;
ushort[6] knock_baseline_filter_unknown_per_cyl;
bool knock_event_present;
uint8_t CAL_knock_baseline_min_clamp;
undefined1 engine_speed_div16;
undefined1 load_div16;
undefined2 knock_data_timer;
undefined2 knock_total_count_unknown;
byte[6] knock_ign_retard_unknown;
ushort[6] knock_threshold_unknown;
u8_count CAL_knock_octane_scaler_shortterm_decrement;
u8_count CAL_knock_octane_scaler_shortterm_multiplier;
u8_count CAL_knock_octane_scaler_increment;
u8_count CAL_knock_octane_scaler_decrement;
u8_time_5ms knock_ign_retard_delay_timer;
u8_angle_1/4deg CAL_knock_ign_retard_decay_rate;
undefined1 knock_ign_retard_timer_unknown2;
byte DAT_4000caf1;
short DAT_4000cb1a;
short DAT_40002004;
short DAT_40002002;
byte DAT_4000cb07;
byte DAT_4000cb06;
byte DAT_4000caef;
byte DAT_4000caf0;
char DAT_4000cb0a;
char DAT_40001ff8;
short DAT_4000cb1e;
char DAT_4000cb0b;
char DAT_40001ff9;
uint16_t DAT_40001ff2;
byte DAT_4000cb0c;
byte DAT_40001ffa;
ushort DAT_40001fec;
short DAT_40001ffe;
byte DAT_4000caf3;
ushort DAT_40002008;
byte DAT_4000200a;
uint16_t DAT_40001ff4;
short DAT_40001688;
byte DAT_4000230c;
byte DAT_40002006;
undefined1 DAT_40001fee;
short DAT_4000cb10;
short DAT_4000cb12;
short DAT_4000cb04;
uint16_t DAT_40001ff6;
char DAT_4000cb0d;
char DAT_40001ffb;
short DAT_4000cb0e;
short DAT_40001ffc;
byte DAT_40001fea;
byte DAT_40001feb;
uint16_t DAT_40001fe6;
char DAT_4000cb1c;
byte DAT_40002001;
byte DAT_4000d40b;
byte DAT_40002000;
byte DAT_4000d41a;
uint16_t DAT_40004b52;
byte DAT_40004b56;
uint16_t DAT_40004b54;
byte DAT_40004b57;
byte DAT_400020f0;
undefined2 DAT_40001e6a;
undefined2 DAT_40001e6c;
uint16_t DAT_40004c0c;
short DAT_40004c0e;
byte DAT_4000caee;
undefined DAT_4000df20;
undefined DAT_4000df30;
undefined DAT_4000df40;
undefined DAT_4000df48;
undefined DAT_4000df58;
undefined DAT_4000e0f8;
undefined DAT_4000e0fc;
undefined DAT_4000e106;
uint16_t obd_ii_eval_leak_check_result;
u8_obd2level_t6 CAL_obd_ii_P0442;
u8_obd2level_t6 CAL_obd_ii_P0455;
u8_obd2level_t6 CAL_obd_ii_P0456;
undefined1 DAT_4000d40b;
undefined1 DAT_40002001;
undefined1 DAT_4000d41a;
undefined1 DAT_40002000;
undefined1 DAT_4000cb0a;
undefined1 DAT_40001ff8;
undefined2 DAT_40002002;
undefined2 DAT_40001ff6;
undefined2 DAT_40001ff2;
undefined2 DAT_40001ff0;
u8_obd2level_t6 CAL_obd_ii_P0700;
uint8_t code_blank_byte_count;
u8_obd2level_t6 CAL_obd_ii_P0601;
u8_obd2level_t6 CAL_obd_ii_P0606;
u8_obd2level_t6 CAL_obd_ii_P0610;
u8_obd2level_t6 CAL_obd_ii_P0630;
ushort DAT_40002012;
byte DAT_40002014;
u8_obd2level_t6 CAL_obd_ii_P2336;
byte DAT_4000d453;
ushort DAT_4000202e;
u8_obd2level_t6 CAL_obd_ii_P2337;
ushort DAT_4000cbf6;
byte DAT_40002015;
u8_obd2level_t6 CAL_obd_ii_P2338;
byte DAT_4000cbf5;
byte DAT_40002016;
u8_obd2level_t6 CAL_obd_ii_P2339;
byte DAT_4000d45e;
ushort DAT_4000cbf8;
u8_obd2level_t6 CAL_obd_ii_P2340;
byte DAT_40002021;
byte DAT_4000cbfd;
u8_obd2level_t6 CAL_obd_ii_P2341;
byte DAT_40002022;
byte DAT_40002017;
byte DAT_40002018;
byte DAT_4000d45f;
byte DAT_40002023;
byte DAT_40002024;
byte DAT_40002019;
byte DAT_4000201a;
byte DAT_4000d460;
byte DAT_40002025;
byte DAT_40002026;
byte DAT_4000201b;
byte DAT_4000201c;
byte DAT_4000d461;
byte DAT_40002027;
byte DAT_40002028;
byte DAT_4000201d;
u16_rspeed_rpm CAL_knock_threshold_obd_ii_check_enable_engine_speed;
byte DAT_4000201e;
u8_factor_1/100 CAL_knock_threshold_obd_ii_check_enable_load;
byte DAT_4000d462;
byte DAT_40002029;
byte DAT_4000202a;
byte DAT_4000201f;
byte DAT_40002020;
byte DAT_4000d463;
byte DAT_4000202b;
byte DAT_4000202c;
u8_obd2level_t6 CAL_obd_ii_P050B;
undefined1 DAT_4000d453;
undefined1 DAT_40002014;
undefined1 DAT_4000d45e;
undefined1 DAT_40002022;
undefined1 DAT_40002016;
undefined1 DAT_4000d45f;
undefined1 DAT_40002024;
undefined1 DAT_40002018;
undefined1 DAT_4000d460;
undefined1 DAT_40002026;
undefined1 DAT_4000201a;
undefined1 DAT_4000d461;
undefined1 DAT_40002028;
undefined1 DAT_4000201c;
undefined1 DAT_4000d462;
undefined1 DAT_4000202a;
undefined1 DAT_4000201e;
undefined1 DAT_4000d463;
undefined1 DAT_4000202c;
undefined1 DAT_40002020;
undefined1 DAT_4000201f;
undefined1 DAT_4000201d;
undefined1 DAT_4000201b;
undefined1 DAT_40002019;
undefined1 DAT_40002017;
undefined1 DAT_40002015;
undefined1 DAT_4000202b;
undefined1 DAT_40002029;
undefined1 DAT_40002027;
undefined1 DAT_40002025;
undefined1 DAT_40002023;
undefined1 DAT_40002021;
undefined2 DAT_40003624;
undefined1 DAT_40003928;
undefined1 DAT_400039c2;
undefined1 DAT_40003a5c;
undefined1 DAT_40003af6;
undefined1 DAT_40003b90;
undefined1 DAT_40003c2a;
undefined4 DAT_400051b8;
undefined2 DAT_400057b8;
undefined2 DAT_400058ec;
undefined2 DAT_40005a20;
undefined2 DAT_40005b54;
undefined2 DAT_40005c88;
undefined2 DAT_40005dbc;
undefined2 DAT_000d40a0;
undefined2 DAT_000d43a0;
undefined1 DAT_000d46a0;
undefined1 DAT_000d4739;
undefined1 DAT_000d47d2;
undefined1 DAT_000d486b;
undefined1 DAT_000d4904;
undefined1 DAT_000d499d;
undefined1 DAT_000d4a38;
undefined1 DAT_000d4ad1;
undefined1 DAT_000d4b6a;
undefined1 DAT_000d4c03;
undefined1 DAT_000d4c9c;
undefined1 DAT_000d4d35;
undefined1 DAT_40003cc4;
undefined1 DAT_40003cd6;
undefined1 DAT_40003ce8;
undefined1 DAT_40003cfa;
undefined1 DAT_40003d0c;
undefined1 DAT_40003d1e;
byte DAT_40002086;
undefined DAT_40005ef0;
undefined DAT_40005f08;
byte DAT_40002040;
char DAT_4000c9e5;
char DAT_4000203a;
short DAT_40002096;
ushort DAT_4000203e;
ushort DAT_4000203c;
undefined *DAT_4000204c;
pointer PTR_DAT_000d5668;
pointer PTR_DAT_000d5680;
pointer PTR_DAT_000d5698;
undefined2 DAT_40000678;
undefined DAT_40002044;
undefined DAT_40005170;
undefined DAT_40005188;
undefined DAT_400051a0;
undefined DAT_400051ac;
undefined2 DAT_40005f20;
undefined DAT_40005f38;
uint16_t[6] misfires_per_cyl;
undefined2 misfire_unknown1;
byte DAT_4000ca3a;
undefined2 DAT_40002096;
ushort DAT_40002032;
byte DAT_4000cad8;
byte DAT_40002098;
byte DAT_40002035;
u16_time_5ms DAT_4000ca8e;
u16_time_5ms DAT_4000ca4e;
byte DAT_4000c9d2;
byte DAT_4000c9d3;
byte DAT_4000c9d4;
u16_time_5ms DAT_4000ca4c;
char DAT_40002030;
char DAT_40002031;
ushort DAT_40004b62;
char DAT_4000d3fb;
uint16_t DAT_40002084;
undefined2 DAT_40002088;
undefined2 DAT_4000208a;
char DAT_4000d3fa;
undefined2 DAT_40002080;
u8_temp_5/8-40c CAL_misfire_unknown_coolant_range_high;
u8_obd2level_t6 CAL_obd_ii_P1301;
undefined DAT_4000d5a0;
u8_obd2level_t6 CAL_obd_ii_P1302;
undefined DAT_4000d5a8;
undefined DAT_4000d5b2;
u8_temp_5/8-40c[4] s__4000d5da;
u16_mass_mg[5] u16_mass_mg_ARRAY_4000d5e2;
undefined DAT_4000d5ec;
undefined DAT_4000da10;
undefined DAT_4000da30;
undefined DAT_4000da50;
u16_rspeed_rpm[16] u16_rspeed_rpm_ARRAY_4000dca0;
u16_load_mg/stroke[16] u16_load_mg/stroke_ARRAY_4000dcc0;
undefined DAT_4000dce0;
uint16_t[64] CAL_misfire_ips_unknown1;
u16_rspeed_rpm[8] CAL_misfire_ips_unknown1_X_rpm;
u16_load_mg/stroke[8] CAL_misfire_ips_unknown1_Y_load;
uint16_t[64] CAL_misfire_manual_unknown1;
u16_rspeed_rpm[8] CAL_misfire_manual_unknown1_X_rpm;
u16_load_mg/stroke[8] CAL_misfire_manual_unknown1_Y_load;
uint8_t[64] CAL_misfire_unknown2;
u8_rspeed_125/4+500rpm[8] CAL_misfire_unknown2_X_rpm;
u8_load_4mg/stroke[8] CAL_misfire_unknown2_Y_load;
uint8_t[8] CAL_misfire_unknown3;
u8_rspeed_125/4+500rpm[8] CAL_misfire_unknown3_X_rpm;
u8_temp_5/8-40c CAL_misfire_unknown_coolant_range_low;
u8_rspeed_125/4+500rpm CAL_misfire_unknown_rpm_range_low;
u8_rspeed_125/4+500rpm CAL_misfire_unknown_rpm_range_high;
u16_torque_nm torque_net_engine_combustion;
u16_time_5ms timer_unknown1;
u16_time_5ms timer_unknown2;
byte DAT_40002034;
ushort DAT_40004b64;
short DAT_40000678;
ushort DAT_40004b66;
short DAT_4000067a;
ushort DAT_40004b68;
short DAT_4000067c;
ushort DAT_40004b6a;
short DAT_4000067e;
ushort DAT_40004b6c;
short DAT_40000680;
ushort DAT_40004b6e;
short DAT_40000682;
u8_obd2level_t6 CAL_obd_ii_P0300;
u8_obd2level_t6 CAL_obd_ii_P0301;
u8_obd2level_t6 CAL_obd_ii_P0302;
u8_obd2level_t6 CAL_obd_ii_P0303;
u8_obd2level_t6 CAL_obd_ii_P0304;
u8_obd2level_t6 CAL_obd_ii_P0305;
u8_obd2level_t6 CAL_obd_ii_P0306;
undefined1 DAT_40002030;
undefined1 DAT_40002031;
uint32_t[4] wheel_speed_rate;
uint16_t CAL_wheel_speed_rate_min;
uint32_t[4] wheel_speeds_smooth;
uint16_t CAL_wheel_speed_min;
uint32_t[4] wheel_speeds_smooth2;
ushort obd_ii_response_length;
byte[8] obd_ii_response;
byte[4] obd_mode_22_supported_pids_160_180;
byte[4] obd_ii_mode22_supported_pids_0_20;
byte[4] obd_ii_mode22_supported_pids_40_60;
byte[4] obd_ii_mode22_supported_pids_60_80;
byte[4] obd_ii_mode22_supported_pids_80_a0;
byte[4] obd_ii_mode22_supported_pids_20_40;
byte[4] obd_ii_mode22_supported_pids_a0_c0;
byte[4] obd_ii_mode22_supported_pids_140_160;
byte[4] obd_ii_mode22_supported_pids_c0_e0;
byte[4] obd_ii_mode22_supported_pids_100_120;
byte[4] obd_ii_mode22_supported_pids_120_40;
char[32] CAL_prog_version;
byte DAT_4000421c;
undefined1 obd_ii_ac_clutch_relay;
byte DAT_4000421d;
undefined DAT_40004220;
undefined DAT_40004228;
undefined DAT_4000422c;
undefined4 DAT_40004230;
byte DAT_40004234;
byte DAT_40004235;
undefined2 DAT_40004236;
undefined2 DAT_40004238;
undefined4 DAT_4000423c;
byte DAT_40004240;
undefined DAT_40004244;
undefined DAT_4000424c;
undefined DAT_40004250;
undefined4 DAT_40004254;
byte DAT_40004258;
byte DAT_40004259;
undefined2 DAT_4000425a;
undefined2 DAT_4000425c;
undefined4 DAT_40004260;
u16_time_100ms fuel_learn_timer;
uint8_t trans_fluid_pump;
bool obd_ii_defer_send;
undefined2 fuel_pump_dutycycle_commanded;
uint16_t obd_ii_vapor_concentration;
uint16_t obd_ii_o2_precat_diag_timer_bank1;
u16_angle_1/4deg obd_ii_vvt_exhaust_target_bank1;
u16_time_5ms obd_ii_o2_precat_diag_timer_bank2;
undefined1 fuel_pump_state??;
undefined2 aux_coolant_pump_state_and_diag?;
undefined1 obd_ii_oil_temp_ips;
undefined2 fuel_pressure_error??;
undefined2 fuel_diag_airflow_unknown1;
undefined2 fuel_diag_airflow_unknown2;
u16_angle_1/4deg vvt_inlet_target_bank1;
uint32_t vehicle_distance_travelled_total;
uint32_t max_engine_speed1;
uint32_t max_engine_speed3;
uint32_t max_engine_speed4;
undefined4 nax_engine_speed_4_coolant;
undefined2 max_engine_speed3;
undefined2 max_engine_speed2;
undefined2 max_engine_speed1;
byte[4] ECU_serial_number;
byte[6] hardware_number;
byte[4] crypto_flags;
byte[4] ECU_type;
byte[8] obd_ii_request;
undefined4 max_engine_speed2;
undefined1 max_engine_speed_3_coolant;
undefined1 max_engine_speed_2_coolant;
undefined1 max_enginee_speed_1_coolant;
u16_factor_1/1023 accel_pedal_pos;
undefined1 DAT_40001de8;
byte[8] obd_ii_mode08_supported_pids???;
undefined1 obd_DTC_count;
undefined1 obd_DTC_pending_count;
byte[6][4] obd_ii_mode06_supported_pids;
ushort DAT_40004b1c;
ushort DAT_40004b1a;
ushort DAT_40004b26;
ushort DAT_4000c9d0;
ushort DAT_40004b24;
ushort DAT_4000c9ce;
ushort DAT_4000cad2;
ushort DAT_40004b42;
byte DAT_4000ca5f;
short DAT_4000ca64;
ushort DAT_40004b40;
short DAT_4000ca62;
short DAT_40004b48;
short DAT_4000cad6;
short DAT_40004b4a;
short DAT_4000caf4;
ushort DAT_40004b34;
ushort DAT_40004b32;
ushort DAT_40004b2a;
ushort DAT_40004b28;
ushort DAT_40004b46;
ushort DAT_40004b44;
short DAT_40004b4c;
short DAT_40004b4e;
short DAT_40004b30;
undefined2 DAT_4000ca1e;
short DAT_40004b3e;
u16_voltage_5/1023v CAL_sensor_o2_rich_voltage_threshold;
short DAT_40004c0c;
short DAT_40004c0a;
short DAT_40004c10;
short DAT_40004b52;
short DAT_40004b54;
short DAT_40004c04;
short DAT_40004c06;
short DAT_40004c08;
short DAT_40004bbc;
undefined2 DAT_4000cbea;
short DAT_40004bbe;
short DAT_40004b62;
u16_voltage_5/1023v CAL_sensor_o2_threshold_unknown;
undefined uint16_t_4000ca98;
undefined1 DAT_400020f0;
bool obd_ii_mode13_requested;
byte[4] obd_ii_mode09_flags;
undefined2 DAT_40006184;
undefined2 DAT_40006182;
undefined2 DAT_4000618c;
undefined2 DAT_4000618a;
undefined2 DAT_40006174;
undefined2 DAT_40006172;
undefined2 DAT_4000617c;
undefined2 DAT_4000617a;
undefined2 DAT_40006194;
undefined2 DAT_40006192;
undefined2 DAT_4000619c;
undefined2 DAT_4000619a;
undefined2 DAT_400061a4;
undefined2 DAT_400061a2;
undefined2 DAT_400061ac;
undefined2 DAT_400061aa;
undefined2 DAT_400061b4;
undefined2 DAT_400061b2;
undefined2 DAT_400061bc;
undefined2 DAT_400061ba;
uint32_t[6] engine_speed_state_timer_unknown;
uint32_t[2] fuel_used_unknown;
uint32_t[8] drive_cycle_counters_unknown;
char[16] CAL_misc_calid;
undefined4 accel_intensity_out_long;
undefined4 accel_intensity_out_short;
undefined4 engine_work_cumulative_a;
undefined4 engine_work_cumulative_b;
char DAT_40001690;
ushort DAT_40002106;
char DAT_40001691;
uint DAT_40002108;
undefined4 accel_intensity_long;
undefined4 accel_intensity_timer_b;
undefined4 accel_intensity_timer_a;
u8_speed_kph accel_intensity_carspeed_last;
undefined4 accel_intensity_short;
undefined4 engine_work;
undefined4 engine_work_accumulated;
char DAT_40002118;
byte DAT_4000c9fc;
byte DAT_4000ca3e;
byte DAT_4000213c;
ushort DAT_40002128;
ushort DAT_4000cac4;
byte DAT_4000213d;
ushort DAT_4000212a;
undefined1 DAT_4000214b;
ushort DAT_4000212e;
ushort DAT_4000212c;
byte DAT_4000213f;
byte DAT_4000213e;
byte DAT_4000c9fd;
ushort DAT_4000cad0;
byte DAT_400021ea;
byte DAT_4000d3fd;
byte DAT_400021e8;
byte DAT_4000d433;
ushort DAT_4000cac6;
byte DAT_40002140;
byte DAT_40002141;
u16_voltage_5/1023v u16_voltage_5/1023v_40002132;
u16_voltage_5/1023v u16_voltage_5/1023v_40002134;
undefined2 DAT_40002136;
undefined2 DAT_40002138;
undefined1 DAT_4000213a;
undefined1 DAT_4000213b;
u8_obd2level_t6 CAL_obd_ii_P0134;
u8_obd2level_t6 CAL_obd_ii_P0140;
u8_obd2level_t6 CAL_obd_ii_P0154;
u8_obd2level_t6 CAL_obd_ii_P0160;
byte o2_sensor_flags_unknown;
short DAT_400021a4;
undefined s__4000ca26;
undefined u16_load_mg/stroke_ARRAY_4000ca72;
undefined s_h_4000ca76;
u16_time_5ms u16_time_5ms_4000cac8;
u8_temp_5/8-40c u8_temp_5/8-40c_4000ca69;
char DAT_40002130;
int DAT_40002198;
byte DAT_400087ca;
short DAT_40002188;
undefined u16_flow_10mg/s_ARRAY_4000cbba;
ushort DAT_4000cbc8;
undefined2 DAT_4000cbca;
undefined2 DAT_4000218a;
uint DAT_400021dc;
byte DAT_400021b9;
ushort DAT_40002156;
uint DAT_400021e4;
byte DAT_400021b7;
ushort DAT_40002158;
byte DAT_4000215a;
byte DAT_4000ca2d;
byte DAT_4000ca2b;
byte DAT_4000ca60;
byte DAT_4000ca78;
uint16_t CAL_obd_ii_o2_precat_diag_timer;
byte DAT_4000ca61;
byte DAT_4000ca79;
short DAT_4000215e;
u8_obd2level_t6 CAL_obd_ii_P0133;
short DAT_4000215c;
uint DAT_40002170;
byte DAT_4000217d;
ushort DAT_4000218e;
u8_obd2level_t6 CAL_obd_ii_P0139;
uint DAT_4000216c;
byte DAT_4000217c;
ushort DAT_40002190;
u8_obd2level_t6 CAL_obd_ii_P0153;
undefined1 DAT_400021eb;
u8_obd2level_t6 CAL_obd_ii_P0159;
short DAT_40004b20;
short DAT_40004b22;
undefined2 DAT_4000218c;
uint DAT_400021d8;
byte DAT_400021b8;
ushort DAT_40002160;
uint DAT_400021e0;
byte DAT_400021b6;
ushort DAT_40002162;
byte DAT_40002164;
short DAT_40002168;
short DAT_40002166;
uint DAT_40002178;
byte DAT_4000217f;
ushort DAT_40002192;
uint DAT_40002174;
byte DAT_4000217e;
ushort DAT_40002194;
undefined1 DAT_400021e9;
short DAT_40004b36;
short DAT_40004b38;
u16_flow_10mg/s DAT_400021b0;
u16_flow_10mg/s DAT_400021ae;
ushort DAT_400021d0;
undefined2 DAT_400021c0;
undefined2 DAT_400021c4;
undefined2 DAT_400021ac;
undefined2 DAT_400021a8;
ushort DAT_400021ce;
undefined2 DAT_400021be;
undefined2 DAT_400021c2;
undefined2 DAT_400021aa;
undefined2 DAT_400021a6;
char DAT_400087cb;
byte DAT_4000cbc2;
short DAT_4000cbc0;
char DAT_40002196;
undefined4 DAT_40006148;
int DAT_4000616c;
byte DAT_4000c9c9;
short DAT_4000214e;
short DAT_400021a8;
short DAT_40002150;
short DAT_400021ac;
char DAT_400021a3;
ushort DAT_400021cc;
ushort DAT_40002146;
ushort DAT_4000ca62;
byte DAT_4000ca29;
byte DAT_400021bd;
ushort DAT_400021c4;
char DAT_400021a1;
short DAT_4000219e;
short DAT_4000ca0a;
ushort DAT_400021c8;
ushort DAT_4000ca64;
byte DAT_400021bb;
ushort DAT_400021c0;
short DAT_40002152;
short DAT_400021a6;
short DAT_40002154;
short DAT_400021aa;
char DAT_400021a2;
ushort DAT_400021ca;
ushort DAT_40002148;
byte DAT_400021bc;
ushort DAT_400021c2;
char DAT_400021a0;
short DAT_4000219c;
ushort DAT_400021c6;
byte DAT_400021ba;
ushort DAT_400021be;
undefined2 DAT_40001698;
undefined2 DAT_4000169a;
undefined2 DAT_4000169c;
undefined2 DAT_4000169e;
undefined DAT_40002142;
undefined DAT_40002143;
undefined DAT_40002144;
undefined DAT_40002145;
undefined DAT_4000214c;
undefined DAT_4000214d;
undefined4 DAT_4000216c;
undefined4 DAT_40002170;
undefined4 DAT_40002174;
undefined4 DAT_40002178;
undefined1 DAT_4000217c;
undefined1 DAT_4000217d;
undefined1 DAT_4000217e;
undefined1 DAT_4000217f;
undefined DAT_40002180;
undefined DAT_40002182;
undefined DAT_40002184;
undefined DAT_40002186;
undefined2 DAT_400021ae;
undefined2 DAT_400021b0;
undefined1 DAT_400021b6;
undefined1 DAT_400021b7;
undefined1 DAT_400021b8;
undefined1 DAT_400021b9;
undefined2 DAT_400021d2;
undefined2 DAT_400021d4;
undefined4 DAT_400021d8;
undefined4 DAT_400021dc;
undefined4 DAT_400021e0;
undefined4 DAT_400021e4;
byte DAT_4000cbb8;
byte DAT_4000cbbe;
byte DAT_4000cbbf;
byte DAT_4000cbb9;
undefined DAT_4000e148;
undefined DAT_4000e150;
undefined DAT_4000e158;
undefined DAT_4000e160;
byte DAT_4000ca28;
undefined1 DAT_4000d3fc;
undefined1 DAT_4000d3fd;
undefined1 DAT_400021ea;
undefined1 DAT_4000d432;
undefined1 DAT_4000d433;
undefined1 DAT_400021e8;
undefined2 DAT_40002162;
undefined2 DAT_40002160;
undefined2 DAT_40002158;
undefined2 DAT_40002156;
undefined1 DAT_40002164;
undefined1 DAT_4000215a;
undefined2 DAT_40002168;
undefined2 DAT_40002166;
undefined2 DAT_4000215e;
undefined2 DAT_4000215c;
undefined2 DAT_40002194;
undefined2 DAT_40002192;
undefined2 DAT_40002190;
undefined2 DAT_4000218e;
undefined2 DAT_4000212a;
undefined2 DAT_40002128;
undefined2 DAT_4000212e;
undefined2 DAT_4000212c;
undefined1 DAT_4000213f;
undefined1 DAT_4000213e;
undefined1 DAT_4000ca3e;
undefined1 DAT_4000213c;
undefined1 DAT_4000213d;
undefined2 DAT_400021ce;
undefined2 DAT_400021d0;
short DAT_40002148;
short DAT_40002146;
undefined2 DAT_4000caf4;
undefined2 DAT_4000cad6;
undefined2 DAT_4000214e;
undefined2 DAT_40002150;
undefined2 DAT_40002152;
undefined2 DAT_40002154;
undefined1 DAT_400021a1;
undefined2 DAT_400021c8;
undefined1 DAT_400021bb;
undefined1 DAT_400021a0;
undefined2 DAT_400021c6;
undefined1 DAT_400021ba;
undefined1 DAT_400021a3;
undefined2 DAT_400021cc;
undefined1 DAT_400021bd;
undefined1 DAT_400021a2;
undefined2 DAT_400021ca;
undefined1 DAT_400021bc;
ushort USHORT_400021f0;
ushort USHORT_400021f4;
ushort USHORT_400021f6;
byte DAT_400031be;
ushort USHORT_400021f8;
short DAT_40002222;
byte DAT_40002200;
byte DAT_4000d3bf;
short DAT_40002224;
byte DAT_40002201;
byte DAT_4000d3c0;
short DAT_40002226;
byte DAT_40002202;
byte DAT_4000d3d2;
short DAT_40002228;
byte DAT_40002203;
byte DAT_4000d3e0;
short DAT_4000222a;
byte DAT_40002204;
byte DAT_4000d3e1;
short DAT_4000222c;
byte DAT_40002205;
byte DAT_4000d3e2;
short DAT_4000222e;
byte DAT_40002206;
byte DAT_4000d3e3;
short DAT_40002230;
byte DAT_40002207;
byte DAT_4000d3e4;
short DAT_40002238;
byte DAT_40002236;
byte DAT_4000d3cb;
short DAT_40002234;
byte DAT_40002232;
byte DAT_4000d3cc;
short DAT_4000223c;
byte DAT_4000223a;
byte DAT_4000d3cd;
short DAT_40002240;
byte DAT_4000223e;
byte DAT_4000d3ce;
short DAT_40002280;
byte DAT_4000227e;
byte DAT_4000d3cf;
short DAT_40002284;
byte DAT_40002282;
byte DAT_4000d3d0;
short DAT_40002246;
byte DAT_4000220a;
byte DAT_4000d3d3;
short DAT_40002248;
byte DAT_4000220b;
byte DAT_4000d3d4;
short DAT_4000224a;
byte DAT_4000220c;
byte DAT_4000d3d5;
short DAT_4000224c;
byte DAT_4000220d;
byte DAT_4000d3d6;
short DAT_4000224e;
byte DAT_4000220e;
byte DAT_4000d3d7;
short DAT_40002250;
byte DAT_4000220f;
byte DAT_4000d3d8;
short DAT_40002252;
byte DAT_40002210;
byte DAT_4000d3d9;
short DAT_40002254;
byte DAT_40002211;
byte DAT_4000d3da;
short DAT_40002256;
byte DAT_40002212;
byte DAT_4000d3db;
short DAT_40002258;
byte DAT_40002213;
byte DAT_4000d3dc;
short DAT_4000225a;
byte DAT_40002214;
byte DAT_4000d3dd;
short DAT_4000225c;
byte DAT_40002215;
byte DAT_4000d3de;
short DAT_4000228e;
byte DAT_400022c1;
byte DAT_4000d43c;
short DAT_40002290;
byte DAT_400022c0;
byte DAT_4000d43b;
short DAT_4000225e;
byte DAT_40002216;
byte DAT_4000d3c3;
short DAT_40002260;
byte DAT_40002217;
byte DAT_4000d3c4;
short DAT_40002262;
byte DAT_40002218;
byte DAT_4000d3c5;
short DAT_40002264;
byte DAT_40002219;
byte DAT_4000d3c6;
short DAT_40002266;
byte DAT_4000221a;
byte DAT_4000d3ff;
short DAT_40002268;
byte DAT_4000221b;
byte DAT_4000d402;
short DAT_4000226c;
byte DAT_4000226a;
byte DAT_4000d450;
short DAT_40002242;
byte DAT_40002208;
byte DAT_4000d3e5;
short DAT_40002244;
byte DAT_40002209;
byte DAT_4000d3df;
short DAT_40002270;
byte DAT_4000226e;
byte DAT_4000d3e7;
short DAT_40002274;
byte DAT_40002272;
byte DAT_4000d417;
byte DAT_40005095;
ushort DAT_4000ca6a;
short DAT_40002276;
byte DAT_4000221c;
byte DAT_400050a1;
short DAT_40002278;
byte DAT_4000221d;
byte DAT_4000d434;
byte DAT_400050ad;
short DAT_4000227a;
byte DAT_4000221e;
byte DAT_400050b9;
short DAT_4000227c;
byte DAT_4000221f;
short DAT_40002288;
byte DAT_40002286;
byte DAT_4000d3f4;
short DAT_4000228c;
byte DAT_4000228a;
byte DAT_4000d3f5;
short DAT_4000229c;
byte DAT_4000229a;
byte DAT_4000d448;
short DAT_400022a0;
byte DAT_4000229e;
byte DAT_4000d449;
short DAT_40002294;
byte DAT_40002292;
byte DAT_4000d43d;
short DAT_40002298;
byte DAT_40002296;
byte DAT_4000d43e;
short DAT_400022a4;
byte DAT_400022a2;
byte DAT_4000d454;
short DAT_400022a8;
byte DAT_400022a6;
byte DAT_4000d455;
short DAT_400022ac;
byte DAT_400022aa;
byte DAT_4000d46e;
short DAT_400022b0;
byte DAT_400022ae;
byte DAT_4000d46f;
ushort DAT_400022b2;
char DAT_40001d68;
char DAT_40001d69;
char DAT_40001d6a;
char DAT_40001d6b;
char DAT_40001d6c;
char DAT_40001d6d;
char DAT_40001d6e;
char DAT_40001d6f;
undefined DAT_00002ee0;
u8_obd2level_t6 CAL_obd_ii_P2602;
u8_obd2level_t6 CAL_obd_ii_P2603;
u8_obd2level_t6 CAL_obd_ii_P0482;
u8_obd2level_t6 CAL_obd_ii_P0480;
u8_obd2level_t6 CAL_obd_ii_P0141;
u8_obd2level_t6 CAL_obd_ii_P025C;
u8_obd2level_t6 CAL_obd_ii_P025D;
u8_obd2level_t6 CAL_obd_ii_P0261;
u8_obd2level_t6 CAL_obd_ii_P0262;
u8_obd2level_t6 CAL_obd_ii_P0264;
u8_obd2level_t6 CAL_obd_ii_P0265;
u8_obd2level_t6 CAL_obd_ii_P0267;
u8_obd2level_t6 CAL_obd_ii_P0268;
u8_obd2level_t6 CAL_obd_ii_P0270;
u8_obd2level_t6 CAL_obd_ii_P0271;
u8_obd2level_t6 CAL_obd_ii_P0273;
u8_obd2level_t6 CAL_obd_ii_P0274;
u8_obd2level_t6 CAL_obd_ii_P0276;
u8_obd2level_t6 CAL_obd_ii_P0277;
u8_obd2level_t6 CAL_obd_ii_P0135;
u8_obd2level_t6 CAL_obd_ii_P0155;
u8_obd2level_t6 CAL_obd_ii_P0161;
u8_obd2level_t6 CAL_obd_ii_P0445;
u8_obd2level_t6 CAL_obd_ii_P0444;
u8_obd2level_t6 CAL_obd_ii_P0448;
u8_obd2level_t6 CAL_obd_ii_P0447;
u8_obd2level_t6 CAL_obd_ii_P0646;
u8_obd2level_t6 CAL_obd_ii_P0647;
u8_obd2level_t6 CAL_obd_ii_P0076;
u8_obd2level_t6 CAL_obd_ii_P0077;
u8_obd2level_t6 CAL_obd_ii_P0079;
u8_obd2level_t6 CAL_obd_ii_P0080;
u8_obd2level_t6 CAL_obd_ii_P0082;
u8_obd2level_t6 CAL_obd_ii_P0083;
u8_obd2level_t6 CAL_obd_ii_P0085;
u8_obd2level_t6 CAL_obd_ii_P0086;
u8_obd2level_t6 CAL_obd_ii_P0351;
u8_obd2level_t6 CAL_obd_ii_P0352;
u8_obd2level_t6 CAL_obd_ii_P0353;
u8_obd2level_t6 CAL_obd_ii_P0354;
u8_obd2level_t6 CAL_obd_ii_P0355;
u8_obd2level_t6 CAL_obd_ii_P0356;
u8_obd2level_t6 CAL_obd_ii_P2612;
u8_obd2level_t6 CAL_obd_ii_P2613;
u8_obd2level_t6 CAL_obd_ii_P0616;
u8_obd2level_t6 CAL_obd_ii_P0617;
u8_obd2level_t6 CAL_obd_ii_P2170;
u8_obd2level_t6 CAL_obd_ii_P2171;
u8_obd2level_t6 CAL_obd_ii_P023B;
u8_obd2level_t6 CAL_obd_ii_P023C;
u8_obd2level_t6 CAL_obd_ii_P123B;
u8_obd2level_t6 CAL_obd_ii_P123C;
u8_obd2level_t6 CAL_obd_ii_P2754;
u8_obd2level_t6 CAL_obd_ii_P2755;
enum_t6e_gear gear_index_auto;
char DAT_400022aa;
char DAT_400022ae;
ushort DAT_400022ba;
ushort DAT_400022b8;
ushort DAT_400022b6;
short DAT_400022b4;
char DAT_400022bc;
byte DAT_400022be;
u8_factor_1/255 u8_factor_1/255_400022bf;
u8_factor_1/255 u8_factor_1/255_4000c9d7;
byte DAT_400022bd;
byte DAT_4000caf2;
undefined2 DAT_400022b4;
undefined2 DAT_400022b6;
undefined2 DAT_400022ba;
undefined2 DAT_400022b8;
undefined1 DAT_400022bc;
undefined1 DAT_400022bd;
undefined1 DAT_400022be;
undefined1 DAT_4000d3bf;
undefined1 DAT_40002200;
undefined1 DAT_4000d3c0;
undefined1 DAT_40002201;
undefined1 DAT_4000d3d2;
undefined1 DAT_40002202;
undefined1 DAT_4000d3e0;
undefined1 DAT_40002203;
undefined1 DAT_4000d3e1;
undefined1 DAT_40002204;
undefined1 DAT_4000d3e2;
undefined1 DAT_40002205;
undefined1 DAT_4000d3e3;
undefined1 DAT_40002206;
undefined1 DAT_4000d3e4;
undefined1 DAT_40002207;
undefined1 DAT_4000d3cc;
undefined1 DAT_40002232;
undefined1 DAT_4000d3cb;
undefined1 DAT_40002236;
undefined1 DAT_4000d3cd;
undefined1 DAT_4000223a;
undefined1 DAT_4000d3ce;
undefined1 DAT_4000223e;
undefined1 DAT_4000d3cf;
undefined1 DAT_4000227e;
undefined1 DAT_4000d3d0;
undefined1 DAT_40002282;
undefined1 DAT_4000d3d3;
undefined1 DAT_4000220a;
undefined1 DAT_4000d3d4;
undefined1 DAT_4000220b;
undefined1 DAT_4000d3d5;
undefined1 DAT_4000220c;
undefined1 DAT_4000d3d6;
undefined1 DAT_4000220d;
undefined1 DAT_4000d3d7;
undefined1 DAT_4000220e;
undefined1 DAT_4000d3d8;
undefined1 DAT_4000220f;
undefined1 DAT_4000d3d9;
undefined1 DAT_40002210;
undefined1 DAT_4000d3da;
undefined1 DAT_40002211;
undefined1 DAT_4000d3db;
undefined1 DAT_40002212;
undefined1 DAT_4000d3dc;
undefined1 DAT_40002213;
undefined1 DAT_4000d3dd;
undefined1 DAT_40002214;
undefined1 DAT_4000d3de;
undefined1 DAT_40002215;
undefined1 DAT_4000d3fe;
undefined1 DAT_4000221c;
undefined1 DAT_4000d434;
undefined1 DAT_4000221d;
undefined1 DAT_4000d401;
undefined1 DAT_4000221e;
undefined1 DAT_4000d436;
undefined1 DAT_4000221f;
undefined1 DAT_4000d450;
undefined1 DAT_4000226a;
undefined1 DAT_4000d3e5;
undefined1 DAT_40002208;
undefined1 DAT_4000d3df;
undefined1 DAT_40002209;
undefined1 DAT_4000d3e7;
undefined1 DAT_4000226e;
undefined1 DAT_4000d417;
undefined1 DAT_40002272;
undefined1 DAT_4000d3f4;
undefined1 DAT_40002286;
undefined1 DAT_4000d3f5;
undefined1 DAT_4000228a;
undefined1 DAT_4000d3c3;
undefined1 DAT_40002216;
undefined1 DAT_4000d3c4;
undefined1 DAT_40002217;
undefined1 DAT_4000d3c5;
undefined1 DAT_40002218;
undefined1 DAT_4000d3c6;
undefined1 DAT_40002219;
undefined1 DAT_4000d3ff;
undefined1 DAT_4000221a;
undefined1 DAT_4000d402;
undefined1 DAT_4000221b;
undefined1 DAT_4000d448;
undefined1 DAT_4000229a;
undefined1 DAT_4000d449;
undefined1 DAT_4000229e;
undefined1 DAT_4000d43d;
undefined1 DAT_40002292;
undefined1 DAT_4000d43e;
undefined1 DAT_40002296;
undefined1 DAT_4000d454;
undefined1 DAT_400022a2;
undefined1 DAT_4000d455;
undefined1 DAT_400022a6;
undefined1 DAT_4000d46e;
undefined1 DAT_400022aa;
undefined1 DAT_4000d46f;
undefined1 DAT_400022ae;
undefined1 DAT_4000d43c;
undefined1 DAT_400022c1;
undefined1 DAT_4000d43b;
undefined1 DAT_400022c0;
undefined2 DAT_400022b2;
u8_factor_1/255[8] CAL_launch_unknown_ips;
u16_factor_1/1023[16] CAL_tpstarget_tour_shifting;
u8_time_100ms u8_time_100ms_4000891f;
u8_factor_1/255[8] CAL_launch_unknown_ips_X_unknown;
u16_factor_1/1023[16] CAL_tpstarget_sport_shifting;
u8_factor_1/1023 u8_factor_1/1023_40008919;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_tour_ips_X_pps;
byte DAT_40008920;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_tour_manual_X_pps;
u16_factor_1/1023 launch_tps_target_limit;
byte DAT_400088bf;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_sport_ips_X_pps;
char DAT_400016a6;
u16_factor_1/1023[16] CAL_tpstarget_tour_ips_X_pps;
u16_factor_1/1023 launch_tps_idle_delta;
short DAT_400016a8;
u16_factor_1/1023[16] CAL_tpstarget_sport_ips_X_pps;
u16_factor_1/1023 u16_factor_1/1023_400016e4;
u16_factor_1/255 launch_tps_ramp_step;
u16_factor_1/1023[16] CAL_tpstarget_sport_manual_X_pps;
u16_factor_1/1023[16] CAL_tpstarget_tour_manual_X_pps;
u16_factor_1/1023 launch_tps_ramp_target;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_sport_manual_X_pps;
u16_factor_1/1023 launch_tps_ramp_index;
u8_time_5ms accel_pedal_timer_unknown;
u8_gear CAL_tpssmooth_pedalmap_low_gear_threshold;
u16_factor_1/1023[16] CAL_tpstarget_tour_shifting_X_pps;
uint8_t CAL_wheelspeed_threshold_unknown;
u8_speed_kph[2] CAL_launch_enable_carspeed;
u16_factor_1/1023[16] CAL_tpstarget_sport_shifting_X_pps;
u16_rspeed_rpm CAL_ecu_rpm_5250;
u8_rspeed_4rpm CAL_ecu_rpm_600;
u8_factor_1/1023 CAL_launch_enable_tps_margin;
undefined2 cruise_tps_unknown;
undefined2 lc_stationary_wait_timer;
u16_factor_1/255 tps_driver_requested3???;
u8_time_5ms lc_activate_timer;
u8_time_100ms CAL_launch_stationary_wait_time;
u8_time_5ms CAL_launch_activate_timer;
u16_factor_1/1023 launch_accel_pedal_raw;
undefined2 launch_accel_pedal;
undefined1 steering_angle_sensor_flags_???;
u16_factor_1/1023 CAL_launch_activate_tps_threshold;
u8_factor_1/1023 CAL_tps_request_unknown;
u8_factor_1/1023 CAL_cruise_accel_pedal_override_threshold_enter;
bool accel_pedal_timer_unknown1_is_expired;
bool CAL_tpssmooth_accel_pedal_modes_enable;
u16_voltage_5/1023v tps_target_by_pps;
uint8_t ips_flags_faults?;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_tour_ips;
bool launch_control_feature_enabled???;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_tour_manual;
bool CAL_launch_enable_untested;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_sport_manual;
u8_factor_1/1023 CAL_cruise_accel_pedal_override_threshold_exit;
u8_factor_1/255[8] CAL_launch_unknown_manual_X_unknown;
u16_factor_1/1023[16] CAL_tpstarget_low_gear_sport_ips;
u16_factor_1/1023[16] CAL_tpstarget_tour_ips;
u16_time_5ms lc_timer_unknown;
uint8_t CAL_launch_enable_steering_max;
u16_factor_1/1023[16] CAL_tpstarget_tour_manual;
u8_factor_1/255[8] CAL_launch_unknown_manual;
u16_factor_1/1023[16] CAL_tpstarget_sport_ips;
u8_factor_1/255[8] CAL_launch_unknown_ips_nolc;
u16_factor_1/1023[16] CAL_tpstarget_sport_manual;
u8_factor_1/255[8] CAL_launch_unknown_ips_nolc_X_unknown;
u16_time_5ms accel_pedal_zero_trim_timer;
u8_time_5ms CAL_tps_accel_pedal_zero_calibrate_timer;
byte DAT_40008713;
u16_factor_1/1023 u16_factor_1/1023_400016a2;
byte DAT_40008714;
u16_factor_1/1023 u16_factor_1/1023_400016a4;
byte DAT_40008712;
byte DAT_400026c4;
byte DAT_400022eb;
undefined2 DAT_400022ec;
byte DAT_4000d3f3;
byte DAT_400022ee;
undefined2 DAT_400022f0;
byte DAT_4000d3e9;
byte DAT_400022f2;
undefined2 DAT_400022f4;
byte DAT_4000d3ea;
byte DAT_400022f6;
undefined2 DAT_400022f8;
byte DAT_4000d3eb;
byte DAT_400022fa;
undefined2 DAT_400022fc;
byte DAT_4000d3ec;
u8_obd2level_t6 CAL_obd_ii_P2138;
u8_obd2level_t6 CAL_obd_ii_P2122;
u8_obd2level_t6 CAL_obd_ii_P2123;
u8_obd2level_t6 CAL_obd_ii_P2127;
u8_obd2level_t6 CAL_obd_ii_P2128;
undefined1 DAT_4000d3f3;
undefined1 DAT_400022eb;
undefined1 DAT_4000d3e9;
undefined1 DAT_400022ee;
undefined1 DAT_4000d3ea;
undefined1 DAT_400022f2;
undefined1 DAT_4000d3eb;
undefined1 DAT_400022f6;
undefined1 DAT_4000d3ec;
undefined1 DAT_400022fa;
ushort DAT_40008776;
uint16_t siu_pcr[141];
uint8_t uint8_t_400086f6;
char DAT_400016b4;
byte DAT_4000895e;
byte DAT_40008961;
char DAT_40002377;
u16_time_100ms evap_timer_unknown;
uint8_t[8] CAL_evap_timer_unknown1;
u8_temp_5/8-40c[8] CAL_evap_timer_unknown1_X_coolant_temp;
byte DAT_40008960;
byte DAT_40001b1a;
byte DAT_400087ff;
u16_time_100ms u16_time_100ms_40002374;
u8_time_100ms DAT_4000870e;
u8_time_100ms u8_time_100ms_40002370;
u8_time_100ms u8_time_100ms_40002371;
u8_time_100ms DAT_40008828;
undefined2 DAT_40002360;
undefined2 DAT_4000234c;
undefined4 DAT_40002344;
undefined4 DAT_40002340;
char DAT_400086f8;
undefined1 DAT_40008800;
undefined1 DAT_40002376;
ushort DAT_40008852;
byte DAT_400086fd;
byte DAT_40008829;
u8_time_100ms u8_time_100ms_400016b5;
ushort DAT_400087f6;
char DAT_40002373;
char DAT_40008710;
ushort DAT_4000881e;
byte DAT_400086fb;
ushort DAT_400016b0;
ushort DAT_400087f8;
byte DAT_4000cab1;
short DAT_4000881c;
ushort DAT_400086ba;
undefined2 DAT_40001e94;
undefined DAT_40002334;
undefined DAT_40002358;
undefined2 DAT_4000231c;
undefined DAT_40002338;
undefined DAT_40002348;
undefined DAT_4000236c;
byte DAT_40008701;
byte DAT_40008702;
ushort DAT_400016b2;
byte DAT_4000caa4;
byte DAT_400086fc;
byte DAT_4000870d;
byte DAT_40008700;
byte DAT_400086fa;
byte DAT_400086ff;
byte DAT_400086f9;
byte DAT_4000234f;
ushort DAT_4000231c;
ushort DAT_4000231e;
byte DAT_40002350;
u16_mass_100ug u16_mass_100ug_40002368;
byte DAT_4000234e;
byte DAT_400086de;
byte DAT_40001fee;
ushort DAT_40002328;
undefined1 DAT_40002324;
byte DAT_4000870c;
byte DAT_40002392;
short DAT_4000234c;
byte DAT_40008803;
byte DAT_40008802;
char DAT_40002376;
byte DAT_40008801;
uint16_t uint16_t_40002326;
undefined DAT_4000b182;
undefined DAT_4000b192;
undefined DAT_4000b1a2;
undefined DAT_4000b2a2;
undefined DAT_4000b2aa;
ushort DAT_4000895c;
ushort DAT_40008958;
ushort DAT_4000895a;
char DAT_4000895f;
uint DAT_40002364;
byte DAT_400086fe;
byte DAT_40002372;
ushort DAT_40002360;
ushort DAT_4000234c;
int DAT_4000232c;
int DAT_40002354;
byte[5][4] obd_ii_set_mode2f_supported_pids;
u16_time_5ms DAT_4000ca96;
uint DAT_40002388;
ushort DAT_4000ca94;
byte DAT_4000238e;
u16_time_5ms DAT_4000caae;
undefined1 DAT_400023b8;
byte DAT_4000426c;
ushort obd_ii_mode2f_tach_commanded;
u16_time_5ms[6] obd_ii_mode2f_timers_unknown;
undefined4 obd_ii_2f_trans_pump_requested;
undefined4 obd_ii_2f_trans_pump_state;
u16_time_100ms obd_ii_mode2f_timeout;
u16_time_100ms CAL_obd_ii_mode2f_timeout;
u8_time_5ms u8_time_5ms_400023b7;
undefined4 DAT_40002388;
undefined1 DAT_4000238e;
undefined1 DAT_40002392;
char DAT_4000ca92;
u8_time_5ms DAT_4000caad;
char DAT_400023b8;
undefined1 u8_time_5ms;
undefined2 DAT_4000cb3a;
undefined2 DAT_400023c4;
undefined2 DAT_4000cb34;
undefined2 DAT_400023c6;
undefined2 DAT_4000cb36;
undefined2 DAT_400023c8;
undefined2 DAT_4000cb38;
undefined2 DAT_400023ca;
byte DAT_400023c0;
byte DAT_40000e90;
undefined1 DAT_40000e91;
undefined2 DAT_40000e9c;
undefined2 DAT_400061c0;
undefined1 DAT_400061c2;
undefined2 DAT_400061c4;
undefined1 DAT_400061c6;
undefined1 DAT_400061ca;
undefined1 DAT_400061cb;
undefined2 DAT_400061cc;
undefined1 DAT_400061ce;
char DAT_40001e78;
u16_time_5ms u16_time_5ms_4000cb2a;
u16_pressure_mbar u16_pressure_mbar_4000cb2c;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb2e;
short DAT_400023c6;
short DAT_400023ca;
u8_speed_kph u8_speed_kph_4000cb31;
short DAT_400023c4;
u8_speed_kph u8_speed_kph_4000cb32;
short DAT_4000cb3a;
short DAT_400023c8;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb28;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb29;
bool BOOL_400023cc;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb2f;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb30;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb33;
undefined *PTR_LEA_obd_ii_P0133_flags_40000ec8;
undefined2 DAT_400061c8;
undefined DAT_40006170;
undefined DAT_40006176;
ushort DAT_400023e8;
ushort DAT_400016b8;
short DAT_40002310;
byte DAT_4000ca35;
uint DAT_40002508;
uint DAT_4000250c;
char DAT_4000cbf4;
byte DAT_4000cbed;
byte DAT_40001f44;
byte DAT_4000cbee;
byte DAT_4000cbef;
byte DAT_4000cbf0;
ushort DAT_4000cbf2;
byte DAT_4000cbf1;
byte DAT_400024f1;
short DAT_4000240a;
byte DAT_40002408;
byte DAT_4000d3bd;
byte DAT_4000ca6f;
byte DAT_4000ca71;
byte DAT_400024b8;
short DAT_4000240c;
byte DAT_40002409;
ushort DAT_4000c9dc;
short DAT_4000240e;
byte DAT_400023d1;
byte DAT_4000d3ba;
ushort DAT_4000cbc6;
byte DAT_4000cbc3;
ushort DAT_4000c9da;
short DAT_40002410;
byte DAT_400023d2;
byte DAT_4000d3bb;
byte DAT_400023e4;
byte DAT_400023e5;
byte DAT_40002505;
ushort DAT_400019f2;
ushort DAT_400024e6;
byte DAT_4000cc81;
byte DAT_400024e8;
byte DAT_400024ea;
byte DAT_4000cc83;
char DAT_4000cc82;
char DAT_400024e9;
short DAT_40002528;
short DAT_4000252e;
short DAT_400024e4;
short DAT_400024e2;
byte DAT_4000caa6;
byte DAT_4000caa7;
byte DAT_4000caa8;
byte DAT_4000caa9;
byte DAT_4000caaa;
byte DAT_40002526;
byte DAT_40002525;
byte DAT_40002524;
short DAT_4000cabc;
short DAT_4000cabe;
byte DAT_400024e1;
byte DAT_4000d3a7;
char DAT_4000cbb6;
ushort DAT_4000ca02;
short DAT_40002414;
byte DAT_40002412;
byte DAT_4000d3a8;
ushort DAT_4000ca00;
short DAT_40002418;
byte DAT_40002416;
byte DAT_4000d3a9;
ushort DAT_4000c9e6;
short DAT_40002426;
byte DAT_400023da;
byte DAT_4000d3b6;
ushort DAT_4000c9e8;
short DAT_40002428;
byte DAT_400023db;
byte DAT_4000d3b7;
short DAT_4000242e;
byte DAT_400023dc;
byte DAT_4000d426;
short DAT_40002430;
byte DAT_400023dd;
byte DAT_4000d427;
ushort DAT_4000c9ea;
short DAT_4000242c;
byte DAT_4000242a;
byte DAT_4000d3b8;
ushort DAT_4000c9ec;
short DAT_40002448;
byte DAT_40002446;
byte DAT_4000d3b9;
short DAT_40002434;
byte DAT_40002432;
byte DAT_4000d428;
short DAT_4000244c;
byte DAT_4000244a;
byte DAT_4000d429;
byte DAT_4000248c;
u16_voltage_5/1023v DAT_400016ba;
u16_voltage_5/1023v DAT_40002486;
byte DAT_4000cb9f;
undefined1 DAT_40002488;
byte DAT_4000cade;
ushort DAT_4000241a;
byte DAT_400023d3;
byte DAT_4000d3ab;
short DAT_4000241c;
byte DAT_400023d4;
u8_obd2level_t6 obd_ii_config_p0101;
byte DAT_4000d3ac;
short DAT_4000241e;
byte DAT_400023d5;
byte DAT_4000d3ad;
byte DAT_40002494;
u16_voltage_5/1023v DAT_400016bc;
u16_voltage_5/1023v DAT_40002492;
byte DAT_4000cadb;
byte DAT_4000cc66;
byte DAT_4000cc67;
char DAT_4000cc69;
char DAT_40002496;
char DAT_40002495;
byte DAT_40002497;
byte DAT_4000cc6a;
char DAT_4000cc68;
byte DAT_40002498;
byte DAT_4000cc6b;
byte DAT_4000ca2f;
ushort DAT_400023fe;
bool oil_pressure_low_detected;
byte DAT_400023fc;
u16_voltage_5/1023v CAL_obd_ii_oil_pressure_switch_low_voltage;
byte DAT_4000d43a;
short DAT_40002402;
byte DAT_40002400;
byte DAT_4000d467;
short DAT_40002406;
byte DAT_40002404;
byte DAT_4000d468;
byte DAT_4000ca53;
byte DAT_4000ca52;
short DAT_400024aa;
byte DAT_400024a8;
byte DAT_4000d472;
short DAT_400024ae;
byte DAT_400024ac;
byte DAT_4000d474;
ushort DAT_400024a6;
byte DAT_400023d6;
byte DAT_4000d452;
byte DAT_400024a3;
byte DAT_400023d8;
byte DAT_400023d9;
char DAT_4000252a;
byte DAT_40002499;
byte DAT_4000cae9;
ushort DAT_4000cae0;
byte DAT_4000cae8;
byte DAT_400024a2;
byte DAT_4000cadf;
char DAT_4000252b;
ushort DAT_40002420;
byte DAT_400023d7;
byte DAT_4000d3af;
uint DAT_4000249c;
byte DAT_400024a1;
byte DAT_4000caa5;
byte DAT_4000ca93;
byte DAT_400024a0;
short DAT_40002422;
byte DAT_4000d3b0;
short DAT_40002424;
byte DAT_4000d3b1;
ushort DAT_400024f2;
ushort DAT_4000cc60;
ushort DAT_40002500;
ushort DAT_4000cc62;
char DAT_4000cc4a;
char DAT_400024f4;
u16_pressure_mbar DAT_400024fe;
u16_pressure_mbar DAT_400024f8;
u16_pressure_mbar DAT_400024f6;
short DAT_400024fc;
short DAT_400024fa;
char DAT_4000cc4b;
byte DAT_4000cc4c;
byte DAT_4000cc4d;
ushort DAT_4000ca50;
ushort DAT_4000cc64;
char DAT_40002502;
char DAT_4000cc5f;
ushort DAT_40001810;
char DAT_40002504;
byte DAT_4000cc6d;
byte DAT_40002503;
byte DAT_4000cc6c;
char DAT_4000cc6e;
ushort DAT_4000caba;
short DAT_40002450;
byte DAT_4000244e;
byte DAT_4000d46c;
ushort DAT_4000caca;
short DAT_40002454;
byte DAT_40002452;
byte DAT_4000d46d;
ushort DAT_4000cb16;
short DAT_40002456;
byte DAT_4000d469;
ushort DAT_4000cb14;
short DAT_40002458;
byte DAT_4000d46a;
byte DAT_4000cbb7;
byte DAT_400024be;
u16_voltage_5/1023v DAT_400016c0;
u16_voltage_5/1023v DAT_400024bc;
ushort DAT_4000cc74;
byte DAT_4000cc73;
char DAT_4000cc6f;
char DAT_400024c0;
char DAT_400024bf;
byte DAT_400024c2;
byte DAT_4000cc70;
char DAT_4000cc71;
byte DAT_400024c1;
byte DAT_4000cc72;
byte DAT_4000cc77;
byte DAT_400024c3;
byte DAT_4000cc76;
byte DAT_4000cc7d;
byte DAT_4000cc7e;
ushort DAT_4000cc78;
char DAT_4000cc7b;
char DAT_400024ca;
int DAT_400024c4;
undefined2 DAT_400024c8;
char DAT_4000cc7f;
byte DAT_4000cc80;
byte DAT_4000cc7a;
byte DAT_400024cb;
char DAT_4000cc84;
char DAT_400024cc;
byte DAT_4000cc7c;
u16_voltage_5/1023v u16_voltage_5/1023v_4000cae6;
short DAT_4000245c;
byte DAT_4000245a;
byte DAT_4000d3c1;
u16_voltage_5/1023v u16_voltage_5/1023v_4000cae4;
short DAT_40002460;
byte DAT_4000245e;
byte DAT_4000d3c2;
short DAT_40002438;
byte DAT_40002436;
byte DAT_4000d3c7;
short DAT_4000243c;
byte DAT_4000243a;
byte DAT_4000d3c8;
short DAT_40002440;
byte DAT_4000243e;
byte DAT_4000d42b;
short DAT_40002444;
byte DAT_40002442;
byte DAT_4000d42c;
short DAT_40002464;
byte DAT_40002462;
byte DAT_4000d414;
short DAT_40002468;
byte DAT_40002466;
byte DAT_4000d415;
short DAT_4000246a;
byte DAT_400023df;
byte DAT_4000d46b;
short DAT_4000246c;
byte DAT_400023e0;
byte DAT_4000d406;
byte DAT_4000c9d5;
ushort DAT_4000cab2;
short DAT_40002476;
byte DAT_4000ca10;
byte DAT_40002474;
byte DAT_4000d3ca;
short DAT_40002472;
byte DAT_4000ca11;
byte DAT_40002471;
byte DAT_4000d3c9;
char DAT_40002648;
undefined1 DAT_40002485;
byte DAT_4000ca3b;
byte DAT_4000ca2c;
short DAT_4000247a;
byte DAT_40002479;
byte DAT_4000d425;
byte DAT_40002478;
byte DAT_400023de;
byte DAT_4000d444;
byte DAT_4000c9e0;
short DAT_400024d0;
byte DAT_4000c9de;
byte DAT_400024d2;
short DAT_400024ce;
byte DAT_4000c9df;
byte DAT_400024cd;
byte DAT_4000d3b3;
byte DAT_400024de;
enum_t6e_gear DAT_400024df;
enum_t6e_gear DAT_400024e0;
u16_voltage_5/1023v DAT_400024d8;
u16_voltage_5/1023v DAT_400016c2;
ushort DAT_4000cb64;
ushort DAT_4000cb62;
ushort DAT_400024da;
byte DAT_4000cb5f;
ushort DAT_4000cb60;
byte DAT_400023e1;
byte DAT_4000d445;
short DAT_400024d4;
byte DAT_400023e2;
byte DAT_4000d446;
short DAT_400024d6;
byte DAT_400023e3;
byte DAT_4000d447;
short DAT_400024dc;
byte DAT_40002484;
byte DAT_4000d45d;
byte DAT_400024f0;
byte DAT_4000247c;
ushort DAT_400024ec;
byte DAT_4000caab;
short DAT_400024ee;
byte DAT_4000d456;
byte DAT_4000ca6e;
short DAT_4000247e;
byte DAT_4000247d;
byte DAT_4000d457;
short DAT_40002482;
uint16_t[2] CAL_sensor_knock_voltage_threshold;
byte DAT_40002480;
byte DAT_4000d458;
char DAT_400021eb;
char DAT_400021e9;
char DAT_40001e7d;
undefined DAT_4000dffa;
undefined DAT_4000e002;
undefined DAT_4000e048;
undefined DAT_4000e050;
undefined DAT_4000e058;
undefined DAT_4000e060;
undefined DAT_4000e068;
undefined DAT_4000e0a8;
undefined DAT_4000e0b0;
undefined DAT_4000e0b8;
undefined DAT_4000e12e;
undefined DAT_4000e13b;
u16_time_5ms CAL_sensor_temp_diagnostic_startup_delay;
u8_obd2level_t6 CAL_obd_ii_P0096;
u8_obd2level_t6 CAL_obd_ii_P0097;
u8_obd2level_t6 CAL_obd_ii_P0098;
u8_obd2level_t6 CAL_obd_ii_P0685;
u8_obd2level_t6 CAL_obd_ii_P0564;
u8_obd2level_t6 CAL_obd_ii_P0563;
u8_obd2level_t6 CAL_obd_ii_P0562;
u8_obd2level_t6 CAL_obd_ii_P0522;
u8_obd2level_t6 CAL_obd_ii_P1562;
u8_obd2level_t6 CAL_obd_ii_P0523;
u8_obd2level_t6 CAL_obd_ii_P0524;
u8_obd2level_t6 CAL_obd_ii_P0453;
u8_obd2level_t6 CAL_obd_ii_P0452;
u8_obd2level_t6 CAL_obd_ii_P0463;
u8_obd2level_t6 CAL_obd_ii_P0462;
u8_obd2level_t6 CAL_obd_ii_P0102;
u8_obd2level_t6 CAL_obd_ii_P0103;
u8_obd2level_t6 CAL_obd_ii_P0118;
u8_obd2level_t6 CAL_obd_ii_P0117;
u8_obd2level_t6 CAL_obd_ii_P0116;
u8_obd2level_t6 CAL_obd_ii_P0113;
u8_obd2level_t6 CAL_obd_ii_P0071;
u8_obd2level_t6 CAL_obd_ii_P0072;
u8_obd2level_t6 CAL_obd_ii_P0073;
u8_obd2level_t6 CAL_obd_ii_P0112;
u8_obd2level_t6 CAL_obd_ii_P0111;
u8_obd2level_t6 CAL_obd_ii_P0138;
u8_obd2level_t6 CAL_obd_ii_P0137;
u8_obd2level_t6 CAL_obd_ii_P0151;
u8_obd2level_t6 CAL_obd_ii_P0152;
u8_obd2level_t6 CAL_obd_ii_P0157;
u8_obd2level_t6 CAL_obd_ii_P0158;
u8_obd2level_t6 CAL_obd_ii_P0191;
u8_obd2level_t6 CAL_obd_ii_P0192;
u8_obd2level_t6 CAL_obd_ii_P0193;
u8_obd2level_t6 CAL_obd_ii_P0328;
u8_obd2level_t6 CAL_obd_ii_P0327;
u8_obd2level_t6 CAL_obd_ii_P0332;
u8_obd2level_t6 CAL_obd_ii_P0333;
u8_obd2level_t6 CAL_obd_ii_P0132;
u8_temp_5/8-40c CAL_cooling_thermostat_open;
u8_obd2level_t6 CAL_obd_ii_P0131;
u8_obd2level_t6 CAL_obd_ii_P0106;
u8_obd2level_t6 CAL_obd_ii_P0108;
u8_obd2level_t6 CAL_obd_ii_P0107;
u8_obd2level_t6 CAL_obd_ii_P0571;
u8_obd2level_t6 CAL_obd_ii_P0806;
u8_obd2level_t6 CAL_obd_ii_P0807;
u8_obd2level_t6 CAL_obd_ii_P0808;
u8_obd2level_t6 CAL_obd_ii_P0826;
u8_obd2level_t6 CAL_obd_ii_P0827;
u8_obd2level_t6 CAL_obd_ii_P0828;
u8_obd2level_t6 CAL_obd_ii_P1107;
u8_obd2level_t6 CAL_obd_ii_P1108;
u8_obd2level_t6 CAL_obd_ii_P1109;
undefined2 inj_flow_required_or_estimated???;
byte DAT_4000ca2e;
char DAT_40002488;
byte DAT_4000cba0;
short DAT_4000248e;
byte DAT_4000cb9e;
short DAT_4000248a;
byte DAT_4000cba1;
short DAT_40002490;
byte DAT_4000cb9d;
byte DAT_4000cb9c;
byte DAT_4000cb20;
undefined2 oil_pressure_low_timer;
uint8_t CAL_oil_pressure_low_timer_threshold;
u8_time_s CAL_oil_pressure_switch_startup_time;
undefined2 oil_pressure_expected;
uint8_t[8] CAL_sensor_oil_pressure_expected;
u8_rspeed_125/4+500rpm[8] CAL_sensor_oil_pressure_expected_X_engine_speed;
char DAT_400016c4;
char DAT_400016be;
char DAT_400016c5;
byte DAT_40002515;
byte DAT_40002516;
u16_temp_5/8-40c u16_temp_5/8-40c_40002510;
u16_temp_5/8-40c u16_temp_5/8-40c_40002512;
char DAT_4000cb97;
char DAT_40002514;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb94;
u16_rspeed_rpm u16_rspeed_rpm_4000cb98;
byte DAT_4000cb95;
byte DAT_4000cb96;
ushort DAT_400024dc;
u16_voltage_5/1023v[8] clutch_pos_history;
byte DAT_4000cbd4;
byte DAT_4000251d;
byte DAT_4000251c;
undefined2 cp_upper;
undefined2 cp_lower;
byte DAT_4000cbd5;
undefined1 cp_sample_count;
byte DAT_4000cbd6;
ushort DAT_4000cbd2;
char DAT_4000251f;
ushort DAT_400016c6;
ushort DAT_40004bde;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc85;
char DAT_40004bdd;
byte DAT_4000cc8c;
ushort DAT_400024a4;
ushort DAT_4000cc86;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc8b;
byte DAT_4000cc8d;
u8_time_s u8_time_s_4000cae3;
char DAT_400024b0;
u8_temp_5/8-40c DAT_40002523;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc88;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc8a;
uint DAT_400024b4;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc89;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc91;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc90;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc8f;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc8e;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc93;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cc92;
undefined1 coolant_temp_unknown;
undefined1 manifold_temp_unknown;
u8_temp_5/8-40c temp_engine_air_unknown;
undefined2 DAT_400024da;
undefined2 DAT_400016c2;
undefined2 DAT_400024d8;
undefined1 DAT_400024de;
byte DAT_4000cbd1;
short DAT_400027f6;
undefined2 DAT_4000cbd2;
undefined2 DAT_400024dc;
undefined1 DAT_400024f1;
undefined2 DAT_400024f2;
undefined1 DAT_4000cc5f;
undefined1 DAT_40002502;
undefined1 DAT_4000cc6c;
undefined1 DAT_40002503;
undefined1 DAT_4000cc6e;
undefined1 DAT_40002504;
undefined1 DAT_4000cc4b;
undefined1 DAT_400024f4;
undefined4 DAT_400023f4;
undefined4 DAT_400024b4;
undefined2 DAT_400016bc;
undefined2 DAT_40002492;
undefined1 DAT_40002494;
undefined1 DAT_4000cc68;
undefined1 DAT_40002495;
undefined1 DAT_4000cc69;
undefined1 DAT_40002496;
undefined1 DAT_40002497;
undefined1 DAT_40002498;
undefined1 DAT_40002499;
undefined1 DAT_400016be;
undefined1 DAT_400024a1;
undefined1 DAT_400024a3;
short DAT_400024a4;
undefined1 DAT_400024b0;
undefined1 DAT_4000248c;
undefined2 DAT_400016ba;
undefined2 DAT_40002486;
undefined2 DAT_400016c0;
undefined2 DAT_400024bc;
undefined1 DAT_400024be;
undefined1 DAT_4000cc6f;
undefined1 DAT_400024c0;
undefined1 DAT_4000cc71;
undefined1 DAT_400024bf;
undefined1 DAT_400024c1;
undefined1 DAT_400024c2;
undefined1 DAT_4000cc76;
undefined1 DAT_400024c3;
undefined1 DAT_4000cc7c;
undefined1 DAT_400024cb;
undefined1 DAT_4000cc84;
undefined1 DAT_400024cc;
undefined1 DAT_400024ea;
undefined2 DAT_4000252e;
undefined2 DAT_40002528;
undefined2 DAT_400024e4;
undefined2 DAT_400024e2;
undefined1 DAT_4000cc82;
undefined1 DAT_400024e9;
undefined1 DAT_4000cc83;
undefined1 DAT_400024e8;
undefined1 DAT_4000d43a;
undefined1 DAT_400023fc;
undefined1 DAT_4000d467;
undefined1 DAT_40002400;
undefined1 DAT_4000d468;
undefined1 DAT_40002404;
undefined1 DAT_4000d3bd;
undefined1 DAT_40002408;
undefined1 DAT_40002409;
undefined1 DAT_4000d3ba;
undefined1 DAT_400023d1;
undefined1 DAT_4000d3bb;
undefined1 DAT_400023d2;
undefined1 DAT_4000d3a7;
undefined1 DAT_400024e1;
undefined1 DAT_4000d3a8;
undefined1 DAT_40002412;
undefined1 DAT_4000d3a9;
undefined1 DAT_40002416;
undefined1 DAT_4000d3ab;
undefined1 DAT_400023d3;
undefined1 DAT_4000d3ac;
undefined1 DAT_400023d4;
undefined1 DAT_4000d3ad;
undefined1 DAT_400023d5;
undefined1 DAT_4000d452;
undefined1 DAT_400023d6;
undefined1 DAT_4000d472;
undefined1 DAT_400024a8;
undefined1 DAT_4000d474;
undefined1 DAT_400024ac;
undefined1 DAT_4000d3af;
undefined1 DAT_400023d7;
undefined1 DAT_4000d3b0;
undefined1 DAT_400023d8;
undefined1 DAT_4000d3b1;
undefined1 DAT_400023d9;
undefined1 DAT_4000d3b6;
undefined1 DAT_400023da;
undefined1 DAT_4000d3b7;
undefined1 DAT_400023db;
undefined1 DAT_4000d3b8;
undefined1 DAT_4000242a;
undefined1 DAT_4000d3b9;
undefined1 DAT_40002446;
undefined1 DAT_4000d426;
undefined1 DAT_400023dc;
undefined1 DAT_4000d427;
undefined1 DAT_400023dd;
undefined1 DAT_4000d428;
undefined1 DAT_40002432;
undefined1 DAT_4000d429;
undefined1 DAT_4000244a;
undefined1 DAT_4000d46c;
undefined1 DAT_4000244e;
u8_obd2level_t6 CAL_obd_ii_P0101_ips;
undefined1 DAT_4000d46d;
undefined1 DAT_40002452;
u8_obd2level_t6 CAL_obd_ii_P0101_manual;
undefined1 DAT_4000d469;
undefined1 DAT_400023e4;
undefined1 DAT_4000d46a;
undefined1 DAT_400023e5;
undefined1 DAT_4000d3c7;
undefined1 DAT_40002436;
undefined1 DAT_4000d3c8;
undefined1 DAT_4000243a;
undefined1 DAT_4000d42b;
undefined1 DAT_4000243e;
undefined1 DAT_4000d42c;
undefined1 DAT_40002442;
undefined1 DAT_4000d3c9;
undefined1 DAT_40002471;
undefined1 DAT_4000d3ca;
undefined1 DAT_40002474;
undefined1 DAT_4000d466;
undefined1 DAT_4000d3c2;
undefined1 DAT_4000245e;
undefined1 DAT_4000d3c1;
undefined1 DAT_4000245a;
undefined1 DAT_4000d415;
undefined1 DAT_40002466;
undefined1 DAT_4000d414;
undefined1 DAT_40002462;
undefined1 DAT_4000d46b;
undefined1 DAT_400023df;
undefined1 DAT_4000d406;
undefined1 DAT_400023e0;
undefined1 DAT_4000d443;
undefined1 DAT_400027f4;
undefined1 DAT_4000d403;
undefined1 DAT_400027f5;
undefined1 DAT_4000d444;
undefined1 DAT_400023de;
undefined1 DAT_4000d3b3;
undefined1 DAT_400024cd;
undefined1 DAT_4000d425;
undefined1 DAT_40002479;
undefined1 DAT_4000d445;
undefined1 DAT_400023e1;
undefined1 DAT_4000d45d;
undefined1 DAT_40002484;
undefined1 DAT_4000d446;
undefined1 DAT_400023e2;
undefined1 DAT_4000d447;
undefined1 DAT_400023e3;
undefined1 DAT_4000d456;
undefined1 DAT_4000247c;
undefined1 DAT_4000d457;
undefined1 DAT_4000247d;
undefined1 DAT_4000d458;
undefined1 DAT_40002480;
u8_obd2level_t6 CAL_obd_ii_P0578;
u8_obd2level_t6 CAL_obd_ii_P0579;
uint8_t DAT_40002538;
u8_temp_5/8-40c u8_temp_5/8-40c_4000ca13;
char DAT_40002540;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb23;
u8_temp_5/8-40c u8_temp_5/8-40c_4000cb21;
byte DAT_4000cadd;
uint DAT_4000253c;
byte DAT_40002530;
byte DAT_4000cadc;
byte DAT_40002539;
byte DAT_4000d3be;
u8_load_4mg/stroke[8] s_-G`y_4000dfd8;
undefined DAT_4000dfe0;
u8_obd2level_t6 CAL_obd_ii_P0128;
undefined1 DAT_4000d3be;
undefined1 DAT_40002539;
byte DAT_4000255e;
byte DAT_4000255a;
short DAT_40002548;
short DAT_4000255c;
ushort DAT_4000254a;
char DAT_4000254c;
u8_fuel_gal_x10 u8_fuel_gal_x10_40002551;
byte DAT_40002554;
byte DAT_4000cb3c;
byte DAT_4000cb41;
byte DAT_4000254d;
short DAT_4000cb42;
byte DAT_4000254e;
short DAT_40002552;
byte DAT_4000cb3e;
byte DAT_4000cb40;
byte DAT_4000cb3f;
char DAT_4000cb3d;
byte DAT_40004bb6;
uint DAT_40004bb0;
byte DAT_40004bb5;
byte DAT_40004bb4;
byte DAT_4000cb44;
byte DAT_4000cb90;
uint DAT_40004bb8;
byte DAT_4000cb45;
byte DAT_4000cb91;
byte DAT_4000cb92;
byte DAT_4000cb4d;
uint16_t DAT_40002560;
u8_obd2level_t6 CAL_obd_ii_P0461;
u8_obd2level_t6 CAL_obd_ii_P0451;
char DAT_40002567;
char DAT_4000cbb2;
char DAT_40002566;
char DAT_4000cbb3;
uint16_t DAT_40002556;
uint16_t DAT_40002558;
short DAT_4000cb4e;
char DAT_4000cbb5;
char DAT_40002563;
char DAT_40002562;
byte DAT_4000cbb4;
char DAT_40002564;
char DAT_40002565;
byte DAT_4000254f;
byte DAT_4000d413;
byte DAT_40002550;
byte DAT_4000d3d1;
undefined2 DAT_4000254a;
int DAT_4000199c;
int DAT_40001998;
undefined1 DAT_4000d413;
undefined1 DAT_4000254f;
undefined1 DAT_4000d3d1;
undefined1 DAT_40002550;
undefined1 DAT_4000cbb2;
undefined1 DAT_40002567;
undefined1 DAT_4000cbb3;
undefined1 DAT_40002566;
undefined1 DAT_4000cbb5;
undefined1 DAT_40002565;
undefined1 DAT_40002564;
undefined1 DAT_40002563;
undefined1 DAT_40002562;
undefined1 DAT_4000254e;
undefined1 DAT_4000254d;
undefined1 DAT_40002554;
undefined1 DAT_4000cb3d;
undefined1 DAT_4000254c;
undefined2 DAT_40002552;
ushort DAT_40008804;
uint16_t siu_pcr[196];
uint16_t siu_pcr[197];
uint16_t siu_pcr[142];
u8_time_100ms vvt_inlet_b1_zero_timer;
u8_time_100ms vvt_inlet_b2_zero_timer;
u8_time_100ms vvt_exhaust_b1_zero_timer;
u8_time_100ms vvt_exhaust_b2_zero_timer;
u8_time_100ms CAL_vvt_zero_target_timeout;
uint16_t siu_pcr[129];
byte DAT_400025e7;
short DAT_40002572;
int DAT_40002574;
int DAT_40002578;
byte DAT_400025c4;
ushort DAT_400016d8;
u16_angle_1/4deg u16_angle_1/4deg_400016c8;
u16_angle_1/4deg u16_angle_1/4deg_400016d0;
u32_angle_1/4deg u32_angle_1/4deg_400025a4;
int DAT_400025b4;
uint DAT_400025e0;
byte DAT_4000cb58;
char DAT_4000ca3d;
byte DAT_400025e6;
short DAT_4000257c;
int DAT_40002580;
int DAT_40002584;
ushort DAT_400016da;
u16_angle_1/4deg u16_angle_1/4deg_400016ca;
u16_angle_1/4deg u16_angle_1/4deg_400016d2;
u32_angle_1/4deg u32_angle_1/4deg_400025a8;
uint32_t uint32_t_400025b8;
u32_angle_1/4deg u32_angle_1/4deg_400025dc;
byte DAT_400025e5;
short DAT_40002588;
int DAT_4000258c;
int DAT_40002590;
char DAT_400025ca;
ushort DAT_400016dc;
u16_angle_1/4deg u16_angle_1/4deg_400016cc;
u16_angle_1/4deg u16_angle_1/4deg_400016d4;
u32_angle_1/4deg u32_angle_1/4deg_400025ac;
int DAT_400025bc;
uint DAT_400025d8;
byte DAT_400025e4;
short DAT_40002594;
int DAT_40002598;
int DAT_4000259c;
char DAT_400025cb;
ushort DAT_400016de;
u16_angle_1/4deg DAT_400016ce;
u16_angle_1/4deg DAT_400016d6;
u8_rspeed_125/4+500rpm[6] CAL_vvt_intake_advance_base_low_load_X_engine_speed;
u32_angle_1/4deg u32_angle_1/4deg_400025b0;
u8_load_4mg/stroke[6] CAL_vvt_intake_advance_base_low_load_Y_load;
int DAT_400025c0;
u8_angle_1/4deg[36] CAL_vvt_exhaust_advance_base_low_load;
uint DAT_400025d4;
u8_rspeed_125/4+500rpm[6] CAL_vvt_exhaust_advance_base_low_load_X_engine_speed;
undefined1 DAT_400025cc;
u8_load_4mg/stroke[6] CAL_vvt_exhaust_advance_base_low_load_Y_load;
u8_angle_1/4deg[16] CAL_vvt_exhaust_comp_temp;
u8_temp_5/8-40c[16] CAL_vvt_exhaust_comp_temp_X_coolant_temp;
u16_angle_1/4deg vvt_inlet_taget_calc_bank1;
u16_angle_1/4deg vvt_inlet_taget_calc_bank2;
u16_angle_1/4deg vvt_exhaust_taget_calc_bank1;
u16_angle_1/4deg vvt_exhaust_taget_calc_bank2;
bool vvt_intake_transition_complete;
bool vvt_exhaust_transition_complete;
u16_angle_1/4deg obd_ii_vvt_exhaust_target_bank2;
uint8_t vvt_exhaust_mode_flags;
u16_angle_1/4deg vvt_inlet_target_bank2;
u8_angle_1/4deg[36] CAL_vvt_intake_advance_base_low_load;
u8_temp_5/8-40c CAL_vvt_low_load_map_enable_temp;
u8_angle_1/4deg CAL_vvt_exhaust_min_position_unknown;
bool vvt_low_load_active;
bool CAL_vvt_low_load_disable;
u16_factor_1/255 CAL_vvt_error_gain_startup;
u8_angle_1/4deg[256] CAL_vvt_intake_advance_base;
u8_rspeed_125/4+500rpm[16] CAL_vvt_intake_advance_base_X_engine_speed;
u8_load_4mg/stroke[16] CAL_vvt_intake_advance_base_Y_load;
u8_angle_1/4deg[256] CAL_vvt_exhaust_advance_base;
u8_angle_1/4deg[16] CAL_vvt_intake_advance_coolant_offset;
u8_rspeed_125/4+500rpm[16] CAL_vvt_exhaust_advance_base_X_engine_speed;
u8_temp_5/8-40c[16] CAL_vvt_intake_advance_coolant_offset_X_temp;
u8_load_4mg/stroke[16] CAL_vvt_exhaust_advance_base_Y_load;
u8_time_100ms[8] CAL_vvt_start_timer;
u8_temp_5/8-40c[8] CAL_vvt_start_timer_X_coolant_temp;
undefined *DAT_40002574;
undefined *DAT_40002580;
undefined *DAT_4000258c;
undefined *DAT_40002598;
short DAT_40008814;
undefined DAT_00019000;
undefined DAT_fffe7000;
u8_time_5ms vvt_timer_20hz_unknown1;
byte emios_uc[2].uc[40];
byte emios_uc[2].uc[44];
byte emios_uc[2].uc[32];
byte emios_uc[2].uc[36];
byte emios_uc[2].uc[72];
byte emios_uc[2].uc[76];
byte emios_uc[2].uc[64];
byte emios_uc[2].uc[68];
byte emios_uc[0].uc[200];
byte emios_uc[0].uc[204];
byte emios_uc[0].uc[192];
byte emios_uc[0].uc[196];
ushort DAT_40008744;
uint16_t siu_pcr[204];
undefined2 DAT_400087e0;
undefined2 DAT_40002654;
uint16_t siu_pcr[185];
uint16_t siu_pcr[187];
struct_adc_smoothing_state struct_adc_smoothing_state_40006380;
struct_adc_smoothing_state tps_smooth_filter_state;
struct_adc_smoothing_state tps_unknown_history;
byte DAT_4000886f;
byte DAT_40008749;
byte DAT_40008704;
ushort DAT_40008872;
byte DAT_40008871;
ushort DAT_40002654;
byte DAT_40008870;
ushort DAT_400087e0;
uint8_t uint8_t_ARRAY_c3f906bb;
uint8_t uint8_t_ARRAY_c3f906cc;
undefined2 *DAT_40002668;
int DAT_4000265c;
uint16_t DAT_40002660;
ushort DAT_40002662;
byte DAT_40002652;
ushort DAT_40002656;
byte DAT_40002664;
byte DAT_40002658;
undefined2 DAT_40006320;
ushort DAT_4000633e;
uint16_t DAT_400026ae;
undefined2 DAT_400026ac;
undefined2 DAT_40006340;
ushort DAT_40004a3c;
ushort DAT_40004a3e;
ushort DAT_40008752;
ushort DAT_4000873e;
ushort DAT_40002632;
ushort DAT_40008754;
ushort DAT_40002636;
ushort DAT_40008756;
ushort DAT_40008742;
ushort DAT_40002634;
ushort DAT_40008758;
ushort DAT_40002638;
undefined2 DAT_4000263a;
undefined2 DAT_4000263c;
undefined2 DAT_4000263e;
undefined2 DAT_40002640;
char DAT_40002901;
char DAT_400029a2;
u16_factor_1/1023 DAT_40008856;
char DAT_40008869;
char DAT_40008868;
char DAT_40008867;
byte DAT_40008859;
char DAT_400016e0;
byte DAT_4000ccb6;
short DAT_4000ccb4;
u16_factor_1/1023 DAT_40002654;
u16_factor_1/1023 DAT_400087e2;
byte DAT_400087c6;
undefined1 DAT_40002676;
int DAT_4000262c;
u16_factor_1/1023 DAT_40002630;
undefined2 lfb_tps_max;
u16_factor_1/1023 tps_commanded_after_limits;
u16_factor_1/255 revlimit_tps_max;
u16_factor_1/4095 torque_limit_tps???;
enum_tps_smooth_step_flag tps_smoothing_step_flags;
bool revlimit_torque_cap_active;
bool CAL_revlimit_torque_clamp;
bool tps_torque_limit_applied;
undefined2 torque_limit_cooldown_timer;
u16_torque_nm torque_limit;
u8_torque_2nm[4] CAL_torque_limit_by_coolant;
u8_temp_5/8-40c[4] CAL_torque_limit_by_coolant_X_coolant;
u16_torque_nm torque_limit_temp;
u8_rspeed_125/4+500rpm[8] CAL_torque_limit_by_engine_speed_manual_X_engine_speed;
u16_torque_nm torque_limit_engine_speed;
u8_torque_2nm[8] CAL_torque_limit_by_engine_speed_manual;
u8_torque_2nm[8] CAL_torque_limit_by_engine_speed_ips;
u8_rspeed_125/4+500rpm[8] CAL_torque_limit_by_engine_speed_ips_X_engine_speed;
u8_factor_1/255[7] CAL_tpssmooth_decrement_comp_gears_ips;
u8_factor_1/255[7] CAL_tpssmooth_decrement_comp_gears_manual;
u8_factor_1/255 CAL_tpssmooth_increment_b_neutral_tour;
u16_factor_1/4095 tps_smooth;
u8_factor_1/255 CAL_tpssmooth_increment_b_neutral_sport;
uint16_t tpssmooth_decrement;
uint16_t tpssmooth_increment;
u8_factor_1/255 tpssmooth_decrement_a;
u8_factor_1/255 tpssmooth_decrement_b;
u8_factor_1/255[8] CAL_tpssmooth_decrement_by_delta;
u8_factor_1/255[8] CAL_tpssmooth_decrement_by_delta_X_tps_delta;
u8_factor_1/255[8] CAL_tpssmooth_decrement_by_rpm;
u8_rspeed_125/4+500rpm[8] CAL_tpssmooth_decrement_by_rpm_X_rpm;
u16_factor_1/1023 tps_requested_3;
u8_factor_1/255 tpssmooth_increment2;
u8_factor_1/255 tpssmooth_increment_b;
u8_voltage_5/255v CAL_tpssmooth_parking_clutch_threshold;
u8_factor_1/255[8] CAL_tpssmooth_increment_parking;
u8_factor_1/255[8] CAL_tpssmooth_increment_parking_X_tps_diff;
u8_factor_1/255[8] CAL_tpssmooth_increment_tour;
u8_factor_1/255[8] CAL_tpssmooth_increment_tour_X_tps_diff;
u8_factor_1/255[8] CAL_tpssmooth_increment_sport_X_tps_diff;
u8_factor_1/255[8] CAL_tpssmooth_increment_sport;
u8_factor_1/255[8] CAL_tpssmooth_increment_rpm;
u8_rspeed_125/4+500rpm[8] CAL_tpssmooth_increment_rpm_X_rpm;
u16_factor_1/1023 tps_unknown2;
u8_factor_1/255 CAL_tpssmooth_parking_threshold_tps;
u8_speed_kph CAL_tpssmooth_parking_threshold_carspeed;
u8_factor_1/255 throttle_actuator_commanded;
u8_gear CAL_tpssmooth_parking_threshold_gear;
u8_torque_2nm CAL_revlimit_torque_limit_confirmation_threshold;
uint16_t tpssmooth_step_timer;
uint16_t CAL_tpssmooth_step_timer;
undefined2 tps_diff?;
ushort DAT_4000874e;
ushort DAT_4000875a;
uint16_t DAT_4000268e;
uint16_t DAT_4000268c;
uint16_t DAT_4000268a;
uint16_t DAT_40002688;
int DAT_40002690;
char DAT_40001f20;
ushort DAT_4000873a;
ushort DAT_4000874a;
short DAT_400016e6;
undefined struct_tps_shaping_flags_40008168;
undefined struct_tps_shaping_flags_4000817c;
short DAT_40002610;
undefined1 DAT_4000260a;
uint16_t DAT_40002612;
int DAT_40002618;
undefined4 DAT_40002624;
undefined4 DAT_40002614;
undefined4 DAT_4000261c;
undefined4 DAT_40002628;
int DAT_40002620;
undefined DAT_4000b2f2;
undefined DAT_4000b312;
undefined2 tps_control_scheme???;
undefined2 DAT_40002608;
char DAT_40001e49;
ushort DAT_4000894a;
char DAT_400016ea;
byte DAT_40001f21;
byte DAT_400050f3;
byte DAT_40004b8d;
short DAT_400016e8;
byte DAT_40002646;
undefined1 DAT_40001f22;
ushort DAT_40002642;
ushort DAT_40002698;
ushort DAT_4000269a;
ushort DAT_40001f18;
ushort DAT_4000269c;
ushort DAT_40001f16;
char DAT_40002658;
short DAT_40002694;
char DAT_40002696;
ushort DAT_400026ae;
ushort DAT_400026ac;
undefined1 DAT_400081b9;
undefined4 DAT_400081c0;
undefined1 DAT_400016e1;
undefined1 DAT_40002648;
undefined2 tps_3;
undefined2 tps_unknown;
uint16_t tps_absolute?;
undefined1 tps_system_state;
byte DAT_40008937;
u16_time_ms u16_time_ms_4000894c;
u16_time_ms u16_time_ms_400026a6;
u16_factor_1/1023 u16_factor_1/1023_400026a0;
u16_factor_1/1023 DAT_4000269e;
byte DAT_40008933;
byte DAT_400026a8;
u8_factor_1/255 u8_factor_1/255_40008930;
ushort DAT_400026be;
byte DAT_40008935;
byte DAT_40008934;
u8_factor_1/255 CAL_lfb_tps_max;
uint8_t CAL_lfb_timer_entry;
uint8_t CAL_lfb_timer_hold;
u16_voltage_5/1023v CAL_lfb_clutch_threshold;
u16_time_ms lbf_entry_countdown_timer;
u16_time_ms lbf_hold_timer;
u8_speed_kph CAL_lfb_detect_carspeed_min;
bool CAL_lfb_pulse_enable;
bool lfb_requires_init;
uint16_t DAT_400026be;
ushort DAT_400026aa;
byte DAT_40008936;
short DAT_4000416a;
short DAT_400041f4;
short DAT_40004264;
uint32_t DAT_400040e8;
uint16_t DAT_400041f0;
short DAT_400041f6;
ushort DAT_400041f8;
short DAT_400041fa;
short DAT_400041fc;
u16_voltage_18/1023v DAT_40004a40;
uint16_t DAT_40004a42;
byte DAT_400041ff;
short DAT_40004168;
short DAT_400041a8;
undefined2 DAT_400041aa;
short DAT_400041f2;
undefined1 DAT_400026c4;
undefined1 DAT_400026bc;
undefined1 DAT_400026b8;
undefined1 DAT_400026c3;
undefined1 DAT_400026c2;
char DAT_400016f3;
char DAT_4000195c;
uint8_t uint8_t_ARRAY_fff480a2;
uint16_t CAL_knock_agc_scaling_threshold;
bool knock_sensor_new_data_available;
uint16_t[2] knock_sensor_level_b1;
uint16_t[2] knock_sensor_level_b2;
undefined1 knock_agc_reference_level???;
ushort[16] knock_level_scaled;
undefined1 knock_buffer_index;
enum_knock_mode CAL_knock_mode;
uint8_t knock_buffer_count;
undefined1 knock_curr_cylinder;
pointer[11] PTR_ARRAY_000d5930;
short[11] SHORT_ARRAY_40006900;
undefined1 knock_freq_bin_count;
byte[0] BYTE_ARRAY_400067f0;
bool knock_dsp_reset;
uint32_t[64] knock_energy_accum_per_bin;
char DAT_400016f1;
undefined1 DAT_40001fd3;
undefined1 DAT_40001fd2;
uint8_t knock_gain_mode;
u8_rspeed_125/4+500rpm[3] CAL_knock_agc_threshold;
u8_rspeed_125/4+500rpm CAL_knock_agc_hysteresis_band;
bool knock_agc_override;
int *PTR_40006a18;
int DAT_40006a1c;
undefined DAT_000d56b0;
int *[4] knock_freq_components???;
char DAT_400026c9;
undefined2 DAT_000d5730;
byte DAT_400026ce;
undefined1 DAT_000d57b0;
undefined2 DAT_000d5830;
pointer PTR_DAT_000d58b0;
undefined1 DAT_40002ac8;
undefined1 DAT_40002ad0;
undefined4 DAT_400063f0;
undefined4 DAT_400065f0;
flexcan_msg_buffer[64] fca_buffer;
uint32_t fca_buffer[23].arb_id;
uint32_t fcb_buffer[13].arb_id;
flexcan_msg_buffer[64] fcb_buffer;
uint fca_buffer[23].code_and_timestamp;
uint fcb_buffer[13].code_and_timestamp;
uint32_t fca_buffer[24].arb_id;
uint32_t fcb_buffer[14].arb_id;
uint fca_buffer[24].code_and_timestamp;
uint fcb_buffer[14].code_and_timestamp;
undefined DAT_40006a70;
undefined1 DAT_40006a84;
undefined1 DAT_40006a85;
byte DAT_40006a84;
byte DAT_40006a85;
undefined DAT_40006a86;
undefined DAT_40006a87;
undefined DAT_40006a88;
undefined DAT_40006a89;
undefined DAT_40006a8a;
undefined DAT_40006a8b;
undefined DAT_40006a8c;
undefined DAT_40006a8d;
undefined DAT_40006a7c;
undefined DAT_40006e50;
undefined2 DAT_40006ff4;
undefined2 DAT_40006ff6;
undefined1 DAT_40006ff8;
undefined1 DAT_40006ff9;
undefined1 DAT_40006ffa;
ushort DAT_40007f0a;
undefined DAT_40006a80;
undefined DAT_40006a74;
char DAT_40006a84;
undefined4 DAT_40001980;
undefined1 DAT_400016f8;
int DAT_400026e8;
undefined1 DAT_400026f5;
undefined1 DAT_400026f8;
undefined1 DAT_400026f3;
byte fca_buffer[22].data[0];
byte fca_buffer[22].data[1];
uint32_t fca_buffer[22].arb_id;
uint flexcan_01e0;
bool obd_ii_tx_messages_pending;
char DAT_400026f3;
char DAT_400026f2;
char DAT_400026f8;
char DAT_400026f4;
byte DAT_400026f9;
byte DAT_400026f5;
uint32_t fca_buffer[15].arb_id;
uint8_t uint8_t_ARRAY_fff480e4;
uint16_t siu_pcr[84];
uint8_t uint8_t_ARRAY_fff480e5;
uint8_t uint8_t_ARRAY_fff480e6;
uint8_t uint8_t_ARRAY_fff480e7;
uint8_t uint8_t_ARRAY_fff480e0;
uint8_t uint8_t_ARRAY_fff480e1;
uint8_t uint8_t_ARRAY_fff480e2;
uint8_t uint8_t_ARRAY_fff480e3;
uint32_t fca_buffer[6].arb_id;
uint32_t fca_buffer[14].arb_id;
uint8_t uint8_t_ARRAY_fff480e8;
uint fca_buffer[6].code_and_timestamp;
uint8_t uint8_t_ARRAY_fff480e9;
uint8_t uint8_t_ARRAY_fff480ea;
uint16_t siu_pcr[83];
uint8_t uint8_t_ARRAY_fff480eb;
uint32_t flexcan_a_interrupt_reg_flag_low;
uint32_t flexcan_a_interrupt_reg_flag_high;
uint8_t uint8_t_ARRAY_fff480dc;
uint32_t fca_buffer[5].arb_id;
uint32_t fca_buffer[13].arb_id;
uint32_t fca_buffer[21].arb_id;
uint8_t uint8_t_ARRAY_fff480dd;
uint8_t uint8_t_ARRAY_fff480de;
uint8_t uint8_t_ARRAY_fff480df;
uint fca_buffer[5].code_and_timestamp;
uint fca_buffer[21].code_and_timestamp;
uint8_t uint8_t_ARRAY_fff480db;
uint steering_angle_can;
uint flexcan_msg_buffer_303;
uint can_buffer_cluster;
uint can_buffer_abs;
uint32_t fca_buffer[4].arb_id;
uint32_t fca_buffer[12].arb_id;
uint32_t fca_buffer[20].arb_id;
uint fca_buffer[12].code_and_timestamp;
uint32_t fca_buffer[3].arb_id;
uint32_t fca_buffer[11].arb_id;
uint32_t fca_buffer[19].arb_id;
uint fca_buffer[3].code_and_timestamp;
uint fca_buffer[11].code_and_timestamp;
uint fca_buffer[19].code_and_timestamp;
undefined4 DAT_fffc0028;
undefined4 DAT_fffc0024;
uint32_t fca_buffer[2].arb_id;
uint32_t fca_buffer[10].arb_id;
uint32_t fca_buffer[18].arb_id;
uint dev_mode_log_request;
uint fca_buffer[2].code_and_timestamp;
uint fca_buffer[10].code_and_timestamp;
uint fca_buffer[18].code_and_timestamp;
uint dev_mode_log_response;
undefined4 DAT_fffc0018;
undefined4 DAT_fffc0014;
uint32_t fca_buffer[1].arb_id;
uint32_t fca_buffer[9].arb_id;
uint32_t fca_buffer[25].arb_id;
undefined4 DAT_fffc0010;
uint fca_buffer[1].code_and_timestamp;
uint fca_buffer[9].code_and_timestamp;
uint fca_buffer[17].code_and_timestamp;
uint fca_buffer[25].code_and_timestamp;
undefined4 DAT_fffc0004;
uint32_t fca_buffer[0].arb_id;
uint32_t fca_buffer[16].arb_id;
undefined4 DAT_fffc0000;
uint fca_buffer[8].code_and_timestamp;
undefined2 DAT_40002714;
char DAT_400029e8;
char DAT_400029e9;
ushort DAT_4000170c;
undefined1 DAT_4000284f;
undefined1 DAT_4000284e;
ushort DAT_4000170e;
undefined4 DAT_fffc0008;
uint8_t rolling_counter_can_mesg_0xb7;
undefined2 torque_12bit_raw_signed;
u16_torque_nm torque_limit_external_req1;
undefined2 torque_limit_external_req2;
bool flexcan_mesg_0xb7_is_7byte;
undefined2 torque_limit_external_req3;
ushort DAT_400029de;
short DAT_400026b2;
short DAT_400026b4;
undefined1 DAT_40002738;
u16_torque_nm u16_torque_nm_4000173c;
u16_torque_nm DAT_4000173e;
undefined1 DAT_40002850;
uint8_t ambiant_air_temp_unscaled;
byte fca_buffer[3].data[0];
byte fca_buffer[3].data[1];
byte fca_buffer[3].data[2];
byte[5] dash_values;
byte steering_angle_rate???;
ushort DAT_400029e2;
bool ip_message_250_flags_unknown;
undefined1 DAT_40001780;
byte DAT_400029a2;
undefined1 DAT_40001dec;
undefined1 DAT_400029e6;
undefined1 DAT_400029e7;
byte DAT_40001746;
ushort DAT_40002764;
ushort DAT_40002762;
ushort DAT_40002760;
ushort DAT_4000275e;
undefined2 DAT_4000274c;
undefined2 DAT_4000274a;
undefined2 DAT_40002748;
undefined2 DAT_40002746;
undefined2 DAT_4000275c;
undefined2 DAT_4000275a;
undefined2 DAT_40002758;
undefined2 DAT_40002756;
undefined2 DAT_40002754;
undefined2 DAT_40002752;
byte fca_buffer[6].data[4];
undefined2 DAT_40002750;
byte fca_buffer[6].data[5];
undefined2 DAT_4000274e;
byte fca_buffer[6].data[6];
byte fca_buffer[6].data[7];
byte fca_buffer[6].data[0];
byte fca_buffer[6].data[1];
byte fca_buffer[6].data[2];
byte fca_buffer[6].data[3];
char DAT_40002716;
undefined1 DAT_40002728;
byte DAT_40002729;
byte DAT_4000272a;
byte DAT_4000272b;
byte DAT_4000272c;
byte DAT_4000272d;
byte DAT_4000272e;
byte DAT_4000272f;
byte fca_buffer[12].data[4];
byte fca_buffer[12].data[5];
byte fca_buffer[12].data[6];
byte fca_buffer[12].data[7];
byte fca_buffer[12].data[0];
byte fca_buffer[12].data[1];
byte fca_buffer[12].data[2];
byte fca_buffer[12].data[3];
uint8_t DAT_40002740;
undefined2 imu_gyro;
i16_accel_1/2550g imu_accel_long???;
byte DAT_40002720;
char DAT_400029eb;
byte DAT_40002721;
u16_distance_mm_div2 CAL_wheel_speed_multiplier_front;
uint8_t uint8_t_400029ed;
undefined1 DAT_40002851;
byte DAT_40002705;
undefined1 flexcan_frame_len;
byte DAT_40002706;
byte[2] abs_unknown;
byte abs_unknown2;
undefined1 abs_unknown3;
uint8_t timer_wheelspeed_front_corrupt;
uint8_t timer_wheelspeed_rear_corrupt;
u16_distance_mm_div2 CAL_wheel_speed_multiplier_rear;
byte fca_buffer[15].data[4];
byte *DAT_40002734;
byte *DAT_40002730;
byte fca_buffer[15].data[0];
ushort DAT_40002710;
ushort DAT_40002712;
byte *DAT_4000270c;
byte fca_buffer[16].data[0];
undefined4 dm_data_buffer;
byte fca_buffer[21].data[4];
char DAT_4000284c;
byte fca_buffer[21].data[5];
byte fca_buffer[21].data[6];
byte fca_buffer[21].data[7];
byte fca_buffer[21].data[0];
byte fca_buffer[21].data[1];
byte fca_buffer[21].data[2];
byte fca_buffer[21].data[3];
byte DAT_400026f2;
byte DAT_400026f4;
byte fca_buffer[20].data[4];
byte fca_buffer[20].data[5];
byte fca_buffer[20].data[6];
byte fca_buffer[20].data[0];
byte fca_buffer[20].data[2];
byte fca_buffer[20].data[3];
byte fca_buffer[25].data[0];
byte fca_buffer[25].data[1];
byte fca_buffer[25].data[2];
byte fca_buffer[25].data[3];
u16_torque_nm torque_alphaN_net;
undefined4 DAT_fffc0020;
byte fca_buffer[11].data[4];
byte fca_buffer[11].data[5];
byte fca_buffer[11].data[6];
byte fca_buffer[11].data[7];
byte fca_buffer[11].data[0];
byte fca_buffer[11].data[1];
byte fca_buffer[11].data[2];
byte fca_buffer[11].data[3];
undefined2 DAT_4000170c;
byte fca_buffer[18].data[4];
byte fca_buffer[18].data[5];
byte fca_buffer[18].data[6];
byte fca_buffer[18].data[7];
byte fca_buffer[18].data[0];
byte fca_buffer[18].data[1];
byte fca_buffer[18].data[2];
byte fca_buffer[18].data[3];
uint8_t uint8_t_ARRAY_fff480f5;
uint8_t uint8_t_ARRAY_fff480f6;
uint8_t uint8_t_ARRAY_fff480fc;
uint16_t siu_pcr[88];
uint8_t uint8_t_ARRAY_fff480fd;
uint8_t uint8_t_ARRAY_fff480fe;
uint fcb_buffer[3].code_and_timestamp;
uint fcb_buffer[7].code_and_timestamp;
uint fcb_buffer[11].code_and_timestamp;
uint fcb_buffer[15].code_and_timestamp;
undefined4 DAT_fffc802c;
undefined4 DAT_fffc8028;
uint16_t siu_pcr[87];
undefined4 DAT_fffc8024;
uint32_t fcb_buffer[6].arb_id;
uint fcb_buffer[2].code_and_timestamp;
uint fcb_buffer[6].code_and_timestamp;
uint fcb_buffer[10].code_and_timestamp;
undefined4 flexcan_c_flag_interrupt_reg_low;
undefined4 DAT_fffc8018;
undefined4 DAT_fffc8014;
uint32_t fcb_buffer[5].arb_id;
undefined4 DAT_fffc8010;
uint fcb_buffer[1].code_and_timestamp;
uint fcb_buffer[5].code_and_timestamp;
uint fcb_buffer[9].code_and_timestamp;
undefined4 DAT_fffc8004;
uint32_t fcb_buffer[0].arb_id;
uint32_t fcb_buffer[12].arb_id;
undefined4 DAT_fffc8000;
uint fcb_buffer[4].code_and_timestamp;
uint fcb_buffer[8].code_and_timestamp;
uint fcb_buffer[12].code_and_timestamp;
byte fcb_buffer[5].data[4];
undefined2 DAT_40002768;
uint16_t DAT_4000276a;
undefined2 DAT_4000276e;
byte fcb_buffer[5].data[0];
byte DAT_4000276c;
byte fcb_buffer[5].data[1];
uint16_t DAT_40002770;
byte fcb_buffer[5].data[2];
uint16_t[8] uint16_t_ARRAY_4000ed6a;
byte fcb_buffer[5].data[3];
uint16_t[8] uint16_t_ARRAY_4000ed7a;
undefined4 DAT_fffc8008;
uint16_t DAT_40002772;
undefined2 DAT_40002776;
byte DAT_40002774;
uint16_t DAT_40002778;
byte fcb_buffer[6].data[4];
byte fcb_buffer[6].data[0];
byte fcb_buffer[6].data[1];
byte fcb_buffer[6].data[2];
byte fcb_buffer[6].data[3];
undefined1 DAT_40002780;
byte DAT_40002781;
byte DAT_40002782;
byte DAT_40002783;
byte DAT_40002784;
byte DAT_40002785;
byte DAT_40002786;
byte DAT_40002787;
byte fcb_buffer[12].data[4];
byte fcb_buffer[12].data[5];
byte fcb_buffer[12].data[6];
byte fcb_buffer[12].data[7];
byte fcb_buffer[12].data[0];
byte fcb_buffer[12].data[1];
byte fcb_buffer[12].data[2];
byte fcb_buffer[12].data[3];
undefined4 DAT_fffc8020;
byte[4] obd_ii_mode01_supported_pids_0_20;
byte[4] obd_ii_mode01_supported_pids_20_40;
byte[4] obd_ii_mode01_supported_pids_40_60;
byte[4] obd_ii_mode01_supported_pids_60_80;
byte[4] obd_ii_mode01_supported_pids_80_100;
uint8_t CAL_obd_ii_o2_sensors_present;
uint8_t CAL_obd_ii_fuel_type;
u16_flow_g/s obd_ii_fuel_rate1;
u16_flow_g/s obd_ii_fuel_rate2;
pointer switchdataD_400010c8;
undefined1 obd_MIL_and_DTC;
uint8_t obd_ii_common_tests_complete;
u8_percent_-125 obd_ii_engine_friction_percent_torque;
u8_percent_-125 obd_ii_engine_actual_torque_percent;
u16_torque_nm obd_ii_engine_reference_torque_nm;
u16_flow_kg/h obd_ii_engine_exhaust_flow_rate;
u16_torque_nm CAL_obd_ii_engine_reference_torque_manual;
u16_torque_nm CAL_obd_ii_engine_reference_torque_ips;
u16_torque_nm obd_ii_engine_torque;
u16_torque_nm engine_friction_torque;
byte[4] obd_ii_FF_supported_pids_0_20;
byte[4] obd_ii_FF_supported_pids_20_40;
byte[4] obd_ii_FF_supported_pids_40_60;
byte[4] obd_ii_FF_supported_pids_60_80;
byte DAT_400027c5;
struct_esci_control_registers esci_a;
uint32_t esci_a.sr;
uint32_t esci_a.lpr;
uint8_t uint8_t_ARRAY_fff480d2;
uint32_t esci_a.lcr;
uint16_t siu_pcr[89];
uint16_t siu_pcr[90];
uint16_t esci_a.cr2;
char DAT_400027c5;
byte DAT_400027c6;
undefined DAT_40008148;
byte DAT_400027c7;
uint16_t esci_a.dr+1;
undefined1 DAT_400027c4;
byte[32] esci_a_buffer;
undefined1 esci_a_buffer_len;
byte DAT_400027c4;
byte DAT_400027c1;
undefined1 DAT_400027c5;
undefined1 DAT_400027c6;
undefined1 DAT_400027c7;
byte DAT_400027c0;
undefined1 DAT_40008110;
byte DAT_40008111;
undefined1 esci_seq_number;
int DAT_400027d0;
undefined1 DAT_40002646;
char DAT_40008688;
char DAT_40008111;
undefined1 DAT_40008112;
byte DAT_40008113;
undefined1 DAT_400050ea;
undefined1 DAT_40008114;
undefined1 DAT_400050ec;
undefined1 DAT_40008115;
undefined1 DAT_400050ed;
undefined1 DAT_40008116;
undefined1 DAT_400050ee;
undefined1 DAT_40008117;
undefined1 DAT_400050ef;
undefined1 DAT_40008118;
undefined1 DAT_400050f0;
undefined1 DAT_40008119;
undefined1 DAT_400050f1;
undefined1 DAT_4000811a;
undefined1 DAT_400050f2;
undefined1 DAT_4000811b;
undefined1 DAT_400050f3;
undefined1 DAT_4000811c;
undefined1 DAT_400050f4;
undefined1 DAT_4000811d;
undefined1 DAT_400050f5;
undefined1 DAT_4000811e;
undefined1 DAT_4000811f;
byte DAT_40008120;
byte DAT_40004bd8;
byte DAT_40008121;
byte DAT_40004bd9;
byte DAT_40008122;
byte DAT_40004bda;
byte DAT_40008123;
byte DAT_40004bdb;
byte DAT_40008124;
byte DAT_40004bdc;
int DAT_400027cc;
undefined4 DAT_400027d0;
short DAT_400027c8;
undefined PTR_DAT_40001710;
u16_speed_1/100kph u16_speed_1/100kph_40002806;
u16_speed_1/100kph u16_speed_1/100kph_400027f0;
short DAT_400027e2;
short DAT_400027fe;
byte DAT_4000880f;
short DAT_400027e4;
short DAT_40002800;
byte DAT_40008810;
u8_factor_1/100 cruise_integral_gain;
short DAT_400027e6;
u8_factor_1/100[4] CAL_cruise_integral_gain_manual_longbox;
u8_factor_1/100[4] CAL_cruise_integral_gain_manual_cr;
short DAT_4000280a;
u8_factor_1/100[4] CAL_cruise_integral_gain_ips;
byte DAT_400027f4;
u8_gear[4] CAL_cruise_integral_gain_ips_X_gear;
byte DAT_4000d443;
u8_gear[4] CAL_cruise_integral_gain_manual_longbox_X_gear;
u8_gear[4] CAL_cruise_integral_gain_manual_cr_X_gear;
byte DAT_40002819;
byte DAT_4000cbd0;
byte DAT_400027f5;
byte DAT_4000d403;
undefined1 DAT_40002818;
char DAT_400023de;
u8_speed_kph CAL_cruise_speed_deadband;
undefined2 cruise_flags_unknown;
u8_speed_kph CAL_cruise_speed_error_limit;
u8_gear[4] s__40008bd6;
undefined2 cruise_switch_unknown_voltage2;
undefined DAT_40008bda;
u8_gear[4] s__40008be6;
undefined DAT_40008bea;
u8_gear[4] s__40008d66;
undefined DAT_40008d6a;
u8_gear[4] s__40008d76;
undefined DAT_40008d7a;
u8_gear[4] s__4000946a;
undefined DAT_4000946e;
u8_gear[4] s__4000947a;
undefined DAT_4000947e;
undefined2 DAT_400027fe;
undefined2 DAT_40002800;
undefined2 DAT_400027e6;
undefined2 DAT_400027e4;
undefined2 DAT_400027e2;
undefined2 DAT_400027e8;
undefined2 DAT_40001720;
undefined1 DAT_4000280c;
u8_factor_1/255 cruise_tps_factor;
byte DAT_40008862;
byte DAT_40008863;
byte DAT_40008891;
byte DAT_40008892;
byte DAT_40001723;
byte DAT_40001724;
short DAT_40002810;
short DAT_40002814;
char DAT_4000281b;
u8_gear u8_gear_40001722;
byte DAT_400027f8;
byte DAT_400027f9;
byte DAT_400027fa;
byte DAT_400087cd;
char DAT_40001718;
char DAT_4000171b;
byte DAT_4000880d;
ushort DAT_4000893c;
char DAT_4000171a;
undefined1 DAT_40002812;
char DAT_40001719;
char DAT_4000171e;
byte DAT_4000886e;
ushort DAT_40001720;
ushort DAT_400027e8;
undefined PTR_DAT_40001728;
byte DAT_4000281d;
byte DAT_4000893e;
byte DAT_4000886d;
ushort DAT_40001726;
char DAT_4000280c;
char DAT_4000171c;
enum_t6e_gear DAT_40002816;
byte DAT_400088af;
byte DAT_400088b0;
byte DAT_400087ea;
char DAT_4000171d;
u16_speed_1/100kph DAT_4000280e;
u16_speed_1/100kph DAT_400027fc;
byte DAT_400087eb;
short DAT_40002802;
short DAT_4000886a;
byte DAT_40008865;
byte DAT_40008866;
char DAT_40002804;
char DAT_40008716;
byte DAT_40002817;
char DAT_40002818;
char DAT_40002819;
undefined DAT_4000e4d8;
undefined DAT_4000e4e0;
u8_speed_kph[2] CAL_cruise_speed_limit;
bool revlimit_limp_mode_active;
u8_speed_1/10kph CAL_cruise_speed_increment;
undefined1 cruise_switch_pos_unknown;
u16_torque_nm u16_torque_nm_4000287a;
u16_torque_nm u16_torque_nm_40001744;
i16_angle_1/4deg i16_angle_1/4deg_40002878;
ushort DAT_40002866;
byte DAT_40001751;
byte DAT_40001752;
u16_torque_nm u16_torque_nm_40002864;
u16_torque_nm u16_torque_nm_4000283a;
u16_torque_nm u16_torque_nm_4000285e;
u16_torque_nm torque_external_limit1_ign???;
short DAT_40002846;
u16_torque_nm torque_external_limit2_tps???;
short DAT_4000174a;
u16_torque_nm torque_limit_external_net;
u16_torque_nm torque_external_request_final;
u16_torque_nm torque_limit_external_and_internal;
u16_torque_nm torque_limit_internal???;
u8_time_10ms torque_timer_unknown1;
u8_factor_1/255[256] CAL_torque_?6;
u8_rspeed_125/4+500rpm[16] CAL_torque_?6_X_engine_speed;
u8_factor_1/255 torque_limit_external_factor;
u8_load_4mg/stroke[16] CAL_torque_?6_Y_load;
u8_factor_1/255 torque_reduction_factor;
u8_factor_1/255 trqlimit6;
undefined1 constant_42;
undefined2 intermediate_calc1;
u8_factor_1/255 torque_reduction_factor_ign;
u8_torque_nm[400] CAL_torque_engine_friction_speed_component;
u8_rspeed_125/4+500rpm[20] CAL_torque_engine_friction_speed_component_X_engine_speed;
u8_load_1173mg/255stroke[20] CAL_torque_engine_friction_speed_component_Y_load;
u16_torque_nm[256] CAL_torque_load_to_torque;
uint16_t[16] CAL_torque_load_to_torque_X_engine_speed;
uint16_t[16] CAL_torque_load_to_torque_Y_load;
u16_factor_1/1023 torque_limit_tps_current;
u16_factor_1/1023 torque_to_tps_cal;
u16_load_1173mg/255stroke load_from_torque_limit5;
u8_factor_1/100 torque_to_tps_lea;
u16_load_1173mg/255stroke load_estimated_alphaN;
i16_angle_1/4deg trqlimit_ign_base_delta_from_mbt;
u8_rspeed_125/4+500rpm[16] CAL_torque_external_request_minimum_X_engine_speed;
u16_torque_nm[16] CAL_torque_torque_to_load_Y_torque;
u8_torque_4nm[16] CAL_torque_external_request_minimum_Y_torque;
u16_angle_1/4deg ign_comp_torque_reduction_unclipped;
uint8_t[256] CAL_torque_external_request_minimum;
u16_load_mg/stroke[256] CAL_torque_torque_to_load;
uint8_t[256] CAL_torque_factor_base_engine_speed_load;
uint8_t[16] CAL_torque_factor_base_engine_speed_load_X_engine_speed;
uint8_t[16] CAL_torque_factor_base_engine_speed_load_Y_load;
u8_angle_1/4-64deg[256] CAL_torque_ign_retard_base;
u8_rspeed_125/4+500rpm[16] CAL_torque_ign_retard_base_X_engine_speed;
u8_factor_1/255[16] CAL_torque_ign_retard_base_Y_torque_reduction_factor;
u8_factor_1/255[256] CAL_torque_factor_base_ign_intervention;
uint8_t[16] CAL_torque_factor_base_ign_intervention_X_engine_speed;
u8_angle_1/4deg[16] CAL_torque_factor_base_ign_intervention_Y_ign_adv;
u16_angle_1/4deg ign_retard_knock_avg;
undefined1 torque_fact_base;
undefined2 torque_estimated_actual_load;
undefined1 trqlimit_intervention_level;
undefined1 torque_fact_base_ign_intervention;
undefined2 torque_fact_base_speed_and_load;
i16_angle_1/4deg torque_ign_adv_from_intervention;
uint16_t[16] CAL_torque_torque_to_load_X_engine_speed;
u16_load_1173mg/255stroke load_learned_alphaN;
u16_torque_nm torque_estimated_alphaN;
u16_torque_nm torque_engine_friction_base;
undefined2 torque_engine_friction_base;
uint8_t[8] CAL_torque_engine_ac_load_scaler;
undefined2 torque_engine_friction_coolant;
u8_rspeed_125/4+500rpm[8] CAL_torque_engine_ac_load_scaler_X_engine_speed;
undefined2 torque_engine_friction_accessory;
undefined1 torque_engine_friction_comp_engine_speed;
undefined2 torque_engine_friction_unknown_scaled;
u8_torque_nm[64] CAL_torque_engine_friction_temp_component;
u8_temp_5/8-40c[8] CAL_torque_engine_friction_temp_component_X_coolant;
u8_load_4mg/stroke[8] CAL_torque_engine_friction_temp_component_Y_load;
u8_torque_nm[16] CAL_torque_engine_ac_load_base;
uint8_t[16] CAL_torque_engine_ac_load_base_X_ac;
u16_load_mg/stroke load_density_compensated;
undefined2 tps_from_load_lea;
ushort DAT_400019ea;
u16_factor_1/1023 u16_factor_1/1023_4000288e;
u16_factor_1/1023 u16_factor_1/1023_40002890;
char DAT_40002892;
char DAT_40008989;
byte DAT_4000898a;
u16_factor_1/1023 u16_factor_1/1023_40002898;
byte DAT_40008876;
uint DAT_40002894;
ushort DAT_4000ccb0;
ushort DAT_4000ccb2;
u16_torque_nm torque_adjusted1;
uint8_t[8] CAL_torque_unknown6;
uint8_t[8] CAL_torque_unknown6_X_unknown;
u16_factor_1/1023 CAL_torque_unknown_tps_clamp1;
u16_factor_1/1023 CAL_torque_unknown_tps_clamp2;
uint8_t[8] CAL_torque_unknown7;
uint8_t[8] CAL_torque_unknown7_X_unknown;
undefined1 torque_flags_unknown;
u16_factor_1/1023 CAL_torque_unknown_tps_clamp3;
u16_factor_1/1023 CAL_torque_unknown_tps_clamp4;
undefined2 torque_or_tps_error_unknown;
char DAT_4000284f;
u8_time_10ms u8_time_10ms_40002858;
u8_time_10ms DAT_400086a4;
char DAT_4000284e;
char DAT_40002850;
u8_time_10ms u8_time_10ms_40002876;
u8_time_10ms u8_time_10ms_40002859;
u16_torque_nm u16_torque_nm_40001762;
u16_torque_nm u16_torque_nm_40001764;
byte DAT_40002857;
u16_torque_nm DAT_40001740;
u8_time_5ms brake_timer2;
u16_torque_nm u16_torque_nm_40001766;
u16_torque_nm DAT_40001742;
u16_torque_nm u16_torque_nm_40001768;
undefined1 DAT_4000285c;
char DAT_4000285b;
undefined1 DAT_4000285d;
u16_torque_nm u16_torque_nm_4000175a;
u16_torque_nm u16_torque_nm_4000175c;
u16_torque_nm u16_torque_nm_40001758;
undefined1 DAT_40002874;
u8_torque_2nm u8_torque_2nm_400088dd;
byte DAT_400088dc;
byte DAT_40002871;
u16_rspeed_rpm u16_rspeed_rpm_4000874c;
u8_torque_nm u8_torque_nm_40008746;
char DAT_40002873;
uint16_t CAL_cruise_brake_timer???_default;
u16_torque_nm torque_limit_intermediate_ign?;
u16_torque_nm torque_limit_intermediate_tps?;
u16_time_10ms cruise_brake_timer???;
u8_torque_nm CAL_torque_hysteresis_threshold1;
u8_time_10ms u8_time_10ms_4000176b;
char DAT_40002874;
byte DAT_4000885f;
undefined4 torque_limit_tps_accumlator;
u8_time_5ms torque_timer_primary_unknown;
byte DAT_400086b7;
char DAT_400086ca;
char DAT_400028ab;
char DAT_400028de;
char DAT_400086c6;
short DAT_400028e8;
byte DAT_40008787;
short DAT_400028ea;
byte DAT_40008786;
u8_temp_1/10C u8_temp_1/10C_40008707;
short DAT_400028e0;
char DAT_400028e2;
byte DAT_40008708;
byte DAT_40008718;
u16_time_5ms CAL_ac_compressor_runtime_min;
undefined2 ac_compressor_flags;
u8_factor_1/255 CAL_ac_compressor_max_throttle;
u8_factor_1/255 CAL_ac_compressor_max_coolant_temp_max;
u8_rspeed_125/4+500rpm CAL_ac_compressor_engine_speed_max;
u8_rspeed_125/4+500rpm[2] CAL_ac_compressor_engine_speed2;
u8_speed_kph[2] CAL_ac_compressor_deactivate_car_speed;
u8_rspeed_4rpm[2] CAL_ac_compressor_engine_speed3;
u8_factor_1/255 CAL_ac_compressor_max_coolant_temp_min;
u8_rspeed_125/4+500rpm CAL_ac_compressor_engine_speed_min;
char DAT_400031da;
byte DAT_400086d5;
ushort DAT_400028c6;
char DAT_400028a0;
undefined1 DAT_4000871e;
undefined1 DAT_40001771;
undefined2 DAT_400028b2;
undefined2 DAT_400028b4;
undefined2 DAT_400028b6;
undefined2 DAT_400028dc;
undefined2 DAT_400028b8;
undefined2 DAT_400028ba;
undefined2 DAT_400028bc;
undefined2 DAT_400028c4;
undefined1 DAT_40008727;
undefined1 DAT_40001773;
byte DAT_4000873c;
short DAT_400028d2;
u8_count CAL_ac_evap_timer_ticks_5ms;
byte DAT_4000873d;
short DAT_400028d4;
u16_temp_1/10C DAT_400028e4;
undefined1 DAT_400028e7;
ushort DAT_40008724;
uint16_t siu_pcr[130];
byte DAT_400031d8;
byte DAT_400028ac;
char DAT_400028c2;
undefined1 DAT_400028a0;
undefined1 DAT_400086b8;
undefined1 DAT_400028a9;
u8_time_10ms u8_time_10ms_400028a8;
undefined1 ac_compressor_commaded;
u8_time_5ms u8_time_5ms_40001772;
ushort DAT_400028be;
u8_temp_1/10C u8_temp_1/10C_4000871f;
u16_temp_1/10C u16_temp_1/10C_400028c0;
char DAT_400028e6;
byte DAT_400028e2;
char DAT_40008719;
char DAT_400028a9;
byte DAT_40008729;
char DAT_40008727;
char DAT_40001773;
u8_time_5ms ac_10hz_timer;
byte DAT_4000871e;
byte DAT_40001771;
byte DAT_40008736;
ushort DAT_400028f0;
short DAT_400028bc;
byte DAT_40008721;
short DAT_400028b4;
u16_temp_1/10C DAT_400028ee;
short DAT_400028b6;
short DAT_400028dc;
short DAT_400028b2;
char DAT_400028d7;
char DAT_40008748;
ushort DAT_400028e0;
byte DAT_40008778;
byte DAT_40008747;
byte DAT_40008779;
byte DAT_40008722;
char DAT_400028e7;
ushort DAT_400028b8;
short DAT_400028ba;
byte DAT_40008740;
byte DAT_40008741;
byte DAT_40008720;
char DAT_400028d8;
char DAT_4000870a;
short DAT_400028ec;
byte DAT_4000870b;
byte DAT_40008723;
char DAT_400086cc;
char DAT_400028aa;
ushort DAT_400028c4;
short DAT_400028c6;
undefined2 ac_load_???;
undefined DAT_40009182;
undefined DAT_4000918a;
uint8_t[4] CAL_ac_load_limit;
u8_rspeed_125/4+500rpm[4] CAL_ac_load_limit_X_rpm;
short DAT_400028b0;
ushort DAT_400028f8;
byte DAT_4000887b;
uint DAT_400028f4;
ushort DAT_4000cb66;
short DAT_400028ca;
byte DAT_400028c8;
byte DAT_4000d44a;
ushort DAT_4000cb68;
short DAT_400028ce;
byte DAT_400028cc;
byte DAT_4000d44b;
ushort DAT_400028b0;
undefined2 DAT_400028fe;
byte DAT_4000cb4c;
undefined2 DAT_400028fa;
undefined2 DAT_400028fc;
byte DAT_4000cb5d;
short DAT_400028d0;
byte DAT_4000cb5e;
u8_obd2level_t6 CAL_obd_ii_P0537;
u8_obd2level_t6 CAL_obd_ii_P0538;
u8_obd2level_t6 CAL_obd_ii_P1422;
undefined1 DAT_4000d44a;
undefined1 DAT_400028c8;
undefined1 DAT_4000d44b;
undefined1 DAT_400028cc;
undefined *DAT_400081c0;
undefined2 DAT_400081c4;
undefined2 DAT_400081c6;
undefined2 DAT_400081c8;
undefined1 DAT_400081bb;
undefined1 DAT_400081bc;
bool tps_sensor_track_d_preferred;
undefined1 DAT_40002933;
struct_tps_shaping_flags struct_tps_shaping_flags_40008168;
uint8_t accel_pedal_diag_state;
ushort DAT_4000cb56;
ushort DAT_4000cb54;
struct_tps_shaping_flags struct_tps_shaping_flags_4000817c;
ushort DAT_4000263a;
u16_factor_1/1023 DAT_40002906;
u16_factor_1/1023 DAT_40002908;
u16_factor_1/1023 DAT_40002904;
ushort DAT_4000263e;
short DAT_40002914;
ushort DAT_4000263c;
u16_factor_1/1023 DAT_4000290e;
u16_factor_1/1023 DAT_40002910;
u16_factor_1/1023 DAT_4000290c;
ushort DAT_40002640;
short DAT_40002916;
ushort DAT_4000ca84;
short DAT_40002912;
short DAT_40002918;
ushort DAT_4000ca82;
undefined1 DAT_400081a4;
undefined1 DAT_400081b8;
short DAT_4000291c;
short DAT_4000291a;
undefined *PTR_DAT_4000152c;
undefined *PTR_DAT_40001528;
undefined *PTR_DAT_40001530;
undefined *PTR_DAT_40001534;
undefined1 DAT_40002901;
char DAT_400081a5;
undefined DAT_fffffff0;
uint16_t[2] CAL_sensor_tps_voltage_theshold???;
struct_tps_shaping_flags tps_within_tolerance_unknown;
undefined2 DAT_40002922;
undefined2 DAT_40002924;
undefined2 DAT_40002920;
u16_factor_1/1023 DAT_4000292a;
u16_factor_1/1023 DAT_4000292c;
u16_factor_1/1023 DAT_40002928;
ushort DAT_4000ca58;
struct_tps_shaping_flags struct_tps_shaping_flags_4000821c;
struct_tps_shaping_flags struct_tps_shaping_flags_400081f4;
char DAT_40002933;
short DAT_400022d2;
uint16_t[2] CAL_sensor_accel_pedal_pos_d_threshold;
struct_tps_shaping_flags accel_pedal_pos_d_clipped;
struct_tps_shaping_flags accel_pedal_pos_e_clipped;
struct_tps_shaping_flags adc37_threshold;
u16_voltage_5/1023v[2] CAL_sensor_adc37_threshold;
uint16_t[2] CAL_sensor_accel_pedal_pos_e_threshold;
undefined DAT_0001c020;
undefined2 cod_crc;
char[32] program_version;
uint32_t[2] COD_base_flash;
byte DAT_4000298b;
byte DAT_4000298a;
byte DAT_40002989;
byte DAT_40002988;
byte DAT_40002987;
byte DAT_40002986;
byte DAT_40002985;
byte DAT_40002983;
byte DAT_4000297c;
byte DAT_4000297b;
byte DAT_4000297a;
byte DAT_40002979;
byte DAT_40002978;
byte DAT_40002977;
byte DAT_40002976;
byte DAT_40002975;
byte DAT_40002974;
byte DAT_40002973;
byte DAT_40002972;
byte DAT_40002971;
byte DAT_40002970;
byte DAT_4000296f;
byte DAT_4000296e;
byte DAT_4000296d;
byte DAT_4000296c;
byte DAT_4000296b;
byte DAT_4000296a;
byte DAT_40002969;
byte DAT_40002968;
byte DAT_40002967;
byte DAT_40002966;
byte DAT_40002965;
byte DAT_40002964;
byte DAT_40002962;
byte DAT_40002961;
bool coding_oil_cooling_additional;
undefined1 cod_trans_type;
undefined1 cod_fuel_tank_capacity;
undefined1 cod_rear_fog_fitted;
undefined1 cod_japan_seatbelt_warning;
undefined1 cod_symbol_display;
undefined1 cod_drive_pos;
undefined1 speed_units;
undefined1 cod_oil_sump_system;
undefined1 cod_power_fold_mirrors;
uint DAT_4000295c;
char[17] vin_in_memory;
uint16_t[10] CAL_trans_gear_ratio_tour;
uint16_t[12] CAL_trans_gear_ratio_sport;
uint16_t[2] CAL_trans_gear_lookup_unknown2;
byte DAT_40002ad8;
undefined1 DAT_40002ad9;
undefined1 DAT_40002ada;
undefined1 DAT_40002adb;
undefined1 DAT_40002adc;
undefined1 DAT_40002add;
undefined1 DAT_40002ade;
undefined1 DAT_40002adf;
char DAT_40002938;
undefined DAT_40002940;
enum_vin_type vin_type;
uint8_t uint8_t_40001778;
u8_factor_1/255[7] CAL_revlimit_airflow_gain_from_rpm;
enum_t6e_gear enum_t6e_gear_400029cc;
uint8_t[7] CAL_revlimit_airflow_gain_from_integrator_X_gear;
u8_rspeed_10rpm u8_rspeed_10rpm_400088b2;
uint8_t[7] CAL_revlimit_airflow_gain_from_rpm_X_gear;
byte DAT_40008894;
short DAT_400029aa;
byte DAT_40008895;
u16_rspeed_rpm u16_rspeed_rpm_400029ac;
byte DAT_40008899;
short DAT_400029b2;
ushort DAT_400029ba;
byte DAT_40008897;
u16_load_1173mg/255stroke revlimit_load;
u16_rspeed_rpm revlimit_current;
u16_rspeed_rpm revlimit_engine_speed_delta;
u16_time_5ms revlimit_timer_ticks_past_limit;
u16_rspeed_rpm revlimit_current_val;
u16_temp_5/8-40c[4] CAL_revlimit_speedbase_manual_sport_X_coolant_temp;
u16_time_5ms[4] CAL_revlimit_speedbase_manual_sport_Y_timer;
u16_flow_10mg/s revlimit_maf_flow_raw;
u16_temp_5/8-40c[4] CAL_revlimit_speedbase_manual_tour_X_coolant_temp;
u16_flow_10mg/s revlimit_maf_flow_bounded;
u16_time_5ms[4] CAL_revlimit_speedbase_manual_tour_Y_timer;
u16_flow_10mg/s revlimit_flow_unknown1;
u16_flow_10mg/s revlimit_flow_unknown2;
uint16_t[4] CAL_revlimit_coldstart_rpm_envelope_X_index;
u16_rspeed_rpm revlimit_startup_max_offset;
u16_rspeed_rpm CAL_revlimit_limp_mode;
u8_count CAL_revlimit_overrun_count_threshold;
u8_time_100ms CAL_revlimit_overrspeed_time;
u8_time_5ms revlimit_esclated_timer;
u16_temp_5/8-40c[4] CAL_revlimit_speedbase_ips_sport_X_coolant_temp;
u16_speed_1/100kph car_speed_unknown;
u8_temp_5/8-40c CAL_revlimit_coolant_coldstart_threshold;
u16_rspeed_rpm[4] CAL_revlimit_coldstart_rpm_envelope;
u16_rspeed_rpm revlimit_coldstart_rpm_envelope_min;
u16_rspeed_rpm revlimit_coldstart_rpm_envelope_max;
u16_rspeed_rpm revlimit_startup_offset;
u16_temp_5/8-40c[4] CAL_revlimit_speedbase_ips_tour_X_coolant_temp;
u16_time_5ms[4] CAL_revlimit_speedbase_ips_tour_Y_timer;
u16_time_5ms[4] CAL_revlimit_speedbase_ips_sport_Y_timer;
uint8_t[7] CAL_revlimit_escalation_integrator_step;
uint8_t[7] CAL_revlimit_escalation_integrator_step_X_gear;
u8_rspeed_2rpm[7] CAL_revlimit_trim_per_gear;
u16_factor_1/1023 revlimit_tps_target???;
u8_gear[7] CAL_revlimit_trim_per_gear_X_gear;
u8_rspeed_2rpm revlimit_trim_per_gear;
bool CAL_vehicle_speed_limit_enforce;
u8_time_250ms CAL_revlimit_startup_delay;
u8_speed_kph CAL_vehicle_speed_limit;
u16_speed_1/100kph revlimit_car_speed_limit;
undefined2 rpm_speed_estimated;
u16_rspeed_rpm revlimit_max;
u16_rspeed_rpm CAL_revlimit_max_with_speedlimit;
u16_rspeed_rpm[16] CAL_revlimit_speedbase_ips_tour;
u16_rspeed_rpm rpm_speed_estimated_clipped_tomax;
u16_rspeed_rpm[16] CAL_revlimit_speedbase_manual_tour;
u16_rspeed_rpm[16] CAL_revlimit_speedbase_ips_sport;
u16_rspeed_rpm[16] CAL_revlimit_speedbase_manual_sport;
u8_factor_1/255[7] CAL_revlimit_airflow_gain_from_rpm_delta;
uint8_t[7] CAL_revlimit_airflow_gain_from_rpm_delta_X_gear;
u8_factor_1/255[7] CAL_revlimit_airflow_gain_from_integrator;
ushort DAT_40001782;
char DAT_400029b5;
u16_rspeed_rpm u16_rspeed_rpm_400029b8;
byte DAT_40008898;
u8_time_5ms vehicle_speed_limit_enforce_timer;
u8_flow_2g/s[7] CAL_revlimit_airflow_threshold;
u8_count CAL_revlimit_startup_offset_decrement;
u8_gear[7] CAL_revlimit_airflow_threshold_X_gear;
u8_flow_2g/s revlimit_airflow_threshold;
uint8_t CAL_revlimit_maf_error_max_10g;
uint8_t CAL_vehicle_speed_limit_enforce_margin;
char DAT_4000178b;
char DAT_4000178c;
char DAT_4000178d;
char DAT_4000178e;
char DAT_4000178f;
char DAT_40001790;
short DAT_400029f0;
char DAT_40001791;
u8_time_100ms u8_time_100ms_4000cc03;
char DAT_4000cbfe;
char DAT_400029f9;
char DAT_400029fa;
char DAT_4000cc00;
short DAT_400029fc;
byte DAT_4000cbff;
char DAT_4000178a;
char DAT_4000ca34;
char DAT_400029f8;
u8_accel_1/2550g CAL_sensor_lat_accel_raw_threshold;
char DAT_400029fe;
byte DAT_400029ff;
undefined1 sas_timer_unknown;
uint8_t uint8_t_400029d8;
byte DAT_400029d9;
undefined uint8_t_400029d8;
uint8_t misfire_detection_allowed_from_B7;
byte DAT_400029ee;
byte DAT_4000d44d;
byte DAT_400029e4;
byte DAT_4000d44e;
byte DAT_400029f5;
byte DAT_4000d464;
byte DAT_400029f6;
byte DAT_4000d465;
byte DAT_400029f7;
byte DAT_4000d44c;
char DAT_400029e7;
byte DAT_400029e6;
byte DAT_400029f3;
byte DAT_4000d459;
byte DAT_400029f4;
byte DAT_4000d44f;
char DAT_40002706;
char DAT_40002705;
ushort DAT_400029f0;
char DAT_40001793;
byte DAT_400029eb;
byte DAT_400029e9;
byte DAT_400029e8;
byte DAT_400029f2;
byte DAT_400029e5;
byte DAT_4000d45a;
u8_obd2level_t6 CAL_obd_ii_P0101;
u8_obd2level_t6 CAL_obd_ii_P0316;
u8_obd2level_t6 CAL_obd_ii_P0416;
u8_obd2level_t6 CAL_obd_ii_P0513;
undefined1 DAT_4000178b;
undefined1 DAT_4000178c;
undefined1 DAT_400029a2;
undefined1 DAT_40001746;
undefined1 DAT_4000178d;
undefined1 DAT_4000178e;
undefined1 DAT_4000178f;
undefined1 DAT_40001790;
undefined1 DAT_40001791;
undefined1 DAT_400029f9;
undefined1 DAT_4000d44d;
undefined1 DAT_400029ee;
undefined1 DAT_4000d44e;
undefined1 DAT_400029e4;
undefined1 DAT_4000d464;
undefined1 DAT_400029f5;
undefined1 DAT_4000d44c;
undefined1 DAT_400029f7;
undefined1 DAT_4000d459;
undefined1 DAT_400029f3;
undefined1 DAT_4000d44f;
undefined1 DAT_400029f4;
undefined1 DAT_4000d45a;
undefined1 DAT_400029e5;
undefined1 DAT_4000d465;
undefined1 DAT_400029f6;
undefined1 DAT_40001788;
undefined1 DAT_4000cbfe;
undefined1 DAT_4000cc00;
undefined1 DAT_400029fa;
undefined1 DAT_4000ca34;
undefined1 DAT_400029f8;
undefined1 DAT_40001793;
undefined1 DAT_400029f2;
u16_time_ms u16_time_ms_40002a08;
char DAT_40002a01;
short DAT_4000179e;
char DAT_400017a0;
ushort DAT_400026b2;
byte DAT_40002738;
undefined2 DAT_40002a0a;
uint16_t DAT_40002a0c;
int DAT_40002a04;
char DAT_400017a2;
ushort DAT_4000179c;
byte DAT_400017a1;
short DAT_4000890e;
undefined2 DAT_40001740;
undefined2 DAT_40001742;
undefined1 DAT_40002857;
undefined DAT_400088f2;
undefined DAT_40008d2e;
undefined DAT_40008d36;
uint16_t[4] uint16_t_ARRAY_4000d590;
uint16_t[4] uint16_t_ARRAY_4000d598;
short DAT_40001740;
byte DAT_40008910;
byte DAT_40008911;
ushort DAT_40001742;
undefined DAT_40001798;
undefined DAT_40001799;
undefined DAT_4000179a;
undefined DAT_40002a00;
undefined DAT_400088f6;
undefined DAT_400088f8;
undefined DAT_400088fa;
undefined DAT_400088fc;
undefined DAT_400088fe;
undefined DAT_40008900;
undefined DAT_40008902;
undefined DAT_40008904;
undefined DAT_40008906;
undefined DAT_40008908;
undefined DAT_4000890a;
undefined DAT_4000890c;
undefined2 DAT_4000890e;
uint8_t *[6] LEA_traction_slip_threshold_per_gear;
u8_rspeed_4+500rpm[5] CAL_traction_slip_threshold_per_gear_ips;
uint16_t *[6] LEA_traction_gear_speed_ratios;
u8_rspeed_4+500rpm CAL_traction_slip_threshold_1st_Gear;
u8_rspeed_4+500rpm[5] CAL_traction_slip_threshold_per_gear_manual;
uint16_t[6] CAL_traction_gear_speed_ratios_ips;
uint16_t[6] CAL_traction_gear_speed_ratios_long;
uint16_t[6] CAL_traction_gear_speed_ratios_cr;
uint16_t uint16_t_4000cc38;
u8_factor_1/255 CAL_traction_inhibit_cornering_offset;
u8_factor_1/255 traction_steering_increase_factor;
u8_factor_1/255 CAL_traction_inhibit_cornering_base;
byte DAT_4000cc47;
u8_factor_1/255 CAL_traction_steering_increase_factor_min;
byte DAT_4000cc43;
char DAT_40002a1a;
u8_factor_1/100 CAL_traction_steering_rate_factor;
u8_factor_1/255 traction_cornering_factor;
u16_power_1/100kw engine_power_corrected;
uint16_t[4] CAL_traction_comp_maf_accum_manual;
u16_mass_mg[4] CAL_traction_comp_maf_accum_manual_X_maf_accum;
u8_gear traction_gear_for_validation;
u16_angle_1/10deg CAL_traction_steering_angle_max_unknown;
u16_rspeed_rpm[6] LEA_traction_rpm_differential_measured;
u8_rspeed_4+500rpm CAL_track_slip_offset_unknown;
u8_time_100ms[6] traction_per_gear_timer100ms_intervention;
u8_time_100ms CAL_traction_timer_per_gear_intervention;
u8_time_100ms CAL_traction_inhibit_accel_pedal_timer;
u8_gear tc_gear;
u8_gear tc_gear2;
u8_time_100ms traction_inhibit_accel_pedal_timer;
uint16_t traction_comp_maf_accum;
u8_speed_kph CAL_traction_enable_speed;
u8_temp_5/8-40c CAL_traction_coldstart_coolant_threshold;
uint8_t CAL_tc_timer_intervention???;
u16_factor_1/1023 CAL_traction_inhibit_accel_pedal_min;
u8_speed_kph CAL_traction_threshold_car_speed;
u8_gear CAL_traction_gear_offset_unknown;
u16_rspeed_rpm[8] CAL_traction_power_based_rpm_thresholds;
u16_power_1/100kw[8] CAL_traction_power_based_rpm_thresholds_X_power;
u8_gear traction_target_gear;
u8_time_100ms traction_timer_intevention_gearchange;
uint8_t CAL_traction_wheelspeed_front_accel_threshold;
u8_time_100ms tc_timer_unknown2;
u8_time_100ms tc_timer_unknown1;
u16_rspeed_rpm traction_power_based_rpm_threshold;
uint32_t steering_angle_smoothed;
u16_angle_1/10deg steering_angle_previous_sample;
u16_angle_1/10deg steering_angle_delta;
u8_factor_1/255 CAL_traction_steering_angle_smooth_factor;
byte emios_uc[0].uc[72];
byte emios_uc[0].uc[76];
byte emios_uc[0].uc[64];
byte emios_uc[0].uc[68];
undefined2 fuel_pump_commanded_scaled;
undefined2 DAT_40002a54;
undefined1 DAT_40008965;
undefined1 DAT_40002a48;
undefined2 DAT_40002a4c;
undefined2 DAT_40002a4e;
byte DAT_4000896f;
short DAT_40002a50;
undefined1 DAT_40008970;
undefined1 DAT_40002a52;
u16_pressure_mbar fuel_pressure_lookup_relative;
undefined DAT_00001f40;
uint16_t siu_pcr[181];
short DAT_400087a6;
short DAT_40002a54;
byte DAT_400088f4;
u8_pressure_50mbar[64] CAL_fuel_pressure_target;
u8_rspeed_125/4+500rpm[8] CAL_fuel_pressure_target_X_engine_speed;
u8_load_4mg/stroke[8] CAL_fuel_pressure_target_Y_load;
u8_pressure_50mbar CAL_fuel_pressure_max;
byte DAT_400017f9;
ushort DAT_40002a60;
short DAT_40002a38;
ushort DAT_4000898c;
byte DAT_40008966;
short DAT_40002a4c;
byte DAT_40008967;
short DAT_40004266;
short DAT_40002a4e;
undefined DAT_00001964;
u8_pressure_50mbar CAL_fuel_pressure_target_max;
u8_pressure_50mbar fuel_pressure_target;
u8_pressure_50mbar CAL_fuel_pressure_target_min;
u16_factor_1/10000[64] CAL_fuel_pump_command;
u16_pressure_mbar[8] CAL_fuel_pump_command_X_pressure;
uint16_t[8] CAL_fuel_pump_command_Y_estimated_inj_flow;
uint16_t fuel_pump_pwm_output;
u8_factor_1/255[8] CAL_fuel_pump_proportional_gain;
u8_pressure_50mbar[8] CAL_fuel_pump_proportional_gain_X_error;
byte DAT_40008968;
char DAT_40008969;
char DAT_40008965;
char DAT_40002a48;
byte DAT_4000896a;
short DAT_40002a6e;
short DAT_40002a70;
byte DAT_4000896b;
byte DAT_4000896c;
uint DAT_40002a68;
byte DAT_4000896d;
short DAT_40002a6c;
char DAT_4000896e;
u8_temp_5/8-40c u8_temp_5/8-40c_40008976;
u16_pressure_mbar u16_pressure_mbar_40008974;
u8_temp_5/8-40c u8_temp_5/8-40c_40008977;
byte DAT_40008978;
char DAT_40002a52;
char DAT_40008970;
byte DAT_40008973;
byte DAT_40008971;
byte DAT_40008972;
char DAT_400017a8;
char DAT_400017a9;
char DAT_40002208;
char DAT_40002209;
char DAT_400031d9;
char DAT_40002a57;
char DAT_400017aa;
char DAT_40002a58;
char DAT_40002a72;
char DAT_40002a59;
char DAT_40002a56;
char DAT_40002a5a;
byte DAT_40002a56;
byte DAT_4000cb19;
byte DAT_4000cb18;
byte DAT_4000cb02;
char DAT_400050ea;
byte DAT_4000cb1d;
byte DAT_40002a5b;
byte DAT_4000cb9a;
byte DAT_40002a5d;
byte DAT_4000d470;
byte DAT_4000cb93;
byte DAT_40002a5c;
byte DAT_4000cb9b;
byte DAT_40002a5e;
byte DAT_4000d471;
u8_obd2level_t6 CAL_obd_ii_P0087;
u8_obd2level_t6 CAL_obd_ii_P0088;
u8_obd2level_t6 CAL_obd_ii_P0627;
u8_obd2level_t6 CAL_obd_ii_P0109;
undefined1 DAT_40002a5b;
undefined1 DAT_40002a5c;
undefined1 DAT_4000d470;
undefined1 DAT_40002a5d;
undefined1 DAT_4000d471;
undefined1 DAT_40002a5e;
undefined1 DAT_40002a56;
undefined1 DAT_40002a58;
undefined1 DAT_40002a57;
undefined1 DAT_40002a59;
undefined1 DAT_40002a5a;
undefined1 trans_pump_condition_flags;
undefined1 trans_fluid_pump_mode_???;
u8_temp_5/8-40c CAL_trans_fluid_temp_threshold_high;
u8_temp_5/8-40c CAL_trans_fluid_temp_warm;
u8_temp_5/8-40c CAL_trans_fluid_temp_hot;
u8_temp_5/8-40c CAL_trans_fluid_temp_very_hot;
u8_temp_5/8-40c CAL_trans_pump_coolant_temp_activate_low;
u8_temp_5/8-40c CAL_trans_fluid_temp_threshold_low;
u8_temp_5/8-40c CAL_trans_pump_coolant_temp_activate_high;
u8_temp_5/8-40c CAL_trans_pump_coolant_temp_deactivate_low;
u8_temp_5/8-40c CAL_trans_pump_coolant_temp_deactivate_high;
u8_temp_5/8-40c CAL_trans_fluid_temp_unknown;
u8_speed_kph[2] CAL_trans_pump_car_speed_threshold;
undefined s_P_4000ccac;
u8_obd2level_t6 CAL_obd_ii_P2797;
u8_temp_5/8-40c u8_temp_5/8-40c_4000ccaa;
u8_temp_5/8-40c u8_temp_5/8-40c_4000ccab;
u8_obd2level_t6 CAL_obd_ii_P0897;
byte DAT_40002a7a;
u8_obd2level_t6 CAL_obd_ii_P0712;
byte DAT_4000d476;
ushort DAT_40002a7c;
u8_obd2level_t6 CAL_obd_ii_P0713;
byte DAT_40002a7e;
byte DAT_4000d477;
ushort DAT_4000cca2;
byte DAT_4000cca0;
ushort DAT_40002a80;
byte DAT_4000cca1;
byte DAT_40002a82;
byte DAT_4000d473;
undefined2 obd_ii_P0713_failure_count;
uint16_t[2] CAL_trans_temp_voltage_threshold;
u8_temp_5/8-40c trans_fluid_last;
uint16_t[2] trans_fluid_pump_timer;
u8_temp_5/8-40c CAL_trans_fluid_P2797_threshold;
undefined2 DAT_40002a84;
undefined2 DAT_40002a80;
undefined1 DAT_4000d475;
undefined1 DAT_40002a86;
undefined1 DAT_4000d473;
undefined1 DAT_40002a82;
undefined1 DAT_4000d476;
undefined1 DAT_40002a7a;
undefined1 DAT_4000d477;
undefined1 DAT_40002a7e;
int DAT_40008328;
undefined4 DAT_40008320;
undefined4 DAT_40008324;
undefined4 DAT_40008328;
undefined *PTR_DAT_400017b0;
undefined DAT_fffffffe;
undefined DAT_00005554;
uint32_t siu_midr;
undefined4 intc_eoir;

int init(EVP_PKEY_CTX *ctx)

{
  undefined4 uVar3;
  ulonglong uVar1;
  longlong lVar2;
  longlong in_r4;
  undefined8 uVar4;
  ulonglong uVar5;
  uint uVar6;
  undefined4 in_r7;
  undefined4 in_r8;
  undefined4 in_r9;
  undefined4 in_r10;
  uint in_spr203;
  
  uVar4 = 0xffffffffc3f88020;
  DAT_c3f88020 = 0xffffffff;
  uVar6 = in_spr203 & 0xff;
  if (uVar6 != 0) {
    set_debug_unknown();
  }
  uVar3 = init_hardware_timers();
  FUN_00040414(uVar3,(int)in_r4,uVar4,uVar6,in_r7,in_r8,in_r9,in_r10);
  FUN_00040438();
  init_spr();
  init_debug_unknown2();
  init_r2_and_r13();
  FUN_00040538();
  init_siu_ebi_segment();
  uVar1 = main();
  uVar5 = uVar1 & 0xfffffffffffffff1;
  lVar2 = uVar1 - uVar5;
  in_r4 = in_r4 + lVar2;
  do {
    dataCacheBlockStore(uVar5);
    sync(0);
    instructionCacheBlockInvalidate(uVar5);
    uVar5 = uVar5 + 8;
    in_r4 = in_r4 + -8;
  } while (-1 < in_r4);
  instructionSynchronize();
  return (int)lVar2;
}



void reset_data_cache(byte *param_1,byte *size_t)

{
  longlong lVar1;
  ulonglong uVar2;
  
  uVar2 = (longlong)(int)param_1 & 0xfffffffffffffff1;
  lVar1 = (longlong)(int)size_t + ((longlong)(int)param_1 - uVar2);
  do {
    dataCacheBlockStore(uVar2);
    sync(0);
    instructionCacheBlockInvalidate(uVar2);
    uVar2 = uVar2 + 8;
    lVar1 = lVar1 + -8;
  } while (-1 < lVar1);
  instructionSynchronize();
  return;
}



// WARNING: Removing unreachable block (ram,0x000401c0)

void set_debug_unknown(void)

{
                    // WARNING: Do nothing block with infinite loop
  do {
  } while( true );
}



void poll_until_ready__(void)

{
  uint32_t uVar1;
  undefined *puVar2;
  
  puVar2 = &DAT_00001770;
  do {
    puVar2 = puVar2 + -1;
    if (puVar2 == (undefined *)0x0) {
      DAT_c3fd8b00 = 0x80000000;
      siu_srcr = 0x80000000;
      return;
    }
    uVar1 = FMPLL_SYNCSR;
  } while ((uVar1 & 8) == 0);
  return;
}



void init_hardware_timers(void)

{
  undefined8 in_r0;
  ulonglong in_spr203;
  
  if ((in_spr203 & 0xff) != 0) {
    TLBRead();
    sync(0);
    in_r0 = TLBWrite(in_r0,in_r0,0);
    instructionSynchronize();
  }
  init_fmpll();
  if ((in_spr203 & 0xff) != 0) {
    sync(0);
    TLBWrite(in_r0,in_r0,0);
    instructionSynchronize();
  }
  return;
}



void init_fmpll(void)

{
  uint32_t *puVar1;
  
  puVar1 = &FMPLL_SYNCR;
  FMPLL_SYNCR = 0x1040000;
  sync(0);
  FMPLL_SYNCR = 0x3040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = *puVar1 & 0xfffcffff | 0x6000;
  return;
}



void FUN_0004030c(void)

{
  uint32_t *puVar1;
  
  puVar1 = &FMPLL_SYNCR;
  FMPLL_SYNCR = 0x41140000;
  sync(0);
  FMPLL_SYNCR = 0x41040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = 0x43040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = 0x46040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = *puVar1 & 0xfffcffff | 0x6000;
  return;
}



void FUN_00040384(void)

{
  uint32_t *puVar1;
  
  puVar1 = &FMPLL_SYNCR;
  FMPLL_SYNCR = 0x1040000;
  sync(0);
  FMPLL_SYNCR = 0x2040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = 0x12040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = 0x17040000;
  sync(0);
  poll_until_ready__();
  *puVar1 = 0x1e840000;
  sync(0);
  poll_until_ready__();
  *puVar1 = *puVar1 & 0xfffcffff | 0x6000;
  return;
}



void FUN_00040414(undefined4 param_1,undefined4 param_2,undefined8 param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  undefined4 in_r0;
  uint16_t *puVar1;
  undefined4 in_r11;
  undefined4 in_r12;
  undefined4 unaff_r14;
  undefined4 unaff_r15;
  undefined4 unaff_r16;
  undefined4 unaff_r17;
  undefined4 unaff_r18;
  undefined4 unaff_r19;
  undefined4 unaff_r20;
  undefined4 unaff_r21;
  undefined4 unaff_r22;
  undefined4 unaff_r23;
  undefined4 unaff_r24;
  undefined4 unaff_r25;
  undefined4 unaff_r26;
  undefined4 unaff_r27;
  undefined4 unaff_r28;
  undefined4 unaff_r29;
  undefined4 unaff_r30;
  undefined4 unaff_r31;
  longlong lVar2;
  
  lVar2 = 0x200;
  puVar1 = &engine_speed_period_0;
  do {
    *(undefined4 *)puVar1 = in_r0;
    *(BADSPACEBASE **)(puVar1 + 2) = register0x0000000c;
    *(uint8_t **)(puVar1 + 4) = CAL_knock_sampling_window + 0x2e;
    *(undefined4 *)(puVar1 + 6) = param_1;
    *(undefined4 *)(puVar1 + 8) = param_2;
    *(uint16_t **)(puVar1 + 10) = puVar1;
    *(undefined4 *)(puVar1 + 0xc) = param_4;
    *(undefined4 *)(puVar1 + 0xe) = param_5;
    *(undefined4 *)(puVar1 + 0x10) = param_6;
    *(undefined4 *)(puVar1 + 0x12) = param_7;
    *(undefined4 *)(puVar1 + 0x14) = param_8;
    *(undefined4 *)(puVar1 + 0x16) = in_r11;
    *(undefined4 *)(puVar1 + 0x18) = in_r12;
    *(undefined **)(puVar1 + 0x1a) = &DAT_400095a8;
    *(undefined4 *)(puVar1 + 0x1c) = unaff_r14;
    *(undefined4 *)(puVar1 + 0x1e) = unaff_r15;
    *(undefined4 *)(puVar1 + 0x20) = unaff_r16;
    *(undefined4 *)(puVar1 + 0x22) = unaff_r17;
    *(undefined4 *)(puVar1 + 0x24) = unaff_r18;
    *(undefined4 *)(puVar1 + 0x26) = unaff_r19;
    *(undefined4 *)(puVar1 + 0x28) = unaff_r20;
    *(undefined4 *)(puVar1 + 0x2a) = unaff_r21;
    *(undefined4 *)(puVar1 + 0x2c) = unaff_r22;
    *(undefined4 *)(puVar1 + 0x2e) = unaff_r23;
    *(undefined4 *)(puVar1 + 0x30) = unaff_r24;
    *(undefined4 *)(puVar1 + 0x32) = unaff_r25;
    *(undefined4 *)(puVar1 + 0x34) = unaff_r26;
    *(undefined4 *)(puVar1 + 0x36) = unaff_r27;
    *(undefined4 *)(puVar1 + 0x38) = unaff_r28;
    *(undefined4 *)(puVar1 + 0x3a) = unaff_r29;
    *(undefined4 *)(puVar1 + 0x3c) = unaff_r30;
    *(undefined4 *)(puVar1 + 0x3e) = unaff_r31;
    puVar1 = puVar1 + 0x40;
    lVar2 = lVar2 + -1;
  } while (lVar2 != 0);
  return;
}



void FUN_00040438(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  longlong lVar3;
  
  lVar3 = 3;
  puVar2 = &DAT_000d0680;
  puVar1 = (undefined4 *)&SUB_4000f000;
  do {
    *puVar1 = *puVar2;
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
    lVar3 = lVar3 + -1;
  } while (lVar3 != 0);
  (*(code *)&SUB_4000f000)();
  return;
}



// WARNING: Removing unreachable block (ram,0x000404d8)
// WARNING: Removing unreachable block (ram,0x00040508)

void init_debug_unknown2(void)

{
  char in_spr203;
  ulonglong in_DBCR0;
  
  if (in_spr203 != 0) {
    do {
    } while ((in_DBCR0 & 2) == 2);
    sync(0);
    instructionSynchronize();
    do {
    } while( true );
  }
  return;
}



void init_r2_and_r13(void)

{
  return;
}



void FUN_00040538(void)

{
  undefined1 *puVar1;
  undefined1 *puVar2;
  undefined *puVar3;
  
  puVar3 = &DAT_000017b4;
  puVar2 = (undefined1 *)0xd7e37;
  puVar1 = (undefined1 *)0x3fffffff;
  do {
    puVar2 = puVar2 + 1;
    puVar1 = puVar1 + 1;
    *puVar1 = *puVar2;
    puVar3 = puVar3 + -1;
  } while (puVar3 != (undefined *)0x0);
  return;
}



undefined4 * init_spr(void)

{
  undefined8 in_r0;
  undefined8 uVar1;
  char in_spr203;
  
  uVar1 = TLBWrite(in_r0,in_r0,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  sync(0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  instructionSynchronize();
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  uVar1 = TLBWrite(uVar1,uVar1,0);
  if (in_spr203 != 0) {
    uVar1 = TLBWrite(uVar1,uVar1,0);
  }
  uVar1 = TLBWrite(uVar1,uVar1,0);
  TLBWrite(uVar1,uVar1,0);
  return &DAT_000d0914;
}



void init_segment_data(byte *dest,byte *src,size_t size)

{
  if ((size != 0) && (dest != src)) {
    libc_memcpy(dest,src,size);
    reset_data_cache(dest,(byte *)size);
  }
  return;
}



void init_segment_bss(byte *data,size_t size)

{
  if (size == 0) {
    return;
  }
  memset_and_return((char *)data,0,size);
  return;
}



void init_segment(void)

{
  struct_segment_data *psVar1;
  struct_segment_bss *psVar2;
  
  for (psVar1 = segment_data;
      ((psVar1->src != (byte *)0x0 || (psVar1->dest != (undefined *)0x0)) || (psVar1->size != 0));
      psVar1 = psVar1 + 1) {
    init_segment_data(psVar1->dest,psVar1->src,psVar1->size);
  }
  for (psVar2 = segment_bss; (psVar2->dest != (byte *)0x0 || (psVar2->size != 0));
      psVar2 = psVar2 + 1) {
    init_segment_bss(psVar2->dest,psVar2->size);
  }
  return;
}



void libc_memcpy(byte *dest,byte *src,size_t size)

{
  byte *pbVar1;
  int iVar2;
  byte *pbVar3;
  
  if (dest <= src) {
    pbVar1 = src + -1;
    pbVar3 = dest + -1;
    iVar2 = size + 1;
    while( true ) {
      iVar2 = iVar2 + -1;
      if (iVar2 == 0) break;
      pbVar1 = pbVar1 + 1;
      pbVar3 = pbVar3 + 1;
      *pbVar3 = *pbVar1;
    }
    return;
  }
  pbVar1 = src + size;
  pbVar3 = dest + size;
  iVar2 = size + 1;
  while( true ) {
    iVar2 = iVar2 + -1;
    if (iVar2 == 0) break;
    pbVar1 = pbVar1 + -1;
    pbVar3 = pbVar3 + -1;
    *pbVar3 = *pbVar1;
  }
  return;
}



void memset(char *data,byte val,size_t size)

{
  int iVar1;
  ulonglong uVar2;
  ulonglong uVar3;
  longlong lVar4;
  ulonglong uVar5;
  ulonglong uVar6;
  ulonglong uVar7;
  undefined4 uVar8;
  
  uVar5 = (ulonglong)(int)size;
  uVar2 = (ulonglong)val;
  uVar6 = (longlong)(int)data - 1;
  uVar3 = uVar2;
  if (0x1f < size) {
    uVar3 = ~uVar6 & 3;
    if (uVar3 != 0) {
      uVar5 = uVar5 - uVar3;
      do {
        uVar3 = uVar3 - 1;
        uVar6 = uVar6 + 1;
        *(byte *)uVar6 = val;
      } while (uVar3 != 0);
    }
    uVar7 = (uVar5 << 32) >> 37;
    uVar3 = (ulonglong)CONCAT11(val,val) | uVar2 << 0x18 | uVar2 << 0x10;
    if (val == 0) {
      uVar3 = uVar2;
    }
    lVar4 = uVar6 - 3;
    uVar8 = (undefined4)uVar3;
    for (; uVar7 != 0; uVar7 = uVar7 - 1) {
      iVar1 = (int)lVar4;
      *(undefined4 *)(iVar1 + 4) = uVar8;
      *(undefined4 *)(iVar1 + 8) = uVar8;
      *(undefined4 *)(iVar1 + 0xc) = uVar8;
      *(undefined4 *)(iVar1 + 0x10) = uVar8;
      *(undefined4 *)(iVar1 + 0x14) = uVar8;
      *(undefined4 *)(iVar1 + 0x18) = uVar8;
      *(undefined4 *)(iVar1 + 0x1c) = uVar8;
      lVar4 = lVar4 + 0x20;
      *(undefined4 *)lVar4 = uVar8;
    }
    for (uVar6 = (uVar5 << 0x20) >> 0x22 & 7; uVar6 != 0; uVar6 = uVar6 - 1) {
      lVar4 = lVar4 + 4;
      *(undefined4 *)lVar4 = uVar8;
    }
    uVar6 = lVar4 + 3;
    uVar5 = uVar5 & 3;
  }
  if ((int)uVar5 != 0) {
    do {
      uVar5 = uVar5 - 1;
      uVar6 = uVar6 + 1;
      *(undefined1 *)uVar6 = (char)uVar3;
    } while (uVar5 != 0);
    return;
  }
  return;
}



longlong memset_and_return(char *data,byte val,size_t size)

{
  memset(data,val,size);
  return (longlong)(int)data;
}



void knock_memcopy_samples(undefined4 *param_1,undefined4 *param_2)

{
  *param_2 = CAL_knock_sampling_window + 0x2e;
  *param_1 = &PTR_PTR_000dc964;
  return;
}



void init_intc_external_offset(void)

{
  return;
}



void intc_init_vectors(void)

{
  uint32_t uVar1;
  
  uVar1 = intc_mcr;
  intc_mcr = uVar1 & 0xfffffffe;
  uVar1 = intc_mcr;
  intc_mcr = uVar1 & 0xffffffdf;
                    // interrupt vectors
  intc_iackr = 0xd9800;
  return;
}



void FUN_00040b58(void)

{
  DAT_400017b8 = DAT_400017b8 + 1;
  INTC_SSCIR[4] = 1;
  return;
}



void init_intc_cpr(void)

{
  uint32_t uVar1;
  
  uVar1 = intc_cpr;
  intc_cpr = uVar1 & 0xfffffff0;
  WriteExternalEnableImmediate(1);
  return;
}



void init_intc(void)

{
  init_intc_external_offset();
  intc_init_vectors();
  init_intc_cpr();
  return;
}



void init_intc_1(void)

{
  uint32_t uVar1;
  
  uVar1 = intc_mcr;
  intc_mcr = uVar1 & 0xfffffffe;
  uVar1 = intc_mcr;
  intc_mcr = uVar1 & 0xffffffdf;
  uVar1 = intc_cpr;
  intc_cpr = uVar1 & 0xfffffff0;
  WriteExternalEnableImmediate(1);
  return;
}



void set_spr_IVOR2(void)

{
  WriteExternalEnableImmediate(0);
  return;
}



void init_siu_ebi_segment(void)

{
  init_siu();
  init_siu_pcr();
  init_ebi_unknown();
  init_segment();
  return;
}



void init_siu(void)

{
  siu_pcr[0xd6] = 0;
  siu_pcr[0xe5] = 0x2c0;
  SIU_ECCR = 0x3f01;
  return;
}



void init_siu_pcr(void)

{
  init_siu_pcr1(0x400,0,0,0x40,0,0,0,0,0);
  init_siu_pcr2(0x400,0,0,0x40,0,0,0,0,0,0);
  init_siu_pcr2(0x400,0,0,0x40,0,0,0,0,0,0x10);
  init_siu_pcr3(0x400,0,0,0x40,0,0,0,0,0,0x3e,2);
  init_siu_pcr3(0x400,0,0,0x40,0,0,0,2,1,0x40,4);
  init_siu_pcr3(0x400,0,0,0x40,0,0,0,2,1,0x44,2);
  init_siu_pcr3(0x400,0,0,0x40,0,0,0,2,1,0,4);
  return;
}



void init_ebi_unknown(void)

{
  init_ebi1(0,0,0,0,0,0x800,0,0);
  init_ebi_br0(0,0x3ff80000,0,0x40,0,0,2,1);
  init_ebi_or0(0,0xfff80000,0,0);
  init_ebi_br0(1,0x20000000,0,0,0,0,2,1);
  init_ebi_or0(1,0xffc00000,0x40,0);
  init_ebi_br0(2,0x20800000,0,0x40,0,0,2,0);
  init_ebi_or0(2,0xfff80000,0x40,2);
  init_ebi_br0(3,0x30000000,0,0x40,0,0,0,0);
  init_ebi_or0(3,0xfff80000,0x40,2);
  return;
}



void init_siu_pcr1(ushort param_1,ushort param_2,ushort param_3,ushort param_4,ushort param_5,
                  ushort param_6,ushort param_7,ushort param_8,ushort param_9)

{
  byte i;
  
  for (i = 4; i < 28; i = i + 1) {
    siu_pcr[i] = param_9 | param_8 | param_7 | param_6 | param_5 | param_4 | param_3 | param_1 | 
                                                  param_2;
  }
  return;
}



void init_siu_pcr2(ushort param_1,ushort param_2,ushort param_3,ushort param_4,ushort param_5,
                  ushort param_6,ushort param_7,ushort param_8,ushort param_9,byte param_10)

{
  uint uVar1;
  
  for (uVar1 = param_10 + 0x1c & 0xff; (uVar1 & 0xff) < param_10 + 0x2c; uVar1 = uVar1 + 1) {
    siu_pcr[uVar1 & 0xff] =
         param_9 | param_8 | param_7 | param_6 | param_5 | param_4 | param_3 | param_1 | param_2;
  }
  return;
}



void init_siu_pcr3(ushort param_1,ushort param_2,ushort param_3,ushort param_4,ushort param_5,
                  ushort param_6,ushort param_7,ushort param_8,ushort param_9,byte param_10,
                  byte param_11)

{
  uint uVar1;
  
  for (uVar1 = (uint)param_10; (uVar1 & 0xff) < (uint)param_10 + (uint)param_11; uVar1 = uVar1 + 1)
  {
    siu_pcr[uVar1 & 0xff] =
         param_9 | param_8 | param_7 | param_6 | param_5 | param_4 | param_3 | param_1 | param_2;
  }
  return;
}



void init_ebi1(uint param_1,uint param_2,uint param_3,uint param_4,uint param_5,uint param_6,
              uint param_7,uint param_8)

{
  EBI_MCR = param_8 | param_7 | param_6 | param_5 | param_4 | param_3 | param_1 | param_2;
  return;
}



void init_ebi_br0(ulonglong param_1,uint param_2,uint param_3,uint param_4,uint param_5,uint param_6
                 ,uint param_7,uint param_8)

{
  *(uint *)((int)&EBI_BR0 + (int)((param_1 & 0xff) << 3)) =
       param_8 | param_7 | param_6 | param_5 | param_4 | param_2 | param_3;
  return;
}



void init_ebi_or0(ulonglong param_1,uint param_2,uint param_3,uint param_4)

{
  *(uint *)((int)&EBI_OR0 + (int)((param_1 & 0xff) << 3)) = param_4 | param_2 | param_3;
  return;
}



void init_eqADC3(void)

{
  uint32_t uVar1;
  uint32_t uVar2;
  uint16_t uVar3;
  
  uVar3 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar3 & 0xff0f | 0x10;
  EQADC_CFPR[0] = 0x1000004;
  EQADC_CFPR[0] = 0x1000005;
  EQADC_CFPR[0] = 0x3000004;
  EQADC_CFPR[0] = 0x83000005;
  uVar3 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar3 & 0xfbff | 0x400;
  do {
    uVar1 = eqadc_fisr[0];
  } while ((uVar1 >> 0x11 & 1) == 0);
  uVar1 = EQADC_RFPR0[0];
  do {
    uVar2 = eqadc_fisr[0];
  } while ((uVar2 >> 0x11 & 1) == 0);
  uVar2 = EQADC_RFPR0[0];
  DAT_400017c4 = uVar1 << 0x10 | uVar2;
  do {
    uVar1 = eqadc_fisr[0];
  } while ((uVar1 >> 0x11 & 1) == 0);
  uVar1 = EQADC_RFPR0[0];
  do {
    uVar2 = eqadc_fisr[0];
  } while ((uVar2 >> 0x11 & 1) == 0);
  uVar2 = EQADC_RFPR0[0];
  DAT_400017c0 = uVar1 << 0x10 | uVar2;
  uVar1 = eqadc_fisr[0];
  eqadc_fisr[0] = uVar1 & 0xfffdffff | 0x20000;
  uVar3 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar3 & 0xff0f;
  eqadc_idcr[0] = 0;
  uVar1 = eqadc_fisr[0];
  eqadc_fisr[0] = uVar1 & 0xefffffff | 0x10000000;
  uVar3 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar3 & 0xfdff | 0x200;
  do {
    uVar1 = EQADC_CFSR;
  } while (uVar1 >> 0x1e != 0);
  return;
}



void eQADC_compute_fixed_point_linearization
               (uint param_1,uint param_2,undefined2 *param_3,undefined2 *param_4)

{
  *param_3 = (short)(0x10000000 / (int)((param_2 & 0xffff) - (param_1 & 0xffff)));
  *param_4 = (short)((int)(((param_2 & 0xffff) + ((param_1 & 0xffff) * 0x2000 - (param_1 & 0xffff)))
                          * 2) / (int)((param_1 & 0xffff) - (param_2 & 0xffff)));
  return;
}



undefined8 init_eqADC2(uint param_1)

{
  uint16_t uVar1;
  uint32_t uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  short local_20;
  short local_1e [15];
  
  uVar1 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar1 & 0xff0f | 0x10;
  uVar1 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar1 & 0xfbff | 0x400;
  DAT_40002ae0 = 0;
  DAT_40002b30 = 0;
  DAT_40002af4 = 0;
  DAT_40002b1c = 0;
  DAT_40002b08 = 0;
  uVar2 = eqadc_fisr[0];
  eqadc_fisr[0] = uVar2 & 0xfffdffff | 0x20000;
  uVar2 = eqadc_fisr[1];
  eqadc_fisr[1] = uVar2 & 0xfffdffff | 0x20000;
  uVar2 = eqadc_fisr[2];
  eqadc_fisr[2] = uVar2 & 0xfffdffff | 0x20000;
  uVar2 = eqadc_fisr[3];
  eqadc_fisr[3] = uVar2 & 0xfffdffff | 0x20000;
  uVar2 = eqadc_fisr[4];
  eqadc_fisr[4] = uVar2 & 0xfffdffff | 0x20000;
  for (iVar8 = 0; iVar8 < 100; iVar8 = iVar8 + 1) {
    EQADC_CFPR[0] = param_1 * 0x2000000 + 0x42b00;
    EQADC_CFPR[0] = param_1 * 0x2000000 + 0x142c00;
    EQADC_CFPR[0] = param_1 * 0x2000000 + 0x242a00;
    EQADC_CFPR[0] = param_1 * 0x2000000 + 0x342900;
    EQADC_CFPR[0] = param_1 * 0x2000000 + 0x442800;
    do {
      uVar2 = eqadc_fisr[0];
    } while ((uVar2 >> 0x11 & 1) == 0);
    DAT_40002b34 = EQADC_RFPR0[0];
    do {
      uVar2 = eqadc_fisr[1];
    } while ((uVar2 >> 0x11 & 1) == 0);
    DAT_40002b20 = EQADC_RFPR0[1];
    do {
      uVar2 = eqadc_fisr[2];
    } while ((uVar2 >> 0x11 & 1) == 0);
    DAT_40002af8 = EQADC_RFPR0[2];
    do {
      uVar2 = eqadc_fisr[3];
    } while ((uVar2 >> 0x11 & 1) == 0);
    DAT_40002b0c = EQADC_RFPR0[3];
    do {
      uVar2 = eqadc_fisr[4];
    } while ((uVar2 >> 0x11 & 1) == 0);
    DAT_40002ae4 = EQADC_RFPR0[4];
    uVar2 = eqadc_fisr[0];
    eqadc_fisr[0] = uVar2 & 0xfffdffff | 0x20000;
    uVar2 = eqadc_fisr[1];
    eqadc_fisr[1] = uVar2 & 0xfffdffff | 0x20000;
    uVar2 = eqadc_fisr[2];
    eqadc_fisr[2] = uVar2 & 0xfffdffff | 0x20000;
    uVar2 = eqadc_fisr[3];
    eqadc_fisr[3] = uVar2 & 0xfffdffff | 0x20000;
    uVar2 = eqadc_fisr[4];
    eqadc_fisr[4] = uVar2 & 0xfffdffff | 0x20000;
    uVar3 = DAT_40002b34;
    if (DAT_40002b34 < DAT_40002b30) {
      uVar3 = DAT_40002b30;
    }
    uVar4 = DAT_40002b20;
    if (DAT_40002b20 < DAT_40002b1c) {
      uVar4 = DAT_40002b1c;
    }
    uVar5 = DAT_40002af8;
    if (DAT_40002af8 < DAT_40002af4) {
      uVar5 = DAT_40002af4;
    }
    uVar6 = DAT_40002b0c;
    if (DAT_40002b0c < DAT_40002b08) {
      uVar6 = DAT_40002b08;
    }
    uVar7 = DAT_40002ae4;
    if (DAT_40002ae4 < DAT_40002ae0) {
      uVar7 = DAT_40002ae0;
    }
    DAT_40002ae0 = uVar7;
    DAT_40002af4 = uVar5;
    DAT_40002b08 = uVar6;
    DAT_40002b1c = uVar4;
    DAT_40002b30 = uVar3;
    watchdog_retrigger();
  }
  if ((param_1 & 0xffff) == 0) {
    DAT_40002ba0 = (undefined2)(DAT_40002b08 >> 4);
    DAT_40002ba2 = (undefined2)(DAT_40002b1c >> 4);
    DAT_40002ba4 = (undefined2)(DAT_40002af4 >> 4);
    DAT_40002ba6 = (undefined2)(DAT_40002b30 >> 4);
    DAT_40002ba8 = (undefined2)(DAT_40002ae0 >> 4);
  }
  else {
    DAT_40002baa = (undefined2)(DAT_40002b08 >> 4);
    DAT_40002bac = (undefined2)(DAT_40002b1c >> 4);
    DAT_40002bae = (undefined2)(DAT_40002af4 >> 4);
    DAT_40002bb0 = (undefined2)(DAT_40002b30 >> 4);
    DAT_40002bb2 = (undefined2)(DAT_40002ae0 >> 4);
  }
  eQADC_compute_fixed_point_linearization
            (DAT_40002b08 & 0xffff,DAT_40002ae0 & 0xffff,local_1e,&local_20);
  DAT_400017d0 = (int)local_1e[0] & 0x7fff;
  DAT_400017cc = (int)local_20 & 0x3fff;
  DAT_400017ca = (short)DAT_400017d0;
  DAT_400017c8 = (short)DAT_400017cc;
  EQADC_CFPR[0] = DAT_400017d0 << 8 | 4 | param_1 << 0x19;
  EQADC_CFPR[0] = DAT_400017cc << 8 | 5 | param_1 << 0x19;
  return 1;
}



void FUN_000419e8(void)

{
  DAT_40002ec0 = 2;
  DAT_40002ec4 = 3;
  DAT_40002ec8 = 0x800101;
  DAT_40002ecc = 0x2000002;
  DAT_40002ed0 = 0x2000003;
  DAT_40002ed4 = 0x82800c01;
  return;
}



void init_eqADC(void)

{
  uint16_t uVar1;
  uint32_t uVar2;
  
  uVar1 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar1 & 0xff0f;
  eqadc_idcr[0] = 0;
  uVar2 = eqadc_fisr[0];
  eqadc_fisr[0] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[0];
  eqadc_cfcr[0] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while (uVar2 >> 0x1e != 0);
  uVar2 = eqadc_fisr[0];
  eqadc_fisr[0] = uVar2 & 0xfffdffff | 0x20000;
  uVar1 = eqadc_cfcr[1];
  eqadc_cfcr[1] = uVar1 & 0xff0f;
  eqadc_idcr[1] = 0;
  uVar2 = eqadc_fisr[1];
  eqadc_fisr[1] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[1];
  eqadc_cfcr[1] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x1c & 3) != 0);
  uVar2 = eqadc_fisr[1];
  eqadc_fisr[1] = uVar2 & 0xfffdffff | 0x20000;
  uVar1 = eqadc_cfcr[2];
  eqadc_cfcr[2] = uVar1 & 0xff0f;
  eqadc_idcr[2] = 0;
  uVar2 = eqadc_fisr[2];
  eqadc_fisr[2] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[2];
  eqadc_cfcr[2] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x1a & 3) != 0);
  uVar2 = eqadc_fisr[2];
  eqadc_fisr[2] = uVar2 & 0xfffdffff | 0x20000;
  uVar1 = eqadc_cfcr[3];
  eqadc_cfcr[3] = uVar1 & 0xff0f;
  eqadc_idcr[3] = 0;
  uVar2 = eqadc_fisr[3];
  eqadc_fisr[3] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[3];
  eqadc_cfcr[3] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x18 & 3) != 0);
  uVar2 = eqadc_fisr[3];
  eqadc_fisr[3] = uVar2 & 0xfffdffff | 0x20000;
  uVar1 = eqadc_cfcr[4];
  eqadc_cfcr[4] = uVar1 & 0xff0f;
  eqadc_idcr[4] = 0;
  uVar2 = eqadc_fisr[4];
  eqadc_fisr[4] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[4];
  eqadc_cfcr[4] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x16 & 3) != 0);
  uVar2 = eqadc_fisr[4];
  eqadc_fisr[4] = uVar2 & 0xfffdffff | 0x20000;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xff0f;
  eqadc_idcr[5] = 0;
  uVar2 = eqadc_fisr[5];
  eqadc_fisr[5] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xfdff | 0x200;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x14 & 3) != 0);
  uVar2 = eqadc_fisr[5];
  eqadc_fisr[5] = uVar2 & 0xfffdffff | 0x20000;
  FUN_000419e8();
  DAT_fff80000 = 0;
  DAT_fff80008 = 0;
  DAT_fff8000c = 6;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xff0f | 0x10;
  eqadc_idcr[5] = 0x300;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xfbff | 0x400;
  do {
    uVar2 = EQADC_CFSR;
  } while ((uVar2 >> 0x14 & 3) != 2);
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xff0f;
  eqadc_idcr[5] = 0;
  uVar2 = eqadc_fisr[5];
  eqadc_fisr[5] = uVar2 & 0xefffffff | 0x10000000;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xfdff | 0x200;
  return;
}



void init_eqADC4(void)

{
  uint16_t uVar1;
  
  DAT_40002f78 = 0x1440800;
  DAT_40002f7c = 0x1440900;
  DAT_40002f80 = 0x1440c00;
  DAT_40002f84 = 0x1441d00;
  DAT_40002f88 = 0x1442100;
  DAT_40002f8c = 0x1442000;
  DAT_40002f90 = 0x442900;
  DAT_40002f94 = 0x442c00;
  DAT_40002f98 = 0x442a00;
  DAT_40002f9c = 0x442b00;
  DAT_40002fa0 = 0x80442800;
  uVar1 = eqadc_cfcr[4];
  eqadc_cfcr[4] = uVar1 & 0xff0f | 0x90;
  eqadc_idcr[4] = 0x303;
  uVar1 = eqadc_cfcr[4];
  eqadc_cfcr[4] = uVar1 & 0xfbff | 0x400;
  return;
}



void init_eqADC5(void)

{
  uint16_t uVar1;
  
  DAT_40002ec0 = 0x3500000;
  DAT_40002ec4 = 0x3500100;
  DAT_40002ec8 = 0x3500200;
  DAT_40002ecc = 0x3500300;
  DAT_40002ed0 = 0x3500400;
  DAT_40002ed4 = 0x3500500;
  DAT_40002ed8 = 0x3500600;
  DAT_40002edc = 0x3500700;
  DAT_40002ee0 = 0x3500800;
  DAT_40002ee4 = 0x3500900;
  DAT_40002ee8 = 0x3500a00;
  DAT_40002eec = 0x3500b00;
  DAT_40002ef0 = 0x3500c00;
  DAT_40002ef4 = 0x3500d00;
  DAT_40002ef8 = 0x3500e00;
  DAT_40002efc = 0x3500f00;
  DAT_40002f00 = 0x3501000;
  DAT_40002f04 = 0x3501100;
  DAT_40002f08 = 0x3501200;
  DAT_40002f0c = 0x3501300;
  DAT_40002f10 = 0x3501400;
  DAT_40002f14 = 0x3501500;
  DAT_40002f18 = 0x3501600;
  DAT_40002f1c = 0x3501700;
  DAT_40002f20 = 0x3501800;
  DAT_40002f24 = 0x3501900;
  DAT_40002f28 = 0x3501a00;
  DAT_40002f2c = 0x3501b00;
  DAT_40002f30 = 0x3501c00;
  DAT_40002f34 = 0x3501d00;
  DAT_40002f38 = 0x3501e00;
  DAT_40002f3c = 0x3501f00;
  DAT_40002f40 = 0x3502000;
  DAT_40002f44 = 0x3502100;
  DAT_40002f48 = 0x3502200;
  DAT_40002f4c = 0x3502300;
  DAT_40002f50 = 0x3502400;
  DAT_40002f54 = 0x3502500;
  DAT_40002f58 = 0x3502600;
  DAT_40002f5c = 0x3502700;
  DAT_40002f60 = 0x2502900;
  DAT_40002f64 = 0x2502c00;
  DAT_40002f68 = 0x2502a00;
  DAT_40002f6c = 0x2502b00;
  DAT_40002f70 = 0x82502800;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xff0f | 0x90;
  eqadc_idcr[5] = 0x303;
  uVar1 = eqadc_cfcr[5];
  eqadc_cfcr[5] = uVar1 & 0xfbff | 0x400;
  return;
}



undefined8
FUN_00042290(uint *param_1,undefined4 *param_2,size_t len,undefined4 *param_4,longlong param_5)

{
  undefined8 uVar1;
  undefined4 *buf;
  int size;
  
  size = ((*etpu_mcr_addr >> 0x10 & 0x1f) + 1) * 0x800 - len;
  if (size < 0) {
    uVar1 = 4;
  }
  else {
    etpu_mcr_addr[5] = etpu_mcr_addr[5] & 0xbfffffff | 0x40000000;
    etpu_mcr_addr[6] = etpu_mcr_addr[6] & 0xbfffffff | 0x40000000;
    *etpu_mcr_addr = *etpu_mcr_addr & 0xffffffbf | 0x40;
    buf = (undefined4 *)memcpy_u32(DAT_40001b6c,(byte *)param_2,len);
    memset_u32(buf,0,size);
    *etpu_mcr_addr = *etpu_mcr_addr & 0xffffffbf;
    etpu_mcr_addr[3] = param_1[1];
    *etpu_mcr_addr = *param_1;
    etpu_mcr_addr[5] = param_1[2];
    etpu_mcr_addr[8] = param_1[3];
    etpu_mcr_addr[0xb] = param_1[4];
    etpu_mcr_addr[6] = param_1[5];
    etpu_mcr_addr[0x10] = param_1[6];
    etpu_mcr_addr[0x13] = param_1[7];
    DAT_40001b5c = memcpy_u32((byte *)etpu_base_unknown2,(byte *)param_4,(size_t)param_5);
    uVar1 = 0;
  }
  return uVar1;
}



longlong eTPU_channel_to_address(uint8_t channel)

{
  return (ulonglong)etpu_base_unknown2 +
         ((ulonglong)etpu_mcr_addr[(uint)channel * 4 + 0x100] & 0x7ff) * 8;
}



void FUN_00042404(uint param_1)

{
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] =
       etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] & 0xcfffffff;
  return;
}



void eTPU_set_enable_bit(void)

{
  *etpu_mcr_addr = *etpu_mcr_addr & 0xfffffffe | 1;
  return;
}



int FUN_00042440(uint param_1)

{
  int iVar1;
  
  iVar1 = DAT_40001b5c;
  DAT_40001b5c = DAT_40001b5c + ((int)((param_1 & 0xffff) + 7) >> 3) * 8;
  if (DAT_40001b64 < DAT_40001b5c) {
    iVar1 = 0;
  }
  return iVar1;
}



void eTPU_write_32bit(uint8_t channel,uint8_t offset,uint32_t value)

{
  *(uint32_t *)
   ((etpu_mcr_addr[(uint)channel * 4 + 0x100] & 0x7ff) * 8 + (int)(char)offset + eTPU_base_unknown +
   -1) = value;
  return;
}



uint32_t eTPU_read_24bit(uint8_t channel_num,int offset)

{
  return *(uint *)((etpu_mcr_addr[(uint)channel_num * 4 + 0x100] & 0x7ff) * 8 +
                   offset + eTPU_base_unknown + -1) & 0xffffff;
}



uint8_t eTPU_read_8bit(uint8_t channel_num,int offfset)

{
  return *(uint8_t *)
          ((etpu_mcr_addr[(uint)channel_num * 4 + 0x100] & 0x7ff) * 8 + offfset + etpu_base_unknown2
          );
}



void FUN_00042514(int param_1,undefined1 param_2)

{
  *(undefined1 *)(etpu_base_unknown2 + param_1) = param_2;
  return;
}



uint32_t eTPU_read_24bit_crank_trigger_(uint8_t offset)

{
  return *(uint *)(eTPU_base_unknown + (int)(char)offset + -1) & 0xffffff;
}



undefined1 FUN_00042534(int param_1)

{
  return *(undefined1 *)(etpu_base_unknown2 + param_1);
}



void memcpy_u32(byte *dst,byte *src,size_t size)

{
  bool bVar1;
  undefined4 uVar2;
  uint i;
  
  i = size >> 2;
  while (bVar1 = i != 0, i = i - 1, bVar1) {
    uVar2 = *(undefined4 *)src;
    src = src + 4;
    *(undefined4 *)dst = uVar2;
    dst = dst + 4;
  }
  return;
}



void memset_u32(undefined4 *buf,undefined4 val,int size)

{
  int remaining;
  bool done;
  
  remaining = size >> 2;
  while( true ) {
    done = remaining == 0;
    remaining = remaining + -1;
    if (done) break;
    *buf = val;
    buf = buf + 1;
  }
  return;
}



// Its a Q15 2ndorder IIR smoothing filter (biquad) with a preemphasis on the input and a
// 3tap output combination of the internal states.
// 

uint16_t adc_smooth_lowpass(struct_adc_smoothing_state *data,uint16_t sample)

{
  data->x_prev = data->s1;
  data->s1 = (int)(short)sample - (int)(short)((int)data->k0 * data->x_prev >> 0xf);
  data->s2 = data->s3;
  data->s3 = data->s4;
  data->s4 = (int)(short)((int)data->b0 * data->s1 + (int)data->b1 * data->x_prev >> 0xf) -
             (int)(short)((int)data->a1 * data->s3 + (int)data->a2 * data->s2 >> 0xf);
  return (uint16_t)
         ((int)data->c0 * data->s3 + (int)data->c1 * data->s2 + (int)data->c2 * data->s4 >> 15);
}



void adc_smooth_state_init
               (struct_adc_smoothing_state *state,int16_t k0,int16_t b0,int16_t b1,int16_t a1,
               int16_t _,int16_t c2,int16_t c0,int16_t _)

{
  state->x_prev = 0;
  state->s1 = 0;
  state->s2 = 0;
  state->s3 = 0;
  state->s4 = 0;
  state->k0 = k0;
  state->b0 = b0;
  state->b1 = b1;
  state->a1 = a1;
  state->a2 = _;
  state->c2 = c2;
  state->c0 = c0;
  state->c1 = _;
  return;
}



void set_dbsr(void)

{
  TBLw = 0;
  TBUw = 0;
  return;
}



void init_ivor(void)

{
  return;
}



undefined8 get_timer_base(void)

{
  undefined8 timer_base_val;
  
  timer_base_val = TBLw;
  return timer_base_val;
}



void init_flash_helper(void)

{
  init_flash_ctrl();
  return;
}



void init_siu(void)

{
  siu_pcr[0x7e] = 0x100;
  siu_pcr[0xc1] = 0x100;
  siu_pcr[0x5b] = 0x100;
  siu_pcr[0x5c] = 0x100;
  siu_pcr[0x56] = 0x100;
  siu_pcr[0x83] = 0x100;
  siu_pcr[199] = 0x100;
  siu_pcr[0x7f] = 0x100;
  siu_pcr[0x80] = 0x100;
  siu_pcr[0x75] = 0x100;
  siu_pcr[0xb8] = 0x100;
  siu_pcr[0xbd] = 0x100;
  siu_pcr[0xba] = 0x100;
  siu_pcr[0xca] = 0x100;
  siu_pcr[0x71] = 0xd00;
  siu_pcr[0x72] = 0xd00;
  siu_pcr[0x73] = 0xd00;
  siu_pcr[0x74] = 0xd00;
  siu_pcr[0x75] = 0xd00;
  siu_pcr[0x7f] = 0xd00;
  siu_pcr[0x80] = 0xd00;
  siu_pcr[0x76] = 0xe84;
  siu_pcr[0x77] = 0xe84;
  siu_pcr[0x78] = 0xe84;
  siu_pcr[0x79] = 0xe84;
  siu_pcr[0x7a] = 0xe84;
  siu_pcr[0x7b] = 0xe84;
  siu_pcr[0x84] = 0xe84;
  siu_pcr[0x85] = 0xe84;
  siu_pcr[0x86] = 0xe84;
  siu_pcr[0x87] = 0xe84;
  siu_pcr[0x88] = 0xe84;
  siu_pcr[0x89] = 0xe84;
  siu_pcr[0x60] = 0x284;
  siu_pcr[0x62] = 0x284;
  siu_pcr[99] = 0x284;
  siu_pcr[100] = 0x284;
  siu_pcr[0x90] = 0xe84;
  siu_pcr[0x91] = 0xe84;
  siu_pcr[0x8f] = 0x284;
  siu_pcr[0xb7] = 0x284;
  siu_pcr[0xc3] = 0x2cc;
  siu_pcr[0xcb] = 0x284;
  siu_pcr[0xcf] = 0x2c4;
  siu_pcr[0xd3] = 0x2cc;
  siu_pcr[0xd4] = 0x2cc;
  siu_pcr[0xb4] = 0x284;
  siu_pcr[0xb3] = 0x284;
  siu_pcr[0x7c] = 0x2cc;
  siu_pcr[0x7d] = 0x2cc;
  return;
}



void copyCAL2RAM(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  uint8_t *puVar3;
  undefined2 *src_addr;
  undefined2 *target_addr;
  undefined *puVar4;
  
  puVar3 = CAL_knock_sampling_window + 46;
  inj_efficiency_test_trim = 128;
  DAT_400017fb = 0x80;
  DAT_400017fa = 0;
  DAT_400017f9 = 0x80;
  vvt_intake_fallback_angle_zero = 0;
  DAT_400017f5 = 128;
  afr_target_trim_0p02_steps = 0;
  vvt_exhaust_fallback_angle_zero = 0;
  DAT_400017f4 = 0;
  fuel_pressure_state_flags = fuel_pressure_state_flags | 1;
  target_addr = (undefined2 *)0x40008652;
  src_addr = (undefined2 *)0x1fffe;
  puVar4 = &DAT_00001a6b;
  do {
    puVar2 = src_addr + 1;
    src_addr = src_addr + 2;
    uVar1 = *src_addr;
    target_addr[1] = *puVar2;
    target_addr = target_addr + 2;
    *target_addr = uVar1;
    puVar4 = puVar4 + -1;
  } while (puVar4 != (undefined *)0);
  init_intc_1();
  DAT_400017d8 = DAT_400017d8 | 2;
  copyCOD2RAM();
  DAT_400017d8 = DAT_400017d8 & 0xfd;
  set_spr_IVOR2();
  calibration_verification_number =
       CRC16((byte *)&CAL_ecu_data_base,*(ushort *)(&UNK_ffff8012 + (int)puVar3) - 34 & 0xffff);
  if ((((CAL_ecu_unlock_magic[0] == 'W') && (CAL_ecu_unlock_magic[1] == 'T')) &&
      (CAL_ecu_unlock_magic[2] == 'F')) && (CAL_ecu_unlock_magic[3] == '?')) {
    ecu_unlocked = true;
  }
  else {
    ecu_unlocked = false;
  }
  DAT_400017dc = (undefined2)*DAT_400015a8;
  FUN_0004530c();
  return;
}



void init_obd_ii_config(void)

{
  obd_ii_set_mode01_supported_pids();
  obd_ii_set_mode02_supported_pids();
  obd_ii_set_mode22_supported_pids();
  obd_ii_set_mode2f_supported_pids();
  obd_ii_set_mode06_supported_pids();
  set_obd_ii_set_mode08_flags();
  set_obd_ii_set_mode09_flags();
  return;
}



void init_devices(void)

{
  copyCAL2RAM();
  init_gear_cal();
  init_obd_ii_config();
  init_intc_1();
  DAT_400017d8 = DAT_400017d8 | 1;
  EEPROM_load();
  DAT_400017d8 = DAT_400017d8 & 0xfe;
  set_spr_IVOR2();
  init_siu();
  init_eDMA2();
  init_eDMA2_2();
  init_eqADC();
  init_pinmux_and_iosetup();
  init_eqADC2(1);
  init_eqADC2(0);
  init_eqADC3();
  init_eqADC5();
  init_eqADC4();
  init_emios_mcr();
  init_emios_uc4();
  init_ivor();
  set_dbsr();
  init_dspi1();
  init_etpu();
  coil_control_unknown();
  init_flexcan_a();
  init_flexcan_filters();
  FUN_000af0ec();
  init_vvt_hardware_and_timers();
                    // ac present
  if ((COD_base[0] >> 28 & 7) == 2) {
    init_dev_ac();
  }
  FUN_000cdfb0();
  FUN_0009b470();
  flexcan_a_set_rx();
  FUN_0007b9e8();
  FUN_000b262c();
  knock_hw_init();
  noop_3();
  init_emios1();
  FUN_000cc334((undefined4 *)&ips_rev_match_ctrl_);
  FUN_00074190();
  FUN_000b4dd0();
  init_intc();
  return;
}



void main(void)

{
  uint32_t uVar1;
  uint16_t uVar2;
  undefined8 _timer_base;
  int iVar3;
  ushort how2;
  uint16_t _diag_flags;
  
  freeram_fill_0x55();
  init_devices();
  init_globals();
  uVar1 = siu_rsr;
  uVar2 = main_diagnostic_flags;
  _diag_flags = main_diagnostic_flags;
  if ((uVar1 >> 0x1b & 1) == 1) {
    uVar2 = main_diagnostic_flags | 2;
  }
  do {
    main_diagnostic_flags = uVar2;
    DAT_40003088 = etpu_mcr_addr[9];
    _timer_base = get_timer_base();
    timerbase_mainloop = (uint32_t)_timer_base;
    timer_main = timer_main + 1;
    knock_agc_configure();
    knock_setup_unknown();
    knock_dsp_setup_bins_and_reset_state();
                    // ***************************************************************************
                    // Only one of these functions can operate at once controlled by the mode flag
                    // at CAL_knock_mode 
                    // 
    knock_dsp_mode2_goertzel_dual_window_64();
    knock_dsp_mode1_goertzel_64sample();
    knock_dsp_mode4_goertzel_3_overlapping_windows();
    knock_dsp_mode3_fft_128point();
                    // **************************************************************************
    watchdog_retrigger();
    read_serial_peripherals();
    DAT_40003098 = etpu_mcr_addr[9];
    if (CAL_ecu_flexcan_config_unknown != 0) {
      flexcan_diagnostics_tx();
    }
    DAT_4000309c = etpu_mcr_addr[9];
    adc_sample();
    obd_status_latch_update();
    obd_ii_update_states();
    adc_avg();
    engine_load();
    iVar3 = adc_convert();
    shutdown(iVar3,_diag_flags);
    cooling_control();
    idle();
    evap_state_control();
    evap();
    injtip();
    gear_determination();
    closedloop();
    injection();
    ignition();
    lea_reset_handler_unknown();
    service_tick_unknown();
    read_accessory_states();
    vvt();
    knock();
    torque_model();
    traction_main();
    fuel_level_and_usage();
    if ((COD_base[0] >> 25 & 7) == 1) {
      cruise_control();
    }
    revlimit();
    if ((COD_base[0] >> 28 & 7) == 2) {
      ac_compressor();
    }
    if (eeprom_update_flags != 0) {
                    // pending coding changes
      EEPROM_commit_coding_to_flash();
    }
    fuel_pump();
    eTPU_update_period_and_frequency();
    freeram_counter();
                    // loop timing
    DAT_4000308c = etpu_mcr_addr[9];
    if ((int)DAT_4000308c < (int)DAT_40003088) {
      iVar3 = 0xffffff - DAT_40003088;
    }
    else {
      iVar3 = -DAT_40003088;
    }
    DAT_40003090 = DAT_4000308c + iVar3;
    if (DAT_40003094 < DAT_40003090) {
      DAT_40003094 = DAT_40003090;
    }
    if ((int)DAT_4000309c < (int)DAT_40003098) {
      iVar3 = 0xffffff - DAT_40003098;
    }
    else {
      iVar3 = -DAT_40003098;
    }
    DAT_400030a0 = DAT_4000309c + iVar3;
    uVar2 = main_diagnostic_flags;
    _diag_flags = 0x3088;
    if (DAT_400030a4 < DAT_400030a0) {
      DAT_400030a4 = DAT_400030a0;
    }
  } while( true );
}



void freeram_fill_0x55(void)

{
  freeRamScanPtr = &SUB_4000f000;
  freeRamEstimateScaled = 0;
  memset_and_return(&SUB_4000f000,85,3584);
  return;
}



// On boot, memory is slab-filled with 0x55

void freeram_counter(void)

{
  if ((((*freeRamScanPtr == 0x55555555) && (freeRamScanPtr[1] == 0x55555555)) &&
      (freeRamScanPtr[2] == 0x55555555)) && (freeRamScanPtr[3] == 0x55555555)) {
    if (!freeRamBoundaryLatched) {
      freeRamScanPtr = freeRamScanPtr + 4;
    }
  }
  else {
    freeRamBoundaryLatched = true;
    freeRamScanPtr = freeRamScanPtr + -4;
  }
  freeRamEstimateScaled =
       (uint32_t)
       (((0x40010000 - ZEXT48(freeRamScanPtr) & 0xffffff) * 0x100 -
         (0x40010000 - ZEXT48(freeRamScanPtr)) & 0xffffffff) / 0x1000);
  return;
}



void init_emios_uc4(void)

{
  uint uVar1;
  
  emios_uc[0].uc._132_4_ = 500;
  emios_uc[0].uc._128_4_ = 0xfa;
  uVar1 = emios_uc[0].uc._140_4_;
  emios_uc[0].uc._140_4_ = uVar1 & 0xffffff80 | 0x18;
  uVar1 = emios_uc[0].uc._140_4_;
  emios_uc[0].uc._140_4_ = uVar1 & 0xfffff9ff | 0x600;
  uVar1 = emios_uc[0].uc._140_4_;
  emios_uc[0].uc._140_4_ = uVar1 & 0x7fffffff | 0x80000000;
  uVar1 = emios_uc[0].uc._140_4_;
  emios_uc[0].uc._140_4_ = uVar1 & 0xfffdffff | 0x20000;
  uVar1 = emios_uc[0].uc._140_4_;
  emios_uc[0].uc._140_4_ = uVar1 & 0xfdffffff | 0x2000000;
  emios_uc[0].uc._136_4_ = 0;
  INTC_PSR[0x37] = '\x01';
  return;
}



void interrupt_timer_2000hz(void)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  byte bVar4;
  byte bVar5;
  char cVar6;
  uint uVar7;
  uint32_t uVar8;
  short i;
  u32_load_mg_stroke _load_unknown;
  ushort uVar9;
  byte lookup2_unknown;
  u8_factor_1_255 _tps_factor_0x9;
  byte j;
  u8_load_4mg_stroke _load_unknown2;
  uint8_t uVar10;
  ushort uVar11;
  bool injtip_overrun_hysteresis_timer_is_zero;
  u32_time_5ms ctrp_new;
  
  bVar2 = false;
  uint32_t_ARRAY_40003108[0] = etpu_mcr_addr[9];
  uint32_t_ARRAY_400030d8[0xb] = etpu_mcr_addr[9];
  if ((int)uint32_t_ARRAY_400030d8[0xb] < (int)uint32_t_ARRAY_40003108[0xb]) {
    iVar3 = 0xffffff - uint32_t_ARRAY_40003108[0xb];
  }
  else {
    iVar3 = -uint32_t_ARRAY_40003108[0xb];
  }
  DAT_40003084 = uint32_t_ARRAY_400030d8[0xb] + iVar3;
  if ((int)uint32_t_ARRAY_400030a8[0xb] < (int)DAT_40003084) {
    uint32_t_ARRAY_400030a8[0xb] = DAT_40003084;
  }
  if (counter_unknown_cycles_every_256 == 0) {
    counter_unknown_cycles_every_256 = 0;
    if ((int)DAT_40003084 < (int)DAT_40001878) {
      DAT_40001878 = DAT_40003084;
    }
    if ((int)DAT_4000187c < (int)DAT_40003084) {
      DAT_4000187c = DAT_40003084;
    }
  }
  else {
    counter_unknown_cycles_every_256 = counter_unknown_cycles_every_256 + 0xff;
  }
  uint32_t_ARRAY_40003108[0xb] = etpu_mcr_addr[9];
  if (CAL_ecu_flexcan_config_unknown != 0) {
    if ((DAT_4000185d != 0) && (DAT_4000185d = DAT_4000185d + -1, DAT_4000185d == 0)) {
      flexcan_counters_scheduler_tick(0);
    }
    if ((DAT_4000185e != 0) && (DAT_4000185e = DAT_4000185e + -1, DAT_4000185e == 0)) {
      flexcan_counters_scheduler_tick(1);
    }
    if ((DAT_4000185f != 0) && (DAT_4000185f = DAT_4000185f + -1, DAT_4000185f == 0)) {
      flexcan_counters_scheduler_tick(2);
    }
    if ((DAT_40001860 != 0) && (DAT_40001860 = DAT_40001860 + -1, DAT_40001860 == 0)) {
      flexcan_counters_scheduler_tick(3);
    }
    if ((DAT_40001861 != 0) && (DAT_40001861 = DAT_40001861 + -1, DAT_40001861 == 0)) {
      flexcan_counters_scheduler_tick(4);
    }
    if ((DAT_40001862 != 0) && (DAT_40001862 = DAT_40001862 + -1, DAT_40001862 == 0)) {
      flexcan_counters_scheduler_tick(5);
    }
    if ((DAT_40001863 != 0) && (DAT_40001863 = DAT_40001863 + -1, DAT_40001863 == 0)) {
      flexcan_counters_scheduler_tick(6);
    }
    if ((DAT_40001864 != 0) && (DAT_40001864 = DAT_40001864 + -1, DAT_40001864 == 0)) {
      flexcan_counters_scheduler_tick(7);
    }
    if ((unknown_timer_reset_at_2hz != 0) &&
       (unknown_timer_reset_at_2hz = unknown_timer_reset_at_2hz + -1,
       unknown_timer_reset_at_2hz == 0)) {
      flexcan_counters_scheduler_tick(8);
    }
    if ((unknown_timer_reset_at_1 != '\0') &&
       (unknown_timer_reset_at_1 = unknown_timer_reset_at_1 + 0xff, unknown_timer_reset_at_1 == 0))
    {
      flexcan_counters_scheduler_tick(9);
    }
  }
  if (runtime_since_start != 0) {
    O2_heater_500us();
  }
  event_timer_1000hz = event_timer_1000hz + -1;
  if (event_timer_1000hz == 0) {
    uint32_t_ARRAY_40003108[1] = etpu_mcr_addr[9];
    event_timer_1000hz = 2;
    idle_control_unknown_1000hz();
    tps_control_1000hz();
    ips_shift_state_mgmt_1000hz((undefined4 *)&ips_rev_match_ctrl_);
    obd_ii_mixture_tests();
    cc_diagnostic_1000hz();
    uVar7 = (256 - (uint)DAT_4000ccaf) * DAT_40001870;
    DAT_40001870 = ((int)uVar7 >> 8) + (uint)((int)uVar7 < 0 && (uVar7 & 0xff) != 0) +
                   DAT_4000ccaf * load_computed_maf;
    DAT_400019ea = (short)(DAT_40001870 >> 8) +
                   (ushort)((int)DAT_40001870 < 0 && (DAT_40001870 & 0xff) != 0);
    uint32_t_ARRAY_400030d8[1] = etpu_mcr_addr[9];
  }
  event_timer_200hz = event_timer_200hz + -1;
  if (event_timer_200hz == 0) {
    uint32_t_ARRAY_40003108[2] = etpu_mcr_addr[9];
    event_timer_200hz = 10;
    engine_roughness____200hz();
    wheelspeed_front_rate_200hz();
    pwm_drive_0xB3_200hz();
    inj_transient_ramp_200hz();
    adc_sample_unknown_200hz();
    bVar1 = DAT_40001880 == '\0';
    DAT_40001880 = DAT_40001880 + -1;
    if (bVar1) {
      DAT_40001880 = 0;
    }
    car_speed_update_200hz();
    obd_ii_throttle_actuator_monitor_200hz();
    accel_pedal_200hz();
    fuel_pump_closed_loop_update();
    if (engine_is_running == false) {
      if (runtime_since_start != 0) {
        engine_stop_reset();
      }
      runtime_since_start = 0;
    }
    else {
                    // this is 5ms! why is the loop 400hz?
      if (runtime_since_start != 0xffffffff) {
        runtime_since_start = runtime_since_start + 1;
      }
    }
    bVar1 = u8_time_5ms_40001881 == '\0';
    u8_time_5ms_40001881 = u8_time_5ms_40001881 + 0xff;
    if (bVar1) {
      u8_time_5ms_40001881 = 0;
    }
    bVar1 = u8_time_5ms_400015b4 == '\0';
    u8_time_5ms_400015b4 = u8_time_5ms_400015b4 + 0xff;
    if (bVar1) {
      u8_time_5ms_400015b4 = '\0';
    }
    bVar1 = u16_time_5ms_40001f1a == 0;
    u16_time_5ms_40001f1a = u16_time_5ms_40001f1a - 1;
    if (bVar1) {
      u16_time_5ms_40001f1a = 0;
    }
    bVar1 = brake_or_clutch_inactive_timer == 0;
    brake_or_clutch_inactive_timer = brake_or_clutch_inactive_timer + 0xff;
    if (bVar1) {
      brake_or_clutch_inactive_timer = 0;
    }
    bVar1 = u16_time_5ms_40001830 == 0;
    u16_time_5ms_40001830 = u16_time_5ms_40001830 - 1;
    if (bVar1) {
      u16_time_5ms_40001830 = 0;
    }
    bVar1 = u16_time_5ms_40001832 == 0;
    u16_time_5ms_40001832 = u16_time_5ms_40001832 - 1;
    if (bVar1) {
      u16_time_5ms_40001832 = 0;
    }
    bVar1 = u16_time_5ms_40001834 == 0;
    u16_time_5ms_40001834 = u16_time_5ms_40001834 - 1;
    if (bVar1) {
      u16_time_5ms_40001834 = 0;
    }
    bVar1 = u16_time_5ms_40001836 == 0;
    u16_time_5ms_40001836 = u16_time_5ms_40001836 - 1;
    if (bVar1) {
      u16_time_5ms_40001836 = 0;
    }
    bVar1 = timer_unknown5 == 0;
    timer_unknown5 = timer_unknown5 - 1;
    if (bVar1) {
      timer_unknown5 = 0;
    }
    event_timer_100hz = event_timer_100hz + -1;
    if (event_timer_100hz == 0) {
      uint32_t_ARRAY_40003108[3] = etpu_mcr_addr[9];
      event_timer_100hz = 2;
      DAT_4000185d = 2;
      DAT_4000185e = 4;
                    // aux cooling fan present
      if (((COD_base[1] >> 26 & 1) != 0) && (fan_engine_bay_timer____ != 0xff)) {
        fan_engine_bay_timer____ = fan_engine_bay_timer____ + 1;
      }
      vehicle_mode_unknown2_100hz();
      set_driver_input_brake_clutch_100hz();
      noop_2_100hz();
      if (((COD_base[1] >> 21 & 3) == 2) && ((CAL_obd_ii_P1809 & 7) != 0)) {
                    // If clutch is potentiometer
        clutch_sensor_100hz();
      }
      if ((COD_base[0] >> 0xd & 7) == 1) {
        bVar4 = ips_cruise_status_flags | 1;
        if ((obd_ii_cruise_status & 1) == 0) {
          bVar4 = ips_cruise_status_flags & 0b11111110;
        }
        bVar5 = bVar4 | 0b00000010;
        if ((obd_ii_cruise_status & 0b00000010) == 0) {
          bVar5 = bVar4 & 0b11111101;
        }
        if (((obd_ii_cruise_status & 0x400) == 0) && ((obd_ii_cruise_status & 0x400000) == 0)) {
          ips_cruise_status_flags = bVar5 & 0b11111011;
        }
        else {
          ips_cruise_status_flags = bVar5 | 4;
        }
        bVar4 = ips_cruise_status_flags & 0xf7;
        ips_cruise_status_flags = ips_cruise_status_flags | 8;
        if ((obd_ii_cruise_status & 0x10000) == 0) {
          ips_cruise_status_flags = bVar4;
        }
        flexcan_a_tx_d2_100hz
                  (tps2,(byte)revlimit_state_flags & 1,paddle_shift_flags,
                   CAL_ecu_ips_mesg_unknown << 4 | 6,(u8_speed_kph)(cruise_speed_target / 100),
                   ips_cruise_status_flags,(byte)revlimit_final_,(byte)(revlimit_final_ >> 8));
      }
      engine_speed_reference_update_100hz();
      imu_process_100hz();
      oil_pressure_100hz();
      uint32_t_ARRAY_400030d8[3] = etpu_mcr_addr[9];
    }
    event_timer_50hz = event_timer_50hz + 0xff;
    if (event_timer_50hz == 0) {
      uint32_t_ARRAY_40003108[4] = etpu_mcr_addr[9];
      event_timer_50hz = 4;
      DAT_4000185f = 6;
      DAT_40001860 = 8;
      uint32_t_ARRAY_400030d8[4] = etpu_mcr_addr[9];
    }
    event_timer_20hz = event_timer_20hz + 0xff;
    if (event_timer_20hz == 0) {
      uint32_t_ARRAY_40003108[5] = etpu_mcr_addr[9];
      event_timer_20hz = 10;
      DAT_40001861 = 12;
      DAT_40001862 = 14;
      uint32_t_ARRAY_400030d8[5] = etpu_mcr_addr[9];
    }
    event_timer_10hz = event_timer_10hz - 1;
    if ((short)event_timer_10hz < 1) {
      uint32_t_ARRAY_40003108[6] = etpu_mcr_addr[9];
      event_timer_10hz = 20;
      DAT_40001863 = 26;
      DAT_40001864 = 28;
      cooling_chargecooler_pump_100ms();
      obd_ii_MIL_flags_unknown = 0xffff;
      if (u32_time_100ms_40001874 < 39321000) {
        u32_time_100ms_40001874 = u32_time_100ms_40001874 + 1;
      }
      if (ecu_run_timer != 0xffff) {
        ecu_run_timer = ecu_run_timer + 1;
      }
      if ((ignition_on_flags & 1) == 0) {
        u16_time_100ms_40001846 = 0;
      }
      else if (u16_time_100ms_40001846 != 0xffff) {
        u16_time_100ms_40001846 = u16_time_100ms_40001846 + 1;
      }
      if (engine_speed_2 == 0) {
        if ((DAT_40001df4 != '\0') && (u16_time_100ms_4000183e != 0xffff)) {
          u16_time_100ms_4000183e = u16_time_100ms_4000183e + 1;
        }
      }
      else {
        u16_time_100ms_4000183e = 0;
      }
      if (car_speed_u8 == 0) {
        if (u16_time_100ms_40001840 != 0xffff) {
          u16_time_100ms_40001840 = u16_time_100ms_40001840 + 1;
        }
      }
      else {
        u16_time_100ms_40001840 = 0;
      }
      if ((COD_base[0] >> 0xd & 7) == 1) {
        if (recent_shift_flags_ips == 0) {
          if (current_gear_time != 0xffff) {
            current_gear_time = current_gear_time + 1;
          }
        }
        else {
          current_gear_time = 0;
        }
      }
      else if ((new_gear_detected_flags & 1) == 0) {
        if (current_gear_time != 0xffff) {
          current_gear_time = current_gear_time + 1;
        }
      }
      else {
        current_gear_time = 0;
                    // clear recent shift indicator
        new_gear_detected_flags = new_gear_detected_flags & 0b1111111111111110;
      }
      bVar1 = u16_time_100ms_40001df6 == 0;
      u16_time_100ms_40001df6 = u16_time_100ms_40001df6 - 1;
      if (bVar1) {
        u16_time_100ms_40001df6 = 0;
      }
      event_timer_5hz = event_timer_5hz + 0xff;
      if (event_timer_5hz == 0) {
        uint32_t_ARRAY_40003108[7] = etpu_mcr_addr[9];
        event_timer_5hz = 2;
        uint32_t_ARRAY_400030d8[7] = etpu_mcr_addr[9];
      }
      event_timer_333ms = event_timer_333ms + 0xff;
      if (event_timer_333ms == 0) {
        uint32_t_ARRAY_40003108[8] = etpu_mcr_addr[9];
        event_timer_333ms = 3;
        FUN_0004bc24_333ms();
        FUN_0004bccc_333ms();
        service_coding_333ms();
        uint32_t_ARRAY_400030d8[8] = etpu_mcr_addr[9];
      }
      event_timer_2hz = event_timer_2hz + 0xff;
      if (event_timer_2hz == 0) {
        uint32_t_ARRAY_40003108[9] = etpu_mcr_addr[9];
        event_timer_2hz = 5;
        unknown_timer_reset_at_2hz = 36;
        uint32_t_ARRAY_400030d8[9] = etpu_mcr_addr[9];
      }
      event_timer_1hz = event_timer_1hz + 0xff;
      if (event_timer_1hz == 0) {
        uint32_t_ARRAY_40003108[10] = etpu_mcr_addr[9];
        event_timer_1hz = 10;
        unknown_timer_reset_at_1 = 38;
        uint32_t_ARRAY_400030d8[10] = etpu_mcr_addr[9];
      }
      cluster_and_exhaust_flaps_100ms();
      FUN_0009cb00_100ms();
      o2_fuel_learn_100ms();
      FUN_0006dfac_100ms();
      obd_ii_knock_threshold_per_clyinder_100ms();
      vvt_update_zero_timers_100ms();
      update_engine_speed_history_100ms();
      traction_update_100ms();
      fuel_usage_summary_100ms();
      uint32_t_ARRAY_400030d8[6] = etpu_mcr_addr[9];
    }
    for (i = 0; i < 5; i = i + 1) {
      if ((&DAT_40004f58)[i] != 0) {
        (&DAT_40004f58)[i] = (&DAT_40004f58)[i] + -1;
      }
    }
    bVar1 = u16_time_5ms_40001b74 == 0;
    u16_time_5ms_40001b74 = u16_time_5ms_40001b74 - 1;
    if (bVar1) {
      u16_time_5ms_40001b74 = 0;
    }
    if ((inj_flags & 2) == 0) {
      if ((short)DAT_4000180c < (short)(ushort)DAT_40001cc0) {
        DAT_40001858 = DAT_40001858 + -1;
        uVar9 = DAT_4000180c;
        if (DAT_40001858 == '\0') {
          DAT_40001858 = DAT_4000869f;
          uVar9 = DAT_4000180c + 1;
        }
      }
      else {
        uVar9 = (ushort)DAT_40001cc0;
      }
    }
    else {
      uVar9 = DAT_4000180c - 1;
      if (DAT_4000180c == 0) {
        uVar9 = DAT_4000180c;
      }
    }
    DAT_4000180c = uVar9;
    bVar1 = injtip_overrun_inhibit_timer == 0;
    injtip_overrun_inhibit_timer = injtip_overrun_inhibit_timer - 1;
    if (bVar1) {
      injtip_overrun_inhibit_timer = 0;
    }
    injtip_overrun_hysteresis_timer_is_zero = injtip_overrun_hysteresis_timer == 0;
    injtip_overrun_hysteresis_timer = injtip_overrun_hysteresis_timer - 1;
    if (injtip_overrun_hysteresis_timer_is_zero) {
      injtip_overrun_hysteresis_timer = 0;
    }
    if ((inj_flags & 1) == 0) {
      DAT_4000180e = 0;
      if (((DAT_40002849 < 6) && ((injection_flags & 1) == 0)) && (engine_is_running != false)) {
        if (DAT_40001810 != -1) {
          DAT_40001810 = DAT_40001810 + 1;
        }
      }
      else {
        DAT_40001810 = 0;
      }
    }
    else {
      if (DAT_4000180e < 0x13ec) {
        DAT_4000180e = DAT_4000180e + 1;
      }
      DAT_40001810 = 0;
    }
    bVar1 = u16_time_5ms_40001cce == 0;
    u16_time_5ms_40001cce = u16_time_5ms_40001cce - 1;
    if (bVar1) {
      u16_time_5ms_40001cce = 0;
    }
    bVar1 = DAT_40001d42 == '\0';
    DAT_40001d42 = DAT_40001d42 + -1;
    if (bVar1) {
      DAT_40001d42 = '\0';
    }
    bVar1 = u16_time_5ms_40001848 == 0;
    u16_time_5ms_40001848 = u16_time_5ms_40001848 - 1;
    if (bVar1) {
      u16_time_5ms_40001848 = 0;
    }
    ctrp_new = cooling_timer_recirc_pump;
    if (ecu_shutdown_timer != 0) {
      ecu_shutdown_timer = ecu_shutdown_timer - 1;
      ctrp_new = cooling_timer_recirc_pump - 1;
      if (cooling_timer_recirc_pump == 0) {
        ctrp_new = cooling_timer_recirc_pump;
      }
    }
    cooling_timer_recirc_pump = ctrp_new;
    if (((ignition_on_flags & 1) == 0) || (obd_ii_engine_speed != 0)) {
      u32_time_5ms_4000184c = 0;
    }
    else {
      u32_time_5ms_4000184c = u32_time_5ms_4000184c + 1;
    }
                    // COD_base[1] >> 26 indicates the presence of aux cooling fan
    if (((COD_base[1] >> 26 & 1) != 0) && (u16_time_5ms_40001814 != 0xffff)) {
      u16_time_5ms_40001814 = u16_time_5ms_40001814 + 1;
    }
    ignition_retard_and_recovery_200hz();
    closed_loop_200hz();
    injection_200hz();
    if (BOOL_4000898b == false) {
      DAT_4000185a = DAT_400086a0;
    }
    else {
      _load_unknown = u32_load_mg_stroke_40001d0c - load_mass_per_stroke_raw;
      if ((int)_load_unknown < 513) {
        if ((int)_load_unknown < -508) {
          _load_unknown2 = '\0';
        }
        else {
          uVar7 = _load_unknown + 508;
          _load_unknown2 = (char)((int)uVar7 >> 2) + ((int)uVar7 < 0 && (uVar7 & 0b00000011) != 0);
        }
      }
      else {
        _load_unknown2 = 255;
      }
      fuel_film_comp_load___ =
           lookup_2D_uint8_interpolated
                     (16,_load_unknown2,CAL_injtip_fuel_film_comp_unknown,
                      CAL_injtip_fuel_film_comp_unknown_X_load);
      if (DAT_40001d00 < 51001) {
        uVar10 = (uint8_t)(DAT_40001d00 / 200);
      }
      else {
        uVar10 = 0xff;
      }
      if ((int)(((int)DAT_400019e0 >> 8) +
               (uint)((int)DAT_400019e0 < 0 && (DAT_400019e0 & 0xff) != 0)) <
          (int)u32_load_mg_stroke_40001d0c) {
        u8_factor_1_255_4000185c =
             lookup_2D_uint8_interpolated('\b',uVar10,s_ELf_4000e280,s__4000e278);
      }
      else {
        u8_factor_1_255_4000185c =
             lookup_2D_uint8_interpolated('\b',uVar10,s___0___4000e290,s__4000e288);
      }
      DAT_4000185a = (byte)(((uint)fuel_film_comp_load___ * (uint)u8_factor_1_255_4000185c) / 0xff);
    }
    uVar7 = (0x100 - (uint)DAT_4000185a) * DAT_400019e0;
    DAT_400019e0 = ((int)uVar7 >> 8) + (uint)((int)uVar7 < 0 && (uVar7 & 0xff) != 0) +
                   DAT_4000185a * u32_load_mg_stroke_40001d0c;
    load_mass_per_stroke_raw =
         ((int)DAT_400019e0 >> 8) + (uint)((int)DAT_400019e0 < 0 && (DAT_400019e0 & 0xff) != 0);
    uVar7 = (0x100 - (uint)DAT_4000185a) * DAT_4000186c;
    DAT_4000186c = ((int)uVar7 >> 8) + (uint)((int)uVar7 < 0 && (uVar7 & 0xff) != 0) +
                   DAT_4000185a * load_computed_maf;
    DAT_400019e8 = (short)(DAT_4000186c >> 8) +
                   (ushort)((int)DAT_4000186c < 0 && (DAT_4000186c & 0xff) != 0);
    uVar7 = DAT_400019e4 * 0xff;
    DAT_400019e4 = u32_load_mg_stroke_40001d0c +
                   ((int)uVar7 >> 8) + (uint)((int)uVar7 < 0 && (uVar7 & 0xff) != 0);
    DAT_40001868 = (short)(DAT_400019e4 >> 8) +
                   (ushort)((int)DAT_400019e4 < 0 && (DAT_400019e4 & 0xff) != 0);
                    // clip load calculation
    if (1380 < (int)load_mass_per_stroke_raw) {
      load_mass_per_stroke_raw = 1380;
    }
    for (i = 15; 0 < i; i = i + -1) {
      tps_target_div4_history[i] = tps_target_div4_history[i + -1];
      tps_requested_history_[i] = tps_requested_history_[i + -1];
    }
    tps_target_div4_history[0] = (short)obd_ii_commanded_throttle_actuator >> 2;
    tps_requested_history_[0] = tps_requested2;
    uVar9 = (ushort)DAT_400087cf;
    if (15 < DAT_400087cf) {
      uVar9 = 15;
    }
    uVar11 = (ushort)DAT_4000869b;
    if (15 < DAT_4000869b) {
      uVar11 = 15;
    }
    if ((trqlimit_external_request_flags___ & 0x1f) == 0) {
      tps_delta_rate = tps_requested2 - tps_requested_history_[(short)uVar9];
      tps_rate_unknown = tps_requested2 - tps_requested_history_[(short)uVar11];
    }
    else {
      tps_delta_rate = tps_target_div4_history[0] - tps_target_div4_history[(short)uVar9];
      tps_rate_unknown = tps_target_div4_history[0] - tps_target_div4_history[(short)uVar11];
    }
    if (injtip_transient_throttle_response_time == 0) {
      if ((short)tps_inj_tipin_rate_ < 0) {
        DAT_40001850 = DAT_40001850 + 1;
        if ((short)(ushort)DAT_400087d1 <= DAT_40001850) {
          DAT_40001850 = 0;
          tps_inj_tipin_rate_ = tps_inj_tipin_rate_ + injtip_step_unknown;
          if (0 < (short)tps_inj_tipin_rate_) {
            tps_inj_tipin_rate_ = 0;
          }
        }
      }
      else if ((0 < (short)tps_inj_tipin_rate_) &&
              (DAT_40001850 = DAT_40001850 + 1, (short)(ushort)DAT_400087d0 <= DAT_40001850)) {
        DAT_40001850 = 0;
        tps_inj_tipin_rate_ = tps_inj_tipin_rate_ - injtip_comp_step1;
        if ((short)tps_inj_tipin_rate_ < 0) {
          tps_inj_tipin_rate_ = 0;
        }
      }
    }
    else {
      injtip_transient_throttle_response_time = injtip_transient_throttle_response_time - 1;
    }
    if ((short)tps_delta_rate < 0) {
      if ((int)(short)tps_delta_rate < -(int)(short)CAL_injtip_out_threshold[1]) {
        if ((int)(short)tps_delta_rate < -(int)(short)CAL_injtip_out_threshold[0]) {
          tps_inj_tipin_rate_ = -CAL_injtip_out_threshold[0];
          DAT_40001850 = 0;
          bVar2 = true;
        }
        else if ((short)tps_delta_rate < (short)tps_inj_tipin_rate_) {
          tps_inj_tipin_rate_ = tps_delta_rate;
          DAT_40001850 = 0;
          bVar2 = true;
        }
      }
    }
    else if ((short)CAL_injtip_in_threshold[1] < (short)tps_delta_rate) {
      if ((short)CAL_injtip_in_threshold[0] < (short)tps_delta_rate) {
        tps_inj_tipin_rate_ = CAL_injtip_in_threshold[0];
        DAT_40001850 = 0;
        bVar2 = true;
      }
      else if ((short)tps_inj_tipin_rate_ < (short)tps_delta_rate) {
        tps_inj_tipin_rate_ = tps_delta_rate;
        DAT_40001850 = 0;
        bVar2 = true;
      }
    }
    if (bVar2) {
      lookup2_unknown =
           lookup_3D_uint8_interpolated
                     (8,8,(ushort)coolant_temp,(ushort)engine_speed_3,
                      CAL_injtip_transient_throttle_response_time,
                      CAL_injtip_transient_throttle_response_time_X_coolant_tmp,
                      CAL_injtip_transient_throttle_response_time_Y_rpm);
      injtip_transient_throttle_response_time = (u16_time_5ms)lookup2_unknown;
    }
    rate_limit_unknown_200hz();
    update_accel_pedal_zero_trim_200hz();
    obd_ii_postcat_o2_sensor_check_unknown_200hz();
    obd_ii_cat_check_unknown();
    timer_decrement1_200hz();
    obd_ii_mode2f_200hz();
    evap_canister_200hz();
    vvt_200hz();
    knock_ign_retard_decay_200hz();
    obd_ii_iat_check();
    torque_model_200hz();
    flexcan_a_tx_102_helper_200hz();
    if ((COD_base[0] >> 25 & 7) == 1) {
      cruise2_5ms();
    }
    revlimit_200hz();
    can_sensors_unknown_200hz();
    if ((COD_base[0] >> 28 & 7) == 2) {
      ac_200hz();
    }
    if ((obd_ii_mode2f_flags_enabled & 0x800000) == 0) {
      if (runtime_since_start == 0) {
        siu_gpdo[99] = 0;
        siu_gpdo[100] = 0;
        siu_gpdo[0x60] = 0;
        siu_gpdo[0x62] = 0;
        DAT_40001824 = 0;
      }
      else if (runtime_since_start < DAT_400086e4) {
        DAT_40001824 = 1;
        DAT_40001856 = DAT_40001856 + 1;
        if (((uint)DAT_400086e3 << 2) / 5 < (uint)DAT_40001856) {
          if (DAT_40001856 < DAT_400086e3) {
            siu_gpdo[99] = 0;
            siu_gpdo[100] = 0;
            siu_gpdo[0x60] = 0;
            siu_gpdo[0x62] = 0;
          }
          else {
            DAT_40001856 = 0;
          }
        }
        else {
          if (DAT_400019f8 == '\0') {
            siu_gpdo[99] = '\x01';
          }
          else {
            siu_gpdo[99] = '\0';
          }
          if (DAT_400019f9 == '\0') {
            siu_gpdo[100] = '\x01';
          }
          else {
            siu_gpdo[100] = '\0';
          }
          if (DAT_400019f6 == '\0') {
            siu_gpdo[0x60] = '\x01';
          }
          else {
            siu_gpdo[0x60] = '\0';
          }
          if (DAT_400019f7 == '\0') {
            siu_gpdo[0x62] = '\x01';
          }
          else {
            siu_gpdo[0x62] = '\0';
          }
        }
      }
      else {
        DAT_40001824 = 2;
      }
    }
    else if ((obd_ii_mode2f_flags_state & 0x800000) == 0) {
      siu_gpdo[99] = 0;
      siu_gpdo[100] = 0;
      siu_gpdo[0x60] = 0;
      siu_gpdo[0x62] = 0;
    }
    else {
      siu_gpdo[99] = 1;
      siu_gpdo[100] = 1;
      siu_gpdo[0x60] = 1;
      siu_gpdo[0x62] = 1;
    }
    if (engine_is_running == false) {
      maf_accum_unknown3 = 0;
      maf_accum_unknown2 = 0;
      maf_accumulated2 = 0;
      obd_ii_accumulated_mass_air = 0;
    }
    else if (obd_ii_accumulated_mass_air != 0xffffffff) {
                    // reported via obd/uds Mode22
      obd_ii_accumulated_mass_air = obd_ii_accumulated_mass_air + obd_ii_maf_flow / 20;
                    // used only for warmup
      maf_accum_unknown2 =
           maf_accum_unknown2 + ((uint)obd_ii_maf_flow * (uint)cranking_enrichment_load) / 500;
                    // used only for OBD checks
      maf_accum_unknown3 = maf_accum_unknown3 + ((uint)obd_ii_maf_flow * (uint)DAT_40002538) / 5100;
    }
    if (obd_ii_accumulated_mass_air < 8192000) {
      maf_accumulated2 = (u16_mass_mg)((ulonglong)obd_ii_accumulated_mass_air / 1000);
    }
    if (maf_accum_unknown2 < 2040000) {
      maf_accum_unknown2_scaled = (undefined2)((ulonglong)maf_accum_unknown2 / 1000);
    }
                    // This table is entirely the value 0x9.
    _tps_factor_0x9 =
         lookup_3D_uint8_interpolated
                   (4,4,(ushort)engine_speed_3,(ushort)tps2,CAL_tps_rate_unknown2,
                    CAL_tps_rate_unknown2_X_rpm,CAL_tps_rate_unknown2_Y_tps);
    if ((((((u8_temp_5_8_40c_400086d4 < coolant_temp) && (u16_mass_mg_400087b8 < maf_accumulated2))
          && ((short)tps_rate_unknown < (short)(ushort)_tps_factor_0x9)) &&
         (((int)-(uint)_tps_factor_0x9 < (int)(short)tps_rate_unknown &&
          (-(int)DAT_4000877a < DAT_400018e8)))) &&
        ((DAT_400018e8 < DAT_4000877a && (((inj_flags & 1) == 0 && (DAT_4000230c == '\0')))))) &&
       (((trqlimit_external_request_flags___ & 0x1f) == 0 &&
        (((abs_esp_flags & 7) == 0 && (DAT_400025cc == '\0')))))) {
      if ((DAT_40001854 == 0) && (DAT_40001822 == 0)) {
        DAT_40001822 = DAT_400087b2;
        if (DAT_40001d42 == '\0') {
          DAT_40001e88 = DAT_40001e88 | 0x200;
          DAT_40001e8a = DAT_40001e8a | 0x200;
          if ((DAT_40001d12 & 0x8000) != 0) {
            i = (DAT_40001d12 & 0x7fff) + 0x28;
            if (DAT_400087b6 < (short)(ushort)DAT_40001d49) {
              if ((DAT_400087b4 <= (short)(ushort)DAT_40001d49) &&
                 (CAL_torque_torque_to_tps_scaling_rpm_range[1] <
                  LEA_load_alphaN_adj_X_engine_speed[i])) {
                LEA_load_alphaN_adj_X_engine_speed[i] = LEA_load_alphaN_adj_X_engine_speed[i] + 0xff
                ;
              }
            }
            else if (LEA_load_alphaN_adj_X_engine_speed[i] <
                     CAL_torque_torque_to_tps_scaling_rpm_range[0]) {
              LEA_load_alphaN_adj_X_engine_speed[i] = LEA_load_alphaN_adj_X_engine_speed[i] + '\x01'
              ;
            }
          }
        }
        if ((tps2 <= knock_inhibit_tps_max) && ((DAT_40001d14 & 0x8000) != 0)) {
          i = (DAT_40001d14 & 0x7fff) + 0x28;
          if (DAT_400087b6 < (short)(ushort)DAT_40001d4a) {
            if ((DAT_400087b4 <= (short)(ushort)DAT_40001d4a) &&
               (CAL_torque_torque_to_tps_scaling_rpm_range[1] <
                LEA_torque_torque_to_tps_scaling_X_engine_speed[i])) {
              LEA_torque_torque_to_tps_scaling_X_engine_speed[i] =
                   LEA_torque_torque_to_tps_scaling_X_engine_speed[i] + 0xff;
            }
          }
          else if (LEA_torque_torque_to_tps_scaling_X_engine_speed[i] <
                   CAL_torque_torque_to_tps_scaling_rpm_range[0]) {
            LEA_torque_torque_to_tps_scaling_X_engine_speed[i] =
                 LEA_torque_torque_to_tps_scaling_X_engine_speed[i] + 1;
          }
        }
      }
    }
    else {
      DAT_40001e88 = DAT_40001e88 & 0xfdff;
      DAT_40001e8a = DAT_40001e8a & 0xfdff;
      DAT_40001822 = DAT_400087b2;
      DAT_40001854 = DAT_400087ba;
    }
    bVar2 = DAT_40001822 == 0;
    DAT_40001822 = DAT_40001822 + -1;
    if (bVar2) {
      DAT_40001822 = 0;
    }
    bVar2 = DAT_40001854 == 0;
    DAT_40001854 = DAT_40001854 + -1;
    if (bVar2) {
      DAT_40001854 = 0;
    }
    obd_ii_send_200hz();
    obd_ii_mode13_200hz();
    uint32_t_ARRAY_400030d8[2] = etpu_mcr_addr[9];
  }
  uint32_t_ARRAY_400030d8[0] = etpu_mcr_addr[9];
  for (j = 0; cVar6 = DAT_400016f8, j < 11; j = j + 1) {
    if ((int)uint32_t_ARRAY_400030d8[j] < (int)uint32_t_ARRAY_40003108[j]) {
      uVar8 = (0xffffff - uint32_t_ARRAY_40003108[j]) + uint32_t_ARRAY_400030d8[j];
    }
    else {
      uVar8 = uint32_t_ARRAY_400030d8[j] - uint32_t_ARRAY_40003108[j];
    }
    if ((int)uint32_t_ARRAY_400030a8[j] < (int)uVar8) {
      uint32_t_ARRAY_400030a8[j] = uVar8;
    }
    if (j != 0xb) {
      uint32_t_ARRAY_400030d8[j] = 0;
      uint32_t_ARRAY_40003108[j] = 0;
    }
    if (uVar8 != 0) {
      (&DAT_40003058)[j] = uVar8;
    }
    if ((int)uint32_t_ARRAY_400030a8[j] < (int)uVar8) {
      uint32_t_ARRAY_400030a8[j] = uVar8;
    }
    if (DAT_40001859 != '\0') {
      uint32_t_ARRAY_400030a8[j] = 0;
    }
  }
  if (DAT_40001859 != 0) {
    DAT_40001878 = 0x7fffffff;
    DAT_4000187c = 0;
    uint32_t_ARRAY_400030a8[0xb] = 0;
    DAT_40001859 = 0;
  }
  uVar7 = emios_uc[0].uc._144_4_;
  emios_uc[0].uc._144_4_ = uVar7 & 0xfffffffe | 1;
  DAT_400016f8 = DAT_400016f8 + -1;
  if ((cVar6 == 0) && ((DAT_40006a78 & 8) == 8)) {
    DAT_40006a78 = DAT_40006a78 & 0xf7;
    DAT_400026e0 = DAT_400026e0 + 1;
  }
  return;
}



void set_maf_voltage_buffer(u16_voltage_5_1023v voltage)

{
  short i;
  
  for (i = 0x1f; 0 < i; i = i + -1) {
    maf_voltage_buffer[i] = voltage;
  }
  maf_voltage_buffer[0] = voltage;
  return;
}



void save_map_voltage_buffer(u16_voltage_5_1023v map_voltage)

{
  short i;
  
  for (i = 31; 0 < i; i = i + -1) {
    map_voltage_buffer[i] = map_voltage;
  }
  map_voltage_buffer[0] = map_voltage;
  return;
}



u16_voltage_5_1023v get_adc_maf1(void)

{
  return (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x32] >> 4);
}



u16_voltage_5_1023v get_map_voltage(void)

{
  return (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1b] >> 4);
}



int get_maf_avg(void)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  
  iVar4 = 0;
  uVar3 = maf_voltage_buffer_index;
  if (CAL_sensor_maf_buffer_size < 0x20) {
    if (CAL_sensor_maf_buffer_size == '\0') {
      uVar1 = 1;
      uVar2 = 1;
    }
    else {
      uVar1 = (ushort)CAL_sensor_maf_buffer_size;
      uVar2 = uVar1;
    }
  }
  else {
    uVar1 = 0x1f;
    uVar2 = 0x1f;
  }
  for (; 0 < (short)uVar1; uVar1 = uVar1 - 1) {
    iVar4 = iVar4 + (short)maf_voltage_buffer[(short)uVar3];
    uVar3 = uVar3 - 1 & 0x1f;
  }
  return iVar4 / (int)(short)uVar2;
}



// maf_buffer_unknown

int adc_maf_filter(void)

{
  ushort uVar1;
  ushort sample_count;
  ushort i;
  int iVar2;
  
  iVar2 = 0;
  if (CAL_sensor_maf_buffer_size < 32) {
    if (CAL_sensor_maf_buffer_size == 0) {
      sample_count = 1;
    }
    else {
      sample_count = (ushort)CAL_sensor_maf_buffer_size;
    }
  }
  else {
    sample_count = 0x1f;
  }
  uVar1 = maf_voltage_buffer_index - sample_count;
  for (i = sample_count; 0 < (short)i; i = i - 1) {
    iVar2 = iVar2 + (short)maf_voltage_buffer[(short)(uVar1 & 0x1f)];
    uVar1 = (uVar1 & 0x1f) - 1;
  }
  return iVar2 / (int)(short)sample_count;
}



int get_map_avg(void)

{
  ushort i;
  ushort sample_count;
  int map_sum;
  ushort most_recent_sample;
  
  map_sum = 0;
  most_recent_sample = map_voltage_buffer_index;
  if (CAL_sensor_map_avg_window_size < 32) {
    if (CAL_sensor_map_avg_window_size == '\0') {
      i = 1;
      sample_count = 1;
    }
    else {
      i = (ushort)CAL_sensor_map_avg_window_size;
      sample_count = i;
    }
  }
  else {
    i = 0x1f;
    sample_count = 0x1f;
  }
  for (; 0 < (short)i; i = i - 1) {
    map_sum = map_sum + (short)map_voltage_buffer[(short)most_recent_sample];
    most_recent_sample = most_recent_sample - 1 & 0x1f;
  }
  return map_sum / (int)(short)sample_count;
}



void update_engine_speed_history_100ms(void)

{
  byte i;
  
  engine_speed_delta100ms = engine_speed_2 - u16_rspeed_rpm_40003010;
  for (i = 4; i != 0; i = i - 1) {
    engine_speed_history_500ms[i] = engine_speed_history_500ms[i - 1];
  }
  engine_speed_history_500ms[0] = engine_speed_2;
  return;
}



void FUN_0004530c(void)

{
  byte i;
  
  for (i = 0; i < 12; i = i + 1) {
    uint32_t_ARRAY_40003108[i] = 0;
    uint32_t_ARRAY_400030d8[i] = 0;
    uint32_t_ARRAY_400030a8[i] = 0;
  }
  DAT_40001878 = 0x7fffffff;
  DAT_4000187c = 0;
  return;
}



void ign_angle_set_unknown(longlong cyl,u16_angle_1_10deg angle_tdc,bool enable)

{
  int ign_angle_calc;
  u16_angle_1_10deg ign_angle_abs;
  int _ign_dwell_start_angle_raw;
  uint16_t _ign_dwell_start_angle;
  short _cyl;
  
  _cyl = (short)cyl;
  ign_angle_calc = (int)(short)angle_tdc - ign_adv_scheduled_angle[_cyl];
  ign_angle_abs = (u16_angle_1_10deg)ign_angle_calc;
  if (ign_angle_calc < 7200) {
    if (ign_angle_calc < 0) {
      ign_angle_abs = ign_angle_abs + 7200;
    }
  }
  else {
    ign_angle_abs = ign_angle_abs + 58336;
  }
  ign_angle_scheduled[_cyl] = ign_angle_abs;
  _ign_dwell_start_angle_raw =
       (int)(short)ign_angle_scheduled[_cyl] - ign_volt_comp_angle_per_cyl[_cyl];
  _ign_dwell_start_angle = (uint16_t)_ign_dwell_start_angle_raw;
  if (_ign_dwell_start_angle_raw < 7200) {
    if (_ign_dwell_start_angle_raw < 0) {
      _ign_dwell_start_angle = _ign_dwell_start_angle + 7200;
    }
  }
  else {
    _ign_dwell_start_angle = _ign_dwell_start_angle + 58336;
  }
  ign_dwell_start_angle_per_cyl[_cyl] = _ign_dwell_start_angle;
  if (enable) {
    ign_event_schedule_((longlong)_cyl + 18,(int)(short)ign_dwell_start_angle_per_cyl[_cyl],
                        (int)(short)ign_angle_scheduled[_cyl]);
  }
  else {
    FUN_000541f4(cyl + 18U & 0xff,(int)(short)ign_dwell_start_angle_per_cyl[_cyl],
                 (int)(short)ign_angle_scheduled[_cyl]);
  }
  return;
}



void inj_set_trigger(uint8_t cyl,u16_angle_1_10deg inj_angle)

{
  int angle_wrapped;
  ushort cyl2;
  short angle_adjusted;
  
  inj_start_angle[(short)(char)cyl] = inj_angle + (short)inj_start_angle_offset_deg;
  angle_adjusted = inj_start_angle[(short)(char)cyl];
  angle_wrapped =
       (int)((ulonglong)((longlong)(int)angle_adjusted * -0x6e5d4c3b) >> 0x20) + (int)angle_adjusted
  ;
  cyl2 = (ushort)(char)cyl;
  inj_start_angle[(short)cyl2] =
       angle_adjusted + ((short)(angle_wrapped >> 0xc) - (short)(angle_wrapped >> 0x1f)) * -0x1c20;
  if ((cyl2 & 1) == 0) {
    inj_pulse_time_schedule_vals[(short)(char)cyl] = (uint)inj_pulse_time_b1 * 10;
  }
  else {
    inj_pulse_time_schedule_vals[(short)(char)cyl] = (uint)inj_pulse_time_b2 * 10;
  }
  inj_write_etpu(cyl + 4,(int)inj_start_angle[(short)cyl2],inj_pulse_time_schedule_vals[(short)cyl2]
                );
  return;
}



//  This is the low-level coil primary/secondary (or primary drive) self-test sequencer that feeds
// the OBD P0351P0356 monitors

void ignition_coil_circuit_diag_state(void)

{
  if (trigger_type_of_event__ == 7) {
    if (ign_diag_phase == 5) {
      if (DAT_400018a9 < ign_diag_threshold_unknown) {
        DAT_400018a9 = DAT_400018a9 + 1;
      }
      else if ((((DAT_400018a4 == 0) || (DAT_400018a5 == 0)) || (DAT_400018a6 == 0)) ||
              ((DAT_400018a7 == 0 || (DAT_400018a8 == 0)))) {
        coil_diag_bitmap = coil_diag_bitmap | 0x20;
      }
      else if (((ign_diag_threshold_unknown <= DAT_400018a4) &&
               (ign_diag_threshold_unknown <= DAT_400018a5)) &&
              ((ign_diag_threshold_unknown <= DAT_400018a6 &&
               ((ign_diag_threshold_unknown <= DAT_400018a7 &&
                (ign_diag_threshold_unknown <= DAT_400018a8)))))) {
        coil_diag_bitmap = coil_diag_bitmap | 0x80;
      }
    }
    else {
      DAT_400018a9 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xdf;
    }
    ign_diag_phase = 0;
  }
  else if (trigger_type_of_event__ == 0x13) {
    if (ign_diag_phase == 0) {
      if (DAT_400018a4 < ign_diag_threshold_unknown) {
        DAT_400018a4 = DAT_400018a4 + 1;
      }
      else if ((((DAT_400018a5 == 0) || (DAT_400018a6 == 0)) || (DAT_400018a7 == 0)) ||
              ((DAT_400018a8 == 0 || (DAT_400018a9 == 0)))) {
        coil_diag_bitmap = coil_diag_bitmap | 1;
      }
    }
    else {
      DAT_400018a4 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xfe;
    }
    ign_diag_phase = 1;
  }
  else if (trigger_type_of_event__ == 0x1f) {
    if (ign_diag_phase == 1) {
      if (DAT_400018a5 < ign_diag_threshold_unknown) {
        DAT_400018a5 = DAT_400018a5 + 1;
      }
      else if (((DAT_400018a4 == 0) || (DAT_400018a6 == 0)) ||
              ((DAT_400018a7 == 0 || ((DAT_400018a8 == 0 || (DAT_400018a9 == 0)))))) {
        coil_diag_bitmap = coil_diag_bitmap | 2;
      }
    }
    else {
      DAT_400018a5 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xfd;
    }
    ign_diag_phase = 2;
  }
  else if (trigger_type_of_event__ == 0x2b) {
    if (ign_diag_phase == 2) {
      if (DAT_400018a6 < ign_diag_threshold_unknown) {
        DAT_400018a6 = DAT_400018a6 + 1;
      }
      else if ((((DAT_400018a4 == 0) || (DAT_400018a5 == 0)) || (DAT_400018a7 == 0)) ||
              ((DAT_400018a8 == 0 || (DAT_400018a9 == 0)))) {
        coil_diag_bitmap = coil_diag_bitmap | 4;
      }
    }
    else {
      DAT_400018a6 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xfb;
    }
    ign_diag_phase = 3;
  }
  else if (trigger_type_of_event__ == 0x37) {
    if (ign_diag_phase == 3) {
      if (DAT_400018a7 < ign_diag_threshold_unknown) {
        DAT_400018a7 = DAT_400018a7 + 1;
      }
      else if (((DAT_400018a4 == 0) || (DAT_400018a5 == 0)) ||
              ((DAT_400018a6 == 0 || ((DAT_400018a8 == 0 || (DAT_400018a9 == 0)))))) {
        coil_diag_bitmap = coil_diag_bitmap | 8;
      }
    }
    else {
      DAT_400018a7 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xf7;
    }
    ign_diag_phase = 4;
  }
  else if (trigger_type_of_event__ == 0x43) {
    if (ign_diag_phase == '\x04') {
      if (DAT_400018a8 < ign_diag_threshold_unknown) {
        DAT_400018a8 = DAT_400018a8 + 1;
      }
      else if ((((DAT_400018a4 == 0) || (DAT_400018a5 == 0)) || (DAT_400018a6 == 0)) ||
              ((DAT_400018a7 == 0 || (DAT_400018a9 == 0)))) {
        coil_diag_bitmap = coil_diag_bitmap | 0x10;
      }
    }
    else {
      DAT_400018a8 = 0;
      coil_diag_bitmap = coil_diag_bitmap & 0xef;
    }
    ign_diag_phase = 5;
  }
  return;
}



// WARNING: Heritage AFTER dead removal. Example location: r3 : 0x00045e9c
// WARNING: Restarted to delay deadcode elimination for space: register

void coil_control_unknown(void)

{
  undefined8 in_r3;
  
  DAT_40001948 = 0;
  DAT_400018fd = 0;
  DAT_40001901 = 0;
  DAT_40001944 = 0;
  DAT_40001905 = 0;
  DAT_40001909 = 0;
  DAT_4000190d = 0;
  DAT_4000191c = 0;
  DAT_40001924 = 0;
  DAT_40001914 = 0;
  DAT_400018fc = 0;
  DAT_40001900 = 0;
  DAT_40001940 = 0;
  DAT_40001904 = 0;
  DAT_40001908 = 0;
  DAT_4000190c = 0;
  DAT_4000191a = 0;
  DAT_40001922 = 0;
  DAT_40001912 = 0;
  DAT_400018fb = 0;
  DAT_400018ff = 0;
  DAT_4000193c = 0;
  DAT_40001903 = 0;
  DAT_40001907 = 0;
  DAT_4000190b = 0;
  DAT_40001918 = 0;
  DAT_40001920 = 0;
  DAT_40001910 = 0;
  DAT_400018fa = 0;
  DAT_400018fe = 0;
  DAT_40001938 = 0;
  DAT_40001902 = 0;
  DAT_40001906 = 0;
  DAT_4000190a = 0;
  DAT_40001916 = 0;
  DAT_4000191e = 0;
  DAT_4000190e = 0;
  DAT_40001949 = 0;
  DAT_400018f8 = 0;
  DAT_400018f6 = 0;
  DAT_400018f4 = 0;
  DAT_400018f2 = 0;
  DAT_400018f0 = 0;
  DAT_40001888 = 0;
  DAT_40001896 = 0;
  engine_speed_2 = 0;
  obd_ii_engine_speed = 0;
  engine_speed_3 = 0;
  engine_speed_period_2 = 0xffff;
  engine_speed_period_1 = 0xffffffff;
  eTPU_crank_angle_speed_scaling = 0x196e6b;
  trigger_type_of_event__ = 0;
  DAT_40001950 = 0;
  inj_efficiency_test_trim = 0x80;
  DAT_400017fb = 0x80;
  DAT_400017fa = 0;
  DAT_400017f9 = 0x80;
  vvt_intake_fallback_angle_zero = 0;
  DAT_400017f5 = 128;
  afr_target_trim_0p02_steps = 0;
  vvt_exhaust_fallback_angle_zero = 0;
  DAT_400017f4 = 0;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffe;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffd;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffb;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffdfff;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffbfff;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffdffff;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0x7fffffff;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffff7;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffef;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffdf;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffbf;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffff7f;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffeff;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffdff;
  FUN_00053a78(0,1,3,0,0x196e6b,0,0,0x800000,0x100);
  INTC_PSR[0x44] = '\x0e';
  FUN_00053ba4(in_r3,3,0,0,0,0,0);
  INTC_PSR[0x45] = '\x0e';
  FUN_00053ba4(in_r3,3,0,0,0,0,0);
  INTC_PSR[0x46] = '\x0e';
  FUN_00053ba4(in_r3,3,0,0,0,0,0);
  INTC_PSR[0x51] = '\x0e';
  FUN_00053ba4(in_r3,3,0,0,0,0,0);
  INTC_PSR[0x52] = '\x0e';
  FUN_00053e00(in_r3,1,0,0,1,0,0,0);
  INTC_PSR[0x47] = '\x02';
  FUN_000540c4(0x12,3,0,0,0,0);
  etpu_mcr_addr[0x14a] = 3;
  FUN_000540c4(0x13,3,0,0,0,0);
  etpu_mcr_addr[0x14e] = 3;
  FUN_000540c4(0x14,3,0,0,0,0);
  etpu_mcr_addr[0x152] = 3;
  FUN_000540c4(0x15,3,0,0,0,0);
  etpu_mcr_addr[0x156] = 3;
  FUN_000540c4(0x16,3,0,0,0,0);
  etpu_mcr_addr[0x15a] = 3;
  FUN_000540c4(0x17,3,0,0,0,0);
  etpu_mcr_addr[0x15e] = 3;
  FUN_00053cd8(4,3,0,0,0);
  etpu_mcr_addr[0x112] = 3;
  FUN_00053cd8(5,3,0,0,0);
  etpu_mcr_addr[0x116] = 3;
  FUN_00053cd8(6,3,0,0,0);
  etpu_mcr_addr[0x11a] = 3;
  FUN_00053cd8(7,3,0,0,0);
  etpu_mcr_addr[0x11e] = 3;
  FUN_00053cd8(8,3,0,0,0);
  etpu_mcr_addr[0x122] = 3;
  FUN_00053cd8(9,3,0,0,0);
  etpu_mcr_addr[0x126] = 3;
  DAT_40001898 = 0xc;
  DAT_400018c4 = 1;
  FUN_000540c4(0x11,3,0,0,0,0);
  etpu_mcr_addr[0x146] = 3;
  FUN_00053cd8(0x1f,3,0,0,0);
  etpu_mcr_addr[0x17e] = 3;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffe | 1;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffd | 2;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffffb | 4;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffdfff | 0x2000;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffbfff | 0x4000;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffff7 | 8;
  DAT_400018aa = DAT_400018aa + '\x01';
  return;
}



void update_per_cyl_ignition_event_state(void)

{
  byte cyl;
  
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    if (((injection_flags & 1) == 0) && (BYTE_ARRAY_400015c8[cyl] != 0)) {
      ign_per_cyl_spark_done___[cyl] = false;
      ign_per_cyl_enable___[cyl] = false;
    }
    else if (trigger_type_of_event__ == BYTE_ARRAY_40002a90[cyl]) {
      ign_per_cyl_enable___[cyl] = true;
    }
    else if ((trigger_type_of_event__ == BYTE_ARRAY_40002a98[cyl]) &&
            (ign_per_cyl_enable___[cyl] != false)) {
      ign_per_cyl_spark_done___[cyl] = true;
    }
  }
  return;
}



// I assume this is crank, but it could be CAS.

void crank_trigger_process___(undefined8 param_1,undefined8 param_2,byte param_3)

{
  uint uVar1;
  uint32_t _event_type___;
  u32_time_100ns crank_trigger_event_time;
  bool rpm_is_zero;
  
  DAT_4000194b = FUN_00042534(0);
  _event_type___ = eTPU_read_24bit_crank_trigger_(45);
  trigger_type_of_event__ = (ushort)_event_type___;
  DAT_4000194a = FUN_00042534(1);
  eTPU_crank_angle_speed_scaling = eTPU_read_24bit_crank_trigger_(49);
  DAT_40001954 = eTPU_read_24bit_crank_trigger_(53);
  DAT_40001950 = eTPU_read_24bit_crank_trigger_(61);
  DAT_40002a38 = DAT_400087a6;
  if (DAT_4000194b < 4) {
                    // zero rpm
    engine_speed_period_1 = 0xffffffff;
  }
  else {
    crank_trigger_event_time = eTPU_read_24bit_crank_trigger_(61);
    if ((((((trigger_type_of_event__ == 8) || (trigger_type_of_event__ == 0x14)) ||
          (trigger_type_of_event__ == 0x20)) ||
         ((trigger_type_of_event__ == 0x2c || (trigger_type_of_event__ == 0x38)))) ||
        (trigger_type_of_event__ == 0x44)) &&
       (rpm_is_zero = engine_speed_period_1 == 0xffffffff,
       engine_speed_period_1 =
            crank_trigger_event_time - crank_trigger_event_time_previous & 0xffffff,
       crank_trigger_event_time_previous = crank_trigger_event_time, rpm_is_zero)) {
      engine_speed_period_1 = 0xffffff;
    }
    switch(trigger_type_of_event__) {
    case 0:
    case 0xc:
    case 0x18:
    case 0x24:
    case 0x30:
    case 0x3c:
      PTR_400015e4 = (undefined *)crank_trigger_event_time;
      break;
    case 4:
    case 0x10:
    case 0x1c:
    case 0x28:
    case 0x34:
    case 0x40:
      uVar1 = crank_trigger_event_time - (int)PTR_400015e4 & 0xffffff;
      if (PTR_400015e4 == &DAT_ffffffff) {
        uVar1 = DAT_400018b0;
      }
      if (trigger_type_of_event__ == 0x10) {
        param_3 = 5;
      }
      else if (trigger_type_of_event__ == 0x1c) {
        param_3 = 0;
      }
      else if (trigger_type_of_event__ == 0x28) {
        param_3 = 1;
      }
      else if (trigger_type_of_event__ == 0x34) {
        param_3 = 2;
      }
      else if (trigger_type_of_event__ == 0x40) {
        param_3 = 3;
      }
      else if (trigger_type_of_event__ == 4) {
        param_3 = 4;
      }
      DAT_400018b0 = uVar1;
      FUN_0007bffc(uVar1,param_3);
    }
  }
  if (trigger_type_of_event__ != 0x29) {
    if (trigger_type_of_event__ < 0x29) {
      if (trigger_type_of_event__ != 0x17) {
        if (trigger_type_of_event__ < 0x17) {
          if ((trigger_type_of_event__ != 0xe) &&
             ((0xd < trigger_type_of_event__ || (trigger_type_of_event__ != 5)))) goto LAB_0004663c;
        }
        else if (trigger_type_of_event__ != 0x20) goto LAB_0004663c;
      }
    }
    else if (trigger_type_of_event__ != 0x3b) {
      if (trigger_type_of_event__ < 0x3b) {
        if (trigger_type_of_event__ != 0x32) goto LAB_0004663c;
      }
      else if (trigger_type_of_event__ != 0x44) goto LAB_0004663c;
    }
  }
  compute_engine_speed_average_and_acceleration();
LAB_0004663c:
  update_per_cyl_ignition_event_state();
  ignition_coil_circuit_diag_state();
  return;
}



void inj_interrupt(undefined8 param_1,undefined8 param_2,byte param_3)

{
  char cVar1;
  char cVar2;
  ulonglong uVar3;
  
  etpu_mcr_addr[0x101] = etpu_mcr_addr[0x101] & 0x7fffffff | 0x80000000;
  uVar3 = (ulonglong)DAT_400018f8;
  DAT_400018f8 = DAT_400018f8 + 1;
  crank_trigger_process___(uVar3,1,param_3);
  if (DAT_4000194b < 2) {
    coil_control_unknown();
  }
  else if (1 < DAT_4000194a) {
    cVar1 = DAT_400025cf;
    if (trigger_type_of_event__ == 0xf) {
      DAT_40001964 = 0;
      DAT_40001892 = 0;
      DAT_40001893 = 0;
      DAT_40001894 = 0;
      DAT_40001895 = 0;
      if (DAT_4000194a == 4) {
        DAT_40001888 = '\0';
        DAT_40001896 = '\0';
      }
      else if (DAT_4000194a == 3) {
        if (DAT_40001888 != -1) {
          DAT_40001888 = DAT_40001888 + '\x01';
        }
      }
      else if (DAT_40001896 != '\0') {
        DAT_40001896 = DAT_40001896 + '\x01';
      }
    }
    else if ((trigger_type_of_event__ == 0x28) || (trigger_type_of_event__ == 4)) {
      cVar2 = DAT_400025d2;
      if ((DAT_400025d2 != '\0') && (cVar2 = DAT_400025d2 + -1, DAT_400025eb == '\0')) {
        cVar2 = DAT_400025d2;
      }
      DAT_400025d2 = cVar2;
      cVar2 = DAT_400025d1;
      if ((DAT_400025d1 != '\0') && (cVar2 = DAT_400025d1 + -1, DAT_400025ea == '\0')) {
        cVar2 = DAT_400025d1;
      }
      DAT_400025d1 = cVar2;
      cVar2 = DAT_400025d0;
      if ((DAT_400025d0 != '\0') && (cVar2 = DAT_400025d0 + -1, DAT_400025e9 == '\0')) {
        cVar2 = DAT_400025d0;
      }
      DAT_400025d0 = cVar2;
      if ((DAT_400025cf != '\0') && (cVar1 = DAT_400025cf + -1, DAT_400025e8 == '\0')) {
        cVar1 = DAT_400025cf;
      }
    }
    DAT_400025cf = cVar1;
    if (DAT_400018c4 == '\0') {
      if ((DAT_4000194a == 4) && (DAT_40001948 == '\0')) {
        if (((prog_version_mismatch == 0) && (calibration_verification_number == CAL_ecu_cvn)) ||
           (ecu_unlocked != false)) {
          DAT_40001948 = 1;
          ign_angle_set_unknown(0,0x60e,false);
          ign_angle_set_unknown(1,0xabe,false);
          ign_angle_set_unknown(2,0xf6e,false);
          ign_angle_set_unknown(3,0x141e,false);
          ign_angle_set_unknown(4,0x18ce,false);
          ign_angle_set_unknown(5,0x15e,false);
          FUN_000540c4(0x12,3,0,(short)ign_angle_scheduled[0] + -100,
                       (int)(short)ign_angle_scheduled[0],&DAT_00030d40);
          FUN_000540c4(0x13,3,0,(short)ign_angle_scheduled[1] + -100,
                       (int)(short)ign_angle_scheduled[1],&DAT_00030d40);
          FUN_000540c4(0x14,3,0,(short)ign_angle_scheduled[2] + -100,
                       (int)(short)ign_angle_scheduled[2],&DAT_00030d40);
          FUN_000540c4(0x15,3,0,(short)ign_angle_scheduled[3] + -100,
                       (int)(short)ign_angle_scheduled[3],&DAT_00030d40);
          FUN_000540c4(0x16,3,0,(short)ign_angle_scheduled[4] + -100,
                       (int)(short)ign_angle_scheduled[4],&DAT_00030d40);
          FUN_000540c4(0x17,3,0,(short)ign_angle_scheduled[5] + -100,
                       (int)(short)ign_angle_scheduled[5],&DAT_00030d40);
          inj_set_trigger('\0',0x60e);
          inj_set_trigger('\x01',0xabe);
          inj_set_trigger('\x02',0xf6e);
          inj_set_trigger('\x03',0x141e);
          inj_set_trigger('\x04',0x18ce);
          inj_set_trigger('\x05',0x15e);
          FUN_00053cd8(4,3,0,(int)inj_start_angle[0],inj_pulse_time_schedule_vals[0]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffef | 0x10;
          FUN_00053cd8(5,3,0,(int)inj_start_angle[1],inj_pulse_time_schedule_vals[1]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffdf | 0x20;
          FUN_00053cd8(6,3,0,(int)inj_start_angle[2],inj_pulse_time_schedule_vals[2]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffbf | 0x40;
          FUN_00053cd8(7,3,0,(int)inj_start_angle[3],inj_pulse_time_schedule_vals[3]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffff7f | 0x80;
          FUN_00053cd8(8,3,0,(int)inj_start_angle[4],inj_pulse_time_schedule_vals[4]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffeff | 0x100;
          FUN_00053cd8(9,3,0,(int)inj_start_angle[5],inj_pulse_time_schedule_vals[5]);
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffdff | 0x200;
          FUN_000540c4(0x11,3,0,0,100,0);
          DAT_400018a0 = 200;
          INTC_PSR[0x55] = '\x0e';
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffdffff | 0x20000;
          FUN_00053cd8(0x1f,3,0,0x60e,1000);
          INTC_PSR[99] = '\x0e';
          etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0x7fffffff | 0x80000000;
        }
        else {
          DAT_4000189e = 1;
        }
      }
    }
    else {
      DAT_400018c4 = '\0';
      DAT_400018c0 = inj_startup_pulse_time;
      if ((int)inj_startup_pulse_time < 0xa0) {
        DAT_400018c0 = 0xa0;
      }
      FUN_00053cd8(4,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100,DAT_400018c0 * 10);
      INTC_PSR[0x48] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffef | 0x10;
      FUN_00053cd8(5,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100 + 10,DAT_400018c0 * 10);
      INTC_PSR[0x49] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffdf | 0x20;
      FUN_00053cd8(6,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100 + 0x14,DAT_400018c0 * 10);
      INTC_PSR[0x4a] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffbf | 0x40;
      FUN_00053cd8(7,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100 + 0x1e,DAT_400018c0 * 10);
      INTC_PSR[0x4b] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffff7f | 0x80;
      FUN_00053cd8(8,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100 + 0x28,DAT_400018c0 * 10);
      INTC_PSR[0x4c] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffeff | 0x100;
      FUN_00053cd8(9,3,0,((trigger_type_of_event__ + 3) % 0x48) * 100 + 0x32,DAT_400018c0 * 10);
      INTC_PSR[0x4d] = '\x0e';
      etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xfffffdff | 0x200;
    }
  }
  return;
}



void vvt_intake_unknown_bank1(void)

{
  char cVar1;
  int iVar2;
  short sVar3;
  uint32_t uVar4;
  uint32_t uVar5;
  short sVar6;
  
  etpu_mcr_addr[0x109] = etpu_mcr_addr[0x109] & 0x7fffffff | 0x80000000;
  DAT_40001904 = eTPU_read_8bit('\x02',4);
  DAT_4000190c = eTPU_read_8bit('\x02',9);
  uVar4 = eTPU_read_24bit('\x02',5);
  uVar5 = eTPU_read_24bit('\x02',1);
  sVar6 = (short)uVar5;
  DAT_40001912 = sVar6 - DAT_40001922;
  DAT_40001940 = uVar4 - DAT_40001930;
  cVar1 = (char)DAT_400018f8;
  DAT_40001900 = cVar1 - DAT_400018fc;
  if (DAT_40001892 != -1) {
    DAT_40001892 = DAT_40001892 + '\x01';
  }
  DAT_400018fc = cVar1;
  DAT_40001922 = sVar6;
  DAT_40001930 = uVar4;
  if (DAT_4000194a < 4) {
    if ((DAT_40001949 == '\0') && (DAT_400018f4 = DAT_400018f4 + 1, 1 < DAT_400018f4)) {
      if (DAT_4000190c == '\x01') {
        if ('\x03' < DAT_40001900) {
          if (DAT_40001900 < '\b') {
            if (DAT_40001908 == '\x06') {
              DAT_40001949 = '\x02';
            }
            DAT_40001908 = '\x01';
          }
          else if (DAT_40001900 < '\x0e') {
            if (DAT_40001908 == '\x04') {
              DAT_40001949 = '\x01';
            }
            DAT_40001908 = '\x05';
          }
          else if (DAT_40001900 < '\x14') {
            if (DAT_40001908 == '\x02') {
              DAT_40001949 = '\x01';
            }
            DAT_40001908 = '\x03';
          }
        }
      }
      else if ('\x03' < DAT_40001900) {
        if (DAT_40001900 < '\b') {
          if (DAT_40001908 == '\x01') {
            DAT_40001949 = '\x02';
          }
          DAT_40001908 = '\x02';
        }
        else if (DAT_40001900 < '\x0e') {
          if (DAT_40001908 == '\x03') {
            DAT_40001949 = '\x01';
          }
          DAT_40001908 = '\x04';
        }
        else if (DAT_40001900 < '\x14') {
          if (DAT_40001908 == '\x05') {
            DAT_40001949 = '\x02';
          }
          DAT_40001908 = '\x06';
        }
      }
      if (DAT_40001949 != '\0') {
        FUN_00042514(2,DAT_40001949);
      }
    }
  }
  else {
    if (DAT_40001912 < 0) {
      DAT_40001912 = DAT_40001912 + 0x1c20;
    }
    if ((DAT_4000190c == '\x01') && ((ushort)(trigger_type_of_event__ - 0x31U) < 0xc)) {
      DAT_40001908 = '\x01';
      iVar2 = (int)sVar6 << 2;
      sVar3 = (short)(iVar2 >> 0x1f);
      obd_ii_vvt_inlet_position_bank1 =
           0x8d0 - (((short)(iVar2 / 10) + sVar3) -
                   ((short)((short)(iVar2 / 0xa0000) + sVar3) >> 0xf));
      DAT_400025d2 = DAT_4000ca3d;
      DAT_4000191a = sVar6;
    }
  }
  return;
}



void vvt_intake_unknown_bank2(void)

{
  short sVar1;
  char cVar2;
  int iVar3;
  short sVar4;
  uint32_t uVar5;
  uint32_t uVar6;
  
  etpu_mcr_addr[0x105] = etpu_mcr_addr[0x105] & 0x7fffffff | 0x80000000;
  DAT_40001905 = eTPU_read_8bit('\x01',4);
  DAT_4000190d = eTPU_read_8bit('\x01',9);
  uVar5 = eTPU_read_24bit('\x01',5);
  uVar6 = eTPU_read_24bit('\x01',1);
  sVar1 = (short)uVar6;
  DAT_40001914 = sVar1 - DAT_40001924;
  DAT_40001944 = uVar5 - DAT_40001934;
  cVar2 = (char)DAT_400018f8;
  DAT_40001901 = cVar2 - DAT_400018fd;
  if (DAT_40001893 != -1) {
    DAT_40001893 = DAT_40001893 + '\x01';
  }
  DAT_400018fd = cVar2;
  DAT_40001924 = sVar1;
  DAT_40001934 = uVar5;
  if (DAT_4000194a < 4) {
    if ((DAT_40001949 == '\0') && (DAT_400018f6 = DAT_400018f6 + 1, 1 < DAT_400018f6)) {
      if (DAT_4000190d == '\x01') {
        if ('\x03' < DAT_40001901) {
          if (DAT_40001901 < '\b') {
            if (DAT_40001909 == '\x06') {
              DAT_40001949 = '\x02';
            }
            DAT_40001909 = '\x01';
          }
          else if (DAT_40001901 < '\x0e') {
            if (DAT_40001909 == '\x04') {
              DAT_40001949 = '\x01';
            }
            DAT_40001909 = '\x05';
          }
          else if (DAT_40001901 < '\x14') {
            if (DAT_40001909 == '\x02') {
              DAT_40001949 = '\x02';
            }
            DAT_40001909 = '\x03';
          }
        }
      }
      else if ('\x03' < DAT_40001901) {
        if (DAT_40001901 < '\b') {
          if (DAT_40001909 == '\x01') {
            DAT_40001949 = '\x02';
          }
          DAT_40001909 = '\x02';
        }
        else if (DAT_40001901 < '\x0e') {
          if (DAT_40001909 == '\x03') {
            DAT_40001949 = '\x01';
          }
          DAT_40001909 = '\x04';
        }
        else if (DAT_40001901 < '\x14') {
          DAT_40001909 = '\x06';
        }
      }
      if (DAT_40001949 != '\0') {
        FUN_00042514(2,DAT_40001949);
      }
    }
  }
  else {
    if (DAT_40001914 < 0) {
      DAT_40001914 = DAT_40001914 + 0x1c20;
    }
    if ((DAT_4000190d == '\x01') && ((ushort)(trigger_type_of_event__ - 0x25U) < 0xc)) {
      DAT_40001909 = '\x01';
      iVar3 = (int)sVar1 << 2;
      sVar4 = (short)(iVar3 >> 0x1f);
      obd_ii_vvt_inlet_angle_bank2 =
           0x6f4 - (((short)(iVar3 / 10) + sVar4) -
                   ((short)((short)(iVar3 / 0xa0000) + sVar4) >> 0xf));
      DAT_400025d1 = DAT_4000ca3d;
      DAT_4000191c = sVar1;
    }
  }
  return;
}



void vvt_exhaust_unknown_bank2(void)

{
  char cVar1;
  int iVar2;
  short sVar3;
  uint32_t uVar4;
  uint32_t uVar5;
  short sVar6;
  
  etpu_mcr_addr[0x139] = etpu_mcr_addr[0x139] & 0x7fffffff | 0x80000000;
  DAT_40001903 = eTPU_read_8bit('\x0e',4);
  DAT_4000190b = eTPU_read_8bit('\x0e',9);
  uVar4 = eTPU_read_24bit('\x0e',5);
  uVar5 = eTPU_read_24bit('\x0e',1);
  sVar6 = (short)uVar5;
  DAT_40001910 = sVar6 - DAT_40001920;
  DAT_4000193c = uVar4 - DAT_4000192c;
  cVar1 = (char)DAT_400018f8;
  DAT_400018ff = cVar1 - DAT_400018fb;
  if (DAT_40001895 != -1) {
    DAT_40001895 = DAT_40001895 + '\x01';
  }
  DAT_400018fb = cVar1;
  DAT_40001920 = sVar6;
  DAT_4000192c = uVar4;
  if (DAT_4000194a < 4) {
    if ((DAT_40001949 == '\0') && (DAT_400018f0 = DAT_400018f0 + 1, 1 < DAT_400018f0)) {
      if (DAT_4000190b == '\x01') {
        if ('\x03' < DAT_400018ff) {
          if (DAT_400018ff < '\b') {
            if (DAT_40001907 == '\x06') {
              DAT_40001949 = '\x02';
            }
            DAT_40001907 = '\x01';
          }
          else if (DAT_400018ff < '\x0e') {
            if (DAT_40001907 == '\x04') {
              DAT_40001949 = '\x02';
            }
            DAT_40001907 = '\x05';
          }
          else if (DAT_400018ff < '\x14') {
            if (DAT_40001907 == '\x02') {
              DAT_40001949 = '\x01';
            }
            DAT_40001907 = '\x03';
          }
        }
      }
      else if ('\x03' < DAT_400018ff) {
        if (DAT_400018ff < '\b') {
          DAT_40001907 = '\x02';
        }
        else if (DAT_400018ff < '\x0e') {
          if (DAT_40001907 == '\x03') {
            DAT_40001949 = '\x01';
          }
          DAT_40001907 = '\x04';
        }
        else if (DAT_400018ff < '\x14') {
          if (DAT_40001907 == '\x05') {
            DAT_40001949 = '\x02';
          }
          DAT_40001907 = '\x06';
        }
      }
      if (DAT_40001949 != '\0') {
        FUN_00042514(2,DAT_40001949);
      }
    }
  }
  else {
    if (DAT_40001910 < 0) {
      DAT_40001910 = DAT_40001910 + 0x1c20;
    }
    if ((DAT_4000190b == '\x01') && (0x3b < (ushort)(trigger_type_of_event__ - 2U))) {
      DAT_40001907 = '\x01';
      iVar2 = (int)sVar6 << 2;
      sVar3 = (short)(iVar2 >> 0x1f);
      obd_ii_vvt_exhaust_position_bank2 =
           0xa38 - (((short)(iVar2 / 10) + sVar3) -
                   ((short)((short)(iVar2 / 0xa0000) + sVar3) >> 0xf));
      DAT_400025cf = DAT_4000ca3d;
      DAT_40001918 = sVar6;
    }
  }
  return;
}



void vvt_exhaust_unknown_bank1(void)

{
  char cVar1;
  int iVar2;
  short sVar3;
  uint32_t uVar4;
  uint32_t uVar5;
  short sVar6;
  
  etpu_mcr_addr[0x135] = etpu_mcr_addr[0x135] & 0x7fffffff | 0x80000000;
  DAT_40001902 = eTPU_read_8bit('\r',4);
  DAT_4000190a = eTPU_read_8bit('\r',9);
  uVar4 = eTPU_read_24bit('\r',5);
  uVar5 = eTPU_read_24bit('\r',1);
  sVar6 = (short)uVar5;
  DAT_4000190e = sVar6 - DAT_4000191e;
  DAT_40001938 = uVar4 - DAT_40001928;
  cVar1 = (char)DAT_400018f8;
  DAT_400018fe = cVar1 - DAT_400018fa;
  if (DAT_40001894 != -1) {
    DAT_40001894 = DAT_40001894 + '\x01';
  }
  DAT_400018fa = cVar1;
  DAT_4000191e = sVar6;
  DAT_40001928 = uVar4;
  if (DAT_4000194a < 4) {
    if ((DAT_40001949 == '\0') && (DAT_400018f2 = DAT_400018f2 + 1, 1 < DAT_400018f2)) {
      if (DAT_4000190a == '\x01') {
        if ('\x03' < DAT_400018fe) {
          if (DAT_400018fe < '\b') {
            if (DAT_40001906 == '\x06') {
              DAT_40001949 = '\x02';
            }
            DAT_40001906 = '\x01';
          }
          else if (DAT_400018fe < '\x0e') {
            if (DAT_40001906 == '\x04') {
              DAT_40001949 = '\x01';
            }
            DAT_40001906 = '\x05';
          }
          else if (DAT_400018fe < '\x14') {
            if (DAT_40001906 == '\x02') {
              DAT_40001949 = '\x01';
            }
            DAT_40001906 = '\x03';
          }
        }
      }
      else if ('\x03' < DAT_400018fe) {
        if (DAT_400018fe < '\b') {
          if (DAT_40001906 == '\x01') {
            DAT_40001949 = '\x02';
          }
          DAT_40001906 = '\x02';
        }
        else if (DAT_400018fe < '\x0e') {
          if (DAT_40001906 == '\x03') {
            DAT_40001949 = '\x01';
          }
          DAT_40001906 = '\x04';
        }
        else if (DAT_400018fe < '\x14') {
          if (DAT_40001906 == '\x05') {
            DAT_40001949 = '\x02';
          }
          DAT_40001906 = '\x06';
        }
      }
      if (DAT_40001949 != '\0') {
        FUN_00042514(2,DAT_40001949);
      }
    }
  }
  else {
    if (DAT_4000190e < 0) {
      DAT_4000190e = DAT_4000190e + 0x1c20;
    }
    if ((DAT_4000190a == '\x01') && ((ushort)(trigger_type_of_event__ - 0x32U) < 0xc)) {
      DAT_40001906 = '\x01';
      iVar2 = (int)sVar6 << 2;
      sVar3 = (short)(iVar2 >> 0x1f);
      obd_ii_vvt_exhaust_position_bank1 =
           0x858 - (((short)(iVar2 / 10) + sVar3) -
                   ((short)((short)(iVar2 / 0xa0000) + sVar3) >> 0xf));
      DAT_400025d0 = DAT_4000ca3d;
      DAT_40001916 = sVar6;
    }
  }
  return;
}



void FUN_00047cc0(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x111] = etpu_mcr_addr[0x111] & 0x7fffffff | 0x80000000;
  DAT_40001963 = DAT_40001963 + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[0] != false)) ||
        ((misfire_condition_flags & 0x20) != 0)) || ((coilpack_failure_flags & 1) != 0)) {
      etpu_mcr_addr[0x112] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xfe;
      DAT_400018bb = DAT_400018bb | 1;
      DAT_40001ce9 = DAT_40001ce9 & 0xfe;
    }
    else if (((inj_flags & 1) == 0) || ((ign_flags_unknown & 1) == 0)) {
      etpu_mcr_addr[0x112] = 4;
      DAT_400018c7 = DAT_400018c7 | 1;
      DAT_40001ce9 = DAT_40001ce9 & 0xfe;
    }
    else {
      etpu_mcr_addr[0x112] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 1;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 == 5) {
        if (s__40001cec[5] == '\0') {
          ign_flags_unknown = ign_flags_unknown | 0x20;
        }
        else {
          s__40001cec[5] = s__40001cec[5] + 0xff;
        }
      }
      else if (s__40001cec[1] == '\0') {
        ign_flags_unknown = ign_flags_unknown | 2;
      }
      else {
        s__40001cec[1] = s__40001cec[1] + 0xff;
      }
    }
  }
  if (DAT_400015dc == 0) {
    DAT_400018c8 = 1;
  }
  DAT_400015dc = DAT_400015dc ^ 1;
  return;
}



void FUN_00047f10(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x115] = etpu_mcr_addr[0x115] & 0x7fffffff | 0x80000000;
  DAT_40001962 = DAT_40001962 + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[1] != false)) ||
        ((misfire_condition_flags & 0x40) != 0)) || ((coilpack_failure_flags & 2) != 0)) {
      etpu_mcr_addr[0x116] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xfd;
      DAT_400018bb = DAT_400018bb | 2;
      DAT_40001ce9 = DAT_40001ce9 & 0xfd;
    }
    else if (((inj_flags & 1) == 0) || ((ign_flags_unknown & 2) == 0)) {
      etpu_mcr_addr[0x116] = 4;
      DAT_400018c7 = DAT_400018c7 | 2;
      DAT_40001ce9 = DAT_40001ce9 & 0xfd;
    }
    else {
      etpu_mcr_addr[0x116] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 2;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 == 5) {
        if (s__40001cec[0] == '\0') {
          ign_flags_unknown = ign_flags_unknown | 1;
        }
        else {
          s__40001cec[0] = s__40001cec[0] + 0xff;
        }
      }
      else if (s__40001cec[2] == '\0') {
        ign_flags_unknown = ign_flags_unknown | 4;
      }
      else {
        s__40001cec[2] = s__40001cec[2] + 0xff;
      }
    }
  }
  if (DAT_400015dd == 0) {
    DAT_400018c8 = 2;
  }
  DAT_400015dd = DAT_400015dd ^ 1;
  return;
}



void FUN_00048164(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x119] = etpu_mcr_addr[0x119] & 0x7fffffff | 0x80000000;
  DAT_40001961 = DAT_40001961 + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[2] != false)) ||
        ((misfire_condition_flags & 0x20) != 0)) || ((coilpack_failure_flags & 4) != 0)) {
      etpu_mcr_addr[0x11a] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xfb;
      DAT_400018bb = DAT_400018bb | 4;
      DAT_40001ce9 = DAT_40001ce9 & 0xfb;
    }
    else if (((inj_flags & 1) == 0) || ((ign_flags_unknown & 4) == 0)) {
      etpu_mcr_addr[0x11a] = 4;
      DAT_400018c7 = DAT_400018c7 | 4;
      DAT_40001ce9 = DAT_40001ce9 & 0xfb;
    }
    else {
      etpu_mcr_addr[0x11a] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 4;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 == 5) {
        if (s__40001cec[1] == '\0') {
          ign_flags_unknown = ign_flags_unknown | 2;
        }
        else {
          s__40001cec[1] = s__40001cec[1] + 0xff;
        }
      }
      else if (s__40001cec[3] == '\0') {
        ign_flags_unknown = ign_flags_unknown | 8;
      }
      else {
        s__40001cec[3] = s__40001cec[3] + 0xff;
      }
    }
  }
  if (DAT_400015de == 0) {
    DAT_400018c8 = 3;
  }
  DAT_400015de = DAT_400015de ^ 1;
  return;
}



void FUN_000483c0(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x11d] = etpu_mcr_addr[0x11d] & 0x7fffffff | 0x80000000;
  DAT_40001960 = DAT_40001960 + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[3] != false)) ||
        ((misfire_condition_flags & 0x40) != 0)) || ((coilpack_failure_flags & 8) != 0)) {
      etpu_mcr_addr[0x11e] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xf7;
      DAT_400018bb = DAT_400018bb | 8;
      DAT_40001ce9 = DAT_40001ce9 & 0xf7;
    }
    else if (((inj_flags & 1) == 0) || ((ign_flags_unknown & 8) == 0)) {
      etpu_mcr_addr[0x11e] = 4;
      DAT_400018c7 = DAT_400018c7 | 8;
      DAT_40001ce9 = DAT_40001ce9 & 0xf7;
    }
    else {
      etpu_mcr_addr[0x11e] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 8;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 == 5) {
        if (s__40001cec[2] == '\0') {
          ign_flags_unknown = ign_flags_unknown | 4;
        }
        else {
          s__40001cec[2] = s__40001cec[2] + 0xff;
        }
      }
      else if (s__40001cec[4] == '\0') {
        ign_flags_unknown = ign_flags_unknown | 0x10;
      }
      else {
        s__40001cec[4] = s__40001cec[4] + 0xff;
      }
    }
  }
  if (DAT_400015df == 0) {
    DAT_400018c8 = 4;
  }
  DAT_400015df = DAT_400015df ^ 1;
  return;
}



void FUN_0004861c(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x121] = etpu_mcr_addr[0x121] & 0x7fffffff | 0x80000000;
  DAT_4000195f = DAT_4000195f + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[4] != false)) ||
        ((misfire_condition_flags & 0x20) != 0)) || ((coilpack_failure_flags & 0x10) != 0)) {
      etpu_mcr_addr[0x122] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xef;
      DAT_400018bb = DAT_400018bb | 0x10;
      DAT_40001ce9 = DAT_40001ce9 & 0xef;
      FUN_00048844();
      return;
    }
    if (((inj_flags & 1) != 0) && ((ign_flags_unknown & 0x10) != 0)) {
      etpu_mcr_addr[0x122] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 0x10;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 != 5) {
        if (s__40001cec[5] != '\0') {
          s__40001cec[5] = s__40001cec[5] + 0xff;
          FUN_00048844();
          return;
        }
        ign_flags_unknown = ign_flags_unknown | 0x20;
        FUN_00048844();
        return;
      }
      if (s__40001cec[3] != '\0') {
        s__40001cec[3] = s__40001cec[3] + 0xff;
        FUN_00048844();
        return;
      }
      ign_flags_unknown = ign_flags_unknown | 8;
      FUN_00048844();
      return;
    }
    etpu_mcr_addr[0x122] = 4;
    DAT_400018c7 = DAT_400018c7 | 0x10;
    DAT_40001ce9 = DAT_40001ce9 & 0xef;
  }
  if (DAT_400015e0 == 0) {
    DAT_400018c8 = 5;
  }
  DAT_400015e0 = DAT_400015e0 ^ 1;
  return;
}



void FUN_00048844(void)

{
  if (DAT_400015e0 == 0) {
    DAT_400018c8 = 5;
  }
  DAT_400015e0 = DAT_400015e0 ^ 1;
  return;
}



void FUN_00048878(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x125] = etpu_mcr_addr[0x125] & 0x7fffffff | 0x80000000;
  DAT_4000195e = DAT_4000195e + '\x01';
  if (DAT_40001898 == 1) {
    etpu_mcr_addr[0x112] = 3;
    etpu_mcr_addr[0x116] = 3;
    etpu_mcr_addr[0x11a] = 3;
    etpu_mcr_addr[0x11e] = 3;
    etpu_mcr_addr[0x122] = 3;
    etpu_mcr_addr[0x126] = 3;
  }
  bVar1 = DAT_40001898 == 0;
  DAT_40001898 = DAT_40001898 + -1;
  if (bVar1) {
    DAT_40001898 = 0;
  }
  if (DAT_40001948 == '\x01') {
    if (((((ignition_on_flags & 1) == 0) || (ign_per_cyl_spark_done___[5] != false)) ||
        ((misfire_condition_flags & 0x40) != 0)) || ((coilpack_failure_flags & 0x20) != 0)) {
      etpu_mcr_addr[0x126] = 3;
      DAT_400018c7 = DAT_400018c7 & 0xdf;
      DAT_400018bb = DAT_400018bb | 0x20;
      DAT_40001ce9 = DAT_40001ce9 & 0xdf;
    }
    else if (((inj_flags & 1) == 0) || ((ign_flags_unknown & 0x20) == 0)) {
      etpu_mcr_addr[0x126] = 4;
      DAT_400018c7 = DAT_400018c7 | 0x20;
      DAT_40001ce9 = DAT_40001ce9 & 0xdf;
    }
    else {
      etpu_mcr_addr[0x126] = 3;
      DAT_40001ce9 = DAT_40001ce9 | 0x20;
      if ((uint)DAT_400087ee + (DAT_400087ee / 6) * -6 == 5) {
        if (s__40001cec[4] == '\0') {
          ign_flags_unknown = ign_flags_unknown | 16;
        }
        else {
          s__40001cec[4] = s__40001cec[4] + 0xff;
        }
      }
      else if (s__40001cec[0] == '\0') {
        ign_flags_unknown = ign_flags_unknown | 1;
      }
      else {
        s__40001cec[0] = s__40001cec[0] + 0xff;
      }
    }
  }
  if (DAT_400015e1 == 0) {
    DAT_400018c8 = 0;
  }
  DAT_400015e1 = DAT_400015e1 ^ 1;
  return;
}



// buffer samples between calls to main()

void sensor_interrupt_maf_map(void)

{
  bool bVar1;
  
  etpu_mcr_addr[0x145] = etpu_mcr_addr[0x145] & 0x7fffffff | 0x80000000;
  bVar1 = DAT_400018b4 == 0;
  if (bVar1) {
    FUN_000541f4(17,(uint)*(ushort *)(&DAT_000d0918 + (uint)DAT_400018b5 * 2),
                 (uint)*(ushort *)(&DAT_000d0918 + (DAT_400018b5 + 1) * 2));
    DAT_400018b5 = DAT_400018b5 + 2 & 0x1f;
  }
  maf_voltage_buffer_index = maf_voltage_buffer_index + 1 & 0x1f;
                    // maf_voltage
  DAT_400018b4 = bVar1;
  maf_voltage_buffer[(short)maf_voltage_buffer_index] =
       (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x32] >> 4);
  map_voltage_buffer_index = map_voltage_buffer_index + 1 & 0x1f;
                    // manifold pressure voltage
  map_voltage_buffer[(short)map_voltage_buffer_index] =
       (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1b] >> 4);
  DAT_4000195d = DAT_4000195d + 1;
  return;
}



void FUN_00048bfc(void)

{
  etpu_mcr_addr[0x10d] = etpu_mcr_addr[0x10d] & 0x7fffffff | 0x80000000;
  DAT_40001964 = DAT_40001964 + '\x01';
  ign_diag_phase = 0xff;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void adc_avg(void)

{
  int _air_density_tmp;
  uint32_t uVar1;
  u8_temp_5_8_40c uVar3;
  int iVar2;
  byte i;
  ulonglong _engine_speed_period_1;
  uint j;
  char cVar4;
  char cVar5;
  
  cVar5 = '\0';
  cVar4 = '\0';
  _engine_speed_period_1 = (ulonglong)engine_speed_period_1;
  if ((engine_speed_period_1 == 0) || (0xfffffe < engine_speed_period_1)) {
    engine_speed_2 = 0;
    obd_ii_engine_speed = 0;
    engine_speed_period_2 = 0xffff;
  }
  else {
    engine_speed_2 = (u16_rspeed_rpm)(200000000 / _engine_speed_period_1);
    obd_ii_engine_speed = engine_speed_2 << 2;
    if ((((ulonglong)engine_speed_period_1 & 0x3fffffff) * 4 - _engine_speed_period_1 << 0x20) >>
        0x22 < 0x9fff7) {
      engine_speed_period_2 =
           (uint32_t)
           ((((ulonglong)engine_speed_period_1 & 0x3fffffff) * 4 - _engine_speed_period_1 &
            0xffffffff) / 0x28);
    }
    else {
      engine_speed_period_2 = 0xffff;
    }
  }
  engine_speed_3 = compute_engine_speed_byte();
  tmap_lookup_raw =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                  CAL_sensor_tmap_expected_temp,CAL_sensor_tmap_expected_temp_X_rpm,
                  CAL_sensor_tmap_expected_temp_Y_load);
                    // convert to temp K
  manifold_temp_adjusted =
       (short)((int)((uint)tmap_lookup_raw * 4 + (uint)tmap_lookup_raw) >> 3) + 233;
  uVar1 = sqrt_integer((((uint)manifold_temp_adjusted * 1000000) /
                       (((int)((uint)obd_ii_manifold_temp * 4 + (uint)obd_ii_manifold_temp) >> 3) +
                       233U)) * 400);
  manifold_temp_corrected_ = (ushort)uVar1;
  uVar1 = sqrt_integer((298000000 /
                       (((int)((uint)temp_engine_air * 4 + (uint)temp_engine_air) >> 3) + 0xe9U)) *
                       400);
  iat_corrected_ = (undefined2)uVar1;
  if (obd_ii_atmospheric_baro < 1101) {
    j = (uint)obd_ii_atmospheric_baro;
    if (obd_ii_atmospheric_baro < 500) {
      j = 500;
    }
  }
  else {
    j = 1100;
  }
  _air_density_tmp = manifold_temp_corrected_ * j;
  air_density_manifold_temp =
       ((short)(_air_density_tmp / 0x3f5) + (short)(_air_density_tmp >> 0x1f)) -
       (short)((longlong)_air_density_tmp * 0x8163d283 >> 0x3f);
  iVar2 = (uVar1 & 0xffff) * j;
  air_density_ambiant =
       ((short)(iVar2 / 0x3f5) + (short)(iVar2 >> 0x1f)) -
       (short)((longlong)iVar2 * 0x8163d283 >> 0x3f);
  if (DAT_40001948 == 0) {
    engine_is_running = false;
    engine_speed_period_update_robust_((uint16_t)engine_speed_period_2);
    uVar3 = coolant_temp;
    if ((engine_state_failure_flags & 2) == 0) {
      uVar3 = lookup_2D_uint8_interpolated_noaxis
                        (3,coolant_temp_sensor_voltage,
                         CAL_sensor_coolant_temp_sensor_engine_off_scaling);
    }
    coolant_temp_engine_stopped = uVar3;
    engine_air_temp2 =
         lookup_2D_uint8_interpolated_noaxis
                   (3,sensor_adc_engine_air_voltage,CAL_sensor_engine_air_scaling);
    iat2 = lookup_2D_uint8_interpolated_noaxis
                     (3,intake_air_sensor_voltage,CAL_sensor_intake_air_scaling);
    if ((COD_base[0] >> 0xd & 7) == 1) {
      DAT_40002530 = lookup_2D_uint8_interpolated_noaxis
                               (4,(ushort)coolant_temp_engine_stopped,s_vlf_YOC5__4000e016);
    }
    else {
      DAT_40002530 = lookup_2D_uint8_interpolated_noaxis
                               (4,(ushort)coolant_temp_engine_stopped,s_vlf_YOC5__4000dfe8);
    }
    sensor_adc_maf1 = get_adc_maf1();
    sensor_adc_maf2 = sensor_adc_maf1;
    set_maf_voltage_buffer(sensor_adc_maf1);
    map_voltage = get_map_voltage();
    save_map_voltage_buffer(map_voltage);
  }
  else {
    iVar2 = adc_maf_filter();
    sensor_adc_maf2 = (u16_voltage_5_1023v)iVar2;
    iVar2 = get_maf_avg();
    sensor_adc_maf1 = (u16_voltage_5_1023v)iVar2;
    iVar2 = get_map_avg();
    map_voltage = (u16_voltage_5_1023v)iVar2;
  }
  if ((engine_speed_period_2 < (ushort)CAL_ecu_engine_running_threshold_unknown) &&
     (DAT_400015da == 0)) {
    engine_is_running = true;
  }
  else if (_DAT_40008780 < engine_speed_period_2) {
    engine_is_running = false;
  }
  if (DAT_40002849 == 0) {
    for (i = 0; i < 6; i = i + 1) {
      BYTE_ARRAY_400015c8[i] = 0xff;
    }
  }
  else if ((DAT_400018b6 != DAT_40002849) ||
          ((DAT_40002849 != 0 && (DAT_400018b9 != trqlimit_failure_condition_count___)))) {
    if (DAT_40002849 == 6) {
      for (i = 0; i < 6; i = i + 1) {
        BYTE_ARRAY_400015c8[i] = 0;
      }
    }
    else {
      for (i = 0; i < 6; i = i + 1) {
        BYTE_ARRAY_400015c8[i] = 0xff;
      }
      if ((DAT_40002849 != 0) &&
         (DAT_400018ba = DAT_400018c8, trqlimit_failure_condition_count___ < DAT_40002849)) {
        if (trqlimit_failure_condition_count___ == 0) {
          if (DAT_40002849 == 1) {
            BYTE_ARRAY_400015c8[DAT_400018c8] = 0;
          }
          else if (DAT_40002849 == 2) {
            BYTE_ARRAY_400015c8[DAT_400018c8] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 3) % 6] = 0;
          }
          else if (DAT_40002849 == 3) {
            BYTE_ARRAY_400015c8[DAT_400018c8] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 2) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 4) % 6] = 0;
          }
          else if (DAT_40002849 == 4) {
            BYTE_ARRAY_400015c8[DAT_400018c8] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 3) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 1) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 4) % 6] = 0;
          }
          else if (DAT_40002849 == 5) {
            BYTE_ARRAY_400015c8[DAT_400018c8] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 1) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 2) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 3) % 6] = 0;
            BYTE_ARRAY_400015c8[(DAT_400018ba + 4) % 6] = 0;
          }
        }
        else {
          DAT_400018b7 = DAT_40002849 - trqlimit_failure_condition_count___;
          DAT_400018b8 = (byte)coilpack_failure_flags & 0x3f;
          j = 0;
          while (DAT_400018b7 != '\0') {
            if (((uint)DAT_400018b8 & 1 << ((uint)DAT_400018ba + (j & 0xff)) % 6) == 0) {
              BYTE_ARRAY_400015c8[((uint)DAT_400018ba + (j & 0xff)) % 6] = 0;
              DAT_400018b7 = DAT_400018b7 + -1;
            }
            j = j + 1;
          }
        }
      }
    }
  }
  DAT_400018b6 = DAT_40002849;
  DAT_400018b9 = trqlimit_failure_condition_count___;
  for (j = 0; (j & 0xff) < 6; j = j + 1) {
    if ((j & 1) == 0) {
      if ((((uint)DAT_400018c7 & 1 << (j & 0x3f)) == 0) ||
         (((uint)DAT_40001ce9 & 1 << (j & 0x3f)) != 0)) {
        cVar5 = cVar5 + '\x01';
      }
    }
    else if ((((uint)DAT_400018c7 & 1 << (j & 0x3f)) == 0) ||
            (((uint)DAT_40001ce9 & 1 << (j & 0x3f)) != 0)) {
      cVar4 = cVar4 + '\x01';
    }
  }
  DAT_400018c6 = cVar5;
  DAT_400018c5 = cVar4;
  return;
}



void engine_speed_period_update_robust_(uint16_t engine_speed_period)

{
  short i;
  
  for (i = 7; 0 < i; i = i + -1) {
    engine_speed_period_0 = engine_speed_period;
  }
  for (i = 15; 0 < i; i = i + -1) {
    engine_speed_period_3 = engine_speed_period;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void compute_engine_speed_average_and_acceleration(void)

{
  uint uVar1;
  byte i;
  byte bVar2;
  int iVar3;
  
  if (engine_speed_period_2 < _DAT_40008780) {
    if (DAT_400015da != 0) {
      DAT_400015da = DAT_400015da - 1;
    }
  }
  else {
    DAT_400015da = (ushort)DAT_400086cb;
  }
  timer_engine_off_unknown1 = CAL_ecu_obd_mode2F_timer;
  if (u32_time_us_40001cb0 != 0) {
    uVar1 = u32_time_us_40001cb0 * DAT_400087f0;
    u32_time_us_40001cb0 = ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0);
  }
  if (((inj_flags & 1) != 0) && (uint16_t_400018ee < 0x3ff)) {
    uint16_t_400018ee = uint16_t_400018ee + 1;
  }
  if (DAT_40001948 != 0) {
    for (i = 7; i != 0; i = i - 1) {
      *(undefined2 *)((uint)i * 2 + 0x40000000) = *(undefined2 *)((i - 1) * 2 + 0x40000000);
    }
    engine_speed_period_0 = (uint16_t)engine_speed_period_2;
    if (DAT_4000189f < 3) {
      DAT_4000189f = DAT_4000189f + 1;
    }
    else {
      DAT_4000189f = 0;
      for (bVar2 = 0xf; bVar2 != 0; bVar2 = bVar2 - 1) {
        (&engine_speed_period_3)[bVar2] = (&engine_speed_period_3)[bVar2 - 1];
      }
      engine_speed_period_3 = (undefined2)engine_speed_period_2;
      rpm_or_roughness_measure_unknown =
           (((int)((uint)(ushort)(&engine_speed_period_3)[DAT_4000872a + 4] +
                   (uint)(ushort)(&engine_speed_period_3)[DAT_4000872a + 2] +
                  (uint)(ushort)(&engine_speed_period_3)[DAT_4000872a + 5] +
                  (uint)(ushort)(&engine_speed_period_3)[DAT_4000872a + 3]) >> 2) -
           ((int)((uint)DAT_40000014 + (engine_speed_period_2 & 0xffff) +
                 (uint)_DAT_40000016 + (uint)DAT_40000012) >> 2)) / 0xf;
    }
    iVar3 = 0;
    if (DAT_40008706 < 8) {
      bVar2 = DAT_40008706;
      if (DAT_40008706 == 0) {
        DAT_400018e4 = (undefined2)engine_speed_period_2;
      }
      else {
        for (; bVar2 != 0; bVar2 = bVar2 - 1) {
          iVar3 = iVar3 + (uint)*(ushort *)((uint)bVar2 * 2 + 0x40000000);
        }
        DAT_400018e4 = (undefined2)(iVar3 / (int)(uint)DAT_40008706);
      }
    }
    else {
      DAT_40008706 = 7;
    }
    uVar1 = (uint)DAT_400086ab;
    if (7 < uVar1) {
      uVar1 = 7;
    }
    DAT_400018e8 = (int)((60000000 / engine_speed_period_0 -
                         60000000 / *(ushort *)(uVar1 * 2 + 0x40000000)) *
                        engine_speed_period_0 * uVar1) / 2500000;
  }
  return;
}



ulonglong init_dspib_2(uint param_1,uint param_2)

{
  uint32_t uVar1;
  uint32_t uVar2;
  
  uVar1 = DSPI_B.sr;
  DSPI_B.sr = uVar1 | 0xffff0000;
  DSPI_B.ctar[0] = 0x3aa01023;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = param_1 & 0xff | 0x84080000;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = param_2 & 0xff | 0x8080000;
  do {
    do {
      uVar1 = DSPI_B.sr;
    } while (-1 < (int)uVar1);
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 4 & 0xf) < 2);
  uVar1 = DSPI_B.popr;
  uVar2 = DSPI_B.popr;
  return ((ulonglong)uVar1 & 0xff) << 8 | (ulonglong)uVar2 & 0xff;
}



uint32_t dspi_probe_addr_unknown(void)

{
  ulonglong uVar1;
  
  init_dspib_2(0xc5,4);
  init_dspib_2(0x45,0);
  uVar1 = init_dspib_2(0x45,0);
  return (uint)LZCOUNT(&UNK_ffffbafc + ((uint)uVar1 & 0xffff)) >> 5;
}



void init_dspi1(void)

{
  uint32_t probe_response;
  
  siu_pcr[0x66] = 0xecc;
  siu_pcr[0x67] = 0xd00;
  siu_pcr[0x68] = 0xecc;
  siu_pcr[0x69] = 0xecc;
  siu_pcr[0x65] = 0xacc;
  DSPI_B.mcr = 0x803f0c00;
  siu_pcr[0x6d] = 0xacc;
  siu_pcr[0x6c] = 0x900;
  siu_pcr[0x6b] = 0xacc;
  siu_pcr[0x6e] = 0xacc;
  siu_pcr[0x5d] = 0xacc;
  siu_pcr[0x5e] = 0xacc;
  siu_pcr[0x5f] = 0xacc;
  DSPI_C.mcr = 0x803f0c00;
  obd_ii_relay_status = 0xf;
  siu_pcr[0xbe] = 0x2cc;
  siu_gpdo[0xbe] = '\x01';
  probe_response = dspi_probe_addr_unknown();
  if (probe_response != 0) {
    init_dspib_1(0xc2,0xff);
    init_dspib_2(0xc5,0);
  }
  init_dspib_1(0xff,(uint)obd_ii_relay_status);
  return;
}



void init_dspib_1(uint param_1,uint param_2)

{
  uint32_t uVar1;
  
  uVar1 = DSPI_B.sr;
  DSPI_B.sr = uVar1 | 0xffff0000;
  DSPI_B.ctar[0] = 0x3aa01023;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = param_1 & 0xff | 0x84080000;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = param_2 & 0xff | 0x8080000;
  do {
    do {
      uVar1 = DSPI_B.sr;
    } while (-1 < (int)uVar1);
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 4 & 0xf) < 2);
  uVar1 = DSPI_B.popr;
  DAT_400031bf = (char)uVar1;
  uVar1 = DSPI_B.popr;
  DAT_400031c0 = (char)uVar1;
  return;
}



void FUN_00049bf8(void)

{
  uint32_t uVar1;
  
  uVar1 = DSPI_B.sr;
  DSPI_B.sr = uVar1 | 0xffff0000;
  DSPI_B.ctar[0] = 0x3aa01023;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = 0x80010000;
  do {
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_B.pushr = 0x8010000;
  do {
    do {
      uVar1 = DSPI_B.sr;
    } while (-1 < (int)uVar1);
    uVar1 = DSPI_B.sr;
  } while ((uVar1 >> 4 & 0xf) < 2);
  uVar1 = DSPI_B.popr;
  DAT_400031bd = (char)uVar1;
  uVar1 = DSPI_B.popr;
  DAT_400031ba = (char)uVar1;
  return;
}



void FUN_00049cb8(void)

{
  uint32_t uVar1;
  
  uVar1 = DSPI_C.sr;
  DSPI_C.sr = uVar1 | 0xffff0000;
  DSPI_C.ctar[0] = 0x3aa01023;
  do {
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_C.pushr = 0x80200000;
  do {
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_C.pushr = 0x80200000;
  do {
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_C.pushr = 0x8200000;
  do {
    do {
      uVar1 = DSPI_C.sr;
    } while (-1 < (int)uVar1);
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 4 & 0xf) < 3);
  uVar1 = DSPI_C.popr;
  DAT_400031be = (char)uVar1;
  uVar1 = DSPI_C.popr;
  DAT_400031bc = (char)uVar1;
  uVar1 = DSPI_C.popr;
  DAT_400031bb = (char)uVar1;
  return;
}



void FUN_00049db0(void)

{
  uint32_t uVar1;
  
  DSPI_C.ctar[1] = 0x3a020023;
  uVar1 = DSPI_C.sr;
  DSPI_C.sr = uVar1 | 0xffff0000;
  do {
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 0x19 & 1) != 1);
  DSPI_C.pushr = DAT_400015e8 | 0x18020000;
  do {
    do {
      uVar1 = DSPI_C.sr;
    } while (-1 < (int)uVar1);
    uVar1 = DSPI_C.sr;
  } while ((uVar1 >> 4 & 0xf) == 0);
  uVar1 = DSPI_C.popr;
  if (DAT_40001880 == '\0') {
    DAT_40001880 = '\n';
    if (DAT_40001979 == '\0') {
      DAT_400015e8 = 0x80;
      DAT_40001979 = '\x01';
    }
    else if (DAT_40001979 == '\x01') {
      DAT_400015e8 = 0x80;
      DAT_40001979 = '\x02';
    }
    else if (DAT_40001979 == '\x02') {
      DAT_400015e8 = 0x81;
      DAT_40001979 = '\0';
      DAT_40001978 = (byte)uVar1;
    }
    else {
      DAT_40001979 = '\0';
    }
  }
  DAT_400031b9 = DAT_40001978 & 0xfd;
  return;
}



void read_serial_peripherals(void)

{
  init_dspib_1(0xff,(uint)obd_ii_relay_status);
  FUN_00049bf8();
  FUN_00049cb8();
  FUN_00049db0();
  return;
}



void init_eDMA2(void)

{
  edma_cr = 0xe400;
  DAT_fff4400c = 0;
  DAT_fff44014 = 0;
  DAT_fff44100 = 0;
  DAT_fff44101 = 1;
  DAT_fff44102 = 2;
  DAT_fff44103 = 3;
  DAT_fff44104 = 4;
  DAT_fff44105 = 5;
  DAT_fff44106 = 6;
  DAT_fff44107 = 7;
  DAT_fff44108 = 8;
  DAT_fff44109 = 9;
  DAT_fff4410a = 10;
  DAT_fff4410b = 0xb;
  DAT_fff4410c = 0xc;
  DAT_fff4410d = 0xd;
  DAT_fff4410e = 0xe;
  DAT_fff4410f = 0xf;
  DAT_fff44110 = 0;
  DAT_fff44111 = 1;
  DAT_fff44112 = 2;
  DAT_fff44113 = 3;
  DAT_fff44114 = 4;
  DAT_fff44115 = 5;
  DAT_fff44116 = 6;
  DAT_fff44117 = 7;
  DAT_fff44118 = 8;
  DAT_fff44119 = 9;
  DAT_fff4411a = 10;
  DAT_fff4411b = 0xb;
  DAT_fff4411c = 0xc;
  DAT_fff4411d = 0xc;
  DAT_fff4411e = 0xe;
  DAT_fff4411f = 0xf;
  return;
}



void init_eDMA2_2(void)

{
  ushort uVar1;
  
  DAT_fff45140 = 0x40002ec0;
  DAT_fff45150 = 0xfff80024;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xff07;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45146 = 4;
  DAT_fff45148 = 4;
  DAT_fff4514c = 0xffffffdc;
  DAT_fff45156 = 0;
  DAT_fff45158 = 0;
  uVar1 = DAT_fff4515c;
  DAT_fff4515c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4515c;
  DAT_fff4515c = uVar1 & 0x8000 | 6;
  uVar1 = DAT_fff45154;
  DAT_fff45154 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45154;
  DAT_fff45154 = uVar1 & 0x8000 | 6;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffef;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfff7 | 8;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffe;
  DAT_fff4400c = 0x400;
  return;
}



void init_pinmux_and_iosetup(void)

{
  ushort uVar1;
  uint uVar2;
  
  DAT_fff4400c = 0xf00;
  DAT_fff44014 = 0;
  DAT_fff44024 = 2;
  DAT_fff45000 = 0x40002fe8;
  DAT_fff45010 = 0xfff80010;
  uVar1 = DAT_fff45004;
  DAT_fff45004 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45004;
  DAT_fff45004 = uVar1 & 0xff07;
  uVar1 = DAT_fff45004;
  DAT_fff45004 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45004;
  DAT_fff45004 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45006 = 4;
  DAT_fff45008 = 4;
  DAT_fff4500c = 0xfffffffc;
  uVar1 = DAT_fff45014;
  DAT_fff45014 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45014;
  DAT_fff45014 = uVar1 & 0x8000 | 1;
  DAT_fff45016 = 0;
  DAT_fff45018 = 0;
  uVar1 = DAT_fff4501c;
  DAT_fff4501c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4501c;
  DAT_fff4501c = uVar1 & 0x8000 | 1;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xffef;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4501e;
  DAT_fff4501e = uVar1 & 0xfffe;
  DAT_fff45020 = 0xfff80032;
  DAT_fff45030 = 0x40002cc0;
  uVar1 = DAT_fff45024;
  DAT_fff45024 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45024;
  DAT_fff45024 = uVar1 & 0xff07;
  uVar1 = DAT_fff45024;
  DAT_fff45024 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff45024;
  DAT_fff45024 = uVar1 & 0xf8ff | 0x100;
  DAT_fff45026 = 0;
  DAT_fff45028 = 2;
  DAT_fff4502c = 0;
  DAT_fff45036 = 2;
  DAT_fff45038 = 0xffffffc0;
  uVar1 = DAT_fff4503c;
  DAT_fff4503c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4503c;
  DAT_fff4503c = uVar1 & 0x8000 | 0x20;
  uVar1 = DAT_fff45034;
  DAT_fff45034 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45034;
  DAT_fff45034 = uVar1 & 0x8000 | 0x20;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xffef;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xfffd | 2;
  uVar1 = DAT_fff4503e;
  DAT_fff4503e = uVar1 & 0xfffe;
  DAT_fff45040 = 0x40002fd8;
  DAT_fff45050 = 0xfff80014;
  uVar1 = DAT_fff45044;
  DAT_fff45044 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45044;
  DAT_fff45044 = uVar1 & 0xff07;
  uVar1 = DAT_fff45044;
  DAT_fff45044 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45044;
  DAT_fff45044 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45046 = 4;
  DAT_fff45048 = 4;
  DAT_fff4504c = 0xfffffffc;
  uVar1 = DAT_fff45054;
  DAT_fff45054 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45054;
  DAT_fff45054 = uVar1 & 0x8000 | 1;
  DAT_fff45056 = 0;
  DAT_fff45058 = 0;
  uVar1 = DAT_fff4505c;
  DAT_fff4505c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4505c;
  DAT_fff4505c = uVar1 & 0x8000 | 1;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xffef;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4505e;
  DAT_fff4505e = uVar1 & 0xfffe;
  DAT_fff45060 = 0xfff80036;
  DAT_fff45070 = 0x40002cb0;
  uVar1 = DAT_fff45064;
  DAT_fff45064 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45064;
  DAT_fff45064 = uVar1 & 0xff07;
  uVar1 = DAT_fff45064;
  DAT_fff45064 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff45064;
  DAT_fff45064 = uVar1 & 0xf8ff | 0x100;
  DAT_fff45066 = 0;
  DAT_fff45068 = 2;
  DAT_fff4506c = 0;
  DAT_fff45076 = 2;
  DAT_fff45078 = 0xfffffffc;
  uVar1 = DAT_fff4507c;
  DAT_fff4507c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4507c;
  DAT_fff4507c = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff45074;
  DAT_fff45074 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45074;
  DAT_fff45074 = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xffef;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4507e;
  DAT_fff4507e = uVar1 & 0xfffe;
  DAT_fff45080 = 0x40002fc8;
  DAT_fff45090 = 0xfff80018;
  uVar1 = DAT_fff45084;
  DAT_fff45084 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45084;
  DAT_fff45084 = uVar1 & 0xff07;
  uVar1 = DAT_fff45084;
  DAT_fff45084 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45084;
  DAT_fff45084 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45086 = 4;
  DAT_fff45088 = 0;
  DAT_fff4508c = 0xfffffffc;
  uVar1 = DAT_fff45094;
  DAT_fff45094 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45094;
  DAT_fff45094 = uVar1 & 0x8000 | 1;
  DAT_fff45096 = 0;
  DAT_fff45098 = 0;
  uVar1 = DAT_fff4509c;
  DAT_fff4509c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4509c;
  DAT_fff4509c = uVar1 & 0x8000 | 1;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xffef;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4509e;
  DAT_fff4509e = uVar1 & 0xfffe;
  DAT_fff450a0 = 0xfff8003a;
  DAT_fff450b0 = 0x40002ca0;
  uVar1 = DAT_fff450a4;
  DAT_fff450a4 = uVar1 & 0x7ff;
  uVar1 = DAT_fff450a4;
  DAT_fff450a4 = uVar1 & 0xff07;
  uVar1 = DAT_fff450a4;
  DAT_fff450a4 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff450a4;
  DAT_fff450a4 = uVar1 & 0xf8ff | 0x100;
  DAT_fff450a6 = 0;
  DAT_fff450a8 = 2;
  DAT_fff450ac = 0;
  DAT_fff450b6 = 2;
  DAT_fff450b8 = 0xfffffffc;
  uVar1 = DAT_fff450bc;
  DAT_fff450bc = uVar1 & 0x7fff;
  uVar1 = DAT_fff450bc;
  DAT_fff450bc = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff450b4;
  DAT_fff450b4 = uVar1 & 0x7fff;
  uVar1 = DAT_fff450b4;
  DAT_fff450b4 = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0x3fff;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xc0ff;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xffdf;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xff7f;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xffbf;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xffef;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xfff7;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xfffb;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xfffd;
  uVar1 = DAT_fff450be;
  DAT_fff450be = uVar1 & 0xfffe;
  DAT_fff450c0 = 0x40002fb8;
  DAT_fff450d0 = 0xfff8001c;
  uVar1 = DAT_fff450c4;
  DAT_fff450c4 = uVar1 & 0x7ff;
  uVar1 = DAT_fff450c4;
  DAT_fff450c4 = uVar1 & 0xff07;
  uVar1 = DAT_fff450c4;
  DAT_fff450c4 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff450c4;
  DAT_fff450c4 = uVar1 & 0xf8ff | 0x200;
  DAT_fff450c6 = 4;
  DAT_fff450c8 = 0;
  DAT_fff450cc = 0xfffffffc;
  uVar1 = DAT_fff450d4;
  DAT_fff450d4 = uVar1 & 0x7fff;
  uVar1 = DAT_fff450d4;
  DAT_fff450d4 = uVar1 & 0x8000 | 1;
  DAT_fff450d6 = 0;
  DAT_fff450d8 = 0;
  uVar1 = DAT_fff450dc;
  DAT_fff450dc = uVar1 & 0x7fff;
  uVar1 = DAT_fff450dc;
  DAT_fff450dc = uVar1 & 0x8000 | 1;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0x3fff;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xc0ff;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xffdf;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xff7f;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xffbf;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xffef;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xfff7;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xfffb;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xfffd;
  uVar1 = DAT_fff450de;
  DAT_fff450de = uVar1 & 0xfffe;
  DAT_fff450e0 = 0xfff8003e;
  DAT_fff450f0 = 0x40002c90;
  uVar1 = DAT_fff450e4;
  DAT_fff450e4 = uVar1 & 0x7ff;
  uVar1 = DAT_fff450e4;
  DAT_fff450e4 = uVar1 & 0xff07;
  uVar1 = DAT_fff450e4;
  DAT_fff450e4 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff450e4;
  DAT_fff450e4 = uVar1 & 0xf8ff | 0x100;
  DAT_fff450e6 = 0;
  DAT_fff450e8 = 2;
  DAT_fff450ec = 0;
  DAT_fff450f6 = 2;
  DAT_fff450f8 = 0xfffffffc;
  uVar1 = DAT_fff450fc;
  DAT_fff450fc = uVar1 & 0x7fff;
  uVar1 = DAT_fff450fc;
  DAT_fff450fc = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff450f4;
  DAT_fff450f4 = uVar1 & 0x7fff;
  uVar1 = DAT_fff450f4;
  DAT_fff450f4 = uVar1 & 0x8000 | 2;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0x3fff;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xc0ff;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xffdf;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xff7f;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xffbf;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xffef;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xfff7;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xfffb;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xfffd;
  uVar1 = DAT_fff450fe;
  DAT_fff450fe = uVar1 & 0xfffe;
  DAT_fff45100 = 0x40002f78;
  DAT_fff45110 = 0xfff80020;
  uVar1 = DAT_fff45104;
  DAT_fff45104 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45104;
  DAT_fff45104 = uVar1 & 0xff07;
  uVar1 = DAT_fff45104;
  DAT_fff45104 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45104;
  DAT_fff45104 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45106 = 4;
  DAT_fff45108 = 4;
  DAT_fff4510c = 0xffffffd4;
  uVar1 = DAT_fff45114;
  DAT_fff45114 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45114;
  DAT_fff45114 = uVar1 & 0x8000 | 0xb;
  DAT_fff45116 = 0;
  DAT_fff45118 = 0;
  uVar1 = DAT_fff4511c;
  DAT_fff4511c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4511c;
  DAT_fff4511c = uVar1 & 0x8000 | 0xb;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xffef;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4511e;
  DAT_fff4511e = uVar1 & 0xfffe;
  DAT_fff45120 = 0xfff80042;
  DAT_fff45130 = 0x40002c70;
  uVar1 = DAT_fff45124;
  DAT_fff45124 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45124;
  DAT_fff45124 = uVar1 & 0xff07;
  uVar1 = DAT_fff45124;
  DAT_fff45124 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff45124;
  DAT_fff45124 = uVar1 & 0xf8ff | 0x100;
  DAT_fff45126 = 0;
  DAT_fff45128 = 2;
  DAT_fff4512c = 0;
  DAT_fff45136 = 2;
  DAT_fff45138 = 0xffffffea;
  uVar1 = DAT_fff4513c;
  DAT_fff4513c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4513c;
  DAT_fff4513c = uVar1 & 0x8000 | 0xb;
  uVar1 = DAT_fff45134;
  DAT_fff45134 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45134;
  DAT_fff45134 = uVar1 & 0x8000 | 0xb;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xffef;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4513e;
  DAT_fff4513e = uVar1 & 0xfffe;
  DAT_fff45140 = 0x40002ec0;
  DAT_fff45150 = 0xfff80024;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xff07;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xfff8 | 2;
  uVar1 = DAT_fff45144;
  DAT_fff45144 = uVar1 & 0xf8ff | 0x200;
  DAT_fff45146 = 4;
  DAT_fff45148 = 4;
  DAT_fff4514c = 0xffffff4c;
  uVar1 = DAT_fff45154;
  DAT_fff45154 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45154;
  DAT_fff45154 = uVar1 & 0x8000 | 0x2d;
  DAT_fff45156 = 0;
  DAT_fff45158 = 0;
  uVar1 = DAT_fff4515c;
  DAT_fff4515c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4515c;
  DAT_fff4515c = uVar1 & 0x8000 | 0x2d;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xffef;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4515e;
  DAT_fff4515e = uVar1 & 0xfffe;
  DAT_fff45160 = 0xfff80046;
  DAT_fff45170 = 0x40002c10;
  uVar1 = DAT_fff45164;
  DAT_fff45164 = uVar1 & 0x7ff;
  uVar1 = DAT_fff45164;
  DAT_fff45164 = uVar1 & 0xff07;
  uVar1 = DAT_fff45164;
  DAT_fff45164 = uVar1 & 0xfff8 | 1;
  uVar1 = DAT_fff45164;
  DAT_fff45164 = uVar1 & 0xf8ff | 0x100;
  DAT_fff45166 = 0;
  DAT_fff45168 = 2;
  DAT_fff4516c = 0;
  DAT_fff45176 = 2;
  DAT_fff45178 = 0xffffffa6;
  uVar1 = DAT_fff4517c;
  DAT_fff4517c = uVar1 & 0x7fff;
  uVar1 = DAT_fff4517c;
  DAT_fff4517c = uVar1 & 0x8000 | 0x2d;
  uVar1 = DAT_fff45174;
  DAT_fff45174 = uVar1 & 0x7fff;
  uVar1 = DAT_fff45174;
  DAT_fff45174 = uVar1 & 0x8000 | 0x2d;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0x3fff;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xc0ff;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xffdf;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xff7f;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xffbf;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xffef;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xfff7;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xfffb;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xfffd;
  uVar1 = DAT_fff4517e;
  DAT_fff4517e = uVar1 & 0xfffe;
  for (uVar2 = 0xc; uVar2 < 0x20; uVar2 = uVar2 + 1) {
    (&DAT_fff45000)[uVar2 * 8] = 0;
    (&DAT_fff45010)[uVar2 * 8] = 0;
    (&DAT_fff45004)[uVar2 * 0x10] = (&DAT_fff45004)[uVar2 * 0x10] & 0x7ff;
    (&DAT_fff45004)[uVar2 * 0x10] = (&DAT_fff45004)[uVar2 * 0x10] & 0xff07;
    (&DAT_fff45004)[uVar2 * 0x10] = (&DAT_fff45004)[uVar2 * 0x10] & 0xfff8;
    (&DAT_fff45004)[uVar2 * 0x10] = (&DAT_fff45004)[uVar2 * 0x10] & 0xf8ff;
    (&DAT_fff45006)[uVar2 * 0x10] = 0;
    (&DAT_fff45008)[uVar2 * 8] = 0;
    (&DAT_fff4500c)[uVar2 * 8] = 0;
    (&DAT_fff45016)[uVar2 * 0x10] = 0;
    (&DAT_fff45018)[uVar2 * 8] = 0;
    (&DAT_fff4501c)[uVar2 * 0x10] = (&DAT_fff4501c)[uVar2 * 0x10] & 0x7fff;
    (&DAT_fff4501c)[uVar2 * 0x10] = (&DAT_fff4501c)[uVar2 * 0x10] & 0x8000;
    (&DAT_fff45014)[uVar2 * 0x10] = (&DAT_fff45014)[uVar2 * 0x10] & 0x7fff;
    (&DAT_fff45014)[uVar2 * 0x10] = (&DAT_fff45014)[uVar2 * 0x10] & 0x8000;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0x3fff;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xc0ff;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xffdf;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xff7f;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xffbf;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xffef;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xfff7;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xfffb;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xfffd;
    (&DAT_fff4501e)[uVar2 * 0x10] = (&DAT_fff4501e)[uVar2 * 0x10] & 0xfffe;
  }
  return;
}



void init_emios_mcr(void)

{
  uint32_t uVar1;
  
  uVar1 = EMIOS_MCR;
  EMIOS_MCR = uVar1 & 0xffff00ff | 0x4f00;
  uVar1 = EMIOS_MCR;
  EMIOS_MCR = uVar1 & 0xfbffffff | 0x4000000;
  uVar1 = EMIOS_MCR;
  EMIOS_MCR = uVar1 & 0xefffffff | 0x10000000;
  uVar1 = EMIOS_MCR;
  EMIOS_MCR = uVar1 & 0xdfffffff | 0x20000000;
  return;
}



void init_emios_uc(int param_1,ulonglong param_2,ulonglong param_3)

{
  byte *pbVar1;
  
  pbVar1 = emios_uc[0].uc + param_1 * 0x20 + 0xc;
  pbVar1[0] = 0;
  pbVar1[1] = 0;
  pbVar1[2] = 0;
  pbVar1[3] = 0;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0xffffff80 | 5;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0xfffff9ff | 0x600;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0x7fffffff;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       (uint)((param_3 & 0xff) << 0x11) & 0x20000 |
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0xfffdffff;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0xfdffffff | 0x2000000;
  *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) =
       (uint)((param_2 & 0xff) << 7) & 0x80 |
       *(uint *)(emios_uc[0].uc + param_1 * 0x20 + 0xc) & 0xffffff7f;
  pbVar1 = emios_uc[0].uc + param_1 * 0x20 + 8;
  pbVar1[0] = 0;
  pbVar1[1] = 0;
  pbVar1[2] = 0;
  pbVar1[3] = 0;
  INTC_PSR[*(int *)(&DAT_000d0958 + param_1 * 4)] = '\x03';
  return;
}



void init_eMIOS(int offset,byte *addr,undefined4 param_3,undefined8 param_4)

{
  byte *pbVar1;
  
  *(byte **)(emios_uc[0].uc + offset * 0x20 + 4) = addr;
  *(undefined4 *)(emios_uc[0].uc + offset * 0x20) = param_3;
  *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) & 0xffffff80 | 0x1a;
  *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) & 0xfffff9ff | 0x600;
  *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) & 0x7fffffff;
  *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) =
       (param_4._4_4_ & 1) << 0x11 | *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) & 0xfffdffff;
  *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) =
       *(uint *)(emios_uc[0].uc + offset * 0x20 + 0xc) & 0xfdffffff | 0x2000000;
  pbVar1 = emios_uc[0].uc + offset * 0x20 + 8;
  pbVar1[0] = 0;
  pbVar1[1] = 0;
  pbVar1[2] = 0;
  pbVar1[3] = 0;
  INTC_PSR[*(int *)(&DAT_000d0958 + offset * 4)] = '\x03';
  return;
}



void FUN_0004bbfc(void)

{
  uint uVar1;
  
  DAT_40001988 = DAT_40001988 + '\x01';
  uVar1 = emios_uc[0].uc._208_4_;
  emios_uc[0].uc._208_4_ = uVar1 & 0xfffffffe | 1;
  return;
}



void noop_3(void)

{
  return;
}



void FUN_0004bc24_333ms(void)

{
  if (DAT_4000198a == 0) {
    DAT_40001990 = 0xffffffff;
  }
  else {
    DAT_4000198a = 0;
  }
  return;
}



void FUN_0004bc48(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = emios_uc[0].uc._176_4_;
  emios_uc[0].uc._176_4_ = uVar3 & 0xfffffffe | 1;
  DAT_4000198a = 1;
  iVar1 = emios_uc[0].uc._160_4_;
  iVar2 = emios_uc[0].uc._164_4_;
  DAT_40001990 = (uint)(iVar1 * 0x100 + iVar2 * -0x100) >> 8;
  return;
}



void init_emios1(void)

{
  siu_pcr[0xbc] = 0xd00;
  init_emios_uc(9,0,1);
  return;
}



void FUN_0004bccc_333ms(void)

{
  if (DAT_40001989 == 0) {
    DAT_4000198c = 0xffffffff;
  }
  else {
    DAT_40001989 = 0;
  }
  return;
}



void FUN_0004bcf0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = emios_uc[1].uc._48_4_;
  emios_uc[1].uc._48_4_ = uVar3 & 0xfffffffe | 1;
  DAT_40001989 = 1;
  iVar1 = emios_uc[1].uc._32_4_;
  iVar2 = emios_uc[1].uc._36_4_;
  DAT_4000198c = (uint)(iVar1 * 0x100 + iVar2 * -0x100) >> 8;
  return;
}



// Functionality: It performs a 1D, stepwise (no interpolation) lookup into a packed uint8 table.
// The table layout is axis values followed contiguously by output values. It finds the first
// breakpoint  input and returns the corresponding output value. It also stores the lower-bin
// index as a side effect in a global.

uint8_t lookup_2D_uint8_fixed(uint8_t size,uint8_t value_x,uint8_t *lut)

{
  short i;
  
  for (i = 0; (lut[i] < value_x && ((int)i < (int)(size - 1))); i = i + 1) {
  }
                    // why does this have an global address?
  lookup_bounds____ = (char)i + -1;
  return lut[(int)i + (uint)size];
}



uint8_t lookup_3D_uint8(uint8_t size_x,uint8_t size_y,byte input_x,byte input_y,byte *x_axis,
                       byte *y_axis,byte *lut)

{
  short sVar1;
  short sVar2;
  
  sVar2 = 0;
  for (sVar1 = 0; (x_axis[sVar1] < input_x && ((int)sVar1 < (int)(size_x - 1))); sVar1 = sVar1 + 1)
  {
  }
  for (; (y_axis[sVar2] < input_y && ((int)sVar2 < (int)(size_y - 1))); sVar2 = sVar2 + 1) {
  }
  return lut[(uint)size_x * (int)sVar2 + (int)sVar1];
}



void watchdog_retrigger(void)

{
  return;
}



void set_spr154_6c54(void)

{
  return;
}



void set_spr154_2c52(void)

{
  return;
}



uint8_t fuel_level_lookup_filtered(uint8_t fuel_level_raw)

{
  uint8_t uVar1;
  ulonglong uVar2;
  uint16_t uVar4;
  uint16_t uVar5;
  longlong lVar3;
  int iVar6;
  ulonglong uVar7;
  
  uVar5 = CAL_sensor_fuel_level_sensor_voltage_threshold[1];
                    // min voltage
  uVar2 = (ulonglong)(char)fuel_level_raw;
                    // max fuel level
  uVar4 = lookup_2D_uint16_interpolated
                    (8,CAL_sensor_fuel_level_sensor_voltage_threshold[0],CAL_sensor_fuel_level,
                     CAL_sensor_fuel_level_X_voltage);
                    // min fuel level
  uVar5 = lookup_2D_uint16_interpolated
                    (8,uVar5,CAL_sensor_fuel_level,CAL_sensor_fuel_level_X_voltage);
  if (((uVar4 < uVar5) &&
      (((int)(uint)uVar5 < (int)(char)fuel_level_raw ||
       ((int)(char)fuel_level_raw <= (int)(uint)uVar4)))) ||
     ((iVar6 = (int)(char)fuel_level_raw, uVar5 < uVar4 &&
      (((int)(uint)uVar4 < iVar6 || (iVar6 <= (int)(uint)uVar5)))))) {
    uVar1 = (uint8_t)((ulonglong)DAT_4000199c / 40000);
  }
  else {
    if (((int)(uint)CAL_fuel_level_debounce_window____ <
         (int)((int)(char)fuel_level_raw - (uint)fuel_level)) && (engine_speed_2 != 0)) {
      uVar7 = (ulonglong)fuel_level + (ulonglong)CAL_fuel_level_debounce_window____;
    }
    else {
      uVar7 = uVar2;
      if (((int)((int)(char)fuel_level_raw - (uint)fuel_level) <
           (int)-(uint)CAL_fuel_level_debounce_window2___) && (engine_speed_2 != 0)) {
        uVar7 = (ulonglong)fuel_level - (ulonglong)CAL_fuel_level_debounce_window2___;
      }
    }
    if (((car_speed_u8 == 0) && ((engine_state_failure_flags & 0x400) == 0)) &&
       ((((COD_base[0] >> 0xd & 7) == 1 && ((ips_state_flags == '\0' || (ips_state_flags == '\t'))))
        || (((COD_base[1] >> 0x15 & 3) == 2 &&
            (((clutch_pos_sensor & 2) == 0 && ((clutch_pos_sensor & 8) == 0)))))))) {
      if (DAT_40001a34 == 0) {
        lVar3 = libc_abs(fuel_level - uVar2);
        if (((int)lVar3 < (int)(uint)u8_fuel_gal_x10_40008855) &&
           ((uVar2 & 0xffffffff) < ((ulonglong)(COD_base[0] >> 4) & 127) * 3)) {
          DAT_400015f5 = DAT_40008697;
        }
        else if (DAT_400015f5 != 0) {
          DAT_400015f5 = DAT_400015f5 + -1;
        }
      }
      else {
        DAT_40001a34 = DAT_40001a34 + -1;
      }
    }
    else {
      DAT_40001a34 = (ushort)DAT_40008696 << 3;
      DAT_400015f5 = DAT_40008697;
    }
    if (DAT_400015f5 == '\0') {
      DAT_400015f5 = DAT_40008697;
      DAT_4000199c = iVar6 * 40000;
    }
    else if ((ulonglong)DAT_4000199c / 40000 < (uVar7 & 0xffffffff)) {
      DAT_4000199c = (uint)((((((((ulonglong)DAT_4000199c & 0x3fffffff) * 4 +
                                 (ulonglong)DAT_4000199c << 0x20) >> 0x22) -
                              ((longlong)(int)DAT_4000199c * (longlong)(int)(uint)DAT_400086db &
                              0xffffffffU) / 40000) +
                             (longlong)(int)uVar7 * (longlong)(int)(uint)DAT_400086db) * 100 &
                            0xffffffff) / 0x7d);
    }
    else {
      DAT_4000199c = (uint)((((((((ulonglong)DAT_4000199c & 0x3fffffff) * 4 +
                                 (ulonglong)DAT_4000199c << 0x20) >> 0x22) -
                              ((longlong)(int)DAT_4000199c * (longlong)(int)(uint)DAT_400087e9 &
                              0xffffffffU) / 40000) +
                             (longlong)(int)uVar7 * (longlong)(int)(uint)DAT_400087e9) * 100 &
                            0xffffffff) / 0x7d);
    }
    uVar1 = (uint8_t)((ulonglong)DAT_4000199c / 40000);
  }
  return uVar1;
}



longlong FUN_0004c230(int param_1)

{
  uint uVar1;
  
  uVar1 = DAT_40001998 * (0x100 - (uint)DAT_4000c9e1);
  DAT_40001998 = ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
                 param_1 * (uint)DAT_4000c9e1;
  return (longlong)((int)DAT_40001998 >> 8) +
         (ulonglong)((int)DAT_40001998 < 0 && (DAT_40001998 & 0xff) != 0);
}



void adc_sample_unknown_200hz(void)

{
  uint i;
  
  for (i = 0; i < 45; i = i + 1) {
    adc_sampled_unknown[i] = (uint16_t)((int)(uint)adc_dma_dest[i] >> 4);
  }
  for (i = 0; i < 11; i = i + 1) {
    adc_sampled_unknown2[i] = (uint16_t)((int)(uint)adc_dma_dest[i + 0x30] >> 4);
  }
  return;
}



void flexcan_a_set_rx(void)

{
  byte i;
  
  for (i = 0; i < 14; i = i + 1) {
    if (((&DAT_40000138)[(uint)i * 5] & 2) != 0) {
      (&DAT_400031d8)[i] = 0;
    }
  }
  return;
}



// this is called in a loop with i=1..14
// 
// pin by pin hardware input and debouncer

void digital_input_debounce_(uint8_t i)

{
  byte bVar2;
  int iVar1;
  
  bVar2 = siu_gpdi[(byte)(&DAT_40000180)[i]] ^ (&DAT_40000138)[(uint)i * 5] & 1;
  if (bVar2 == 0) {
    if ((&DAT_400031c8)[i] != '\0') {
      if (((&DAT_40000138)[(uint)i * 5] & 2) == 0) {
        (&DAT_4000013b)[(uint)i * 5] = (&DAT_4000013a)[(uint)i * 5];
      }
      else {
        (&DAT_4000013b)[(uint)i * 5] = 10;
      }
    }
    (&DAT_400031c8)[i] = 0;
    if ((&DAT_4000013b)[(uint)i * 5] == '\0') {
      if (((&DAT_40000138)[(uint)i * 5] & 2) == 0) {
        (&DAT_400031d8)[i] = 0;
      }
      (&DAT_4000013c)[(uint)i * 5] = 1;
    }
    else {
      iVar1 = (uint)i * 4 + (uint)i;
      (&DAT_4000013b)[iVar1] = (&DAT_4000013b)[iVar1] + -1;
    }
  }
  else {
    if ((&DAT_400031c8)[i] != bVar2) {
      if ((((&DAT_40000138)[(uint)i * 5] & 2) == 0) || ((&DAT_400031d8)[i] == '\0')) {
        (&DAT_4000013b)[(uint)i * 5] = (&DAT_40000139)[(uint)i * 5];
      }
      else {
        (&DAT_4000013b)[(uint)i * 5] = (&DAT_4000013a)[(uint)i * 5];
      }
    }
    (&DAT_400031c8)[i] = bVar2;
    if ((&DAT_4000013b)[(uint)i * 5] == '\0') {
      if (((&DAT_40000138)[(uint)i * 5] & 2) == 0) {
        (&DAT_400031d8)[i] = 1;
      }
      else if ((&DAT_4000013c)[(uint)i * 5] != '\0') {
        (&DAT_400031d8)[i] = (&DAT_400031d8)[i] ^ 1;
        (&DAT_4000013c)[(uint)i * 5] = 0;
      }
    }
    else {
      iVar1 = (uint)i * 4 + (uint)i;
      (&DAT_4000013b)[iVar1] = (&DAT_4000013b)[iVar1] + -1;
    }
  }
  return;
}



void set_driver_input_and_vehicle_mode_100hz(void)

{
  uint8_t uVar1;
  enum_vehicle_mode eVar2;
  byte bVar3;
  char cVar4;
  longlong vehicle_mode_process_state;
  char cVar5;
  byte _new_cluster_flags;
  byte flag_tmp1;
  byte _clusterflags_1;
  bool timer_tmp1;
  bool timer_tmp2;
  enum_vehicle_mode vehicle_mode2;
  byte _new_cluster_flag2;
  
  cVar5 = 0;
  if (!ign_voltage_above_threshold) {
    DAT_400031db = 0;
    DAT_400031de = 0;
    sport_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a42 = 0;
    race_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a46 = 0;
    vehicle_mode_button_register = 0;
  }
  if ((abs_a8_flag2 == 4) && (car_speed_u8 != 0)) {
    driver_input_timer_unknown1 = CAL_ecu_vehicle_mode_button_time;
  }
  else {
    timer_tmp1 = driver_input_timer_unknown1 == 0;
    driver_input_timer_unknown1 = driver_input_timer_unknown1 - 1;
    if (timer_tmp1) {
      driver_input_timer_unknown1 = 0;
    }
  }
  if ((((abs_a8_flag2 == 1) || (abs_a8_flag2 == 4)) || (abs_a8_flag2 == 5)) ||
     ((abs_a8_flag2_previous_state != abs_a8_flag2 && (abs_a8_flag2 == 0)))) {
                    // fail ABS?
    if ((byte)(vehicle_mode - VM_LAUNCH) < 2) {
      vehicle_mode = VM_RACE;
      vehicle_mode_timer_unknown3 = 80;
    }
    driver_input_flags[0] = driver_input_flags[0] & 0b01011111;
  }
  abs_a8_flag2_previous_state = abs_a8_flag2;
  _clusterflags_1 = driver_input_flags[0] | 0b00010000;
  if ((COD_base[1] >> 7 & 1) == 0) {
    _clusterflags_1 = driver_input_flags[0] & 0b11101111;
  }
  driver_input_flags[0] = _clusterflags_1 | 0b00000100;
  if ((COD_base[1] >> 23 & 1) == 0) {
    driver_input_flags[0] = _clusterflags_1 & 0b11111011;
  }
  timer_tmp2 = driver_input_timer_unknown2 == 0;
  driver_input_timer_unknown2 = driver_input_timer_unknown2 + 0xff;
  if (timer_tmp2) {
    driver_input_timer_unknown2 = 0;
  }
  if ((((COD_base[0] >> 0xd & 7) == 1) || (engine_speed_2 == 0)) ||
     ((((car_speed_u8 != 0 ||
        (((coolant_temp <= u8_temp_5_8_40c_400088da || (u8_temp_5_8_40c_400088db <= coolant_temp))
         || ((clutch_pos_sensor & 4) == 0)))) && (abs_a8_flag2 != 0b00000100)) ||
      ((((((COD_base[1] >> 8 & 1) == 0 || (DAT_4000426c == 0)) ||
         ((obd_ii_montior_passes_bitfield != 0 ||
          ((DAT_40001dec != 0 || ((main_diagnostic_flags & 0b01000000) != 0)))))) ||
        (driver_input_timer_unknown2 != 0)) || (driver_input_timer_unknown1 != 0)))))) {
    if (driver_input_timer_unknown3 == 0) {
      driver_input_flags[0] = driver_input_flags[0] & 0b10111111;
    }
    else {
      driver_input_timer_unknown3 = driver_input_timer_unknown3 + 0xff;
    }
  }
  else {
    driver_input_flags[0] = driver_input_flags[0] | 0b01000000;
    driver_input_timer_unknown3 = 25;
  }
                    // COD_base[1] >> 23 indicates the presence of a sport button
                    // COD_base[1] >> 24 indicates the presence of a TC/ESP/Traction button
                    // COD_base[1] >> 21 indicates the type of clutch input
                    // COD_base[1] >> 8 indicates the presence of launch mode
                    // COD_base[1] >> 7 indicates the presence of race mode
                    // 
  if (((((COD_base[1] >> 23 & 1) == 0) || (-1 < (int)COD_base[1])) || ((COD_base[1] >> 7 & 1) == 0))
     || ((COD_base[1] >> 24 & 1) != 0)) {
    if ((((COD_base[1] >> 23 & 1) == 0) || ((COD_base[1] >> 24 & 1) == 0)) ||
       ((COD_base[1] >> 7 & 1) != 0)) {
      vehicle_mode_process_state = 0;
    }
    else {
      sport_button_pressed = (byte)(-(ulonglong)DAT_400031db >> 24) >> 7;
      if ((COD_base[1] >> 24 & 1) == 0) {
        driver_input_flags[1] = driver_input_flags[1] & 0b10111111;
        siu_gpdo[0xcf] = 0;
      }
      else if (DAT_400031de == 0) {
        driver_input_flags[1] = driver_input_flags[1] & 0b10111111;
        siu_gpdo[0xcf] = 0;
      }
      else {
        driver_input_flags[1] = driver_input_flags[1] | 0b01000000;
        siu_gpdo[0xcf] = 1;
      }
      vehicle_mode_process_state = 2;
    }
  }
  else {
    sport_button_pressed = (uint8_t)((ulonglong)(LZCOUNT((uint)siu_gpdi[DAT_40000183]) << 32) >> 37)
    ;
    race_button_pressed___ =
         (uint8_t)((ulonglong)(LZCOUNT((uint)siu_gpdi[PTR_DAT_40000186._0_1_]) << 32) >> 37);
    vehicle_mode_process_state = 1;
  }
  if (((vehicle_mode_process_state == 0) || ((ignition_on_flags & 1) == 0)) ||
     ((!obd_ii_diag_override &&
      (((((((LEA_obd_ii_P0610_flags & 2) != 0 || ((LEA_obd_ii_P0122_flags & 2) != 0)) ||
          ((LEA_obd_ii_P0316_flags & 2) != 0)) || ((LEA_obd_ii_P0416_flags & 2) != 0)) ||
        ((((abs_esp_flags & 0x10) != 0 && (99 < ecu_run_timer)) && (vehicle_mode != VM_TC_OFF)))) ||
       ((ips_enforce_speed_limit || ((lbf_state_flags & 0x80) != 0)))))))) {
    DAT_400031db = 0;
    DAT_400031de = 0;
    sport_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a42 = 0;
    race_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a46 = 0;
    vehicle_mode_button_register = 0;
    vehicle_mode = VM_TOUR;
    driver_input_flags[1] = driver_input_flags[1] & 0b00111111;
    driver_input_flags[0] = driver_input_flags[0] & 0b01010111;
    obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
    siu_gpdo[0xcf] = 0;
  }
  else if (vehicle_mode_process_state == 2) {
    if (sport_button_pressed == 0) {
      driver_input_flags[1] = driver_input_flags[1] & 0b01111111;
      obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
    }
    else {
      driver_input_flags[1] = driver_input_flags[1] | 0b10000000;
      obd_ii_relay_status = obd_ii_relay_status | 0b10000000;
    }
    driver_input_flags[0] = driver_input_flags[0] & 0b01010111;
    vehicle_mode = sport_button_pressed != 0;
    sport_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a42 = 0;
    race_button_press_timer_unknown1 = 0;
    u16_time_10ms_40001a46 = 0;
    vehicle_mode_button_register = 0;
  }
  else if (vehicle_mode_process_state == 1) {
    if ((sport_button_pressed == 0) || (race_button_pressed___ == 0)) {
      if (sport_button_pressed == 0) {
        if (sport_button_press_timer_unknown1 != 0xff) {
          sport_button_press_timer_unknown1 = sport_button_press_timer_unknown1 + 1;
        }
      }
      else {
        if (((vehicle_mode_button_register & 1) == 0) && (u16_time_10ms_40001a42 != 0xffff)) {
          u16_time_10ms_40001a42 = u16_time_10ms_40001a42 + 1;
        }
        sport_button_press_timer_unknown1 = 0;
      }
      if (race_button_pressed___ == 0) {
        if (race_button_press_timer_unknown1 != 0xff) {
          race_button_press_timer_unknown1 = race_button_press_timer_unknown1 + 1;
        }
      }
      else {
        if (((vehicle_mode_button_register & 0b00000010) == 0) && (u16_time_10ms_40001a46 != 0xffff)
           ) {
          u16_time_10ms_40001a46 = u16_time_10ms_40001a46 + 1;
        }
        race_button_press_timer_unknown1 = 0;
      }
      if (20 < sport_button_press_timer_unknown1) {
        vehicle_mode_button_register = vehicle_mode_button_register & 0b11111110;
      }
      if (20 < race_button_press_timer_unknown1) {
        vehicle_mode_button_register = vehicle_mode_button_register & 0b11111101;
      }
    }
    else {
      u16_time_10ms_40001a42 = 0;
      sport_button_press_timer_unknown1 = 0;
      u16_time_10ms_40001a46 = 0;
      race_button_press_timer_unknown1 = 0;
      vehicle_mode_button_register = 0b00000011;
    }
    if ((sport_button_press_timer_unknown1 == 0) || (u16_time_10ms_40001a42 == 0)) {
      if ((u16_time_10ms_40001a42 < 100) ||
         (((900 < (short)accel_pedal_pos2 && (engine_speed_2 == 0)) && ((brake_switch & 0x11) != 0))
         )) {
        if ((((499 < u16_time_10ms_40001a42) && (900 < (short)accel_pedal_pos2)) &&
            (engine_speed_2 == 0)) && ((brake_switch & 0x11) != 0)) {
          cVar5 = 5;
          vehicle_mode_button_register = vehicle_mode_button_register | 1;
          u16_time_10ms_40001a42 = 0;
        }
      }
      else {
        cVar5 = 2;
        vehicle_mode_button_register = vehicle_mode_button_register | 1;
        u16_time_10ms_40001a42 = 0;
      }
    }
    else {
      cVar5 = (ushort)(u16_time_10ms_40001a42 - 5) < 45;
      vehicle_mode_button_register = vehicle_mode_button_register | 1;
      u16_time_10ms_40001a42 = 0;
    }
    if ((race_button_press_timer_unknown1 == '\0') || (u16_time_10ms_40001a46 == 0)) {
      if (99 < u16_time_10ms_40001a46) {
        cVar5 = 4;
        vehicle_mode_button_register = vehicle_mode_button_register | 0b00000010;
        u16_time_10ms_40001a46 = 0;
      }
    }
    else {
      cVar4 = 3;
      if (44 < (ushort)(u16_time_10ms_40001a46 - 5)) {
        cVar4 = cVar5;
      }
      cVar5 = cVar4;
      vehicle_mode_button_register = vehicle_mode_button_register | 0b00000010;
      u16_time_10ms_40001a46 = 0;
    }
    if (vehicle_mode == VM_TOUR) {
      driver_input_flags[1] = driver_input_flags[1] & 0b00111111;
      driver_input_flags[0] = driver_input_flags[0] & 0b01010111;
      if ((byte)(cVar5 - 1U) < 2) {
        vehicle_mode = VM_SPORT;
      }
      else if (((cVar5 == 4) && ((COD_base[1] >> 7 & 1) != 0)) && (engine_speed_2 != 0)) {
        vehicle_mode = VM_RACE;
      }
      else if (cVar5 == 5) {
        vehicle_mode = VM_TC_OFF;
      }
      obd_ii_relay_status = obd_ii_relay_status & 0x7f;
      siu_gpdo[0xcf] = 0;
    }
    else if (vehicle_mode == VM_SPORT) {
      driver_input_flags[1] = driver_input_flags[1] & 0xbf | 0x80;
      driver_input_flags[0] = driver_input_flags[0] & 0x57;
      if ((byte)(cVar5 - 1U) < 2) {
        vehicle_mode = VM_TOUR;
      }
      else if (((cVar5 == 4) && ((COD_base[1] >> 7 & 1) != 0)) && (engine_speed_2 != 0)) {
        vehicle_mode = VM_RACE;
      }
      else if (cVar5 == 5) {
        vehicle_mode = VM_TC_OFF;
      }
      obd_ii_relay_status = obd_ii_relay_status | 0x80;
      siu_gpdo[0xcf] = 0;
    }
    else if (vehicle_mode == VM_RACE) {
      driver_input_flags[1] = driver_input_flags[1] & 0b10111111 | 0b10000000;
      driver_input_flags[0] = driver_input_flags[0] & 0b01011111 | 0b00001000;
      if (((cVar5 == 4) && ((COD_base[1] >> 8 & 1) != 0)) &&
         (((COD_base[0] >> 0xd & 7) != 1 && (((clutch_pos_sensor & 4) != 0 && (abs_a8_flag2 == 0))))
         )) {
        vehicle_mode = VM_LAUNCH;
        vehicle_mode2 = vehicle_mode;
      }
      else if (cVar5 == 4) {
        vehicle_mode = VM_LAUNCH_FALLBACK;
        vehicle_mode2 = vehicle_mode;
      }
      else if (cVar5 == 3) {
        vehicle_mode = VM_TOUR;
        vehicle_mode2 = vehicle_mode;
      }
      else {
        vehicle_mode2 = VM_SPORT;
        if (1 < (byte)(cVar5 - 1U)) {
          vehicle_mode2 = vehicle_mode;
        }
      }
      vehicle_mode = vehicle_mode2;
      if (vehicle_mode_timer_unknown3 == 0) {
        obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
        siu_gpdo[0xcf] = 1;
      }
      else {
        cVar5 = DAT_40001a49 + -1;
        if (DAT_40001a49 == 0) {
          cVar5 = DAT_40001a49;
        }
        DAT_40001a49 = cVar5;
        if (cVar5 == 0) {
          if ((obd_ii_relay_status & 0b10000000) == 0) {
            obd_ii_relay_status = obd_ii_relay_status | 0b10000000;
            siu_gpdo[0xcf] = '\0';
          }
          else {
            siu_gpdo[0xcf] = '\x01';
            obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
          }
          DAT_40001a49 = 10;
        }
        vehicle_mode_timer_unknown3 = vehicle_mode_timer_unknown3 + 0xff;
      }
    }
    else if (vehicle_mode == VM_LAUNCH) {
      driver_input_flags[1] = driver_input_flags[1] & 0b10111111 | 0b10000000;
      _new_cluster_flags = driver_input_flags[0] & 0b01111111 | 0b00101000;
      if (((cVar5 == 4) && ((clutch_pos_sensor & 4) != 0)) && (abs_a8_flag2 == 2)) {
        vehicle_mode = VM_LAUNCH_SUB1;
        _new_cluster_flag2 = _new_cluster_flags;
      }
      else if (cVar5 == 3) {
        vehicle_mode = VM_RACE;
        driver_input_timer_unknown2 = 5;
        _new_cluster_flag2 = driver_input_flags[0] & 0b00111111 | 0b00101000;
      }
      else {
        _new_cluster_flag2 = _new_cluster_flags;
        if ((byte)(cVar5 - 1U) < 2) {
          vehicle_mode = VM_SPORT;
          driver_input_timer_unknown2 = 5;
          _new_cluster_flag2 = driver_input_flags[0] & 0b00111111 | 0b00101000;
        }
      }
      driver_input_flags[0] = _new_cluster_flag2;
      cVar5 = DAT_40001a49 + -1;
      if (DAT_40001a49 == 0) {
        cVar5 = DAT_40001a49;
      }
      DAT_40001a49 = cVar5;
      if (cVar5 == 0) {
        uVar1 = siu_gpdo[0xcf];
        if ((uVar1 == 0) || ((obd_ii_relay_status & 0b10000000) == 0)) {
          obd_ii_relay_status = obd_ii_relay_status | 0b10000000;
          siu_gpdo[0xcf] = 1;
        }
        else {
          obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
          siu_gpdo[0xcf] = 0;
        }
        DAT_40001a49 = 40;
      }
    }
    else if (vehicle_mode == VM_LAUNCH_SUB1) {
      driver_input_flags[1] = driver_input_flags[1] & 0b10111111 | 0b10000000;
      if (cVar5 == 3) {
        vehicle_mode = VM_RACE;
        driver_input_timer_unknown2 = 5;
        bVar3 = driver_input_flags[0] & 0b10111111 | 0b10101000;
      }
      else {
        bVar3 = driver_input_flags[0] | 0b10101000;
        if ((byte)(cVar5 - 1U) < 2) {
          vehicle_mode = VM_SPORT;
          driver_input_timer_unknown2 = 5;
          bVar3 = driver_input_flags[0] & 0b10111111 | 0b10101000;
        }
      }
      driver_input_flags[0] = bVar3;
      cVar5 = DAT_40001a49 + -1;
      if (DAT_40001a49 == 0) {
        cVar5 = DAT_40001a49;
      }
      DAT_40001a49 = cVar5;
      if (cVar5 == '\0') {
        uVar1 = siu_gpdo[0xcf];
        if ((uVar1 == '\0') || ((obd_ii_relay_status & 0x80) == 0)) {
          obd_ii_relay_status = obd_ii_relay_status | 0x80;
          siu_gpdo[0xcf] = '\x01';
        }
        else {
          obd_ii_relay_status = obd_ii_relay_status & 0x7f;
          siu_gpdo[0xcf] = '\0';
        }
        DAT_40001a49 = '\x14';
      }
    }
    else if (vehicle_mode == VM_LAUNCH_FALLBACK) {
      driver_input_flags[1] = driver_input_flags[1] | 0b11000000;
      driver_input_flags[0] = driver_input_flags[0] & 0b01011111;
      if (cVar5 == 3) {
        vehicle_mode = VM_RACE;
        eVar2 = vehicle_mode;
      }
      else {
        eVar2 = VM_SPORT;
        if (1 < (byte)(cVar5 - 1U)) {
          eVar2 = vehicle_mode;
        }
      }
      vehicle_mode = eVar2;
      if ((DAT_40001789 & 0b00010000) == 0) {
        obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
        siu_gpdo[0xcf] = '\0';
      }
      else {
        obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
        cVar5 = DAT_40001a49 + -1;
        if (DAT_40001a49 == 0) {
          cVar5 = DAT_40001a49;
        }
        DAT_40001a49 = cVar5;
        if (cVar5 == 0) {
          uVar1 = siu_gpdo[0xcf];
          if (uVar1 == 0) {
            siu_gpdo[0xcf] = '\x01';
          }
          else {
            siu_gpdo[0xcf] = '\0';
          }
          DAT_40001a49 = 40;
        }
      }
    }
    else if (vehicle_mode == VM_TC_OFF) {
      driver_input_flags[1] = driver_input_flags[1] & 0b01111111 | 0b01000000;
      driver_input_flags[0] = driver_input_flags[0] & 0b01010111;
      obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
      siu_gpdo[0xcf] = 0;
    }
    else {
      driver_input_flags[1] = driver_input_flags[1] & 0b00111111;
      driver_input_flags[0] = driver_input_flags[0] & 0b01010111;
      vehicle_mode = VM_TOUR;
      obd_ii_relay_status = obd_ii_relay_status & 0b01111111;
      siu_gpdo[0xcf] = 0;
    }
  }
  set_vehicle_mode_flags();
  if (((COD_base[1] >> 0x15 & 3) == 2) && ((clutch_pos_sensor & 8) == 0)) {
    if (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold) {
      clutch_pos_sensor = clutch_pos_sensor & 0b11111001 | 1;
      driver_input_flags[1] = driver_input_flags[1] & 0b11001111;
    }
    else if (CAL_sensor_clutch_disengaged_threshold < clutch_pos_voltage) {
      clutch_pos_sensor = clutch_pos_sensor & 0b11111100 | 4;
      driver_input_flags[1] = driver_input_flags[1] & 0b11101111 | 0b00100000;
    }
    else {
      clutch_pos_sensor = clutch_pos_sensor & 0b11111010 | 2;
      driver_input_flags[1] = driver_input_flags[1] & 0b11011111 | 0b00010000;
    }
  }
  else {
    clutch_pos_sensor = clutch_pos_sensor & 0b11111000;
    driver_input_flags[1] = driver_input_flags[1] | 0b00110000;
  }
  if ((COD_base[1] >> 9 & 1) == 0) {
    brake_switch = brake_switch | 0b00000010;
  }
  if ((DAT_400031dc == 0) && ((brake_switch & 0b00100000) == 0)) {
    brake_switch = brake_switch & 0b11101111;
  }
  else {
    brake_switch = brake_switch | 0b00010000;
  }
  if ((brake_switch & 0b00100000) == 0) {
    flag_tmp1 = driver_input_flags[0] & 0b11111100;
    driver_input_flags[0] = flag_tmp1 | 1;
    if ((brake_switch & 0b00010000) == 0) {
      driver_input_flags[0] = flag_tmp1;
    }
  }
  else {
    driver_input_flags[0] = driver_input_flags[0] | 3;
  }
  return;
}



void set_vehicle_mode_flags(void)

{
  uint16_t mode_flags;
  
  if (((COD_base[1] >> 7 & 1) == 0) || (vehicle_mode < VM_RACE)) {
    if (vehicle_mode == VM_SPORT) {
      vehicle_mode_flags = vehicle_mode_flags & 0b1111111111111110 | 0b00000010;
    }
    else {
      vehicle_mode_flags = vehicle_mode_flags & 0b1111111111111100;
    }
  }
  else {
    vehicle_mode_flags = vehicle_mode_flags & 0b1111111111111101 | 0b00000001;
  }
  if ((COD_base[0] >> 0xd & 7) == 0) {
    if (vehicle_mode < VM_RACE) {
      vehicle_mode_flags = vehicle_mode_flags & 0b1111111111100111;
    }
    else {
      vehicle_mode_flags = vehicle_mode_flags | 0b00011000;
    }
    vehicle_mode_flags = vehicle_mode_flags & 0b1111111111111011;
  }
  else if ((vehicle_mode == VM_TOUR) || (vehicle_mode == VM_TC_OFF)) {
    vehicle_mode_flags = vehicle_mode_flags & 0b1111111111100011;
  }
  else {
    if (((ips_state_flags == 0) || (mode_flags = vehicle_mode_flags, ips_state_flags == 9)) &&
       (mode_flags = vehicle_mode_flags | 0b00001000, !CAL_vvt_low_load_ips_enable)) {
      mode_flags = vehicle_mode_flags;
    }
    vehicle_mode_flags = mode_flags;
    vehicle_mode_flags = vehicle_mode_flags | 0b00010100;
  }
  if ((driver_input_flags[1] & 0b10000000) == 0) {
    vehicle_mode_flags = vehicle_mode_flags & 0b1111111001011111;
  }
  else {
    vehicle_mode_flags = vehicle_mode_flags | 0b0000000110100000;
  }
  return;
}



void vehicle_mode_unknown2_100hz(void)

{
  uint8_t i;
  
  for (i = 0; i < 14; i = i + 1) {
    digital_input_debounce_(i);
  }
  set_driver_input_and_vehicle_mode_100hz();
  return;
}



void adc_sample(void)

{
  uint uVar1;
  
  atmo_baro_sensor_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x27] >> 4);
  oil_pressure_warning_switch_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1a] >> 4);
  evap_purge_pressure_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x13] >> 4);
  cruise_switch_unknown_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x10] >> 4);
  clutch_pos_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1c] >> 4);
  sensor_adc_engine_air_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0xe] >> 4);
  if ((COD_base[1] >> 0x13 & 1) == 1) {
    trans_temp_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0xb] >> 4);
  }
  else {
    trans_temp_voltage = 0;
  }
  intake_air_sensor_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0xf] >> 4);
  fuel_pressure_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1e] >> 4);
  fuel_level_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x11] >> 4);
  coolant_temp_sensor_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0xd] >> 4);
  ac_evap_temp_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x1f] >> 4);
  obd_ii_o2_sensor1_voltage = (short)((int)(uint)adc_dma_dest[0x16] >> 4);
  obd_ii_o2_sensor5_voltage = (short)((int)(uint)adc_dma_dest[0x17] >> 4);
  obd_ii_o2_sensor2_voltage = (short)((int)(uint)adc_dma_dest[0x18] >> 4);
  obd_ii_o2_sensor6_voltage = (short)((int)(uint)adc_dma_dest[0x19] >> 4);
  u16_voltage_5_1023v_40001a2c = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[4] >> 4);
  u16_voltage_5_1023v_40001a2e = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[5] >> 4);
  u16_voltage_5_1023v_40001a30 = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[6] >> 4);
  u16_voltage_5_1023v_40001a32 = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[7] >> 4);
  u16_voltage_5_1023v_400019de = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x35] >> 4);
  knock_sensor1_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x23] >> 4);
  knock_sensor2_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x22] >> 4);
  uVar1 = ((int)(uint)adc_dma_dest[0x14] >> 4) +
          ((uint)sensor_adc_ecu_voltage * 8 - (uint)sensor_adc_ecu_voltage);
  sensor_adc_ecu_voltage = (short)((int)uVar1 >> 3) + (ushort)((int)uVar1 < 0 && (uVar1 & 7) != 0);
  sensor_adc_ign_voltage = (u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x15] >> 4);
  DAT_40001a60 = 0;
  paddle_shift_sensor_raw = (short)((int)(uint)adc_dma_dest[0x1d] >> 4);
  return;
}



void set_driver_input_brake_clutch_100hz(void)

{
  bool bVar1;
  u8_time_10ms uVar2;
  bool _is_brake_or_clutch_active;
  
  if ((ignition_on_flags & 1) == 0) {
    brake_clutch_debounce_timer___ = 40;
    uVar2 = brake_clutch_debounce_timer___;
  }
  else {
    uVar2 = brake_clutch_debounce_timer___;
    if ((DAT_400031dd == 0) &&
       (uVar2 = brake_clutch_debounce_timer___ + 0xff, brake_clutch_debounce_timer___ == 0)) {
      uVar2 = brake_clutch_debounce_timer___;
    }
  }
  brake_clutch_debounce_timer___ = uVar2;
  if ((DAT_400031dd == '\0') || (brake_clutch_debounce_timer___ != '\0')) {
    DAT_40001a4b = 10;
    DAT_40001a4c = 0;
  }
  else if (DAT_40001a4b == 0) {
    DAT_40001a4c = 1;
  }
  else {
    DAT_40001a4b = DAT_40001a4b + -1;
  }
  if (((((ignition_on_flags & 1) == 0) || (u16_time_5ms_40008774 <= runtime_since_start)) ||
      (DAT_40001a4c == 0)) || (DAT_400016e1 != 0)) {
    DAT_400019fc = 0;
    bVar1 = false;
  }
  else {
    DAT_400019fc = 1;
    bVar1 = true;
  }
  if (((prog_version_mismatch == 0) && (calibration_verification_number == CAL_ecu_cvn)) ||
     (ecu_unlocked)) {
    if ((main_diagnostic_flags & 0b00010000) == 0) {
      if ((COD_base[0] >> 0xd & 7) == 0) {
        if ((byte)COD_VIN[9] < 72) {
          if (bVar1) {
            obd_ii_relay_status = obd_ii_relay_status | 0x10;
            driver_input_flags[1] = driver_input_flags[1] | 1;
            _is_brake_or_clutch_active = true;
          }
          else {
            obd_ii_relay_status = obd_ii_relay_status & 0xef;
            driver_input_flags[1] = driver_input_flags[1] & 0xfe;
            _is_brake_or_clutch_active = false;
          }
        }
        else if (((((COD_base[1] >> 0x15 & 3) == 0) || ((clutch_pos_sensor & 4) != 0)) && (bVar1))
                && (DAT_40001a4b == '\0')) {
          obd_ii_relay_status = obd_ii_relay_status | 0x10;
          driver_input_flags[1] = driver_input_flags[1] | 1;
          _is_brake_or_clutch_active = true;
        }
        else {
          obd_ii_relay_status = obd_ii_relay_status & 0xef;
          driver_input_flags[1] = driver_input_flags[1] & 0xfe;
          _is_brake_or_clutch_active = false;
          if (bVar1) {
            DAT_40001a4b = 10;
          }
        }
      }
      else if ((((ips_state_flags == 0) || (ips_state_flags == 0b00001001)) &&
               (((brake_switch & 0x11) != 0 ||
                ((uint)CAL_cluster_brake_switch_max_speed_ips_unknown <= car_speed_div100 / 100))))
              && (bVar1)) {
        driver_input_flags[1] = driver_input_flags[1] | 1;
        _is_brake_or_clutch_active = true;
        if (brake_or_clutch_inactive_timer == 0) {
          obd_ii_relay_status = obd_ii_relay_status | 0x10;
        }
      }
      else {
        obd_ii_relay_status = obd_ii_relay_status & 0xef;
        driver_input_flags[1] = driver_input_flags[1] & 0xfe;
        _is_brake_or_clutch_active = false;
      }
    }
    else if ((((brake_switch & 0x11) == 0) &&
             (car_speed_div100 / 100 < (uint)CAL_cluster_brake_switch_max_speed_ips_unknown)) ||
            (!bVar1)) {
      obd_ii_relay_status = obd_ii_relay_status & 0xef;
      driver_input_flags[1] = driver_input_flags[1] & 0xfe;
      _is_brake_or_clutch_active = false;
    }
    else {
      driver_input_flags[1] = driver_input_flags[1] | 1;
      _is_brake_or_clutch_active = true;
      if (brake_or_clutch_inactive_timer == 0) {
        obd_ii_relay_status = obd_ii_relay_status | 0x10;
      }
    }
  }
  else {
    DAT_4000189e = 1;
    obd_ii_relay_status = obd_ii_relay_status & 0xef;
    driver_input_flags[1] = driver_input_flags[1] & 0xfe;
    _is_brake_or_clutch_active = false;
  }
  if (!_is_brake_or_clutch_active) {
    brake_or_clutch_inactive_timer = CAL_brake_or_clutch_inactive_timer;
  }
  return;
}



ulonglong torque_update_LEA____
                    (uint param_1,uint param_2,byte param_3,byte param_4,byte *param_5,byte *param_6
                    )

{
  ulonglong uVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  longlong lVar6;
  ulonglong uVar7;
  int iVar8;
  longlong lVar9;
  
  lVar9 = 0;
  iVar8 = 0;
  while (((sVar3 = (short)lVar9, (int)sVar3 < (int)((param_1 & 0xff) - 2) &&
          (param_5[sVar3] < param_3)) && (param_5[sVar3 + 1] < param_3))) {
    lVar9 = lVar9 + 1;
  }
  if (sVar3 == 0) {
    sVar2 = (ushort)param_5[1] - (ushort)*param_5;
    if ((int)sVar2 - ((int)sVar2 >> 0x1f) >> 1 < (int)(short)((ushort)param_3 - (ushort)*param_5)) {
      lVar9 = 1;
    }
    lVar6 = libc_abs((ulonglong)param_3 - (ulonglong)param_5[(short)lVar9]);
    sVar3 = (short)lVar6;
  }
  else if ((int)sVar3 == (param_1 & 0xff)) {
    sVar2 = (ushort)param_5[sVar3] - (ushort)param_5[sVar3 + -1];
    sVar3 = (ushort)param_3 - (ushort)param_5[sVar3];
  }
  else {
    sVar2 = (ushort)param_5[sVar3 + 1] - (ushort)param_5[sVar3];
    if ((int)sVar2 - ((int)sVar2 >> 0x1f) >> 1 <
        (int)(short)((ushort)param_3 - (ushort)param_5[sVar3])) {
      lVar9 = (longlong)(short)(sVar3 + 1);
    }
    lVar6 = libc_abs((ulonglong)param_3 - (ulonglong)param_5[(short)lVar9]);
    sVar3 = (short)lVar6;
  }
  while (((sVar5 = (short)iVar8, (int)sVar5 < (int)((param_2 & 0xff) - 2) &&
          (param_6[sVar5] < param_4)) && (param_6[sVar5 + 1] < param_4))) {
    iVar8 = iVar8 + 1;
  }
  if (sVar5 == 0) {
    sVar4 = (ushort)param_6[1] - (ushort)*param_6;
    if ((int)sVar4 - ((int)sVar4 >> 0x1f) >> 1 < (int)(short)((ushort)param_4 - (ushort)*param_6)) {
      iVar8 = 1;
    }
    lVar6 = libc_abs((ulonglong)param_4 - (ulonglong)param_6[(short)iVar8]);
    sVar5 = (short)lVar6;
  }
  else if ((int)sVar5 == (param_1 & 0xff)) {
    sVar4 = (ushort)param_6[sVar5] - (ushort)param_6[sVar5 + -1];
    sVar5 = (ushort)param_4 - (ushort)param_6[sVar5];
  }
  else {
    sVar4 = (ushort)param_6[sVar5 + 1] - (ushort)param_6[sVar5];
    if ((int)sVar4 - ((int)sVar4 >> 0x1f) >> 1 <
        (int)(short)((ushort)param_4 - (ushort)param_6[sVar5])) {
      iVar8 = (int)(short)(sVar5 + 1);
    }
    lVar6 = libc_abs((ulonglong)param_4 - (ulonglong)param_6[(short)iVar8]);
    sVar5 = (short)lVar6;
  }
  uVar1 = lVar9 + (longlong)iVar8 * (longlong)(int)(param_1 & 0xff) & 0xffff;
  uVar7 = uVar1;
  if (((short)(((int)sVar3 << 8) / (int)sVar2) <= (short)(ushort)DAT_400086d1) &&
     (uVar7 = uVar1 | 0x8000, (short)(ushort)DAT_400086d2 < (short)(((int)sVar5 << 8) / (int)sVar4))
     ) {
    uVar7 = uVar1;
  }
  return uVar7;
}



// WARNING: Removing unreachable block (ram,0x0004e994)
// WARNING: Removing unreachable block (ram,0x0004e970)

void adc_convert(void)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  uint fuel_pressure_linear_scaled;
  int fuel_pressed_scaled_and_offset;
  int map_scaled_and_offset;
  uint uVar4;
  int manifold_temp_fallback;
  int iVar5;
  ushort ect_sensor_lookup;
  ushort engine_air_lookup;
  ushort uVar6;
  uint16_t uVar7;
  u8_temp_5_8_40c tmap_model_fallback_value;
  
  trans_fluid_temp_raw =
       lookup_2D_uint8_interpolated_noaxis(3,trans_temp_voltage,CAL_sensor_trans_temp_scaling);
  ect_sensor_lookup =
       lookup_2D_uint8_interpolated_noaxis
                 (3,coolant_temp_sensor_voltage,CAL_sensor_coolant_temp_sensor_engine_off_scaling);
  coolant_temp_raw = ect_sensor_lookup & 0xff;
  if ((coolant_temp_sensor_voltage < CAL_sensor_coolant_voltage_threshold[1]) ||
     (CAL_sensor_coolant_voltage_threshold[0] < coolant_temp_sensor_voltage)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  engine_air_lookup =
       lookup_2D_uint8_interpolated_noaxis
                 (3,sensor_adc_engine_air_voltage,CAL_sensor_engine_air_scaling);
  iat = engine_air_lookup & 0xff;
  if ((sensor_adc_engine_air_voltage < CAL_sensor_iat_voltage_threshold[1]) ||
     (CAL_sensor_iat_voltage_threshold[0] < sensor_adc_engine_air_voltage)) {
    bVar2 = false;
  }
  else {
    bVar2 = true;
  }
  uVar6 = lookup_2D_uint8_interpolated_noaxis
                    (3,intake_air_sensor_voltage,CAL_sensor_intake_air_scaling);
  chargecooler_temp_div_160 = uVar6 & 0xff;
  if ((intake_air_sensor_voltage < CAL_sensor_intake_air_temp_voltage_threshold[1]) ||
     (CAL_sensor_intake_air_temp_voltage_threshold[0] < intake_air_sensor_voltage)) {
    bVar3 = false;
  }
  else {
    bVar3 = true;
  }
  uVar7 = lookup_2D_uint16_interpolated
                    (16,ac_evap_temp_voltage,CAL_sensor_ac_evap_temp_scaling,
                     CAL_sensor_ac_evap_temp_scaling_X_voltage);
  ac_evap_temp_unknown = uVar7 - 400;
  fuel_pressure_linear_scaled = (uint)CAL_sensor_fuel_pressure_scaling;
  fuel_pressure_linear_scaled = fuel_pressure_voltage * fuel_pressure_linear_scaled;
  fuel_pressed_scaled_and_offset =
       (int)(short)CAL_sensor_fuel_pressure_offset +
       ((int)fuel_pressure_linear_scaled >> 10) +
       (uint)((int)fuel_pressure_linear_scaled < 0 && (fuel_pressure_linear_scaled & 0x3ff) != 0);
  fuel_pressure_abs = (u16_pressure_mbar)fuel_pressed_scaled_and_offset;
  if (0x7fff < fuel_pressed_scaled_and_offset) {
    fuel_pressure_abs = 0x7fff;
  }
  map_scaled_and_offset =
       (int)(short)CAL_sensor_manifold_pressure_sensor_offset +
       ((int)(((int)(uint)adc_dma_dest[0x1b] >> 4) *
             (uint)CAL_sensor_manifold_pressure_sensor_scaling) >> 10);
  if (map_scaled_and_offset < 0) {
    obd_ii_manifold_pressure = 0;
  }
  else {
    obd_ii_manifold_pressure = (u16_pressure_mbar)map_scaled_and_offset;
    if (32767 < map_scaled_and_offset) {
      obd_ii_manifold_pressure = 32767;
    }
  }
  maf_flow = lookup_2D_uint16_interpolated
                       (32,(uint16_t)((int)(uint)adc_dma_dest[0x32] >> 4),CAL_sensor_maf_scaling,
                        CAL_sensor_maf_scaling_X_signal);
  if (((ignition_on_flags & 0b00010000) == 0) &&
     ((ushort)((ushort)CAL_ecu_ign_threshold << 2) < sensor_adc_ign_voltage)) {
    trans_fluid_temp_u32 = (uint)trans_fluid_temp_raw << 8;
    coolant_temp_derived1 = (uint)coolant_temp_raw * 0xa00;
    iat2 = (uint)iat * 0xa00;
    ac_evap_temp_raw = (int)ac_evap_temp_unknown << 8;
    chargecooler_temp2 = (uint)chargecooler_temp_div_160 * 0xa00;
    fuel_pressure_abs_scaled = (uint)fuel_pressure_abs << 8;
    intake_manifold_pressure2 = (uint)obd_ii_manifold_pressure << 8;
    clutch_position_raw2 = (uint)clutch_pos_voltage << 8;
    ignition_on_flags = ignition_on_flags | 0b00010000;
    coolant_temp_derived2 = coolant_temp_derived1;
  }
  if ((engine_state_failure_flags & 2) == 0) {
    if (bVar1) {
      coolant_temp_derived1 =
           (int)((2560 - (uint)CAL_sensor_coolant_temp_derived1_scaling) * coolant_temp_derived1) /
           2560 + (uint)CAL_sensor_coolant_temp_derived1_scaling * (uint)coolant_temp_raw;
    }
    coolant_temp = (u8_temp_5_8_40c)((int)coolant_temp_derived1 / 2560);
  }
  else {
    coolant_temp = CAL_sensor_coolant_temp_fallback_value;
    coolant_temp_derived1 = (uint)CAL_sensor_coolant_temp_fallback_value * 2560;
  }
  coolant_temp_derived2 =
       (int)((0xa00 - (uint)sensor_) * coolant_temp_derived2) / 0xa00 +
       (uint)sensor_ * (uint)coolant_temp_raw;
  coolant_temp_derived3 = (undefined1)((int)coolant_temp_derived2 / 0xa00);
  if ((engine_state_failure_flags & 1) == 0) {
    if (bVar2) {
      iat2 = (int)((0xa00 - (uint)DAT_400086d7) * iat2) / 0xa00 + (uint)DAT_400086d7 * (uint)iat;
    }
    temp_engine_air = (u8_temp_5_8_40c)(iat2 / 0xa00);
  }
  else {
    temp_engine_air = CAL_sensor_iat_fallback;
  }
  uVar4 = (0x100 - (uint)DAT_400086ad) * ac_evap_temp_raw;
  ac_evap_temp_raw =
       ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
       (uint)DAT_400086ad * (int)ac_evap_temp_unknown;
  ac_evap_temp = (short)(ac_evap_temp_raw >> 8) +
                 (ushort)((int)ac_evap_temp_raw < 0 && (ac_evap_temp_raw & 0xff) != 0);
  uVar4 = (0x100 - (uint)CAL_trans_cooler_temp_scaling) * trans_fluid_temp_u32;
  trans_fluid_temp_u32 =
       ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
       (uint)CAL_trans_cooler_temp_scaling * (uint)trans_fluid_temp_raw;
  trans_fluid_temp_u8 =
       (char)(trans_fluid_temp_u32 >> 8) +
       ((int)trans_fluid_temp_u32 < 0 && (trans_fluid_temp_u32 & 0xff) != 0);
  if ((clutch_pos_sensor & 8) == 0) {
    uVar4 = (0x100 - (uint)DAT_40008726) * clutch_position_raw2;
    clutch_position_raw2 =
         ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
         (uint)DAT_40008726 * (uint)clutch_pos_voltage;
    clutch_position =
         (short)(clutch_position_raw2 >> 8) +
         (ushort)((int)clutch_position_raw2 < 0 && (clutch_position_raw2 & 0xff) != 0);
  }
  else {
    clutch_position = 0;
  }
  if ((engine_state_failure_flags & 0x800000) == 0) {
    if (bVar3) {
      chargecooler_temp2 =
           (int)((2560 - (uint)DAT_400086d9) * chargecooler_temp2) / 2560 +
           (uint)DAT_400086d9 * (uint)chargecooler_temp_div_160;
    }
    obd_ii_manifold_temp = (u8_temp_5_8_40c)(chargecooler_temp2 / 2560);
  }
  else {
    tmap_model_fallback_value =
         lookup_3D_uint8_interpolated
                   (8,8,0,0,CAL_sensor_tmap_expected_temp,CAL_sensor_tmap_expected_temp_X_rpm,
                    CAL_sensor_tmap_expected_temp_Y_load);
    manifold_temp_fallback =
         ((uint)temp_engine_air + (uint)tmap_lookup_raw) - (uint)tmap_model_fallback_value;
    if (manifold_temp_fallback < 256) {
      if (manifold_temp_fallback < 0) {
        obd_ii_manifold_temp = 0;
      }
      else {
        obd_ii_manifold_temp = (u8_temp_5_8_40c)manifold_temp_fallback;
      }
    }
    else {
      obd_ii_manifold_temp = 255;
    }
  }
  if ((((engine_state_failure_flags & 0x40000000) == 0) && ((DAT_40001789 & 0x20) != 0)) &&
     ((engine_state_failure_flags & 0x20000000) == 0)) {
    if ((DAT_400023f4 & 0xc00000) == 0) {
      uVar4 = get_ambiant_air_temp();
      air_temp_intake_unknown = (u8_temp_5_8_40c)uVar4;
    }
  }
  else {
    air_temp_intake_unknown = temp_engine_air;
    if ((engine_state_failure_flags & 1) != 0) {
      air_temp_intake_unknown = CAL_sensor_iat_fallback;
    }
  }
  DAT_400019dc = lookup_2D_uint8_interpolated
                           (16,(uint8_t)((int)(uint)DAT_40001a66 >> 2),&DAT_40008cdc,&DAT_40008ccc);
  DAT_400019dd = lookup_2D_uint8_interpolated
                           (16,(uint8_t)((int)(uint)DAT_40001a64 >> 2),&DAT_40008cdc,&DAT_40008ccc);
  if (fuel_level_voltage < 1023) {
    uVar6 = lookup_2D_uint16_interpolated
                      (8,fuel_level_voltage,CAL_sensor_fuel_level,CAL_sensor_fuel_level_X_voltage);
  }
  else {
    uVar6 = lookup_2D_uint16_interpolated
                      (8,1023,CAL_sensor_fuel_level,CAL_sensor_fuel_level_X_voltage);
  }
  fuel_level_raw = 255;
  if (uVar6 < 0x100) {
    fuel_level_raw = (uint8_t)uVar6;
  }
  uVar4 = (uint)evap_purge_pressure_voltage * (uint)CAL_evap_purge_pressure_scaling;
  obd_ii_evap_purge_pressure =
       (((short)((int)uVar4 >> 10) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3ff) != 0)) -
       CAL_evap_purge_pressure_offset) - DAT_400019f4;
  if ((engine_state_failure_flags & 8) == 0) {
    if ((int)(uint)atmo_baro_sensor_voltage < (DAT_4000867e * -0x400) / (int)(uint)DAT_4000867c) {
      obd_ii_atmospheric_baro = 0;
    }
    else {
      uVar4 = (uint)atmo_baro_sensor_voltage * (uint)DAT_4000867c;
      obd_ii_atmospheric_baro =
           DAT_4000867e +
           (short)((int)uVar4 >> 10) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3ff) != 0);
    }
  }
  else {
    obd_ii_atmospheric_baro = DAT_4000ca14;
  }
  uVar6 = (ushort)((int)(uint)tps_u16 >> 4);
  if ((short)uVar6 < 0) {
    tps2 = '\0';
  }
  else {
    tps2 = (u8_factor_1_255)((int)(uint)tps_u16 >> 4);
    if (0xff < uVar6) {
      tps2 = 0xff;
    }
  }
  if ((engine_state_failure_flags & 0x1000000) == 0) {
    if ((int)(uint)map_voltage <
        ((short)CAL_sensor_manifold_pressure_sensor_offset * -0x400) /
        (int)(uint)CAL_sensor_manifold_pressure_sensor_scaling) {
      map = 0;
    }
    else {
      uVar4 = (uint)map_voltage * (uint)CAL_sensor_manifold_pressure_sensor_scaling;
      map = CAL_sensor_manifold_pressure_sensor_offset +
            (short)((int)uVar4 >> 10) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3ff) != 0);
    }
  }
  else {
    map = manifold_pressure_calculated;
  }
                    // DAT_40008939 has value 0x4
  uVar4 = (0x100 - (uint)DAT_40008939) * intake_manifold_pressure2;
  intake_manifold_pressure2 =
       ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
       (uint)DAT_40008939 * (uint)obd_ii_manifold_pressure;
  DAT_400019f2 = (short)(intake_manifold_pressure2 >> 8) +
                 (ushort)((int)intake_manifold_pressure2 < 0 &&
                         (intake_manifold_pressure2 & 0xff) != 0);
  if (CAL_cluster_oil_pressure_warning_light_mode == 2) {
    uVar4 = (uint)oil_pressure_warning_switch_voltage *
            (uint)CAL_oil_pressure_switch_voltage_scaling;
    iVar5 = (int)(short)CAL_oil_pressure_switch_offset +
            ((int)uVar4 >> 10) + (uint)((int)uVar4 < 0 && (uVar4 & 0x3ff) != 0);
    oil_pressure_reading_unknown = (undefined2)iVar5;
    if (0x7fff < iVar5) {
      oil_pressure_reading_unknown = 0x7fff;
    }
  }
  if ((engine_state_failure_flags & 0x4000000) == 0) {
    uVar4 = (0x100 - (uint)DAT_4000893f) * fuel_pressure_abs_scaled;
    fuel_pressure_abs_scaled =
         ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
         (uint)DAT_4000893f * (uint)fuel_pressure_abs;
    fuel_pressure_abs2 =
         (short)(fuel_pressure_abs_scaled >> 8) +
         (ushort)((int)fuel_pressure_abs_scaled < 0 && (fuel_pressure_abs_scaled & 0xff) != 0);
    fuel_pressure_atmo_relative = 0;
    if (obd_ii_atmospheric_baro < fuel_pressure_abs2) {
      fuel_pressure_atmo_relative = fuel_pressure_abs2 - obd_ii_atmospheric_baro;
    }
  }
  else {
    fuel_pressure_abs2 = (ushort)fuel_pressure_target_clamped * 50 + obd_ii_atmospheric_baro;
    fuel_pressure_atmo_relative = (ushort)fuel_pressure_target_clamped * 50;
  }
  return;
}



void imu_process_100hz(void)

{
  uint t;
  
  t = (256 - (uint)CAL_sensor_lat_accel_smoothing_factor) * lat_accel_last;
  lat_accel_last =
       ((int)t >> 8) + (uint)((int)t < 0 && (t & 0xff) != 0) +
       (uint)CAL_sensor_lat_accel_smoothing_factor * (int)imu_accel_lat;
  lat_accel = (short)((uint)lat_accel_last >> 8) +
              (ushort)(lat_accel_last < 0 && (lat_accel_last & 0xffU) != 0);
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

uint8_t compute_engine_speed_byte(void)

{
  int iVar1;
  
  iVar1 = 480000 / (int)engine_speed_period_2 + -0x10;
  if (iVar1 < 0x100) {
    if (iVar1 < 0) {
      iVar1 = 0;
    }
  }
  else {
    iVar1 = 0xff;
  }
  return (uint8_t)iVar1;
}



void O2_heater_500us(void)

{
  ulonglong uVar1;
  ulonglong uVar2;
  
  uVar1 = (ulonglong)((longlong)((int)(uint)adc_dma_dest[4] >> 4) * 0x9a729f0df) >> 0x20;
  uVar1 = ((((longlong)((int)(uint)adc_dma_dest[4] >> 4) * 0x2693 - uVar1 << 0x20) >> 0x21) + uVar1
          << 0x20) >> 0x29;
  DAT_400019ce = (ushort)uVar1;
  uVar2 = (ulonglong)((longlong)((int)(uint)adc_dma_dest[5] >> 4) * 0x9a729f0df) >> 0x20;
  DAT_400019d0 = (ushort)(((((longlong)((int)(uint)adc_dma_dest[5] >> 4) * 0x2693 - uVar2 << 0x20)
                           >> 0x21) + uVar2 << 0x20) >> 0x29);
  uVar2 = (ulonglong)((longlong)((int)(uint)adc_dma_dest[6] >> 4) * 0x9a729f0df) >> 0x20;
  DAT_400019d2 = (ushort)(((((longlong)((int)(uint)adc_dma_dest[6] >> 4) * 0x2693 - uVar2 << 0x20)
                           >> 0x21) + uVar2 << 0x20) >> 0x29);
  uVar2 = (ulonglong)((longlong)((int)(uint)adc_dma_dest[7] >> 4) * 0x9a729f0df) >> 0x20;
  DAT_400019d4 = (ushort)(((((longlong)((int)(uint)adc_dma_dest[7] >> 4) * 0x2693 - uVar2 << 0x20)
                           >> 0x21) + uVar2 << 0x20) >> 0x29);
  if (((ulonglong)DAT_4000ca6c < (uVar1 & 0xffff)) && (DAT_400019f6 == '\0')) {
    siu_gpdo[0x60] = '\0';
    DAT_400019f6 = '\x01';
    u16_time_5ms_40001830 = 100;
    FUN_0006b06c(0x19,0x18);
  }
  if ((DAT_4000ca6c < DAT_400019d0) && (DAT_400019f7 == '\0')) {
    siu_gpdo[0x62] = '\0';
    DAT_400019f7 = '\x01';
    u16_time_5ms_40001832 = 100;
    FUN_0006b06c(0x1a,0x19);
  }
  if ((DAT_4000ca6c < DAT_400019d2) && (DAT_400019f8 == '\0')) {
    siu_gpdo[99] = '\0';
    DAT_400019f8 = '\x01';
    u16_time_5ms_40001834 = 100;
    FUN_0006b06c(0x1b,0x1a);
  }
  if ((DAT_4000ca6c < DAT_400019d4) && (DAT_400019f9 == '\0')) {
    siu_gpdo[100] = '\0';
    DAT_400019f9 = '\x01';
    u16_time_5ms_40001836 = 100;
    FUN_0006b06c(0x1c,0x1b);
  }
  if (DAT_40001824 == '\x02') {
    if (((DAT_400019ce < DAT_4000ca6c) && (u16_time_5ms_40001830 == 0)) && (DAT_400019f6 == '\0')) {
      siu_gpdo[0x60] = '\x01';
      FUN_0006b06c(0x19,0);
    }
    if (((DAT_400019d0 < DAT_4000ca6c) && (u16_time_5ms_40001832 == 0)) && (DAT_400019f7 == '\0')) {
      siu_gpdo[0x62] = '\x01';
      FUN_0006b06c(0x1a,0);
    }
    if (((DAT_400019d2 < DAT_4000ca6c) && (u16_time_5ms_40001834 == 0)) && (DAT_400019f8 == '\0')) {
      siu_gpdo[99] = '\x01';
      FUN_0006b06c(0x1b,0);
    }
    if (((DAT_400019d4 < DAT_4000ca6c) && (u16_time_5ms_40001836 == 0)) && (DAT_400019f9 == '\0')) {
      siu_gpdo[100] = '\x01';
      FUN_0006b06c(0x1c,0);
    }
    if ((DAT_400019f6 != '\0') && (u16_time_5ms_40001830 == 0)) {
      DAT_400019f6 = '\0';
      siu_gpdo[0x60] = '\x01';
    }
    if ((DAT_400019f7 != '\0') && (u16_time_5ms_40001832 == 0)) {
      DAT_400019f7 = '\0';
      siu_gpdo[0x62] = '\x01';
    }
    if ((DAT_400019f8 != '\0') && (u16_time_5ms_40001834 == 0)) {
      DAT_400019f8 = '\0';
      siu_gpdo[99] = '\x01';
    }
    if ((DAT_400019f9 != '\0') && (u16_time_5ms_40001836 == 0)) {
      DAT_400019f9 = '\0';
      siu_gpdo[100] = '\x01';
    }
  }
  return;
}



void sort_array10(uint16_t *data)

{
  byte i;
  byte j;
  uint16_t tmp;
  
  for (i = 0; j = i, i < 9; i = i + 1) {
    while (j = j + 1, j < 10) {
      if (data[j] < data[i]) {
        tmp = data[j];
        data[j] = data[i];
        data[i] = tmp;
      }
    }
  }
  return;
}



uint32_t sqrt_integer(uint32_t input)

{
  ulonglong uVar1;
  ulonglong uVar2;
  ulonglong val;
  
  uVar1 = (ulonglong)(int)input;
  uVar2 = 0;
  _tmp_val1 = 0;
  _tmp_val2 = input;
  for (val = 0x40000000; input < val; val = (val << 32) >> 34) {
    _tmp_val1 = _tmp_val1 + 1;
  }
  for (; (int)val != 0; val = (val << 0x20) >> 0x22) {
    _tmp_val1 = _tmp_val1 + 1;
    if (uVar2 + val <= (uVar1 & 0xffffffff)) {
      uVar1 = uVar1 - (uVar2 + val);
      uVar2 = uVar2 + val * 2;
    }
    uVar2 = (uVar2 << 0x20) >> 0x21;
  }
  return (uint32_t)uVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// There are many tables here.
// 
// Base: fundamental, uncompensated ign timing targets
// knock: timing values that are determined to be safe under knocking or low octane conditions
// 

void ignition(void)

{
  short sVar1;
  byte cyl3;
  u8_time_64us _ign_dwell_time_raw;
  byte ign_base_lookup;
  byte ign_knock_safe_lookup;
  byte _ign_mbt_lookup;
  u8_angle_1_4_10deg ign_adv_manual_first_gear;
  uint _ign_comp_rpm_scaled;
  uint _ign_comp_iat_combined;
  uint idle_speed_error_w_offset;
  uint idle_speed_error_with_offset;
  uint uVar2;
  short sVar30;
  int iVar3;
  i16_angle_1_4deg _ign_adv_target;
  i16_angle_1_4deg ign_adv_base_cyl1;
  short ign_adv_base_cyl2;
  short ign_adv_base_cyl3;
  short ign_adv_base_cyl4;
  short ign_adv_base_cyl5;
  short ign_adv_base_cyl6;
  ulonglong _ign_dwell_time;
  uint32_t ign_comp_startup_ips_lookup;
  ulonglong _ign_comp_startup_manual;
  byte ign_comp_maf_accum_lookup;
  ulonglong ign_advance_coldstart_comp_lookup;
  u8_angle_1_4deg ign_comp_ips1;
  u8_angle_1_4deg ign_comp_ips2;
  u8_angle_1_4deg ips_comp_ect_manual2;
  u8_angle_1_4deg ips_comp_ect_manual1;
  u8_angle_1_4deg ign_comp_engine_air_lookup;
  u8_angle_1_4_32deg _ign_comp_rpm;
  u8_factor_1_128 _ign_comp_rpm_multiplier;
  ulonglong ign_comp_tps_rate_lookup;
  byte ign_adv_manifold_temp_comp;
  u8_angle_1_4_32deg ign_comp_idle_speed1_lookup;
  u8_angle_1_4_32deg ign_comp_idle_speed2_lookup;
  ulonglong ign_comp_idle_speed1_lookup3;
  ulonglong ign_comp_idle_speed2_lookup3;
  ulonglong ign_comp_idle_speed1_lookup2;
  ulonglong ign_comp_idle_speed2_lookup2;
  ulonglong ign_unknown4_lookup;
  byte bVar5;
  longlong lVar4;
  byte _ign_adv_min;
  byte cyl;
  byte cyl2;
  bool _ign_enable [6];
  u8_angle_1_4_10deg bVar6;
  u32_angle_1_10deg _ign_dwell_angle;
  bool _ign_idle_correction_is_negative;
  ulonglong crankspeed_scaling;
  
                    // This might be cylinder fault/disable
  for (cyl3 = 0; cyl3 < 6; cyl3 = cyl3 + 1) {
    if ((ign_per_cyl_enable___[cyl3] == false) || (ign_per_cyl_enable2___[cyl3] != false)) {
      _ign_enable[cyl3] = false;
    }
    else {
      _ign_enable[cyl3] = true;
    }
    ign_per_cyl_enable2___[cyl3] = ign_per_cyl_enable___[cyl3];
  }
  _ign_dwell_time_raw =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)((int)(uint)sensor_adc_ecu_voltage >> 2) & 0xff
                  ,CAL_ign_dwell_time,CAL_ign_dwell_time_X_rpm,CAL_ign_dwell_time_Y_ecu_voltage);
  ign_dwell_time = (ushort)_ign_dwell_time_raw << 6;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    ign_base_lookup =
         lookup_3D_uint8_interpolated
                   (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_ign_base_ips,
                    CAL_ign_base_ips_X_engine_speed,CAL_ign_base_ips_Y_load);
  }
  else {
    ign_base_lookup =
         lookup_3D_uint8_interpolated
                   (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_ign_base_manual,
                    CAL_ign_base_manual_X_engine_speed,CAL_ign_base_manual_Y_load);
  }
  ign_base = ign_base_lookup - 40;
  ign_knock_safe_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_ign_knock_safe,
                  CAL_ign_knock_safe_X_engine_speed,CAL_ign_knock_safe_Y_load);
  ign_knock_safe = ign_knock_safe_lookup - 40;
  _ign_mbt_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_ign_mbt_modeled,
                  CAL_ign_mbt_modeled_X_engine_speed,CAL_ign_mbt_modeled_Y_load);
  ign_mbt_modeled = _ign_mbt_lookup - 40;
  if ((((COD_base[0] >> 0xd & 7) == 0) && (car_current_gear <= CAL_ign_low_gear_number)) ||
     (car_current_gear == NO_GEAR)) {
    ign_adv_manual_first_gear =
         lookup_2D_uint8_interpolated
                   ('\b',engine_speed_3,CAL_ign_limit_first_gear_manual,
                    CAL_ign_limit_first_gear_manual_X_engine_speed);
    ign_adv_limit = ign_adv_manual_first_gear - 40;
  }
  else {
    ign_adv_limit = 255;
  }
  ign_retard_recovery_step =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                  (uint8_t *)CAL_ign_retard_recovery_step,
                  CAL_ign_retard_recovery_step_X_engine_speed,CAL_ign_retard_recovery_step_Y_load);
  if ((COD_base[0] >> 0xd & 7) == 1) {
    ign_comp_startup_ips_lookup =
         lookup_3D_uint32_interpolated
                   (4,10,(uint)coolant_temp_engine_stopped,(uint)maf_accumulated2,
                    (uint16_t *)CAL_ign_comp_startup_ips,
                    CAL_ign_comp_startup_ips_X_coolant_temp_engine_stopped,
                    CAL_ign_comp_startup_ips_Y_maf_accumulated);
    _ign_comp_startup_manual = (ulonglong)(int)ign_comp_startup_ips_lookup;
  }
  else {
    _ign_comp_startup_manual._6_2_ =
         lookup_2D_uint16_interpolated
                   (8,maf_accumulated2,(uint16_t *)CAL_ign_comp_startup_manual,
                    CAL_ign_comp_startup_manual_X_maf_accum);
    _ign_comp_startup_manual = (ulonglong)(short)_ign_comp_startup_manual._6_2_;
  }
  ign_comp_startup = (i8_angle_1_4deg)_ign_comp_startup_manual;
  if (0xff < (_ign_comp_startup_manual & 0xffff)) {
    ign_comp_startup = -1;
  }
  if (maf_accumulated2 < 2040) {
    ign_comp_maf_accum_lookup =
         lookup_3D_uint8_interpolated
                   (8,8,(ushort)((int)(uint)maf_accumulated2 >> 3) & 0xff,(ushort)tps2,
                    (uint8_t *)CAL_ign_comp_maf_accum,CAL_ign_comp_maf_accum_X_maf_accum,
                    CAL_ign_comp_maf_accum_Y_tps);
    ign_maf_accum_trim_startup = (i16_angle_1_4deg)ign_comp_maf_accum_lookup;
  }
  else {
    ign_maf_accum_trim_startup = 0xff;
  }
  if (((COD_base[0] >> 0x19 & 7) == 0) || ((obd_ii_cruise_status & 2) == 0)) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      ign_tps_comp = lookup_3D_uint8_interpolated
                               (7,8,(ushort)engine_speed_3,(short)accel_pedal_pos2 >> 2 & 0xff,
                                (uint8_t *)CAL_ign_comp_tps_ips,CAL_ign_comp_tps_ips_X_engine_speed,
                                CAL_ign_comp_tps_ips_Y_pedal_pos);
    }
    else {
      ign_tps_comp = lookup_3D_uint8_interpolated
                               (8,8,(ushort)engine_speed_3,(short)accel_pedal_pos2 >> 2 & 0xff,
                                (uint8_t *)CAL_ign_comp_tps_manual,
                                CAL_ign_comp_tps_manual_X_engine_speed,
                                CAL_ign_comp_tps_manual_Y_accel_pedal);
    }
    ign_adv_tps_comp2 =
         lookup_3D_uint8_interpolated
                   (8,16,(ushort)engine_speed_3,(short)accel_pedal_pos2 >> 2 & 0xff,
                    (uint8_t *)CAL_ign_comp_tps2,CAL_ign_comp_tps2_X_engine_speed,
                    CAL_ign_comp_tps2_Y_accel_pedal);
  }
  else {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      ign_tps_comp = lookup_3D_uint8_interpolated
                               (7,8,(ushort)engine_speed_3,(short)cruise_tps_commanded >> 2 & 0xff,
                                (uint8_t *)CAL_ign_comp_tps_ips,CAL_ign_comp_tps_ips_X_engine_speed,
                                CAL_ign_comp_tps_ips_Y_pedal_pos);
    }
    else {
      ign_tps_comp = lookup_3D_uint8_interpolated
                               (8,8,(ushort)engine_speed_3,(short)cruise_tps_commanded >> 2 & 0xff,
                                (uint8_t *)CAL_ign_comp_tps_manual,
                                CAL_ign_comp_tps_manual_X_engine_speed,
                                CAL_ign_comp_tps_manual_Y_accel_pedal);
    }
    ign_adv_tps_comp2 =
         lookup_3D_uint8_interpolated
                   (8,16,(ushort)engine_speed_3,(short)cruise_tps_commanded >> 2 & 0xff,
                    (uint8_t *)CAL_ign_comp_tps2,CAL_ign_comp_tps2_X_engine_speed,
                    CAL_ign_comp_tps2_Y_accel_pedal);
  }
  ign_advance_coldstart_comp_lookup._7_1_ =
       lookup_2D_uint8_interpolated
                 ('\b',coolant_temp_engine_stopped,CAL_ign_comp_coldstart,
                  CAL_ign_comp_coldstart_X_startup_temp);
  ign_adv_coldstart_comp = (uint8_t)ign_advance_coldstart_comp_lookup;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if ((ips_state_flags == 0) || (ips_state_flags == 9)) {
      ign_comp_ips1 =
           lookup_2D_uint8_interpolated
                     (16,coolant_temp,CAL_ign_comp_coolant_ips_noflags,
                      CAL_ign_comp_coolant_ips_noflags_X_coolant_temp);
      ign_adv_coolant_comp = (i16_angle_1_4deg)ign_comp_ips1;
    }
    else {
      ign_comp_ips2 =
           lookup_2D_uint8_interpolated
                     (16,coolant_temp,CAL_ign_comp_coolant_ips_flags,
                      CAL_ign_comp_coolant_ips_flags_X_coolant_temp);
      ign_adv_coolant_comp = (i16_angle_1_4deg)ign_comp_ips2;
    }
  }
  else if ((((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == 0)) &&
          ((vehicle_mode_flags & 0b00010000) == 0)) {
    ips_comp_ect_manual1 =
         lookup_2D_uint8_interpolated
                   (16,coolant_temp,CAL_ign_comp_coolant_manual1,
                    CAL_ign_comp_coolant_manual1_X_coolant_temp);
    ign_adv_coolant_comp = (i16_angle_1_4deg)ips_comp_ect_manual1;
  }
  else {
    ips_comp_ect_manual2 =
         lookup_2D_uint8_interpolated
                   (16,coolant_temp,CAL_ign_comp_coolant_manual_vvt_alt,
                    CAL_ign_comp_coolant_manual_vvt_alt_X_coolant_temp);
    ign_adv_coolant_comp = (i16_angle_1_4deg)ips_comp_ect_manual2;
  }
  ign_comp_engine_air_lookup =
       lookup_2D_uint8_interpolated
                 (16,temp_engine_air,CAL_ign_comp_engine_air,CAL_ign_comp_engine_air_X_air_temp);
  ign_temp_engine_air_comp = (i16_angle_1_4deg)(char)(ign_comp_engine_air_lookup ^ 0b10000000);
  _ign_comp_rpm =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_ign_comp_rpm,CAL_ign_comp_rpm_X_engine_speed);
  ign_comp_rpm = (short)(char)(_ign_comp_rpm ^ 0b10000000);
  _ign_comp_rpm_multiplier =
       lookup_2D_uint8_interpolated
                 ('\b',coolant_temp,CAL_ign_comp_rpm_multiplier,
                  CAL_ign_comp_rpm_multiplier_X_coolant_temp);
  _ign_comp_rpm_scaled = (uint)_ign_comp_rpm_multiplier;
  _ign_comp_rpm_scaled = (int)ign_comp_rpm * _ign_comp_rpm_scaled;
  ign_rpm_and_coolant_comp =
       (short)((int)_ign_comp_rpm_scaled >> 7) +
       (ushort)((int)_ign_comp_rpm_scaled < 0 && (_ign_comp_rpm_scaled & 127) != 0);
  ign_comp_rpm_multiplier = _ign_comp_rpm_multiplier;
  if ((short)tps_rate_unknown2_ < 257) {
    if ((short)tps_rate_unknown2_ < -254) {
      ign_comp_tps_rate_lookup._7_1_ =
           lookup_2D_uint8_interpolated
                     ('\b','\0',(uint8_t *)CAL_ign_comp_tps_rate,CAL_ign_comp_tps_rate_X_tps_rate);
      ign_comp_tps_rate = (uint8_t)ign_comp_tps_rate_lookup;
    }
    else {
      ign_comp_tps_rate =
           lookup_2D_uint8_interpolated
                     ('\b',(char)((int)(short)tps_rate_unknown2_ -
                                  ((int)(short)tps_rate_unknown2_ >> 31) >> 1) + 127,
                      (uint8_t *)CAL_ign_comp_tps_rate,CAL_ign_comp_tps_rate_X_tps_rate);
    }
  }
  else {
    ign_comp_tps_rate =
         lookup_2D_uint8_interpolated
                   ('\b',0xff,(uint8_t *)CAL_ign_comp_tps_rate,CAL_ign_comp_tps_rate_X_tps_rate);
  }
  if (CAL_ecu_inj_use_tmap == false) {
    ign_adv_manifold_temp_comp =
         lookup_3D_uint8_interpolated
                   (16,12,(ushort)engine_speed_3,(ushort)temp_engine_air,CAL_ign_comp_manifold_temp,
                    CAL_ign_comp_manifold_temp_X_engine_speed,
                    CAL_ign_comp_manifold_temp_Y_manifold_temp);
  }
  else {
    ign_adv_manifold_temp_comp =
         lookup_3D_uint8_interpolated
                   (16,12,(ushort)engine_speed_3,(ushort)obd_ii_manifold_temp,
                    CAL_ign_comp_manifold_temp,CAL_ign_comp_manifold_temp_X_engine_speed,
                    CAL_ign_comp_manifold_temp_Y_manifold_temp);
  }
  _ign_comp_manifold_temp = (short)(char)(ign_adv_manifold_temp_comp ^ 0b10000000);
  ign_comp_manifold_temp_load_multiplier =
       lookup_3D_uint8_interpolated
                 (16,12,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                  CAL_ign_comp_manifold_temp_load_multiplier,
                  CAL_ign_comp_manifold_temp_load_multiplier_X_engine_speed,
                  CAL_ign_comp_manifold_temp_load_multiplier_Y_load);
  _ign_comp_iat_combined = (uint)ign_comp_manifold_temp_load_multiplier;
  _ign_comp_iat_combined = (int)_ign_comp_manifold_temp * _ign_comp_iat_combined;
  ign_comp_iat = (short)((int)_ign_comp_iat_combined >> 7) +
                 (ushort)((int)_ign_comp_iat_combined < 0 &&
                         (_ign_comp_iat_combined & 0b01111111) != 0);
  if ((CAL_ign_comp_coolant_engine_stopped_min < coolant_temp_engine_stopped) &&
     (coolant_temp_engine_stopped < CAL_ign_comp_coolant_engine_stopped_min)) {
    ign_flags_unknown = ign_flags_unknown | 0b00000001;
  }
  else {
    ign_flags_unknown = ign_flags_unknown & 0b1111111111111110;
  }
  ign_adv_target1 = ign_base;
  if (ign_adv_limit < ign_base) {
    ign_adv_target1 = ign_adv_limit;
  }
  if ((short)obd_ii_idle_speed_error___ < -512) {
    ign_comp_idle_speed1_lookup =
         lookup_2D_uint8_interpolated
                   (16,'\0',CAL_ign_comp_idle_error1,CAL_ign_comp_idle_error1_X_rpm);
    ign_comp_idle_speed1 = (i16_angle_1_4deg)(char)(ign_comp_idle_speed1_lookup ^ 0x80);
    ign_comp_idle_speed2_lookup =
         lookup_2D_uint8_interpolated
                   (16,'\0',CAL_ign_comp_idle_error2,CAL_ign_comp_idle_error2_X_idle_speed_error);
    ign_comp_idle_speed2 = (short)(char)(ign_comp_idle_speed2_lookup ^ 0x80);
  }
  else if ((short)obd_ii_idle_speed_error___ < 512) {
    idle_speed_error_w_offset = (int)(short)obd_ii_idle_speed_error___ + 512;
    ign_comp_idle_speed1_lookup2._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,(char)((int)idle_speed_error_w_offset >> 2) +
                       ((int)idle_speed_error_w_offset < 0 && (idle_speed_error_w_offset & 3) != 0),
                    CAL_ign_comp_idle_error1,CAL_ign_comp_idle_error1_X_rpm);
    ign_comp_idle_speed1 = (i16_angle_1_4deg)(char)((byte)ign_comp_idle_speed1_lookup2 ^ 0x80);
    idle_speed_error_with_offset = (int)(short)obd_ii_idle_speed_error___ + 0x200;
    ign_comp_idle_speed2_lookup2._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,(char)((int)idle_speed_error_with_offset >> 2) +
                       ((int)idle_speed_error_with_offset < 0 &&
                       (idle_speed_error_with_offset & 3) != 0),CAL_ign_comp_idle_error2,
                    CAL_ign_comp_idle_error2_X_idle_speed_error);
    ign_comp_idle_speed2 = (short)(char)((byte)ign_comp_idle_speed2_lookup2 ^ 0x80);
  }
  else {
    ign_comp_idle_speed1_lookup3._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,0xff,CAL_ign_comp_idle_error1,CAL_ign_comp_idle_error1_X_rpm);
    ign_comp_idle_speed1 = (i16_angle_1_4deg)(char)((byte)ign_comp_idle_speed1_lookup3 ^ 0x80);
    ign_comp_idle_speed2_lookup3._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,0xff,CAL_ign_comp_idle_error2,CAL_ign_comp_idle_error2_X_idle_speed_error);
    ign_comp_idle_speed2 = (short)(char)((byte)ign_comp_idle_speed2_lookup3 ^ 0x80);
  }
  if ((short)idle_speed_error_tps_compensated < -512) {
    ign_unknown4_lookup._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,'\0',CAL_ign_comp_idle_error3,CAL_ign_comp_idle_error3_X_rpm);
  }
  else if ((short)idle_speed_error_tps_compensated < 512) {
    uVar2 = (int)(short)idle_speed_error_tps_compensated + 512;
    ign_unknown4_lookup._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,(char)((int)uVar2 >> 2) + ((int)uVar2 < 0 && (uVar2 & 3) != 0),
                    CAL_ign_comp_idle_error3,CAL_ign_comp_idle_error3_X_rpm);
  }
  else {
    ign_unknown4_lookup._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,0xff,CAL_ign_comp_idle_error3,CAL_ign_comp_idle_error3_X_rpm);
  }
  ign_comp_idle_error3 = (i16_angle_1_4deg)(char)((byte)ign_unknown4_lookup ^ 0x80);
  if (CAL_vehicle_moving_threshold_ < car_speed_u8) {
    ign_comp_idle_speed1 = ign_comp_idle_speed2;
  }
  if ((u8_speed_kph_40008994 < car_speed_u8) ||
     ((ushort)((ushort)u8_rspeed_10rpm_40008995 * 10) < engine_speed_2)) {
    ign_comp_idle_error3 = 0;
  }
  if (u16_rspeed_rpm_40001f70 == 0) {
    ign_comp_unknown6 = 0;
    if ((ign_idle_comp_recovery_timer_5ms != 0) && (ign_comp_idle_speed1 < 0)) {
      lVar4 = libc_abs((longlong)ign_comp_idle_speed1);
      iVar3 = (int)(short)lVar4 *
              (((uint)ign_idle_comp_recovery_timer_5ms * 100) / (uint)CAL_ign_timer_unknown);
      sVar1 = (short)(iVar3 >> 0x1f);
      ign_comp_idle_speed1 =
           ign_comp_idle_speed1 +
           (((short)(iVar3 / 100) + sVar1) - ((short)((short)(iVar3 / 0x640000) + sVar1) >> 0xf));
    }
  }
  else {
    ign_idle_comp_recovery_timer_5ms = CAL_ign_timer_unknown;
                    // DAT_4000872b has value 0
    sVar30 = (short)((int)((int)(short)u16_rspeed_rpm_40001f70 * (uint)DAT_4000872b) /
                    (int)DAT_40001f90);
    _ign_idle_correction_is_negative = ign_comp_idle_speed1 < 0;
    ign_comp_idle_speed1 = ign_comp_idle_speed1 + sVar30;
    if (_ign_idle_correction_is_negative) {
      ign_comp_idle_speed1 = sVar30;
    }
                    // ign_comp_unknown6 is always zero
    if (rpm_or_roughness_measure_unknown < -255) {
      bVar5 = lookup_2D_uint8_interpolated
                        (16,'\0',CAL_ign_comp_speed_variation_unknown,
                         CAL_ign_comp_speed_variation_unknown_X_rpm_delta);
      ign_comp_unknown6 = (i16_angle_1_4deg)(char)(bVar5 ^ 0x80);
    }
    else if (rpm_or_roughness_measure_unknown < 256) {
      bVar5 = lookup_2D_uint8_interpolated
                        ('\x10',(uint8_t)((rpm_or_roughness_measure_unknown + 0xff) / 2),
                         CAL_ign_comp_speed_variation_unknown,
                         CAL_ign_comp_speed_variation_unknown_X_rpm_delta);
      ign_comp_unknown6 = (i16_angle_1_4deg)(char)(bVar5 ^ 0x80);
    }
    else {
      bVar5 = lookup_2D_uint8_interpolated
                        (16,0xff,CAL_ign_comp_speed_variation_unknown,
                         CAL_ign_comp_speed_variation_unknown_X_rpm_delta);
      ign_comp_unknown6 = (i16_angle_1_4deg)(char)(bVar5 ^ 0x80);
    }
  }
  if (((((COD_base[0] >> 0xd & 7) == 0) && (car_current_gear <= CAL_ign_zero_gear)) &&
      (engine_speed_3 < CAL_ign_zero_rpm_threshold)) &&
     (load_mass_per_stroke < CAL_ign_zero_load_threshold)) {
                    // Stationary, low load ign min
    _ign_adv_min = lookup_3D_uint8_interpolated
                             (3,3,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                              CAL_ign_min_engine_off,CAL_ign_min_engine_off_X_engine_speed,
                              CAL_ign_min_engine_off_Y_load);
  }
  else {
    _ign_adv_min = lookup_3D_uint8_interpolated
                             (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_ign_min,
                              CAL_ign_min_X_engine_speed,CAL_ign_min_Y_load);
  }
  ign_adv_min = _ign_adv_min - 80;
  if (ign_target_update_inhibit_timer_5ms == 0) {
    if (((inj_flags & 1) == 0) || (ign_timer_unknown3 != 0)) {
      if (((abs_esp_flags & 1) == 0) &&
         (((trqlimit_external_request_flags___ & 0b00010000) == 0 &&
          ((engine_operating_state_flags & 0b00100000) != 0)))) {
        if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
          ign_adv_target =
               ign_temp_engine_air_comp + ign_comp_idle_speed1 +
               (short)(char)(DAT_400017fb ^ 0x80) + ign_comp_unknown6 + ign_adv_coolant_comp;
          DAT_40001aaf = 3;
        }
        else {
          ign_adv_target =
               (ushort)DAT_40008703 + ign_comp_unknown6 + ign_adv_coolant_comp +
               (short)(char)(DAT_400017fb ^ 0x80) + ign_temp_engine_air_comp + ign_comp_idle_speed1;
          DAT_40001aaf = 2;
        }
        if ((ign_flags_unknown & 1) == 0) {
          ign_flags_unknown = ign_flags_unknown & 0xfffd;
        }
        else if (ign_comp_startup == '\0') {
          ign_flags_unknown = ign_flags_unknown & 0xfffd;
        }
        else {
          ign_adv_target = ign_adv_target - (ushort)(byte)ign_comp_startup;
          ign_flags_unknown = ign_flags_unknown | 2;
        }
      }
      else if (((abs_esp_flags & 1) == 0) &&
              (((trqlimit_external_request_flags___ & 16) == 0 &&
               ((engine_operating_state_flags & 1) != 0)))) {
        if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == 0)) {
          ign_adv_target =
               ign_temp_engine_air_comp + (char)(DAT_400017fb ^ 0x80) + ign_adv_coolant_comp;
          DAT_40001aaf = 7;
        }
        else {
          ign_adv_target =
               (ushort)DAT_40008703 + ign_adv_coolant_comp +
               (char)(DAT_400017fb ^ 0x80) + ign_temp_engine_air_comp;
          DAT_40001aaf = 6;
        }
        if ((ign_flags_unknown & 1) == 0) {
          ign_flags_unknown = ign_flags_unknown & 0xfffd;
        }
        else if (ign_comp_startup == '\0') {
          ign_flags_unknown = ign_flags_unknown & 0xfffd;
        }
        else {
          ign_adv_target = ign_adv_target - (ushort)(byte)ign_comp_startup;
          ign_flags_unknown = ign_flags_unknown | 2;
        }
      }
      else if (((ign_flags_unknown & 1) == 0) || (ign_maf_accum_trim_startup == 0xff)) {
        ign_comp_unknown2 =
             ign_comp_idle_error3 + ign_comp_iat +
             (short)(char)(DAT_400017fb ^ 0b10000000) +
             (ign_rpm_and_coolant_comp - (ushort)(byte)ign_comp_tps_rate);
        if ((COD_base[0] >> 0x16 & 7) == 0) {
          ign_adv_target = ign_adv_target1 + ign_comp_unknown2;
        }
        else {
          ign_adv_target = ign_comp_unknown2 + ign_comp_torque_reduction + ign_adv_target1;
          if ((ign_adv_target < ign_adv_min) && (ign_comp_torque_reduction < 0)) {
            ign_adv_target = ign_adv_min;
          }
        }
        ign_flags_unknown = ign_flags_unknown & 0xfffd;
        DAT_40001aaf = 5;
      }
      else {
        iVar3 = (int)ign_adv_target1 * (int)ign_maf_accum_trim_startup;
        ign_comp_unknown2 =
             ign_comp_idle_error3 + ign_comp_iat +
             (short)(char)(DAT_400017fb ^ 0x80) +
             ((ign_rpm_and_coolant_comp +
              ((((short)(iVar3 / 0xff) + (short)(iVar3 >> 0x1f)) -
               (short)((longlong)iVar3 * 0x80808081 >> 0x3f)) - ign_adv_target1)) -
             (ushort)(byte)ign_comp_tps_rate);
        if ((COD_base[0] >> 0x16 & 7) == 0) {
          ign_adv_target = ign_adv_target1 + ign_comp_unknown2;
        }
        else {
          ign_adv_target = ign_comp_unknown2 + ign_comp_torque_reduction + ign_adv_target1;
          if ((ign_adv_target < ign_adv_min) && (ign_comp_torque_reduction < 0)) {
            ign_adv_target = ign_adv_min;
          }
        }
        ign_flags_unknown = ign_flags_unknown | 2;
        DAT_40001aaf = 4;
      }
    }
    else {
      bVar6 = u8_angle_1_4_10deg_400086a3;
      if ((COD_base[0] >> 0xd & 7) == 1) {
        bVar6 = u8_angle_1_4_10deg_400088c1;
      }
      ign_adv_target = bVar6 - 40;
      DAT_40001aaf = 1;
      ign_flags_unknown = ign_flags_unknown & 0b1111111111111101;
    }
  }
  else {
    ign_adv_target = (i16_angle_1_4deg)ign_adv_coldstart_comp;
    DAT_40001aaf = 0;
  }
  _ign_adv_target = ign_adv_target;
  if ((trqlimit_external_request_flags___ & 0x1f) == 0) {
    _ign_adv_target = ign_adv_target2;
  }
  if ((byte)(DAT_40001aaf - 6U) < 2) {
    if (ign_adv_target == _ign_adv_target) {
      ign_flags_unknown = ign_flags_unknown | 0b00000100;
    }
    else {
      ign_flags_unknown = ign_flags_unknown & 0b1111111111111011;
    }
  }
  else {
    ign_flags_unknown = ign_flags_unknown & 0b1111111111111011;
  }
  if (((byte)(DAT_40001aaf - 4U) < 2) && ((roughness_flags & 0x100) != 0)) {
    __ign_comp_roughness_detection = ign_adv_from_roughness_detection;
    roughness_flags = roughness_flags | 0b0000001000000000;
  }
  else {
    __ign_comp_roughness_detection = 0;
    roughness_flags = roughness_flags & 0b1111110111111111;
  }
  ign_adv_target2 = _ign_adv_target;
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    ign_adv_with_knock_retard[cyl] =
         ((ign_base - (ushort)LEA_ign_knock_retard[cyl]) - (ushort)ign_retard_knock[cyl]) +
         ign_comp_iat + ign_rpm_and_coolant_comp;
  }
                    // CAL_ign_enable_lea_knock_retard has value 1 in the default calibration
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl1 =
         __ign_comp_roughness_detection +
         (char)(CAL_ign_trim_per_cyl[0] ^ 0b10000000) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl1 =
         ((__ign_comp_roughness_detection +
          (char)(CAL_ign_trim_per_cyl[0] ^ 0b10000000) + ign_adv_target2) -
         (ushort)LEA_ign_knock_retard[0]) - (ushort)ign_retard_knock[0];
  }
  if (ign_per_cyl_enable2___[0] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[0] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[0] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[0] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[0] = ign_target_reduced_target[0];
    }
    else {
      ign_adv_with_torque_retard[0] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[0] = ign_adv_base_cyl1 - ign_adv_with_torque_retard[0];
  if (((engine_operating_state_flags & 0b00100000) == 0) &&
     (obd_ii_ign_adv_per_cylinder[0] < ign_adv_min)) {
    obd_ii_ign_adv_per_cylinder[0] = ign_adv_min;
  }
  else if (((COD_base[0] >> 0xd & 7) == 1) &&
          (((coolant_temp < u8_temp_5_8_40c_40008913 &&
            ((engine_operating_state_flags & 0b00100000) != 0)) &&
           (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[0])))) {
    obd_ii_ign_adv_per_cylinder[0] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[0] < obd_ii_ign_adv_per_cylinder[0]) {
    obd_ii_ign_adv_per_cylinder[0] = ign_adv_with_knock_retard[0];
  }
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl2 =
         __ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[1] ^ 0x80) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl2 =
         ((__ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[1] ^ 0x80) + ign_adv_target2
          ) - (ushort)LEA_ign_knock_retard[1]) - (ushort)ign_retard_knock[1];
  }
  if (ign_per_cyl_enable2___[1] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[1] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[1] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[1] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[1] = ign_target_reduced_target[1];
    }
    else {
      ign_adv_with_torque_retard[1] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[1] = ign_adv_base_cyl2 - ign_adv_with_torque_retard[1];
  if (((engine_operating_state_flags & 0x20) == 0) && (obd_ii_ign_adv_per_cylinder[1] < ign_adv_min)
     ) {
    obd_ii_ign_adv_per_cylinder[1] = ign_adv_min;
  }
  else if ((((COD_base[0] >> 0xd & 7) == 1) &&
           ((coolant_temp < u8_temp_5_8_40c_40008913 && ((engine_operating_state_flags & 0x20) != 0)
            ))) && (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[1])) {
    obd_ii_ign_adv_per_cylinder[1] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[1] < obd_ii_ign_adv_per_cylinder[1]) {
    obd_ii_ign_adv_per_cylinder[1] = ign_adv_with_knock_retard[1];
  }
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl3 =
         __ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[2] ^ 0x80) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl3 =
         ((__ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[2] ^ 0x80) + ign_adv_target2
          ) - (ushort)LEA_ign_knock_retard[2]) - (ushort)ign_retard_knock[2];
  }
  if (ign_per_cyl_enable2___[2] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[2] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[2] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[2] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[2] = ign_target_reduced_target[2];
    }
    else {
      ign_adv_with_torque_retard[2] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[2] = ign_adv_base_cyl3 - ign_adv_with_torque_retard[2];
  if (((engine_operating_state_flags & 0x20) == 0) && (obd_ii_ign_adv_per_cylinder[2] < ign_adv_min)
     ) {
    obd_ii_ign_adv_per_cylinder[2] = ign_adv_min;
  }
  else if (((COD_base[0] >> 0xd & 7) == 1) &&
          (((coolant_temp < u8_temp_5_8_40c_40008913 && ((engine_operating_state_flags & 0x20) != 0)
            ) && (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[2])))) {
    obd_ii_ign_adv_per_cylinder[2] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[2] < obd_ii_ign_adv_per_cylinder[2]) {
    obd_ii_ign_adv_per_cylinder[2] = ign_adv_with_knock_retard[2];
  }
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl4 =
         __ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[3] ^ 0x80) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl4 =
         ((__ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[3] ^ 0x80) + ign_adv_target2
          ) - (ushort)LEA_ign_knock_retard[3]) - (ushort)ign_retard_knock[3];
  }
  if (ign_per_cyl_enable2___[3] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[3] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[3] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[3] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[3] = ign_target_reduced_target[3];
    }
    else {
      ign_adv_with_torque_retard[3] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[3] = ign_adv_base_cyl4 - ign_adv_with_torque_retard[3];
  if (((engine_operating_state_flags & 0x20) == 0) && (obd_ii_ign_adv_per_cylinder[3] < ign_adv_min)
     ) {
    obd_ii_ign_adv_per_cylinder[3] = ign_adv_min;
  }
  else if ((((COD_base[0] >> 0xd & 7) == 1) &&
           ((coolant_temp < u8_temp_5_8_40c_40008913 && ((engine_operating_state_flags & 0x20) != 0)
            ))) && (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[3])) {
    obd_ii_ign_adv_per_cylinder[3] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[3] < obd_ii_ign_adv_per_cylinder[3]) {
    obd_ii_ign_adv_per_cylinder[3] = ign_adv_with_knock_retard[3];
  }
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl5 =
         __ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[4] ^ 0x80) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl5 =
         ((__ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[4] ^ 0x80) + ign_adv_target2
          ) - (ushort)LEA_ign_knock_retard[4]) - (ushort)ign_retard_knock[4];
  }
  if (ign_per_cyl_enable2___[4] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[4] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[4] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[4] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[4] = ign_target_reduced_target[4];
    }
    else {
      ign_adv_with_torque_retard[4] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[4] = ign_adv_base_cyl5 - ign_adv_with_torque_retard[4];
  if (((engine_operating_state_flags & 0x20) == 0) && (obd_ii_ign_adv_per_cylinder[4] < ign_adv_min)
     ) {
    obd_ii_ign_adv_per_cylinder[4] = ign_adv_min;
  }
  else if (((COD_base[0] >> 0xd & 7) == 1) &&
          (((coolant_temp < u8_temp_5_8_40c_40008913 && ((engine_operating_state_flags & 0x20) != 0)
            ) && (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[4])))) {
    obd_ii_ign_adv_per_cylinder[4] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[4] < obd_ii_ign_adv_per_cylinder[4]) {
    obd_ii_ign_adv_per_cylinder[4] = ign_adv_with_knock_retard[4];
  }
  if (CAL_ign_enable_lea_knock_retard == false) {
    ign_adv_base_cyl6 =
         __ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[5] ^ 0x80) + ign_adv_target2;
  }
  else {
    ign_adv_base_cyl6 =
         ((__ign_comp_roughness_detection + (char)(CAL_ign_trim_per_cyl[5] ^ 0x80) + ign_adv_target2
          ) - (ushort)LEA_ign_knock_retard[5]) - (ushort)ign_retard_knock[5];
  }
  if (ign_per_cyl_enable2___[5] != false) {
    if ((int)ign_adv_min <
        ((int)ign_adv_target2 + (int)(char)(CAL_ign_trim_per_cyl[5] ^ 0x80)) -
        (int)ign_comp_torque_reduction) {
      ign_target_reduced_target[5] =
           ((ign_adv_target2 + (char)(CAL_ign_trim_per_cyl[5] ^ 0x80)) - ign_adv_min) -
           ign_comp_torque_reduction;
      ign_adv_with_torque_retard[5] = ign_target_reduced_target[5];
    }
    else {
      ign_adv_with_torque_retard[5] = 0;
    }
  }
  obd_ii_ign_adv_per_cylinder[5] = ign_adv_base_cyl6 - ign_adv_with_torque_retard[5];
  if (((engine_operating_state_flags & 0x20) == 0) && (obd_ii_ign_adv_per_cylinder[5] < ign_adv_min)
     ) {
    obd_ii_ign_adv_per_cylinder[5] = ign_adv_min;
  }
  else if ((((COD_base[0] >> 0xd & 7) == 1) &&
           ((coolant_temp < u8_temp_5_8_40c_40008913 && ((engine_operating_state_flags & 0x20) != 0)
            ))) && (ign_mbt_modeled < obd_ii_ign_adv_per_cylinder[5])) {
    obd_ii_ign_adv_per_cylinder[5] = ign_mbt_modeled;
  }
  else if (ign_adv_with_knock_retard[5] < obd_ii_ign_adv_per_cylinder[5]) {
    obd_ii_ign_adv_per_cylinder[5] = ign_adv_with_knock_retard[5];
  }
  ign_adv_scheduled_angle[0] = obd_ii_ign_adv_per_cylinder[0] * 40 >> 4;
  ign_adv_scheduled_angle[1] = obd_ii_ign_adv_per_cylinder[1] * 40 >> 4;
  ign_adv_scheduled_angle[2] = obd_ii_ign_adv_per_cylinder[2] * 40 >> 4;
  ign_adv_scheduled_angle[3] = obd_ii_ign_adv_per_cylinder[3] * 40 >> 4;
  ign_adv_scheduled_angle[4] = obd_ii_ign_adv_per_cylinder[4] * 40 >> 4;
  ign_adv_scheduled_angle[5] = obd_ii_ign_adv_per_cylinder[5] * 40 >> 4;
  _ign_dwell_time = (ulonglong)ign_dwell_time;
  crankspeed_scaling = (ulonglong)eTPU_crank_angle_speed_scaling;
  for (cyl2 = 0; cyl2 < 6; cyl2 = cyl2 + 1) {
    _ign_dwell_angle = (u32_angle_1_10deg)((_ign_dwell_time * 1000) / crankspeed_scaling);
    if ((int)(_ign_dwell_angle + ign_adv_scheduled_angle[cyl2]) < 3051) {
      ign_volt_comp_angle_per_cyl[cyl2] = _ign_dwell_angle;
    }
    else {
      ign_volt_comp_angle_per_cyl[cyl2] = 3050 - ign_adv_scheduled_angle[cyl2];
    }
  }
  if ((DAT_40001948 == 1) && (DAT_40001898 == 0)) {
    ign_angle_set_unknown(0,1550,_ign_enable[0]);
    ign_angle_set_unknown(1,2750,_ign_enable[1]);
    ign_angle_set_unknown(2,3950,_ign_enable[2]);
    ign_angle_set_unknown(3,5150,_ign_enable[3]);
    ign_angle_set_unknown(4,6350,_ign_enable[4]);
    ign_angle_set_unknown(5,350,_ign_enable[5]);
  }
  return;
}



void ignition_retard_and_recovery_200hz(void)

{
  uint i;
  bool timer_tmp1_expired;
  bool timer_tmp2_expired;
  
  timer_tmp1_expired = ign_idle_comp_recovery_timer_5ms == 0;
  ign_idle_comp_recovery_timer_5ms = ign_idle_comp_recovery_timer_5ms + 0xff;
  if (timer_tmp1_expired) {
    ign_idle_comp_recovery_timer_5ms = 0;
  }
  for (i = 0; (i & 0xff) < 6; i = i + 1) {
    if (((uint)DAT_400018c7 & 1 << (i & 0b00111111)) != 0) {
      if ((short)(ushort)ign_retard_recovery_step < ign_adv_with_torque_retard[i & 0xff]) {
        ign_adv_with_torque_retard[i & 0xff] =
             ign_adv_with_torque_retard[i & 0xff] - (ushort)ign_retard_recovery_step;
      }
      else {
        ign_adv_with_torque_retard[i & 0xff] = 0;
      }
    }
  }
  if (((((engine_operating_state_flags & 0b00100000) == 0) || (injtip_overrun_inhibit_timer != 0))
      && (((inj_flags & 1) == 0 || (ign_flags_unknown != 0b00111111)))) &&
     ((trqlimit_external_request_flags___ & 0x1f) == 0)) {
    if ((((car_speed_u8 < CAL_vehicle_moving_threshold_) || ((short)obd_ii_idle_speed_error___ < 1))
        || ((int)((int)ign_adv_target2 - (uint)ign_adv_tps_comp2) <= (int)ign_adv_target)) ||
       (((inj_flags & 1) != 0 && (ign_flags_unknown == '?')))) {
      if ((int)((int)ign_adv_target2 + (uint)ign_tps_comp) < (int)ign_adv_target) {
        ign_target_slew_counter_ = ign_target_slew_counter_ + 1;
        if (9 < ign_target_slew_counter_) {
          if (ign_adv_target2 < ign_adv_min) {
            ign_adv_target2 = ign_adv_min;
          }
          ign_target_slew_counter_ = 0;
          ign_adv_target2 = ign_adv_target2 + (ushort)ign_tps_comp;
        }
      }
      else {
        ign_adv_target2 = ign_adv_target;
      }
    }
    else {
      ign_target_slew_counter_ = ign_target_slew_counter_ + 1;
      if (9 < ign_target_slew_counter_) {
        ign_target_slew_counter_ = '\0';
        ign_adv_target2 = ign_adv_target2 - (ushort)ign_adv_tps_comp2;
      }
    }
  }
  else {
    ign_adv_target2 = ign_adv_target;
  }
  if (engine_is_running == false) {
    ign_target_update_inhibit_timer_5ms = (ushort)u8_time_10ms_4000869a << 1;
  }
  else {
    timer_tmp2_expired = ign_target_update_inhibit_timer_5ms == 0;
    ign_target_update_inhibit_timer_5ms = ign_target_update_inhibit_timer_5ms - 1;
    if (timer_tmp2_expired) {
      ign_target_update_inhibit_timer_5ms = 0;
    }
  }
  if ((inj_flags & 1) == 0) {
    ign_timer_unknown3 = (ushort)u8_time_10ms_40008885 << 1;
  }
  else if (ign_timer_unknown3 != 0) {
    ign_timer_unknown3 = ign_timer_unknown3 - 1;
  }
  return;
}



void rate_limit_unknown_200hz(void)

{
  byte bVar1;
  byte bVar2;
  
  bVar1 = lookup_2D_uint8_interpolated
                    ('\b',engine_speed_3,CAL_unknown_rate_limit2,CAL_unknown_rate_limit2_X_rpm);
  bVar2 = lookup_2D_uint8_interpolated
                    ('\b',engine_speed_3,CAL_unknown_rate_limit3,CAL_unknown_rate_limit3_X_rpm);
  if ((short)tps_rate_unknown2_ < 0) {
    DAT_40001aba = DAT_40001aba + 1;
    if ((short)(ushort)DAT_4000868a <= DAT_40001aba) {
      DAT_40001aba = 0;
      tps_rate_unknown2_ = tps_rate_unknown2_ + bVar2;
      if (0 < (short)tps_rate_unknown2_) {
        tps_rate_unknown2_ = 0;
      }
    }
  }
  else if ((0 < (short)tps_rate_unknown2_) &&
          (DAT_40001aba = DAT_40001aba + 1, (short)(ushort)DAT_40008689 <= DAT_40001aba)) {
    DAT_40001aba = 0;
    tps_rate_unknown2_ = tps_rate_unknown2_ - bVar1;
    if ((short)tps_rate_unknown2_ < 0) {
      tps_rate_unknown2_ = 0;
    }
  }
  if ((short)tps_delta_rate < 0) {
    if ((int)(short)tps_delta_rate < -(int)(short)CAL_unknown_rate_limit1[0]) {
      if ((int)(short)tps_delta_rate < -(int)(short)CAL_unknown_rate_limit1[1]) {
        tps_rate_unknown2_ = -CAL_unknown_rate_limit1[1];
        DAT_40001aba = 0;
      }
      else if ((short)tps_delta_rate < (short)tps_rate_unknown2_) {
        tps_rate_unknown2_ = tps_delta_rate;
        DAT_40001aba = 0;
      }
    }
  }
  else if ((short)u16_factor_1_1023_4000897c < (short)tps_delta_rate) {
    if ((short)u16_factor_1_1023_4000897e < (short)tps_delta_rate) {
      tps_rate_unknown2_ = u16_factor_1_1023_4000897e;
      DAT_40001aba = 0;
    }
    else if ((short)tps_rate_unknown2_ < (short)tps_delta_rate) {
      tps_rate_unknown2_ = tps_delta_rate;
      DAT_40001aba = 0;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Key injector characterizations appear in these calibrations:
// Flow rate vs fuel pressure:
// CAL_inj_flow_rate_X_fuel_pressure (u16_pressure_mbar[8])
// CAL_inj_flow_rate (u16_flow_mg/s[8])
// Used to compute inj_flow_rate and then inj_flow_rate_scaled with efficiency
// ;
// Injector efficiency (global scaling by speed/load; doubles as characterization fudge factor):
// CAL_inj_efficiency (u8_factor_1/200[400]) with axes CAL_inj_efficiency_X_engine_speed,
// CAL_inj_efficiency_Y_engine_load
// inj_efficiency
// Dead time / battery and pressure compensation (time base):
// CAL_inj_time_base (u8_time_20us[64]) with axes CAL_inj_time_base_X_car_voltage
// (u8_voltage_72/1023v[8]),
// CAL_inj_time_base_Y_fuel_pressure (u8_pressure_50mbar[8])
// This lookup feeds inj_pulse_time_us_raw = inj_time_base * 20 * air_temp_comp / 100, acting like
// an injector latency/offset table dependent on battery voltage and differential pressure.
// ;
// Bank balance (split between banks, effectively per-bank flow distribution):
// CAL_inj_bank_balance with axes CAL_inj_bank_balance_X_engine_speed, Y_load
// Produces inj_split_unknown that divides scaled flow into bank1/bank2 portions
// b2_
// Additional inputs that influence total pulse width but are not injector hardware per se:
// CAL_inj_comp_iat (+ variant using manifold temp)
// CAL_inj_startup_enrichment_offset (adds time offset at start)
// CAL_inj_afr_base (target AFR map)
// Transient/DFCO/tip-in comps (CAL_injtip_)
// Summary: For injector hardware characterization specifically, focus on:
// CAL_inj_flow_rate, CAL_inj_flow_rate_X_fuel_pressure (flow vs P)
// CAL_inj_time_base, CAL_inj_time_base_{X_car_voltage, Y_fuel_pressure} (latency/dead time vs
// battery and pressure)
// CAL_inj_efficiency (+ axes) as an overall scaling factor
// CAL_inj_bank_balance (+ axes) for bank split (if applicable to your setup)
// 
// 

void injection(void)

{
  ushort uVar2;
  u32_pressure_mbar relative_fuel_pressure;
  u16_afr_1_100 _afr_target;
  u16_time_5ms uVar5;
  short _inj_efficiency;
  short _injection_split_unknown;
  uint uVar3;
  u32_time_us uVar4;
  u8_time_20us inj_time_base;
  u8_factor_1 inj_comp_air_temp_iat;
  u8_factor_1 inj_comp_air_temp_lookup;
  byte _inj_angle_lookup;
  u8_time_256us _inj_startup_enrichment_offset;
  u8_afr_1_20_5 afr_base_lookup;
  u8_factor_1_100 _inj_accel_enrichment_load_threshold;
  u8_factor_1_200 inj_efficiency_lookup;
  u8_factor_1_200 _inj_split_unknown_lookup;
  uint32_t uVar7;
  byte bVar8;
  ulonglong uVar6;
  uint _inj_flow_b1_;
  uint _inj_flow_b2_;
  uint _fuel_mass_required;
  u32_time_us uVar1;
  undefined *inj_pulse_time_us_raw;
  
  relative_fuel_pressure = (uint)fuel_pressure_abs2 - (uint)map;
  if ((int)relative_fuel_pressure < 0) {
    fuel_pressure_manifold_relative = 0;
  }
  else {
    fuel_pressure_manifold_relative = (u16_pressure_mbar)relative_fuel_pressure;
    if (65535 < (int)relative_fuel_pressure) {
      fuel_pressure_manifold_relative = 65535;
    }
  }
  if (fuel_pressure_manifold_relative < 12751) {
    fuel_pressure_lookup_for_time_base = (u8_pressure_50mbar)(fuel_pressure_manifold_relative / 50);
  }
  else {
    fuel_pressure_lookup_for_time_base = 255;
  }
  inj_time_base =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)((int)(uint)sensor_adc_ecu_voltage >> 2) & 0xff,
                  (ushort)fuel_pressure_lookup_for_time_base,CAL_inj_time_base,
                  CAL_inj_time_base_X_car_voltage,CAL_inj_time_base_Y_fuel_pressure);
  if (CAL_ecu_inj_use_tmap == false) {
    inj_comp_air_temp_lookup =
         lookup_2D_uint8_interpolated('\b',temp_engine_air,CAL_inj_comp_iat,CAL_inj_comp_iat_X_iat);
    inj_comp_air_temp_iat = inj_comp_air_temp_lookup;
  }
  else {
    inj_comp_air_temp_iat =
         lookup_2D_uint8_interpolated
                   (8,obd_ii_manifold_temp,CAL_inj_comp_iat,CAL_inj_comp_iat_X_iat);
  }
  inj_pulse_time_us_raw =
       (undefined *)(((uint)inj_time_base * 20 * (uint)inj_comp_air_temp_iat) / 100);
  inj_pulse_time_scaled = (u16_time_us)inj_pulse_time_us_raw;
  if (&DAT_000013ec < inj_pulse_time_us_raw) {
    inj_pulse_time_scaled = 5100;
  }
                    // DAT_400017fa seems to always be zero.
  _inj_angle_lookup = DAT_400017fa;
  inj_comp_air_temp_raw = inj_comp_air_temp_iat;
  if (DAT_400017fa < 3) {
                    // This table is just to globally adjust the injector start time angle. It is
                    // all zeros for the stock calibration.
    _inj_angle_lookup =
         lookup_3D_uint8_interpolated
                   (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_inj_angle,
                    CAL_inj_angle_X_engine_speed,CAL_inj_angle_Y_load);
  }
  inj_angle_unknown_always_zero = (int)((uint)_inj_angle_lookup * 7200) >> 8;
  inj_angle_unknown2_always_zero = _inj_angle_lookup;
  _inj_startup_enrichment_offset =
       lookup_2D_uint8_interpolated
                 (16,coolant_temp_engine_stopped,CAL_inj_startup_enrichment_offset,
                  CAL_inj_startup_enrichment_offset_X_coolant_temp_engine_stopped);
  inj_startup_enrichment_offset = (uint)_inj_startup_enrichment_offset * 0x100;
  inj_startup_pulse_time = inj_startup_enrichment_offset + inj_pulse_time_scaled;
  if (65535 < inj_startup_pulse_time) {
    inj_startup_pulse_time = 65535;
  }
  afr_base_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_inj_afr_base,
                  CAL_inj_afr_base_X_engine_speed,CAL_inj_afr_base_Y_engine_load);
                    // afr_target_trim_0p02_steps appears to be always zero
  _afr_target = (ushort)afr_base_lookup * 5 + afr_target_trim_0p02_steps * 2 + 500;
  afr_target = _afr_target;
  _inj_accel_enrichment_load_threshold =
       lookup_2D_uint8_interpolated
                 ('\b',engine_speed_3,CAL_inj_accel_enrichment_load_threshold,
                  CAL_inj_accel_enrichment_load_threshold_X_rpm);
                    // logic for entering/exiting closed loop mode.
  if (((fuel_flags_unknown & 1) == 0) &&
     (closedloop_entry_delay_steps = CAL_closedloop_entry_delay_time_cruise,
     _inj_accel_enrichment_load_threshold < load_pct)) {
    closedloop_entry_delay_steps = CAL_closedloop_entry_delay_power_enrich;
  }
  afr_target2 = _afr_target;
  if (_afr_target == CAL_closedloop_afr) {
    uVar5 = 0;
    if ((fuel_flags_unknown & 1) == 0) {
      uVar5 = u16_time_5ms_40001b22;
    }
    fuel_flags_unknown = fuel_flags_unknown & 0b11111101;
    u16_time_5ms_40001b22 = uVar5;
  }
  else if ((u16_time_5ms_40001b22 < (ushort)((ushort)closedloop_entry_delay_steps << 2)) &&
          ((fuel_flags_unknown & 1) == 0)) {
    fuel_flags_unknown = fuel_flags_unknown | 2;
    afr_target2 = CAL_closedloop_afr;
  }
  else {
    fuel_flags_unknown = fuel_flags_unknown & 0xfd;
  }
  if (afr_target2 < CAL_closedloop_afr) {
    fuel_flags_unknown = fuel_flags_unknown | 1;
    if ((int)((knock_ign_retard_cyl0 / 6 - (int)ign_rpm_and_coolant_comp) - (int)ign_comp_iat) < 1)
    {
      afr_enrichment_commanded_unknown = 0;
    }
    else if ((int)((uint)CAL_inj_comp_power_enrich_from_ign_retard *
                  ((knock_ign_retard_cyl0 / 6 - (int)ign_rpm_and_coolant_comp) - (int)ign_comp_iat))
             >> 2 < 256) {
      afr_enrichment_commanded_unknown =
           (byte)((int)((uint)CAL_inj_comp_power_enrich_from_ign_retard *
                       ((knock_ign_retard_cyl0 / 6 - (int)ign_rpm_and_coolant_comp) -
                       (int)ign_comp_iat)) >> 2);
    }
    else {
      afr_enrichment_commanded_unknown = 0xff;
    }
  }
  else {
    fuel_flags_unknown = fuel_flags_unknown & 254;
    afr_enrichment_commanded_unknown = 0;
  }
  inj_accel_enrichment_load_threshold = _inj_accel_enrichment_load_threshold;
  inj_efficiency_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_inj_efficiency,
                  CAL_inj_efficiency_X_engine_speed,CAL_inj_efficiency_Y_engine_load);
  _inj_efficiency =
       (short)((int)(short)(inj_efficiency_test_trim - 128) -
               ((int)(short)(inj_efficiency_test_trim - 128) >> 31) >> 1) +
       (ushort)inj_efficiency_lookup;
  if (_inj_efficiency < 256) {
    inj_efficiency = (u8_factor_1_100)_inj_efficiency;
    if (_inj_efficiency < 100) {
      inj_efficiency = 100;
    }
  }
  else {
    inj_efficiency = 255;
  }
  inj_flow_rate =
       lookup_2D_uint16_interpolated
                 (8,fuel_pressure_manifold_relative,CAL_inj_flow_rate,
                  CAL_inj_flow_rate_X_fuel_pressure);
  if (inj_flow_rate < 20001) {
    if (inj_flow_rate < 5000) {
      inj_flow_rate = 5000;
    }
  }
  else {
    inj_flow_rate = 20000;
  }
  inj_flow_rate_scaled =
       (u16_flow_mg_s)
       ((ulonglong)((longlong)(int)(uint)inj_efficiency * (longlong)(int)(uint)inj_flow_rate) / 200)
  ;
  _inj_split_unknown_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,CAL_inj_bank_balance,
                  CAL_inj_bank_balance_X_engine_speed,CAL_inj_bank_balance_Y_load);
                    // DAT_400017f5 seems to always be 128, which makes this component zero.
  _injection_split_unknown =
       (short)((int)(DAT_400017f5 - 128) / 2) + (ushort)_inj_split_unknown_lookup;
  if (_injection_split_unknown < 170) {
    inj_split_unknown = 170;
  }
  else {
    inj_split_unknown = (byte)_injection_split_unknown;
    if (230 < _injection_split_unknown) {
      inj_split_unknown = 230;
    }
  }
  _inj_flow_b1_ = (int)((uint)inj_flow_rate_scaled * (400 - (uint)inj_split_unknown)) / 200;
  inj_flow_rate_b1_ = (u16_flow_mg_s)_inj_flow_b1_;
  _inj_flow_b2_ = ((uint)inj_flow_rate_scaled * (uint)inj_split_unknown) / 200;
  inj_flow_rate_b2_ = (u16_flow_mg_s)_inj_flow_b2_;
  afr_commanded = afr_target2 - afr_enrichment_commanded_unknown;
  if (afr_commanded < 800) {
    afr_commanded = 800;
  }
  _fuel_mass_required = (int)(load_mass_per_stroke_raw * 10000) / (int)(uint)afr_commanded;
  inj_fuel_mass_required = (u16_mass_100ug)_fuel_mass_required;
  if (u16_mass_100ug_40002314 < inj_fuel_mass_required) {
    u16_mass_100ug_40001b04 = inj_fuel_mass_required - u16_mass_100ug_40002314;
    mass_ratio_b1_prev =
         (undefined1)
         ((int)((uint)u16_mass_100ug_40002314 * 256 - (uint)u16_mass_100ug_40002314) /
         (int)(_fuel_mass_required & 0xffff));
  }
  else {
    u16_mass_100ug_40001b04 = 0;
    mass_ratio_b1_prev = 0xff;
  }
  mass_to_time_scaler_b1 = ((uint)u16_mass_100ug_40001b04 * 10000) / (_inj_flow_b1_ & 0xffff);
  if (u16_mass_100ug_40002316 < inj_fuel_mass_required) {
    u16_mass_100ug_40001b06 = inj_fuel_mass_required - u16_mass_100ug_40002316;
    DAT_40001b1a = (undefined1)
                   ((int)((uint)u16_mass_100ug_40002316 * 0x100 - (uint)u16_mass_100ug_40002316) /
                   (int)(_fuel_mass_required & 0xffff));
  }
  else {
    u16_mass_100ug_40001b06 = 0;
    DAT_40001b1a = 0xff;
  }
  DAT_40001ac8 = ((uint)u16_mass_100ug_40001b06 * 10000) / (_inj_flow_b2_ & 0xffff);
  if ((COD_base[0] >> 0xd & 7) == 1) {
    inj_enrichment_factor_load_n_coolant =
         lookup_3D_uint8_interpolated
                   (12,16,(ushort)load_mass_per_stroke,(ushort)coolant_temp,
                    CAL_inj_enrichment_factor_load_n_coolant_ips,
                    CAL_inj_enrichment_factor_load_n_coolant_ips_X_load,
                    CAL_inj_enrichment_factor_load_n_coolant_ips_Y_coolant);
  }
  else {
    inj_enrichment_factor_load_n_coolant =
         lookup_3D_uint8_interpolated
                   (12,16,(ushort)load_mass_per_stroke,(ushort)coolant_temp,
                    CAL_inj_enrichment_factor_load_n_coolant_manual,
                    CAL_inj_enrichment_factor_load_n_coolant_manual_X_load,
                    CAL_inj_enrichment_factor_load_n_coolant_manual_Y_coolant);
  }
  if (inj_enrichment_factor_load_n_coolant < 64) {
    inj_enrichment_factor_load_n_coolant = 64;
  }
  if (CAL_ecu_inj_use_tmap == false) {
    inj_comp_air_temp_raw2 =
         lookup_3D_uint8_interpolated
                   (8,16,(ushort)load_mass_per_stroke,(ushort)temp_engine_air,CAL_inj_comp_air_temp2
                    ,CAL_inj_comp_air_temp2_X_load,CAL_inj_comp_air_temp2_Y_air_temp);
  }
  else {
    inj_comp_air_temp_raw2 =
         lookup_3D_uint8_interpolated
                   (8,16,(ushort)load_mass_per_stroke,(ushort)obd_ii_manifold_temp,
                    CAL_inj_comp_air_temp2,CAL_inj_comp_air_temp2_X_load,
                    CAL_inj_comp_air_temp2_Y_air_temp);
  }
  if (inj_comp_air_temp_raw2 < 128) {
    inj_comp_air_temp_raw2 = 128;
  }
                    // cranking enrichment?
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if (maf_accumulated2 < 1024) {
      uVar7 = lookup_3D_uint32_interpolated
                        (12,14,(uint)coolant_temp_engine_stopped,(uint)maf_accumulated2,
                         CAL_inj_cranking_enrichment_coolant_ips,
                         CAL_inj_cranking_enrichment_coolant_ips_X_coolant_engine_stopped,
                         CAL_inj_cranking_enrichment_coolant_ips_Y_maf_accumulated);
      uVar3 = uVar7 & 0xff;
    }
    else {
      uVar3 = 32;
    }
  }
  else if (maf_accumulated2 < 1024) {
    uVar7 = lookup_3D_uint32_interpolated
                      (12,14,(uint)coolant_temp_engine_stopped,(uint)maf_accumulated2,
                       CAL_inj_cranking_enrichment_coolant_manual,
                       CAL_inj_cranking_enrichment_coolant_manual_X_coolant_engine_stopped,
                       CAL_inj_cranking_enrichment_coolant_manual_Y_maf_accumulated);
    uVar3 = uVar7 & 0xff;
  }
  else {
    uVar3 = 32;
  }
  cranking_enrichment_coolant = (u8_factor_1_32)uVar3;
  if (uVar3 < 0x20) {
    cranking_enrichment_coolant = ' ';
  }
  if (CAL_ecu_inj_use_tmap == false) {
    if (maf_accumulated2 < 2040) {
      inj_comp_air_temp_raw3 =
           lookup_3D_uint8_interpolated
                     (10,10,(ushort)temp_engine_air,
                      (ushort)((int)(uint)maf_accumulated2 >> 3) & 0xff,
                      CAL_inj_comp_air_temp_startup,CAL_inj_comp_air_temp_startup_X_air_temp,
                      CAL_inj_comp_air_temp_startup_Y_maf_accum);
    }
    else {
      inj_comp_air_temp_raw3 =
           lookup_3D_uint8_interpolated
                     (10,10,(ushort)temp_engine_air,0xff,CAL_inj_comp_air_temp_startup,
                      CAL_inj_comp_air_temp_startup_X_air_temp,
                      CAL_inj_comp_air_temp_startup_Y_maf_accum);
    }
  }
  else if (maf_accumulated2 < 2040) {
    inj_comp_air_temp_raw3 =
         lookup_3D_uint8_interpolated
                   (10,10,(ushort)obd_ii_manifold_temp,
                    (ushort)((int)(uint)maf_accumulated2 >> 3) & 0xff,CAL_inj_comp_air_temp_startup,
                    CAL_inj_comp_air_temp_startup_X_air_temp,
                    CAL_inj_comp_air_temp_startup_Y_maf_accum);
  }
  else {
    inj_comp_air_temp_raw3 =
         lookup_3D_uint8_interpolated
                   (10,10,(ushort)obd_ii_manifold_temp,0xff,CAL_inj_comp_air_temp_startup,
                    CAL_inj_comp_air_temp_startup_X_air_temp,
                    CAL_inj_comp_air_temp_startup_Y_maf_accum);
  }
  if (inj_comp_air_temp_raw3 < 65) {
    if (inj_comp_air_temp_raw3 < 32) {
      inj_comp_air_temp_raw3 = 32;
    }
  }
  else {
    inj_comp_air_temp_raw3 = 64;
  }
  if (maf_accum_unknown2_scaled < 2041) {
    if (CAL_ecu_inj_use_tmap == false) {
      cranking_enrichment_air_temp =
           lookup_3D_uint8_interpolated
                     (8,8,(ushort)engine_air_temp2,(ushort)coolant_temp_engine_stopped,
                      CAL_inj_cranking_enrichment_air_temp,
                      CAL_inj_cranking_enrichment_air_temp_X_iat,
                      CAL_inj_cranking_enrichment_air_temp_Y_coolant_temp_engine_stopped);
    }
    else {
      cranking_enrichment_air_temp =
           lookup_3D_uint8_interpolated
                     (8,8,(ushort)iat2,(ushort)coolant_temp_engine_stopped,
                      CAL_inj_cranking_enrichment_air_temp,
                      CAL_inj_cranking_enrichment_air_temp_X_iat,
                      CAL_inj_cranking_enrichment_air_temp_Y_coolant_temp_engine_stopped);
    }
    cranking_enrichment_load =
         lookup_2D_uint8_interpolated
                   ('\x06',load_mass_per_stroke,CAL_inj_cranking_enrichment_load,
                    CAL_inj_cranking_enrichment_load_X_load);
    inj_cranking_enrichment_unknown1 =
         lookup_2D_uint8_interpolated
                   ('\n',(uint8_t)((ushort)DAT_40001612 >> 8),CAL_inj_cranking_enrichment_unknown1,
                    CAL_inj_cranking_enrichment_unknown1_X_unknown);
    cranking_enrichment_mass_accum =
         lookup_2D_uint8_interpolated
                   ('\n',(uint8_t)((int)(uint)maf_accum_unknown2_scaled >> 3),
                    CAL_inj_cranking_enrichment_mass_accum,
                    CAL_inj_cranking_enrichment_mass_accum_X_maf_accum);
    enrichment_cranking_blend =
         (byte)(((uint)cranking_enrichment_mass_accum *
                (uint)inj_cranking_enrichment_unknown1 * (uint)cranking_enrichment_air_temp) /
               0xfe01);
  }
  else {
    enrichment_cranking_blend = 0;
  }
  uVar3 = (uint)inj_comp_air_temp_raw3 * mass_to_time_scaler_b1 * cranking_enrichment_coolant;
  uVar3 = (uint)inj_enrichment_factor_load_n_coolant *
          (((int)uVar3 >> 10) + (uint)((int)uVar3 < 0 && (uVar3 & 0x3ff) != 0));
  uVar3 = (uint)inj_comp_air_temp_raw2 *
          (((int)uVar3 >> 6) + (uint)((int)uVar3 < 0 && (uVar3 & 0x3f) != 0));
  u32_time_us_40001b3c =
       u32_time_us_40001cb0 + inj_tip_adj_enrichment +
       inj_tip_adj_enleanment +
       ((int)(&DAT_00002710 + DAT_40001cd0) *
       ((int)((enrichment_cranking_blend + 0xff) *
             (((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0))) / 0xff)) / 10000;
  uVar3 = (uint)inj_comp_air_temp_raw3 * DAT_40001ac8 * cranking_enrichment_coolant;
  uVar3 = (uint)inj_enrichment_factor_load_n_coolant *
          (((int)uVar3 >> 10) + (uint)((int)uVar3 < 0 && (uVar3 & 0x3ff) != 0));
  uVar3 = (uint)inj_comp_air_temp_raw2 *
          (((int)uVar3 >> 6) + (uint)((int)uVar3 < 0 && (uVar3 & 0x3f) != 0));
  u32_time_us_40001b40 =
       u32_time_us_40001cb0 + inj_tip_adj_enrichment +
       inj_tip_adj_enleanment +
       ((int)(&DAT_00002710 + DAT_40001cd0) *
       ((int)((enrichment_cranking_blend + 0xff) *
             (((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0))) / 0xff)) / 10000;
  uVar4 = u32_time_us_40001b3c;
  uVar1 = u32_time_us_40001b40;
  if ((engine_is_running != false) && (maf_accumulated2 < 4080)) {
    bVar8 = lookup_3D_uint8_interpolated
                      (8,8,(ushort)coolant_temp_engine_stopped,
                       (ushort)((int)(uint)maf_accumulated2 >> 4) & 0xff,uint8_t_64_,s_0_P__4000c49a
                       ,uint8_t_8_);
    DAT_40001b31 = 24;
    if (24 < bVar8) {
      DAT_40001b31 = bVar8;
    }
    uVar3 = mass_to_time_scaler_b1 * DAT_40001b31;
    u32_time_us_40001b34 = ((int)uVar3 >> 4) + (uint)((int)uVar3 < 0 && (uVar3 & 0xf) != 0);
    uVar3 = DAT_40001ac8 * DAT_40001b31;
    u32_time_us_40001b38 = ((int)uVar3 >> 4) + (uint)((int)uVar3 < 0 && (uVar3 & 0xf) != 0);
    uVar4 = u32_time_us_40001b3c;
    if ((int)u32_time_us_40001b34 < (int)u32_time_us_40001b3c) {
      uVar4 = u32_time_us_40001b34;
    }
    uVar1 = u32_time_us_40001b38;
    if ((int)u32_time_us_40001b40 <= (int)u32_time_us_40001b38) {
      u32_time_us_40001b00 = u32_time_us_40001b40;
      uVar1 = u32_time_us_40001b00;
    }
  }
  u32_time_us_40001b00 = uVar1;
  u32_time_us_40001afc = uVar4;
  if ((int)(0x7fffffff / CAL_inj_stft_max____) < (int)u32_time_us_40001afc) {
    u32_time_us_40001afc = 0x7fffffff / CAL_inj_stft_max____;
  }
  if (0x418937 < (int)u32_time_us_40001afc) {
    u32_time_us_40001afc = 0x418937;
  }
  DAT_40001af0 = (int)(u32_time_us_40001afc * (int)ltft_bank1) / 1000 +
                 u32_time_us_40001afc + (int)(u32_time_us_40001afc * (int)stft_bank1) / 2000;
  if (DAT_40001af0 < 0) {
    obd_ii_injector_pulse_time_bank1_us = (u32_time_us)inj_pulse_time_scaled;
  }
  else if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == 0)) {
    obd_ii_injector_pulse_time_bank1_us =
         (uint)inj_pulse_time_scaled + LEA_fuel_learn_lean_time_bank1 + DAT_40001af0;
  }
  else {
    obd_ii_injector_pulse_time_bank1_us =
         (uint)inj_pulse_time_scaled + (short)u16_time_us_40003d30 + DAT_40001af0;
  }
  inj_pw_window_size = engine_speed_period_2 * 8 - 250;
  if ((int)obd_ii_injector_pulse_time_bank1_us < 160) {
    obd_ii_injector_pulse_time_bank1_us = 160;
    inj_dutycycle___ = 0;
  }
  else {
    if (0xffff < (int)obd_ii_injector_pulse_time_bank1_us) {
      obd_ii_injector_pulse_time_bank1_us = 0xffff;
    }
    if ((int)inj_pw_window_size < (int)obd_ii_injector_pulse_time_bank1_us) {
      inj_dutycycle___ = 100;
      obd_ii_injector_pulse_time_bank1_us = inj_pw_window_size;
    }
    else {
      inj_dutycycle___ =
           (undefined1)((int)(obd_ii_injector_pulse_time_bank1_us * 100) / (int)inj_pw_window_size);
    }
  }
  _u16_time_us_40001af4 =
       (int)(u32_time_us_40001b00 * (int)ltft_bank2) / 1000 +
       u32_time_us_40001b00 + (int)(u32_time_us_40001b00 * (int)stft_bank2) / 2000;
  if (_u16_time_us_40001af4 < 0) {
    obd_ii_injector_pulse_time_bank2_us = (u32_time_us)inj_pulse_time_scaled;
  }
  else if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == 0)) {
    obd_ii_injector_pulse_time_bank2_us =
         (uint)inj_pulse_time_scaled + LEA_ltft_idle_b_adj + _u16_time_us_40001af4;
  }
  else {
    obd_ii_injector_pulse_time_bank2_us =
         (uint)inj_pulse_time_scaled + (short)u16_time_us_40003d32 + _u16_time_us_40001af4;
  }
  if ((int)obd_ii_injector_pulse_time_bank2_us < 160) {
    obd_ii_injector_pulse_time_bank2_us = 160;
    DAT_40001b0c = 0;
  }
  else {
    if (0xffff < (int)obd_ii_injector_pulse_time_bank2_us) {
      obd_ii_injector_pulse_time_bank2_us = 0xffff;
    }
    if ((int)inj_pw_window_size < (int)obd_ii_injector_pulse_time_bank2_us) {
      DAT_40001b0c = 100;
      obd_ii_injector_pulse_time_bank2_us = inj_pw_window_size;
    }
    else {
      DAT_40001b0c = (undefined1)
                     ((int)(obd_ii_injector_pulse_time_bank2_us * 100) / (int)inj_pw_window_size);
    }
  }
  if (engine_speed_2 < rev_limit) {
    uVar2 = injection_flags;
    if (engine_speed_2 <= revlimit_final_) {
      revlimit_state_flags = revlimit_state_flags & 0xffef;
      uVar2 = injection_flags & 0xffde;
    }
  }
  else {
    if ((revlimit_state_flags & 0x10) == 0) {
      revlimit_state_flags = revlimit_state_flags | 0x40;
    }
    uVar2 = injection_flags | 9;
    if ((injection_flags & 0x20) == 0) {
      revlimit_fuelcut_count = revlimit_fuelcut_count + '\x01';
      uVar2 = injection_flags | 0x29;
    }
  }
  injection_flags = uVar2;
  if ((int)(uint)engine_speed_2 <= (int)((uint)rev_limit - (uint)CAL_revlimit_inj_threshold_unknown)
     ) {
    injection_flags = injection_flags & 0b1111111111110111;
    u16_time_100ms_40001b16 = 0;
  }
  if ((ignition_on_flags & 1) == 0) {
    injection_flags = injection_flags | 0b00010000;
    inj_pulse_time_b2 = 160;
    inj_pulse_time_b1 = 160;
  }
  else {
    injection_flags = injection_flags & 0b1111111111101111;
    inj_pulse_time_b1 = (u16_time_us)obd_ii_injector_pulse_time_bank1_us;
    inj_pulse_time_b2 = (u16_time_us)obd_ii_injector_pulse_time_bank2_us;
  }
  if ((DAT_40001948 == 1) && (DAT_40001898 == 0)) {
    inj_set_trigger('\0',1550);
    inj_set_trigger(1,2750);
    inj_set_trigger(2,3950);
    inj_set_trigger(3,5150);
    inj_set_trigger(4,6350);
    inj_set_trigger(5,350);
  }
  if ((inj_flags & 1) == 0) {
    fuel_usage_instantaneous =
         (ushort)((int)((uint)engine_speed_2 *
                       ((int)((uint)inj_flow_rate *
                             (DAT_40001af0 + _u16_time_us_40001af4 >> 1 & 0xffffU)) /
                       (int)(uint)CAL_fuel_usage_to_flow_scaling)) / 15000);
  }
  else {
    fuel_usage_instantaneous = 0;
  }
  if (car_speed_u8 == 0) {
    fuel_mileage_instantaneous = 0;
  }
  else {
                    // mpg?
    fuel_mileage_instantaneous =
         (undefined2)(((uint)fuel_usage_instantaneous * 360) / (uint)car_speed_u8);
  }
  if ((CAL_inj_pulsewidth_scaling_unknown < 0xff) && (engine_speed_2 != 0)) {
    u32_time_us_40001b2c = (int)(inj_pw_window_size * CAL_inj_pulsewidth_scaling_unknown) / 0xff;
    if ((int)obd_ii_injector_pulse_time_bank1_us < (int)obd_ii_injector_pulse_time_bank2_us) {
      uVar6 = inj_calc_pw_limit___
                        (u32_time_us_40001b2c,u16_time_us_40003d32,LEA_ltft_idle_b_adj,stft_bank2,
                         ltft_bank2,(uint)inj_flow_rate_b2_,(uint)u16_mass_100ug_40002316);
      inj_pw_limit___ = (uint32_t)uVar6;
    }
    else {
      uVar6 = inj_calc_pw_limit___
                        (u32_time_us_40001b2c,u16_time_us_40003d30,LEA_fuel_learn_lean_time_bank1,
                         stft_bank1,ltft_bank1,(uint)inj_flow_rate_b1_,(uint)u16_mass_100ug_40002314
                        );
      inj_pw_limit___ = (uint32_t)uVar6;
    }
  }
  else {
    inj_pw_limit___ = 0xffff;
    u32_time_us_40001b2c = 0xffff;
  }
  return;
}



void injection_200hz(void)

{
  uint uVar1;
  ushort uVar2;
  
  if (((injection_flags & 8) == 0) || (0xfffe < u16_time_100ms_40001b16)) {
    inj_timer_unknown1 = 0;
  }
  else {
    inj_timer_unknown1 = inj_timer_unknown1 + 1;
    if (inj_timer_unknown1 == 20) {
      inj_timer_unknown1 = 0;
      u16_time_100ms_40001b16 = u16_time_100ms_40001b16 + 1;
    }
  }
  if (inj_start_angle_offset_deg < inj_angle_unknown_always_zero) {
    inj_start_angle_offset_deg = inj_start_angle_offset_deg + 20;
    if (inj_angle_unknown_always_zero < inj_start_angle_offset_deg) {
      inj_start_angle_offset_deg = inj_angle_unknown_always_zero;
    }
  }
  else if ((inj_angle_unknown_always_zero < inj_start_angle_offset_deg) &&
          (inj_start_angle_offset_deg = inj_start_angle_offset_deg + -20,
          inj_start_angle_offset_deg < inj_angle_unknown_always_zero)) {
    inj_start_angle_offset_deg = inj_angle_unknown_always_zero;
  }
  if (((fuel_flags_unknown & 2) == 0) || (65534 < u16_time_5ms_40001b22)) {
    if ((u16_time_5ms_40001b22 != 0) && ((fuel_flags_unknown & 1) == 0)) {
      u16_time_5ms_40001b22 = u16_time_5ms_40001b22 - 1;
    }
  }
  else {
    u16_time_5ms_40001b22 = u16_time_5ms_40001b22 + 1;
  }
  DAT_4000161c = DAT_4000161c + -1;
  uVar2 = PTR_DAT_40001614._0_2_;
  if (DAT_4000161c == 0) {
    DAT_4000161c = 20;
    if (engine_is_running) {
      if (PTR_DAT_40001614._0_2_ != 0) {
        uVar1 = (uint)obd_ii_maf_flow / (DAT_40008964 + 1);
        if (uVar1 < PTR_DAT_40001614._0_2_) {
          uVar2 = PTR_DAT_40001614._0_2_ - (short)uVar1;
        }
        else {
          PTR_DAT_40001614._0_2_ = 0;
          uVar2 = PTR_DAT_40001614._0_2_;
        }
      }
    }
    else {
      if (PTR_DAT_40001614._0_2_ < DAT_40001612) {
        DAT_40001612 = PTR_DAT_40001614._0_2_;
      }
      uVar2 = DAT_40008962;
      if (DAT_40001612 < DAT_40008962) {
        uVar2 = DAT_40001612 + 1;
      }
      DAT_40001612 = uVar2;
      uVar2 = DAT_40008962;
      if (PTR_DAT_40001614._0_2_ < DAT_40008962) {
        uVar2 = PTR_DAT_40001614._0_2_ + 1;
      }
    }
  }
  PTR_DAT_40001614._0_2_ = uVar2;
  return;
}



// inj_pulsewidth_unknown

ulonglong inj_calc_pw_limit___
                    (u32_time_us inj_pulsewidth_unknown,u16_time_us param_2,u16_time_us param_3,
                    short param_4,short param_5,uint param_6,uint param_7)

{
  int iVar1;
  u16_time_us iVar2;
  
  if (0xffff < (int)inj_pulsewidth_unknown) {
    inj_pulsewidth_unknown = 0xffff;
  }
  if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == 0)) {
    iVar1 = (uint)inj_pulse_time_scaled + (int)(short)param_3;
  }
  else {
    iVar1 = (uint)inj_pulse_time_scaled + (int)(short)param_2;
  }
  return ((longlong)
          (int)((int)(((longlong)
                       (((((((int)(((int)((inj_pulsewidth_unknown - iVar1) * 2000) /
                                    ((int)param_4 + param_5 * 2 + 2000) -
                                   (u32_time_us_40001cb0 +
                                   inj_tip_adj_enleanment + inj_tip_adj_enrichment)) * 10000) /
                            (int)(&DAT_00002710 + DAT_40001cd0)) * 0xff) /
                           (int)(enrichment_cranking_blend + 0xff) << 7) /
                          (int)(uint)inj_comp_air_temp_raw2 << 6) /
                         (int)(uint)inj_enrichment_factor_load_n_coolant << 10) /
                       (int)((uint)cranking_enrichment_coolant * (uint)inj_comp_air_temp_raw3)) *
                       (longlong)(int)((param_6 & 0xffff) / 5) & 0xffffffffU) / 2000) +
               (param_7 & 0xffff)) * (longlong)(int)(uint)afr_commanded & 0xffffffffU) / 10000;
}



void init_etpu(void)

{
  uint local_20;
  undefined *local_1c;
  undefined *local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined *local_c;
  undefined *local_8;
  undefined4 local_4;
  
  etpu_mcr_addr = &ETPU_MCR;
  DAT_40001b6c = ETPU_scm;
  etpu_base_unknown2 = (uint32_t)ETPU_shared_ram;
  DAT_40001b64 = 0xc3fc89fc;
  eTPU_base_unknown = (uint32_t)&ETPU_sdm_pse_mirror;
  local_20 = DAT_40000190;
  local_1c = PTR_DAT_40000194;
  local_18 = PTR_DAT_40000198;
  local_14 = DAT_4000019c;
  local_10 = DAT_400001a0;
  local_c = PTR_DAT_400001a4;
  local_8 = PTR_DAT_400001a8;
  local_4 = DAT_400001ac;
  FUN_00042290(&local_20,(undefined4 *)&DAT_000d0ac8,0x2400,(undefined4 *)&DAT_000d09b8,0x110);
  eTPU_set_enable_bit();
  return;
}



undefined8
FUN_00053a78(uint param_1,uint param_2,ulonglong param_3,uint param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9)

{
  undefined4 *puVar2;
  longlong lVar1;
  
  *(undefined2 *)(&DAT_c3fc0404 + (param_1 & 0xff) * 0x10) = 0xc0c0;
  FUN_00042404(param_1 & 0xff);
  if ((etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] & 0x7ff) == 0) {
    puVar2 = (undefined4 *)FUN_00042440(0x18);
    if (puVar2 == (undefined4 *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address((uint8_t)param_1);
    puVar2 = (undefined4 *)lVar1;
  }
  *puVar2 = param_5;
  puVar2[1] = param_6;
  puVar2[2] = param_7;
  puVar2[3] = param_8;
  puVar2[4] = param_9;
  puVar2[5] = param_2 & 0xff;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] =
       (int)((param_3 & 0xff) << 0x1c) + ((int)puVar2 - etpu_base_unknown2 >> 3);
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x101] = param_4 & 0xff;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] = 3;
  return 0;
}



undefined8
FUN_00053ba4(byte param_1,int param_2,uint param_3,undefined1 param_4,uint param_5,uint param_6,
            undefined1 param_7)

{
  uint *puVar2;
  longlong lVar1;
  
  *(undefined2 *)(&DAT_c3fc0404 + (uint)param_1 * 0x10) = 0xc0c0;
  FUN_00042404((uint)param_1);
  if ((etpu_mcr_addr[(uint)param_1 * 4 + 0x100] & 0x7ff) == 0) {
    puVar2 = (uint *)FUN_00042440(0x10);
    if (puVar2 == (uint *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address(param_1);
    puVar2 = (uint *)lVar1;
  }
  *puVar2 = param_5 & 0xff;
  puVar2[1] = param_6 & 0xff;
  *(undefined1 *)puVar2 = param_4;
  *(undefined1 *)(puVar2 + 1) = param_7;
  *(undefined1 *)(puVar2 + 2) = 0;
  *(undefined1 *)((int)puVar2 + 9) = 0;
  etpu_mcr_addr[(uint)param_1 * 4 + 0x100] =
       param_2 * 0x10000000 + 0x80000 + ((int)puVar2 - etpu_base_unknown2 >> 3);
  etpu_mcr_addr[(uint)param_1 * 4 + 0x101] = param_3 & 0xff;
  etpu_mcr_addr[(uint)param_1 * 4 + 0x102] = 1;
  return 0;
}



undefined8
FUN_00053cd8(uint param_1,ulonglong param_2,uint param_3,undefined4 param_4,undefined4 param_5)

{
  undefined4 *puVar2;
  longlong lVar1;
  
  *(undefined2 *)(&DAT_c3fc0404 + (param_1 & 0xff) * 0x10) = 0xc0c0;
  FUN_00042404(param_1 & 0xff);
  if ((etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] & 0x7ff) == 0) {
    puVar2 = (undefined4 *)FUN_00042440(0x10);
    if (puVar2 == (undefined4 *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address((uint8_t)param_1);
    puVar2 = (undefined4 *)lVar1;
  }
  *puVar2 = param_4;
  puVar2[1] = param_5;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] =
       (int)((param_2 & 0xff) << 0x1c) + 0x10000 + ((int)puVar2 - etpu_base_unknown2 >> 3);
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x101] = param_3 & 0xff;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] = 1;
  do {
  } while (etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] != 0);
  return 0;
}



undefined8
FUN_00053e00(byte param_1,int param_2,uint param_3,undefined1 param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9,
            undefined4 param_10,undefined4 param_11)

{
  undefined4 *puVar2;
  longlong lVar1;
  
  *(undefined2 *)(&DAT_c3fc0404 + (uint)param_1 * 0x10) = 0xc0c0;
  FUN_00042404((uint)param_1);
  if ((etpu_mcr_addr[(uint)param_1 * 4 + 0x100] & 0x7ff) == 0) {
    puVar2 = (undefined4 *)FUN_00042440(0x20);
    if (puVar2 == (undefined4 *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address(param_1);
    puVar2 = (undefined4 *)lVar1;
  }
  *puVar2 = param_5;
  puVar2[1] = param_6;
  puVar2[2] = param_7;
  puVar2[3] = param_8;
  puVar2[4] = param_9;
  puVar2[4] = param_10;
  puVar2[5] = param_11;
  *(undefined1 *)puVar2 = param_4;
  etpu_mcr_addr[(uint)param_1 * 4 + 0x100] =
       param_2 * 0x10000000 + 0x50000 + ((int)puVar2 - etpu_base_unknown2 >> 3);
  etpu_mcr_addr[(uint)param_1 * 4 + 0x101] = param_3 & 0xff;
  etpu_mcr_addr[(uint)param_1 * 4 + 0x102] = 7;
  return 0;
}



void FUN_00054054(ulonglong param_1,uint32_t param_2,uint32_t param_3)

{
  eTPU_write_32bit((uint8_t)param_1,'\x01',param_2);
  eTPU_write_32bit((uint8_t)param_1,'\x05',param_3);
  *(undefined4 *)((int)etpu_mcr_addr + (int)((param_1 & 0xff) << 4) + 0x408) = 4;
  return;
}



undefined8
FUN_000540c4(uint param_1,ulonglong param_2,uint param_3,undefined4 param_4,undefined4 param_5,
            undefined4 param_6)

{
  undefined4 *puVar2;
  longlong lVar1;
  
  *(undefined2 *)(&DAT_c3fc0404 + (param_1 & 0xff) * 0x10) = 0xc0c0;
  FUN_00042404(param_1 & 0xff);
  if ((etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] & 0x7ff) == 0) {
    puVar2 = (undefined4 *)FUN_00042440(0x20);
    if (puVar2 == (undefined4 *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address((uint8_t)param_1);
    puVar2 = (undefined4 *)lVar1;
  }
  *puVar2 = param_4;
  puVar2[1] = param_5;
  puVar2[2] = param_6;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] =
       (int)((param_2 & 0xff) << 0x1c) + 0x30000 + ((int)puVar2 - etpu_base_unknown2 >> 3);
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x101] = param_3 & 0xff;
  etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] = 1;
  do {
  } while (etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] != 0);
  return 0;
}



void FUN_000541f4(ulonglong param_1,uint32_t param_2,uint32_t etpu_val)

{
  eTPU_write_32bit((uint8_t)param_1,1,param_2);
  eTPU_write_32bit((uint8_t)param_1,5,etpu_val);
  *(undefined4 *)((int)etpu_mcr_addr + (int)((param_1 & 0xff) << 4) + 0x408) = 2;
  return;
}



// input cylinder indexes are offset by 4.

void inj_write_etpu(uint8_t cyl_index,uint32_t angle,u32_time_100ns pulse_time_raw)

{
  eTPU_write_32bit(cyl_index,1,angle);
  eTPU_write_32bit(cyl_index,5,pulse_time_raw);
  etpu_mcr_addr[(uint)cyl_index * 4 + 0x102] = 2;
  return;
}



void knock_schedule_next_window(ulonglong param_1,uint32_t param_2,uint32_t param_3)

{
  eTPU_write_32bit((uint8_t)param_1,1,param_2);
  eTPU_write_32bit((uint8_t)param_1,5,param_3);
  *(undefined4 *)((int)etpu_mcr_addr + (int)((param_1 & 0xff) << 4) + 0x408) = 1;
  return;
}



void ign_event_schedule_(ulonglong param_1,uint32_t param_2,uint32_t param_3)

{
  eTPU_write_32bit((uint8_t)param_1,1,param_2);
  eTPU_write_32bit((uint8_t)param_1,5,param_3);
  *(undefined4 *)((int)etpu_mcr_addr + (int)((param_1 & 0xff) << 4) + 0x408) = 1;
  return;
}



undefined8
FUN_000543b4(uint param_1,ulonglong param_2,ulonglong param_3,uint param_4,uint param_5,
            ulonglong param_6,ulonglong param_7)

{
  int *piVar3;
  longlong lVar1;
  undefined8 uVar2;
  ulonglong uVar4;
  int iVar5;
  
  FUN_00042404(param_1 & 0xff);
  if ((etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] & 0x7ff) == 0) {
    piVar3 = (int *)FUN_00042440(0x18);
    if (piVar3 == (int *)0x0) {
      return 1;
    }
  }
  else {
    lVar1 = eTPU_channel_to_address((uint8_t)param_1);
    piVar3 = (int *)lVar1;
  }
  uVar4 = (param_7 & 0xffffffff) / (param_3 & 0xffffffff);
  iVar5 = (int)uVar4;
  if ((iVar5 == 0) || (0x7fffff < uVar4)) {
    uVar2 = 2;
  }
  else {
    *piVar3 = iVar5;
    piVar3[1] = (int)(((longlong)iVar5 * (longlong)(int)(param_4 & 0xffff) & 0xffffffffU) / 10000);
    etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x100] =
         (int)((param_2 & 0xff) << 0x1c) + 0x1040000 + ((int)piVar3 - etpu_base_unknown2 >> 3);
    etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x101] = (int)((param_6 & 0xff) << 1) + (param_5 & 0xff);
    etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] = 7;
    do {
    } while (etpu_mcr_addr[(param_1 & 0xff) * 4 + 0x102] != 0);
    uVar2 = 0;
  }
  return uVar2;
}



void eTPU_calculate_and_set_channel_value(uint8_t channel,uint16_t dutycycle)

{
  uint uVar1;
  longlong lVar2;
  uint dividend_lo;
  
  lVar2 = eTPU_channel_to_address(channel);
  uVar1 = *(uint *)lVar2 & 0xffffff;
  dividend_lo = uVar1 * dutycycle;
  u128_divide_to_u64((uint)((ulonglong)uVar1 * (ulonglong)(uint)dutycycle >> 0x20),dividend_lo,0,
                     10000);
  ((uint *)lVar2)[1] = dividend_lo;
  return;
}



void eTPU_read_batch_unknown
               (ulonglong param_1,uint *param_2,undefined *param_3,uint *param_4,uint *param_5,
               uint *param_6,uint *param_7,undefined *param_8)

{
  uint32_t uVar1;
  uint8_t uVar2;
  uint8_t uVar3;
  
  uVar3 = (uint8_t)param_1;
  uVar1 = eTPU_read_24bit(uVar3,1);
  *param_2 = uVar1;
  uVar2 = eTPU_read_8bit(uVar3,0);
  *param_3 = uVar2;
  uVar1 = eTPU_read_24bit(uVar3,5);
  *param_4 = uVar1;
  uVar1 = eTPU_read_24bit(uVar3,13);
  *param_5 = uVar1;
  uVar1 = eTPU_read_24bit(uVar3,17);
  *param_6 = uVar1;
  uVar1 = eTPU_read_24bit(uVar3,21);
  *param_7 = uVar1;
  uVar3 = eTPU_read_8bit(uVar3,20);
  *param_8 = uVar3;
  return;
}



void eTPU_update_period_and_frequency(void)

{
  eTPU_read_batch_unknown
            (3,(uint *)&DAT_40001b7c,&eTPU_status_flag,(uint *)&DAT_40001b90,(uint *)&DAT_40001b8c,
             (uint *)&DAT_40001b88,&eTPU_period,&DAT_40001b84);
  if (eTPU_status_flag == 0) {
    if (eTPU_period == 0) {
      eTPU_freq = 0;
      eTPU_period2 = 0xffff;
    }
    else {
      eTPU_freq = (undefined4)(10000000 / (ulonglong)eTPU_period);
      if (eTPU_period < 0x9fff7) {
        eTPU_period2 = (undefined2)((ulonglong)eTPU_period / 10);
      }
      else {
        eTPU_period2 = 0xffff;
      }
    }
  }
  else {
    eTPU_freq = 0;
    eTPU_period2 = 0xffff;
  }
  return;
}



void FUN_00054708(uint param_1,uint param_2)

{
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xffffffef;
  func_0x00053f3c(param_1 & 0xff,2,0,7,0x34,0,param_2 & 0xffff);
  return;
}



void FUN_0005476c(ulonglong param_1,uint param_2)

{
  FUN_00054054(param_1 & 0xff,0,param_2 & 0xffff);
  return;
}



void EEPROM_save(void)

{
  uint16_t lea_base_crc;
  uint16_t lea_base_crc2;
  
  lea_base_size = &DAT_00001638;
  lea_base_crc = CRC16((byte *)LEA_base,0x1638);
  lea_crc = (uint)lea_base_crc;
  obd_ii_dtc_process_all_mode_01();
  lea_write_size = &DAT_00001c4c;
  lea_base_crc2 = CRC16((byte *)LEA_base,0x1c48);
  lea_crc2 = (uint)lea_base_crc2;
  obd_ii_dtc_state = '\0';
  WriteExternalEnableImmediate(0);
  EEPROM_write_learned_data((byte *)LEA_base,0x1c4c);
  return;
}



void EEPROM_load(void)

{
  uint _ecu_startup_flags;
  uint8_t *puVar1;
  uint16_t _lea_base_crc1;
  uint16_t lea_base_crc2;
  int lea_id_string_match_fail;
  ushort uVar2;
  uint _lea_crc1;
  uint _lea_crc2;
  bool lea_crc2_fail;
  bool lea_crc_fail;
  
  puVar1 = CAL_knock_sampling_window + 0x2e;
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 1;
  load_saved_LEA(LEA_base,0x1c4c);
  _lea_crc1 = lea_crc;
  DAT_40001ba2 = 0xd98;
  DAT_40001ba0 = 0x179c;
  _lea_base_crc1 = CRC16((byte *)LEA_base,0x1638);
  _lea_crc2 = lea_crc2;
  lea_base_crc2 = CRC16((byte *)LEA_base,0x1c48);
  _ecu_startup_flags = ecu_startup_flags_unknown | 0b0100000000000000;
  if (_lea_crc1 == _lea_base_crc1) {
    _ecu_startup_flags = ecu_startup_flags_unknown;
  }
  ecu_startup_flags_unknown = _ecu_startup_flags | 0b1000000000000000;
  if (_lea_crc2 == lea_base_crc2) {
    ecu_startup_flags_unknown = _ecu_startup_flags;
  }
  lea_crc_fail = false;
  if ((_lea_crc1 != _lea_base_crc1) || (lea_base_size != &DAT_00001638)) {
    lea_crc_fail = true;
  }
  lea_crc2_fail = false;
  if ((_lea_crc2 != lea_base_crc2) || (lea_write_size != &DAT_00001c4c)) {
    lea_crc2_fail = true;
  }
  lea_id_string_match_fail = libc_memcmp(ecu_prog_version,LEA_base,32);
  if (lea_id_string_match_fail != 0) {
    ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0b00000100;
  }
  if (*(short *)(&UNK_ffff8010 + (int)puVar1) != DAT_400048b2) {
    ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0b00001000;
  }
  if ((lea_crc_fail) || (*(short *)(&UNK_ffff8010 + (int)puVar1) != DAT_400048b2)) {
    FUN_0005a370();
  }
  else if ((lea_crc2_fail) || (lea_id_string_match_fail != 0)) {
    FUN_0005523c();
  }
  else if (DAT_40004a48 == 0) {
    if (DAT_40004b8c != DAT_4000ca66) {
      init_lea_unknown();
    }
    set_obd_ii_LEA_dtc_flags();
  }
  else {
    clear_obd_dtc_and_ff();
    init_lea_maf_unknown2();
  }
  libc_memcpy((byte *)LEA_base,(byte *)ecu_prog_version,0x20);
  DAT_400048b2 = *(short *)(&UNK_ffff8010 + (int)puVar1);
  init_lea_maf_unknown();
  init_lea_maf_and_trqlimit();
  for (uVar2 = 0; uVar2 < 1514; uVar2 = uVar2 + 1) {
    (&DAT_400042c8)[uVar2] = 0;
  }
  if ((lea_crc2_fail) || (lea_crc_fail)) {
    main_diagnostic_flags = main_diagnostic_flags | 1;
  }
  return;
}



void lea_reset3(void)

{
  int cyl;
  int i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x100;
  init_lea_unknown();
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    LEA_octane_scaler[cyl] = 0;
  }
  lea_reset3_unknown();
  uint16_t = 0;
  LEA_idle_learn_ac_on = 0;
  LEA_idle_cold_learning_coolant = 0;
  LEA_idle_cold_learning_coolant_ac_on = 0;
  for (i = 0; i < 0x28; i = i + 1) {
    LEA_load_alphaN_adj_X_engine_speed[i] = CAL_load_alphaN_base_X_engine_speed[i];
  }
  for (i = 0x28; i < 0x1b8; i = i + 1) {
    LEA_load_alphaN_adj_X_engine_speed[i] = 100;
  }
  for (i = 0; i < 0x28; i = i + 1) {
    LEA_torque_torque_to_tps_scaling_X_engine_speed[i] = CAL_load_to_tps_max_X_engine_speed[i];
  }
  for (i = 0x28; i < 0x1b8; i = i + 1) {
    LEA_torque_torque_to_tps_scaling_X_engine_speed[i] = 100;
  }
  u16_time_us_40003d32 = 0;
  u16_time_us_40003d30 = 0;
  LEA_ltft_idle_b_adj = 0;
  LEA_fuel_learn_lean_time_bank1 = 0;
  obd_ii_fuel_learn_zone_3_bank2 = 0x80;
  obd_ii_fuel_learn_zone_3_bank1 = 0x80;
  obd_ii_fuel_learn_zone_2_bank2 = 0x80;
  obd_ii_fuel_learn_zone_2_bank1 = 0x80;
  DAT_40004266 = 0;
  return;
}



void lea_reset1(void)

{
  byte i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x200;
  for (i = 0; i < 10; i = i + 1) {
    *(undefined2 *)(&DAT_40004914 + (uint)i * 2) = 0;
    uint16_t_ARRAY_40004928[i] = 0;
    uint16_t_ARRAY_40004974[i] = 0;
    (&DAT_40004988)[i] = 0;
    (&DAT_4000499c)[i] = 0;
    (&DAT_4000493c)[i] = 0;
    (&DAT_40004950)[i] = 0;
    (&DAT_400049b0)[i] = 0;
    (&DAT_400049c4)[i] = 0;
    (&DAT_400049d8)[i] = 0;
    uint16_t_ARRAY_400049ec[i] = 0;
    (&DAT_40004a00)[i] = 0;
    uint16_t_ARRAY_40004a14[i] = 0;
    uint16_t_ARRAY_40004a28[i] = 0;
  }
  DAT_40004964 = 0;
  DAT_40004966 = 0;
  DAT_40004968 = 0;
  DAT_4000496a = 0;
  DAT_4000496c = 0;
  DAT_4000496e = 0;
  DAT_40004970 = 0;
  DAT_40004972 = 0;
  DAT_40004b50 = 0;
  return;
}



void lea_reset2(void)

{
  byte i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x400;
  for (i = 0; i < 8; i = i + 1) {
    time_at_tps[i] = 0;
    time_at_rpm[i] = 0;
    time_at_speed_range_kmh[i] = 0;
    if (i < 4) {
      time_at_coolant_temp[i] = 0;
    }
    if (i < 5) {
      (&max_engine_speed5)[(uint)i * 4] = 0;
      (&max_engine_speed_5_coolant)[(uint)i * 8] = 0;
      (&u32_time_100ms_400040c0)[(uint)i * 2] = 0;
      max_vehicle_speed[i] = 0;
    }
  }
  standing_start_fastest[0] = 0xff;
  standing_start_fastest[1] = 0xff;
  standing_start_last[0] = 0;
  standing_start_last[1] = 0;
  engine_run_timer_total = 0;
  standing_start_num = 0;
  uint32_t_40004268 = 0;
  DAT_4000426c = 0;
  perf_stats_reset1();
  return;
}



void perf_stats_reset1(void)

{
  byte i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x10000;
  for (i = 0; i < 8; i = i + 1) {
    if (i < 6) {
      time_at_lateral_g[i] = 0;
    }
    if (i < 3) {
      (&DAT_4000421c)[(uint)i * 0xc] = 0;
      *(undefined2 *)(&DAT_4000421e + (uint)i * 0xc) = 0;
      *(undefined2 *)(&DAT_40004220 + (uint)i * 3) = 0;
      (&DAT_4000421d)[(uint)i * 0xc] = 0;
      (&DAT_40004224)[(uint)i * 3] = 0;
      (&DAT_40004240)[(uint)i * 0xc] = 0;
      (&u16_rspeed_rpm_40004242)[(uint)i * 6] = 0;
      *(undefined2 *)(&DAT_40004244 + (uint)i * 3) = 0;
      (&u8_speed_kph_40004241)[(uint)i * 0xc] = '\0';
      (&u32_time_100ms_40004248)[(uint)i * 3] = 0;
    }
  }
  total_num_low_oil_pres_events = 0;
  return;
}



void FUN_0005523c(void)

{
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0b01000000;
  obd_ii_zero_perm_dtc();
  init_lea_maf_unknown2();
  FUN_00055680();
  clear_obd_dtc_and_ff();
  lea_reset1();
  DAT_40004a3c = 0x23c;
  DAT_40004a3e = 0x725;
  DAT_40004a40 = 0;
  DAT_40004a42 = 0;
  DAT_40004a45 = 0;
  DAT_40004b8d = 0xff;
  DAT_40004a46 = 0;
  DAT_40004a44 = 0;
  fuel_usage_running_total = 0;
  car_speed_running_total = 0;
  fuel_usage_running_total2 = 0;
  car_speed_running_total2 = 0;
  range_to_empty_smoothed_ = 10000;
  DAT_40004bd6 = 0xffff;
  DAT_40004bd8 = 0;
  DAT_40004bd9 = 0;
  DAT_40004bda = 0;
  DAT_40004bdb = 0;
  DAT_40004bdc = 0;
  DAT_40004bde = 0xffff;
  return;
}



void init_lea_maf_unknown2(void)

{
  uint8_t uVar1;
  byte i;
  byte j;
  byte k;
  uint z;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x800;
  DAT_40004a48 = 0;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    for (i = 0; i < 8; i = i + 1) {
      uVar1 = CAL_maf_comp_ips_unknown_X_maf_flow[i];
      LEA_maf_comp4_unknown[i] = uVar1;
      LEA_maf_comp3_unknown[i] = uVar1;
      LEA_maf_comp2_unknown[i] = uVar1;
      LEA_maf_comp1_unknown[i] = uVar1;
    }
  }
  else {
    for (j = 0; j < 8; j = j + 1) {
      uVar1 = CAL_maf_comp_manual_unknown_X_maf_flow[j];
      LEA_maf_comp4_unknown[j] = uVar1;
      LEA_maf_comp3_unknown[j] = uVar1;
      LEA_maf_comp2_unknown[j] = uVar1;
      LEA_maf_comp1_unknown[j] = uVar1;
    }
  }
  for (k = 8; k < 0x10; k = k + 1) {
    LEA_maf_comp4_unknown[k] = 0;
    LEA_maf_comp3_unknown[k] = 0;
    LEA_maf_comp2_unknown[k] = 0;
    LEA_maf_comp1_unknown[k] = 0;
  }
  DAT_40004a8a = 0;
  DAT_40004a89 = 0;
  for (z = 8; (z & 0xff) < 0x10; z = z + 1) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      if (CAL_maf_comp_ips_unknown_X_maf_flow[z & 0xff] == 0) {
        DAT_40004a89 = DAT_40004a89 | (byte)(1 << ((z & 0xff) - 8 & 0x3f));
        DAT_40004a8a = DAT_40004a8a | (byte)(1 << ((z & 0xff) - 8 & 0x3f));
      }
    }
    else if (CAL_maf_comp_manual_unknown_X_maf_flow[z & 0xff] == 0) {
      DAT_40004a89 = DAT_40004a89 | (byte)(1 << ((z & 0xff) - 8 & 0x3f));
      DAT_40004a8a = DAT_40004a8a | (byte)(1 << ((z & 0xff) - 8 & 0x3f));
    }
  }
  return;
}



void FUN_00055680(void)

{
  byte i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x2000;
  for (i = 0; i < 21; i = i + 1) {
    (&DAT_400048bc)[i] = 0;
    (&DAT_400048e6)[i] = 0;
  }
  uint16_t_40004910 = 0;
  uint16_t_40004912 = 0;
  return;
}



void clear_obd_dtc_and_ff(void)

{
  byte i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x1000;
  DAT_40004a8a = 0;
  DAT_40004a89 = 0;
  obd_ii_DTC_causing_FF = 0;
  DAT_40004a8e = 0;
  obd_ii_FF_fuel_system_status = 0;
  obd_ii_FF_calc_engine_load = 0;
  obd_ii_FF_engine_coolant_temp_C = 0;
  obd_ii_FF_stft_bank1 = 0;
  obd_ii_FF_ltft_bank1 = 0;
  obd_ii_stft_bank2 = 0;
  obd_ii_FF_ltft_bank2 = 0;
  obd_ii_fuel_pressure = '\0';
  obd_ii_FF_intake_manifold_pressure = 0;
  obd_ii_FF_engine_speed = 0;
  obd_ii_FF_car_speed = 0;
  obd_ii_FF_ign_adv = 0;
  obd_ii_FF_iat = 0;
  obd_ii_FF_maf_flow_1 = 0;
  obd_ii_FF_tps_x4 = 0;
  obd_ii_FF_runtime_since_start = 0;
  obd_ii_FF_evap_purge_cmd = 0;
  fuel_tank_level = 0;
  obd_ii_FF_atmo_pressure._0_1_ = 0;
  obd_ii_FF_ecu_voltage = 0;
  obd_ii_FF_load_abs_percentage = 0;
  obd_ii_FF_afr_commanded = 0;
  obd_ii_FF_tps_relative = 0;
  obd_ii_FF_ambiant_air_temp = 0;
  obd_ii_FF_abs_tps_b = 0;
  obd_ii_FF_accelerator_pos_d = 0;
  obd_ii_FF_accelerator_pos_e = 0;
  obd_ii_FF_throttle_target_pos = 0;
  obd_ii_FF_chargecooler_temp = 0;
  for (i = 0; i < 5; i = i + 1) {
    int16_t_ARRAY_40004ab8[i] = 0;
    int16_t_ARRAY_40004ab8[i + 5] = 0;
    (&DAT_40004acc)[i] = 0;
    (&DAT_40004ad2)[i] = 0;
    (&DAT_40004adc)[i] = 0;
    (&DAT_40004ae1)[i] = 0;
  }
  DAT_40004b18 = 0;
  DAT_40004ae6 = 0;
  DAT_40004b7c = 0;
  DAT_40004b7e = 0;
  DAT_40004b80 = 0;
  DAT_40004b82 = 0;
  DAT_40004b84 = 0;
  DAT_40004b86 = 0;
  DAT_40004b88 = 0;
  DAT_40004b8a = 0;
  DAT_40004bb0 = 0;
  DAT_40004bb4 = 0;
  DAT_40004bb5 = 0;
  DAT_40004bb6 = 0;
  DAT_40004bb8 = 0;
  DAT_40004bdd = 0;
  for (i = 0; i < 6; i = i + 1) {
    int16_t_ARRAY_40004bf8[i] = 0;
    (&DAT_40004be0)[i] = 0;
  }
  DAT_40004c04 = 0;
  DAT_40004c06 = 0;
  DAT_40004c08 = 0;
  DAT_40004c0a = 0;
  DAT_40004c0c = 0;
  DAT_40004c0e = 0;
  DAT_40004c10 = 0;
  LEA_obd_ii_P0011_flags = '\0';
  DAT_40004c13 = 3;
  DAT_40004c14 = 0x28;
  LEA_obd_ii_P0012_flags = '\0';
  DAT_40004c16 = 3;
  DAT_40004c17 = 0x28;
  LEA_obd_ii_P0021_flags = '\0';
  DAT_40004c19 = 3;
  DAT_40004c1a = 0x28;
  LEA_obd_ii_P0022_flags = '\0';
  DAT_40004c1c = 3;
  DAT_40004c1d = 0x28;
  LEA_obd_ii_P0014_flags = '\0';
  DAT_40004c1f = 3;
  DAT_40004c20 = 0x28;
  LEA_obd_ii_P0015_flags = '\0';
  DAT_40004c22 = 3;
  DAT_40004c23 = 0x28;
  LEA_obd_ii_P0024_flags = '\0';
  DAT_40004c25 = 3;
  DAT_40004c26 = 0x28;
  LEA_obd_ii_P0025_flags = '\0';
  DAT_40004c28 = 3;
  DAT_40004c29 = 0x28;
  LEA_obd_ii_P0016_flags = '\0';
  DAT_40004c2b = 3;
  DAT_40004c2c = 0x28;
  LEA_obd_ii_P0017_flags = '\0';
  DAT_40004c2e = 3;
  DAT_40004c2f = 0x28;
  LEA_obd_ii_P0018_flags = '\0';
  DAT_40004c31 = 3;
  DAT_40004c32 = 0x28;
  LEA_obd_ii_P0019_flags = '\0';
  DAT_40004c34 = 3;
  DAT_40004c35 = 0x28;
  LEA_obd_ii_P0076_flags = '\0';
  DAT_40004c37 = 3;
  DAT_40004c38 = 0x28;
  LEA_obd_ii_P0077_flags = '\0';
  DAT_40004c3a = 3;
  DAT_40004c3b = 0x28;
  LEA_obd_ii_P0079_flags = '\0';
  DAT_40004c3d = 3;
  DAT_40004c3e = 0x28;
  LEA_obd_ii_P0080_flags = '\0';
  DAT_40004c40 = 3;
  DAT_40004c41 = 0x28;
  LEA_obd_ii_P0082_flags = '\0';
  DAT_40004c43 = 3;
  DAT_40004c44 = 0x28;
  LEA_obd_ii_P0083_flags = '\0';
  DAT_40004c46 = 3;
  DAT_40004c47 = 0x28;
  LEA_obd_ii_P0085_flags = '\0';
  DAT_40004c49 = 3;
  DAT_40004c4a = 0x28;
  LEA_obd_ii_P0086_flags = '\0';
  DAT_40004c4c = 3;
  DAT_40004c4d = 0x28;
  LEA_obd_ii_P0087_flags = '\0';
  DAT_40004c4f = 3;
  DAT_40004c50 = 0x28;
  LEA_obd_ii_P0088_flags = '\0';
  DAT_40004c52 = 3;
  DAT_40004c53 = 0x28;
  LEA_obd_ii_P0096_flags = '\0';
  DAT_40004c55 = 3;
  DAT_40004c56 = 0x28;
  LEA_obd_ii_P0097_flags = '\0';
  DAT_40004c58 = 3;
  DAT_40004c59 = 0x28;
  LEA_obd_ii_P0098_flags = '\0';
  DAT_40004c5b = 3;
  DAT_40004c5c = 0x28;
  LEA_obd_ii_P0101_flags = '\0';
  DAT_40004c5e = 3;
  DAT_40004c5f = 0x28;
  LEA_obd_ii_P0102_flags = '\0';
  DAT_40004c61 = 3;
  DAT_40004c62 = 0x28;
  LEA_obd_ii_P0103_flags = '\0';
  DAT_40004c64 = 3;
  DAT_40004c65 = 0x28;
  LEA_obd_ii_P0106_flags = '\0';
  DAT_40004c67 = 3;
  DAT_40004c68 = 0x28;
  LEA_obd_ii_P0107_flags = '\0';
  DAT_40004c6a = 3;
  DAT_40004c6b = 0x28;
  LEA_obd_ii_P0108_flags = '\0';
  DAT_40004c6d = 3;
  DAT_40004c6e = 0x28;
  LEA_obd_ii_P0111_flags = '\0';
  DAT_40004c70 = 3;
  DAT_40004c71 = 0x28;
  LEA_obd_ii_P0112_flags = '\0';
  DAT_40004c73 = 3;
  DAT_40004c74 = 0x28;
  LEA_obd_ii_P0113_flags = '\0';
  DAT_40004c76 = 3;
  DAT_40004c77 = 0x28;
  LEA_obd_ii_P0071_flags = '\0';
  DAT_40004c79 = 3;
  DAT_40004c7a = 0x28;
  LEA_obd_ii_P0072_flags = '\0';
  DAT_40004c7c = 3;
  DAT_40004c7d = 0x28;
  LEA_obd_ii_P0073_flags = '\0';
  DAT_40004c7f = 3;
  DAT_40004c80 = 0x28;
  LEA_obd_ii_P0116_flags = '\0';
  DAT_40004c82 = 3;
  DAT_40004c83 = 0x28;
  LEA_obd_ii_P0117_flags = '\0';
  DAT_40004c85 = 3;
  DAT_40004c86 = 0x28;
  LEA_obd_ii_P0118_flags = '\0';
  DAT_40004c88 = 3;
  DAT_40004c89 = 0x28;
  LEA_obd_ii_P0122_flags = '\0';
  DAT_40004c8b = 3;
  DAT_40004c8c = 0x28;
  LEA_obd_ii_P0123_flags = '\0';
  DAT_40004c8e = 3;
  DAT_40004c8f = 0x28;
  LEA_obd_ii_P0128_flags = '\0';
  DAT_40004c91 = 3;
  DAT_40004c92 = 0x28;
  LEA_obd_ii_P0131_flags = '\0';
  DAT_40004c94 = 3;
  DAT_40004c95 = 0x28;
  LEA_obd_ii_P0132_flags = '\0';
  DAT_40004c97 = 3;
  DAT_40004c98 = 0x28;
  LEA_obd_ii_P0133_flags = '\0';
  DAT_40004c9a = 3;
  DAT_40004c9b = 0x28;
  LEA_obd_ii_P0134_flags = '\0';
  DAT_40004c9d = 3;
  DAT_40004c9e = 0x28;
  LEA_obd_ii_P0135_flags = '\0';
  DAT_40004ca0 = 3;
  DAT_40004ca1 = 0x28;
  LEA_obd_ii_P0137_flags = '\0';
  DAT_40004ca3 = 3;
  DAT_40004ca4 = 0x28;
  LEA_obd_ii_P0138_flags = '\0';
  DAT_40004ca6 = 3;
  DAT_40004ca7 = 0x28;
  LEA_obd_ii_P0139_flags = '\0';
  DAT_40004ca9 = 3;
  DAT_40004caa = 0x28;
  LEA_obd_ii_P0140_flags = '\0';
  DAT_40004cac = 3;
  DAT_40004cad = 0x28;
  LEA_obd_ii_P0141_flags = '\0';
  DAT_40004caf = 3;
  DAT_40004cb0 = 0x28;
  LEA_obd_ii_P0151_flags = '\0';
  DAT_40004cb2 = 3;
  DAT_40004cb3 = 0x28;
  LEA_obd_ii_P0152_flags = '\0';
  DAT_40004cb5 = 3;
  DAT_40004cb6 = 0x28;
  LEA_obd_ii_P0153_flags = '\0';
  DAT_40004cb8 = 3;
  DAT_40004cb9 = 0x28;
  LEA_obd_ii_P0154_flags = '\0';
  DAT_40004cbb = 3;
  DAT_40004cbc = 0x28;
  LEA_obd_ii_P0155_flags = '\0';
  DAT_40004cbe = 3;
  DAT_40004cbf = 0x28;
  LEA_obd_ii_P0157_flags = '\0';
  DAT_40004cc1 = 3;
  DAT_40004cc2 = 0x28;
  LEA_obd_ii_P0158_flags = '\0';
  DAT_40004cc4 = 3;
  DAT_40004cc5 = 0x28;
  LEA_obd_ii_P0159_flags = '\0';
  DAT_40004cc7 = 3;
  DAT_40004cc8 = 0x28;
  LEA_obd_ii_P0160_flags = '\0';
  DAT_40004cca = 3;
  DAT_40004ccb = 0x28;
  LEA_obd_ii_P0161_flags = '\0';
  DAT_40004ccd = 3;
  DAT_40004cce = 0x28;
  LEA_obd_ii_P0171_flags = '\0';
  DAT_40004cd0 = 3;
  DAT_40004cd1 = 0x28;
  LEA_obd_ii_P0172_flags = '\0';
  DAT_40004cd3 = 3;
  DAT_40004cd4 = 0x28;
  LEA_obd_ii_P0174_flags = '\0';
  DAT_40004cd6 = 3;
  DAT_40004cd7 = 0x28;
  LEA_obd_ii_P0175_flags = '\0';
  DAT_40004cd9 = 3;
  DAT_40004cda = 0x28;
  LEA_obd_ii_P0191_flags = '\0';
  DAT_40004cdc = 3;
  DAT_40004cdd = 0x28;
  LEA_obd_ii_P0192_flags = '\0';
  DAT_40004cdf = 3;
  DAT_40004ce0 = 0x28;
  LEA_obd_ii_P0193_flags = '\0';
  DAT_40004ce2 = 3;
  DAT_40004ce3 = 0x28;
  LEA_obd_ii_P0222_flags = '\0';
  DAT_40004ce5 = 3;
  DAT_40004ce6 = 0x28;
  LEA_obd_ii_P0223_flags = '\0';
  DAT_40004ce8 = 3;
  DAT_40004ce9 = 0x28;
  DAT_40004d14 = 0;
  DAT_40004d15 = 3;
  DAT_40004d16 = 0x28;
  DAT_40004d17 = 0;
  DAT_40004d18 = 3;
  DAT_40004d19 = 0x28;
  LEA_obd_ii_P023B_flags = '\0';
  DAT_40004d1b = 3;
  DAT_40004d1c = 0x28;
  LEA_obd_ii_P023C_flags = '\0';
  DAT_40004d1e = 3;
  DAT_40004d1f = 0x28;
  LEA_obd_ii_P025C_flags = '\0';
  DAT_40004ceb = 3;
  DAT_40004cec = 0x28;
  LEA_obd_ii_P025D_flags = '\0';
  DAT_40004cee = 3;
  DAT_40004cef = 0x28;
  LEA_obd_ii_P0261_flags = '\0';
  DAT_40004cf1 = 3;
  DAT_40004cf2 = 0x28;
  LEA_obd_ii_P0262_flags = '\0';
  DAT_40004cf4 = 3;
  DAT_40004cf5 = 0x28;
  LEA_obd_ii_P0264_flags = '\0';
  DAT_40004cf7 = 3;
  DAT_40004cf8 = 0x28;
  LEA_obd_ii_P0265_flags = '\0';
  DAT_40004cfa = 3;
  DAT_40004cfb = 0x28;
  LEA_obd_ii_P0267_flags = '\0';
  DAT_40004cfd = 3;
  DAT_40004cfe = 0x28;
  LEA_obd_ii_P0268_flags = '\0';
  DAT_40004d00 = 3;
  DAT_40004d01 = 0x28;
  LEA_obd_ii_P0270_flags = '\0';
  DAT_40004d03 = 3;
  DAT_40004d04 = 0x28;
  LEA_obd_ii_P0271_flags = '\0';
  DAT_40004d06 = 3;
  DAT_40004d07 = 0x28;
  LEA_obd_ii_P0273_flags = '\0';
  DAT_40004d09 = 3;
  DAT_40004d0a = 0x28;
  LEA_obd_ii_P0274_flags = '\0';
  DAT_40004d0c = 3;
  DAT_40004d0d = 0x28;
  LEA_obd_ii_P0276_flags = '\0';
  DAT_40004d0f = 3;
  DAT_40004d10 = 0x28;
  LEA_obd_ii_P0277_flags = '\0';
  DAT_40004d12 = 3;
  DAT_40004d13 = 0x28;
  LEA_obd_ii_P0300_flags = '\0';
  DAT_40004d21 = 3;
  DAT_40004d22 = 0x28;
  LEA_obd_ii_P0301_flags = '\0';
  DAT_40004d24 = 3;
  DAT_40004d25 = 0x28;
  LEA_obd_ii_P0302_flags = '\0';
  DAT_40004d27 = 3;
  DAT_40004d28 = 0x28;
  LEA_obd_ii_P0303_flags = '\0';
  DAT_40004d2a = 3;
  DAT_40004d2b = 0x28;
  LEA_obd_ii_P0304_flags = '\0';
  DAT_40004d2d = 3;
  DAT_40004d2e = 0x28;
  LEA_obd_ii_P0305_flags = '\0';
  DAT_40004d30 = 3;
  DAT_40004d31 = 0x28;
  LEA_obd_ii_P0306_flags = '\0';
  DAT_40004d33 = 3;
  DAT_40004d34 = 0x28;
  LEA_obd_ii_P0327_flags = '\0';
  DAT_40004d36 = 3;
  DAT_40004d37 = 0x28;
  LEA_obd_ii_P0328_flags = '\0';
  DAT_40004d39 = 3;
  DAT_40004d3a = 0x28;
  LEA_obd_ii_P0332_flags = '\0';
  DAT_40004d3c = 3;
  DAT_40004d3d = 0x28;
  LEA_obd_ii_P0333_flags = '\0';
  DAT_40004d3f = 3;
  DAT_40004d40 = 0x28;
  LEA_obd_ii_P1301_flags = '\0';
  DAT_40004d63 = 3;
  DAT_40004d64 = 0x28;
  LEA_obd_ii_P1302_flags = '\0';
  DAT_40004d66 = 3;
  DAT_40004d67 = 0x28;
  LEA_obd_ii_P0335_flags = '\0';
  DAT_40004d42 = 3;
  DAT_40004d43 = 0x28;
  LEA_obd_ii_P0341_flags = '\0';
  DAT_40004d45 = 3;
  DAT_40004d46 = 0x28;
  LEA_obd_ii_P0346_flags = '\0';
  DAT_40004d48 = 3;
  DAT_40004d49 = 0x28;
  LEA_obd_ii_P0366_flags = '\0';
  DAT_40004d4b = 3;
  DAT_40004d4c = 0x28;
  LEA_obd_ii_P0391_flags = '\0';
  DAT_40004d4e = 3;
  DAT_40004d4f = 0x28;
  LEA_obd_ii_P0351_flags = '\0';
  DAT_40004d51 = 3;
  DAT_40004d52 = 0x28;
  LEA_obd_ii_P0352_flags = '\0';
  DAT_40004d54 = 3;
  DAT_40004d55 = 0x28;
  LEA_obd_ii_P0353_flags = '\0';
  DAT_40004d57 = 3;
  DAT_40004d58 = 0x28;
  LEA_obd_ii_P0354_flags = '\0';
  DAT_40004d5a = 3;
  DAT_40004d5b = 0x28;
  LEA_obd_ii_P0355_flags = '\0';
  DAT_40004d5d = 3;
  DAT_40004d5e = 0x28;
  LEA_obd_ii_P0356_flags = '\0';
  DAT_40004d60 = 3;
  DAT_40004d61 = 0x28;
  LEA_obd_ii_P0420_flags = '\0';
  DAT_40004d69 = 3;
  DAT_40004d6a = 0x28;
  LEA_obd_ii_P0430_flags = '\0';
  DAT_40004d6c = 3;
  DAT_40004d6d = 0x28;
  LEA_obd_ii_P0441_flags = '\0';
  DAT_40004d6f = 3;
  DAT_40004d70 = 0x28;
  LEA_obd_ii_P0442_flags = '\0';
  DAT_40004d72 = 3;
  DAT_40004d73 = 0x28;
  LEA_obd_ii_P0444_flags = '\0';
  DAT_40004d75 = 3;
  DAT_40004d76 = 0x28;
  LEA_obd_ii_P0445_flags = '\0';
  DAT_40004d78 = 3;
  DAT_40004d79 = 0x28;
  LEA_obd_ii_P0446_flags = '\0';
  DAT_40004d7b = 3;
  DAT_40004d7c = 0x28;
  LEA_obd_ii_P0447_flags = '\0';
  DAT_40004d7e = 3;
  DAT_40004d7f = 0x28;
  LEA_obd_ii_P0448_flags = '\0';
  DAT_40004d81 = 3;
  DAT_40004d82 = 0x28;
  LEA_obd_ii_P0451_flags = '\0';
  DAT_40004d84 = 3;
  DAT_40004d85 = 0x28;
  LEA_obd_ii_P0452_flags = '\0';
  DAT_40004d87 = 3;
  DAT_40004d88 = 0x28;
  LEA_obd_ii_P0453_flags = '\0';
  DAT_40004d8a = 3;
  DAT_40004d8b = 0x28;
  LEA_obd_ii_P0455_flags = '\0';
  DAT_40004d8d = 3;
  DAT_40004d8e = 0x28;
  LEA_obd_ii_P0456_flags = '\0';
  DAT_40004d90 = 3;
  DAT_40004d91 = 0x28;
  LEA_obd_ii_P0461_flags = '\0';
  DAT_40004d93 = 3;
  DAT_40004d94 = 0x28;
  LEA_obd_ii_P0462_flags = '\0';
  DAT_40004d96 = 3;
  DAT_40004d97 = 0x28;
  LEA_obd_ii_P0463_flags = '\0';
  DAT_40004d99 = 3;
  DAT_40004d9a = 0x28;
  LEA_obd_ii_P0480_flags = '\0';
  DAT_40004d9c = 3;
  DAT_40004d9d = 0x28;
  LEA_obd_ii_P0482_flags = '\0';
  DAT_40004d9f = 3;
  DAT_40004da0 = 0x28;
  LEA_obd_ii_P0500_flags = '\0';
  DAT_40004da2 = 3;
  DAT_40004da3 = 0x28;
  LEA_obd_ii_P0506_flags = '\0';
  DAT_40004da5 = 3;
  DAT_40004da6 = 0x28;
  LEA_obd_ii_P0507_flags = '\0';
  DAT_40004da8 = 3;
  DAT_40004da9 = 0x28;
  LEA_obd_ii_P050A_flags = '\0';
  DAT_40004dab = 3;
  DAT_40004dac = 0x28;
  LEA_obd_ii_P050B_flags = '\0';
  DAT_40004dae = 3;
  DAT_40004daf = 0x28;
  LEA_obd_ii_P0522_flags = '\0';
  DAT_40004db1 = 3;
  DAT_40004db2 = 0x28;
  LEA_obd_ii_P0523_flags = '\0';
  DAT_40004db4 = 3;
  DAT_40004db5 = 0x28;
  LEA_obd_ii_P0524_flags = '\0';
  DAT_40004db7 = 3;
  DAT_40004db8 = 0x28;
  LEA_obd_ii_P0537_flags = '\0';
  DAT_40004dba = 3;
  DAT_40004dbb = 0x28;
  LEA_obd_ii_P0538_flags = '\0';
  DAT_40004dbd = 3;
  DAT_40004dbe = 0x28;
  LEA_obd_ii_P0563_flags = '\0';
  DAT_40004dc3 = 3;
  DAT_40004dc4 = 0x28;
  LEA_obd_ii_P0562_flags = '\0';
  DAT_40004dc0 = 3;
  DAT_40004dc1 = 0x28;
  LEA_obd_ii_P0571_flags = '\0';
  DAT_40004dc6 = 3;
  DAT_40004dc7 = 0x28;
  LEA_obd_ii_P0578_flags = '\0';
  DAT_40004dc9 = 3;
  DAT_40004dca = 0x28;
  LEA_obd_ii_P0579_flags = '\0';
  DAT_40004dcc = 3;
  DAT_40004dcd = 0x28;
  LEA_obd_ii_P0564_flags = '\0';
  DAT_40004dcf = 3;
  DAT_40004dd0 = 0x28;
  LEA_obd_ii_P0601_flags = '\0';
  DAT_40004dd2 = 3;
  DAT_40004dd3 = 0x28;
  LEA_obd_ii_P0606_flags = '\0';
  DAT_40004dd5 = 3;
  DAT_40004dd6 = 0x28;
  LEA_obd_ii_P0610_flags = '\0';
  DAT_40004dd8 = 3;
  DAT_40004dd9 = 0b00101000;
  LEA_obd_ii_P0685_flags = '\0';
  DAT_40004ded = 3;
  DAT_40004dee = 0x28;
  LEA_obd_ii_P0141_flags = '\0';
  DAT_40004ddb = 3;
  DAT_40004ddc = 0x28;
  LEA_obd_ii_P0627_flags = '\0';
  DAT_40004dde = 3;
  DAT_40004ddf = 0x28;
  LEA_obd_ii_P0630_flags = '\0';
  DAT_40004de1 = 3;
  DAT_40004de2 = 0x28;
  LEA_obd_ii_P0638_flags = '\0';
  DAT_40004de4 = 3;
  DAT_40004de5 = 0x28;
  LEA_obd_ii_P0647_flags = '\0';
  DAT_40004de7 = 3;
  DAT_40004de8 = 0x28;
  LEA_obd_ii_P0646_flags = '\0';
  DAT_40004dea = 3;
  DAT_40004deb = 0x28;
  LEA_obd_ii_P0700_flags = '\0';
  DAT_40004df0 = 3;
  DAT_40004df1 = 0x28;
  LEA_obd_ii_P0712_flags = '\0';
  DAT_40004df3 = 3;
  DAT_40004df4 = 0x28;
  LEA_obd_ii_P0713_flags = '\0';
  DAT_40004df6 = 3;
  DAT_40004df7 = 0x28;
  LEA_obd_ii_P0806_flags = '\0';
  DAT_40004df9 = 3;
  DAT_40004dfa = 0x28;
  LEA_obd_ii_P1809_flags = '\0';
  DAT_40004dfc = 3;
  DAT_40004dfd = 0x28;
  LEA_obd_ii_P0807_flags = '\0';
  DAT_40004dff = 3;
  DAT_40004e00 = 0x28;
  LEA_obd_ii_P0808_flags = '\0';
  DAT_40004e02 = 3;
  DAT_40004e03 = 0x28;
  LEA_obd_ii_P1106_flags = '\0';
  DAT_40004e05 = 3;
  DAT_40004e06 = 0x28;
  LEA_obd_ii_P1107_flags = '\0';
  DAT_40004e8f = 3;
  DAT_40004e90 = 0x28;
  LEA_obd_ii_P1108_flags = '\0';
  DAT_40004e92 = 3;
  DAT_40004e93 = 0x28;
  LEA_obd_ii_P1109_flags = '\0';
  DAT_40004e95 = 3;
  DAT_40004e96 = 0x28;
  LEA_obd_ii_P123B_flags = '\0';
  DAT_40004e08 = 3;
  DAT_40004e09 = 0x28;
  LEA_obd_ii_P123C_flags = '\0';
  DAT_40004e0b = 3;
  DAT_40004e0c = 0x28;
  LEA_obd_ii_P1562_flags = '\0';
  DAT_40004e0e = 3;
  DAT_40004e0f = 0x28;
  LEA_obd_ii_P2122_flags = '\0';
  DAT_40004e11 = 3;
  DAT_40004e12 = 0x28;
  LEA_obd_ii_P2123_flags = '\0';
  DAT_40004e14 = 3;
  DAT_40004e15 = 0x28;
  LEA_obd_ii_P2127_flags = '\0';
  DAT_40004e17 = 3;
  DAT_40004e18 = 0x28;
  LEA_obd_ii_P2128_flags = '\0';
  DAT_40004e1a = 3;
  DAT_40004e1b = 0x28;
  LEA_obd_ii_P2135_flags = '\0';
  DAT_40004e1d = 3;
  DAT_40004e1e = 0x28;
  LEA_obd_ii_P2138_flags = '\0';
  DAT_40004e20 = 3;
  DAT_40004e21 = 0x28;
  LEA_obd_ii_P2173_flags = '\0';
  DAT_40004e23 = 3;
  DAT_40004e24 = 0x28;
  LEA_obd_ii_P2602_flags = '\0';
  DAT_40004e26 = 3;
  DAT_40004e27 = 0x28;
  LEA_obd_ii_P2603_flags = '\0';
  DAT_40004e29 = 3;
  DAT_40004e2a = 0x28;
  DAT_40004e2b = 0;
  DAT_40004e2c = 3;
  DAT_40004e2d = 0x28;
  DAT_40004e2e = 0;
  DAT_40004e2f = 3;
  DAT_40004e30 = 0x28;
  LEA_obd_ii_P2104_flags = '\0';
  DAT_40004e38 = 3;
  DAT_40004e39 = 0x28;
  LEA_obd_ii_P1104_flags = '\0';
  DAT_40004e3b = 3;
  DAT_40004e3c = 0x28;
  LEA_obd_ii_P2105_flags = '\0';
  DAT_40004e3e = 3;
  DAT_40004e3f = 0x28;
  LEA_obd_ii_P2106_flags = '\0';
  DAT_40004e41 = 3;
  DAT_40004e42 = 0x28;
  LEA_obd_ii_P2107_flags = '\0';
  DAT_40004e44 = 3;
  DAT_40004e45 = 0x28;
  LEA_obd_ii_P2100_flags = '\0';
  DAT_40004e47 = 3;
  DAT_40004e48 = 0x28;
  LEA_obd_ii_P2102_flags = '\0';
  DAT_40004e4a = 3;
  DAT_40004e4b = 0x28;
  LEA_obd_ii_P2103_flags = '\0';
  DAT_40004e4d = 3;
  DAT_40004e4e = 0x28;
  LEA_obd_ii_P2108_flags = '\0';
  DAT_40004e50 = 3;
  DAT_40004e51 = 0x28;
  LEA_obd_ii_P2612_flags = '\0';
  DAT_40004e53 = 3;
  DAT_40004e54 = 0x28;
  LEA_obd_ii_P2613_flags = '\0';
  DAT_40004e56 = 3;
  DAT_40004e57 = 0x28;
  LEA_obd_ii_P0616_flags = '\0';
  DAT_40004e59 = 3;
  DAT_40004e5a = 0x28;
  LEA_obd_ii_P0617_flags = '\0';
  DAT_40004e5c = 3;
  DAT_40004e5d = 0x28;
  LEA_obd_ii_P2119_flags = '\0';
  DAT_40004e5f = 3;
  DAT_40004e60 = 0x28;
  LEA_obd_ii_P2170_flags = '\0';
  DAT_40004e62 = 3;
  DAT_40004e63 = 0x28;
  LEA_obd_ii_P2171_flags = '\0';
  DAT_40004e65 = 3;
  DAT_40004e66 = 0x28;
  LEA_obd_ii_P0826_flags = '\0';
  DAT_40004e68 = 3;
  DAT_40004e69 = 0x28;
  LEA_obd_ii_P0827_flags = '\0';
  DAT_40004e6b = 3;
  DAT_40004e6c = 0x28;
  LEA_obd_ii_P0828_flags = '\0';
  DAT_40004e6e = 3;
  DAT_40004e6f = 0x28;
  LEA_obd_ii_P2191_flags = '\0';
  DAT_40004e71 = 3;
  DAT_40004e72 = 0x28;
  LEA_obd_ii_P2193_flags = '\0';
  DAT_40004e74 = 3;
  DAT_40004e75 = 0x28;
  LEA_obd_ii_P219A_flags = '\0';
  DAT_40004e77 = 3;
  DAT_40004e78 = 0x28;
  LEA_obd_ii_P219B_flags = '\0';
  DAT_40004e7a = 3;
  DAT_40004e7b = 0x28;
  LEA_obd_ii_P2336_flags = '\0';
  DAT_40004e7d = 3;
  DAT_40004e7e = 0x28;
  LEA_obd_ii_P2337_flags = '\0';
  DAT_40004e80 = 3;
  DAT_40004e81 = 0x28;
  LEA_obd_ii_P2338_flags = '\0';
  DAT_40004e83 = 3;
  DAT_40004e84 = 0x28;
  LEA_obd_ii_P2339_flags = '\0';
  DAT_40004e86 = 3;
  DAT_40004e87 = 0x28;
  LEA_obd_ii_P2340_flags = '\0';
  DAT_40004e89 = 3;
  DAT_40004e8a = 0x28;
  LEA_obd_ii_P2341_flags = '\0';
  DAT_40004e8c = 3;
  DAT_40004e8d = 0x28;
  LEA_obd_ii_P2754_flags = '\0';
  DAT_40004e98 = 3;
  DAT_40004e99 = 0x28;
  LEA_obd_ii_P2755_flags = '\0';
  DAT_40004e9b = 3;
  DAT_40004e9c = 0x28;
  LEA_obd_ii_P0897_flags = '\0';
  DAT_40004e9e = 3;
  DAT_40004e9f = 0x28;
  LEA_obd_ii_P2797_flags = '\0';
  DAT_40004ea1 = 3;
  DAT_40004ea2 = 0x28;
  LEA_obd_ii_P1422_flags = '\0';
  DAT_40004ea4 = 3;
  DAT_40004ea5 = 0x28;
  LEA_obd_ii_P0101_flags = '\0';
  DAT_40004ea7 = 3;
  DAT_40004ea8 = 0x28;
  LEA_obd_ii_P0109_flags = '\0';
  DAT_40004eaa = 3;
  DAT_40004eab = 0x28;
  LEA_obd_ii_P0122_flags = '\0';
  DAT_40004ead = 3;
  DAT_40004eae = 0x28;
  LEA_obd_ii_P0123_flags = '\0';
  DAT_40004eb0 = 3;
  DAT_40004eb1 = 0x28;
  LEA_obd_ii_P0155_flags = '\0';
  DAT_40004eb3 = 3;
  DAT_40004eb4 = 0x28;
  LEA_obd_ii_P0302_flags = '\0';
  DAT_40004eb6 = 3;
  DAT_40004eb7 = 0x28;
  LEA_obd_ii_P0316_flags = '\0';
  DAT_40004eb9 = 3;
  DAT_40004eba = 0x28;
  LEA_obd_ii_P0416_flags = '\0';
  DAT_40004ebc = 3;
  DAT_40004ebd = 0x28;
  LEA_obd_ii_P0513_flags = '\0';
  DAT_40004ebf = 3;
  DAT_40004ec0 = 0x28;
  obd_ii_engine_tests_completeness = obd_ii_common_test_available;
  DAT_40004ae8 = 0;
  u16_rspeed_4rpm_40004aea = 0;
  u16_flow_10mg_s_40004aec = 0;
  DAT_40004aee = 0;
  DAT_40004af0 = 0;
  DAT_40004af2 = 0;
  DAT_40004af4 = 0;
  u8_temp_5_8_40c_40004af6 = '\0';
  u8_temp_5_8_40c_40004af7 = '\0';
  u8_temp_5_8_40c_40004af8 = '\0';
  u8_factor_1_255_40004af9 = '\0';
  u32_time_5ms_40004afc = 0;
  DAT_40004b00 = 0;
  DAT_40004b02 = 0;
  DAT_40004b04 = 0;
  DAT_40004b06 = 0;
  DAT_40004b08 = 0;
  u8_speed_kph_40004b0c = '\0';
  DAT_40004b0e = 0x3f5;
  obd_ii_distance_traveled_with_MIL = 0;
  obd_ii_warmups_since_code_cleared = 0;
  obd_ii_distance_since_codes_cleared_km = 0;
  DAT_40004b34 = 0;
  DAT_40004b32 = 0;
  DAT_40004b1c = 0;
  DAT_40004b1a = 0;
  DAT_40004b38 = 0;
  DAT_40004b36 = 0;
  DAT_40004b22 = 0;
  DAT_40004b20 = 0;
  DAT_40004b2a = 0;
  DAT_40004b28 = 0;
  DAT_40004b26 = 0;
  DAT_40004b24 = 0;
  DAT_40004b2c = 0;
  DAT_40004b2e = 0x3ff;
  DAT_40004b30 = 0;
  DAT_40004b3a = 0;
  DAT_40004b3c = 0x3ff;
  DAT_40004b3e = 0;
  DAT_40004b46 = 0;
  DAT_40004b44 = 0;
  DAT_40004b42 = 0;
  DAT_40004b40 = 0;
  DAT_40004b4e = 0;
  DAT_40004b4c = 0;
  DAT_40004b4a = 0;
  DAT_40004b48 = 0;
  obd_ii_status_unknokwn = 0;
  obd_ii_max_misfire_results_emissions = 0;
  DAT_40004b62 = 0;
  for (i = 0; i < 2; i = i + 1) {
    obd_ii_misfires_unknown_cat_damage[i] = 0;
  }
  for (i = 0; i < 6; i = i + 1) {
    (&DAT_40004b64)[i] = 0;
  }
  for (i = 0; i < 6; i = i + 1) {
    coil_pack_diag_reading_unknown[i] = 0;
  }
  DAT_40004bbe = 0;
  DAT_40004bbc = 0;
  DAT_40004b57 = 0;
  DAT_40004b56 = 0;
  DAT_40004b54 = 0x7fff;
  DAT_40004b52 = 0x7fff;
  fuel_system_diagnostic2__ = 0;
  fuel_system_diagnostic__ = 0;
  for (i = 8; i < 16; i = i + 1) {
    LEA_maf_comp4_unknown[i] = '\0';
    LEA_maf_comp3_unknown[i] = '\0';
    LEA_maf_comp2_unknown[i] = '\0';
    LEA_maf_comp1_unknown[i] = '\0';
  }
  return;
}



void set_obd_ii_LEA_dtc_flags(void)

{
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 2;
  LEA_obd_ii_P0011_flags = LEA_obd_ii_P0011_flags & 0xdb;
  LEA_obd_ii_P0012_flags = LEA_obd_ii_P0012_flags & 0xdb;
  LEA_obd_ii_P0021_flags = LEA_obd_ii_P0021_flags & 0xdb;
  LEA_obd_ii_P0022_flags = LEA_obd_ii_P0022_flags & 0xdb;
  LEA_obd_ii_P0014_flags = LEA_obd_ii_P0014_flags & 0xdb;
  LEA_obd_ii_P0015_flags = LEA_obd_ii_P0015_flags & 0xdb;
  LEA_obd_ii_P0024_flags = LEA_obd_ii_P0024_flags & 0xdb;
  LEA_obd_ii_P0025_flags = LEA_obd_ii_P0025_flags & 0xdb;
  LEA_obd_ii_P0016_flags = LEA_obd_ii_P0016_flags & 0xdb;
  LEA_obd_ii_P0017_flags = LEA_obd_ii_P0017_flags & 0xdb;
  LEA_obd_ii_P0018_flags = LEA_obd_ii_P0018_flags & 0xdb;
  LEA_obd_ii_P0019_flags = LEA_obd_ii_P0019_flags & 0xdb;
  LEA_obd_ii_P0076_flags = LEA_obd_ii_P0076_flags & 0xdb;
  LEA_obd_ii_P0077_flags = LEA_obd_ii_P0077_flags & 0xdb;
  LEA_obd_ii_P0079_flags = LEA_obd_ii_P0079_flags & 0xdb;
  LEA_obd_ii_P0080_flags = LEA_obd_ii_P0080_flags & 0xdb;
  LEA_obd_ii_P0082_flags = LEA_obd_ii_P0082_flags & 0xdb;
  LEA_obd_ii_P0083_flags = LEA_obd_ii_P0083_flags & 0xdb;
  LEA_obd_ii_P0085_flags = LEA_obd_ii_P0085_flags & 0xdb;
  LEA_obd_ii_P0086_flags = LEA_obd_ii_P0086_flags & 0xdb;
  LEA_obd_ii_P0087_flags = LEA_obd_ii_P0087_flags & 0xdb;
  LEA_obd_ii_P0088_flags = LEA_obd_ii_P0088_flags & 0xdb;
  LEA_obd_ii_P0096_flags = LEA_obd_ii_P0096_flags & 0xdb;
  LEA_obd_ii_P0097_flags = LEA_obd_ii_P0097_flags & 0xdb;
  LEA_obd_ii_P0098_flags = LEA_obd_ii_P0098_flags & 0xdb;
  LEA_obd_ii_P0101_flags = LEA_obd_ii_P0101_flags & 0xdb;
  LEA_obd_ii_P0102_flags = LEA_obd_ii_P0102_flags & 0xdb;
  LEA_obd_ii_P0103_flags = LEA_obd_ii_P0103_flags & 0xdb;
  LEA_obd_ii_P0106_flags = LEA_obd_ii_P0106_flags & 0xdb;
  LEA_obd_ii_P0107_flags = LEA_obd_ii_P0107_flags & 0xdb;
  LEA_obd_ii_P0108_flags = LEA_obd_ii_P0108_flags & 0xdb;
  LEA_obd_ii_P0111_flags = LEA_obd_ii_P0111_flags & 0xdb;
  LEA_obd_ii_P0112_flags = LEA_obd_ii_P0112_flags & 0xdb;
  LEA_obd_ii_P0113_flags = LEA_obd_ii_P0113_flags & 0xdb;
  LEA_obd_ii_P0071_flags = LEA_obd_ii_P0071_flags & 0xdb;
  LEA_obd_ii_P0072_flags = LEA_obd_ii_P0072_flags & 0xdb;
  LEA_obd_ii_P0073_flags = LEA_obd_ii_P0073_flags & 0xdb;
  LEA_obd_ii_P0116_flags = LEA_obd_ii_P0116_flags & 0xdb;
  LEA_obd_ii_P0117_flags = LEA_obd_ii_P0117_flags & 0xdb;
  LEA_obd_ii_P0118_flags = LEA_obd_ii_P0118_flags & 0xdb;
  LEA_obd_ii_P0122_flags = LEA_obd_ii_P0122_flags & 0xdb;
  LEA_obd_ii_P0123_flags = LEA_obd_ii_P0123_flags & 0xdb;
  LEA_obd_ii_P0128_flags = LEA_obd_ii_P0128_flags & 0xdb;
  LEA_obd_ii_P0131_flags = LEA_obd_ii_P0131_flags & 0xdb;
  LEA_obd_ii_P0132_flags = LEA_obd_ii_P0132_flags & 0xdb;
  LEA_obd_ii_P0133_flags = LEA_obd_ii_P0133_flags & 0xdb;
  LEA_obd_ii_P0134_flags = LEA_obd_ii_P0134_flags & 0xdb;
  LEA_obd_ii_P0135_flags = LEA_obd_ii_P0135_flags & 0xdb;
  LEA_obd_ii_P0137_flags = LEA_obd_ii_P0137_flags & 0xdb;
  LEA_obd_ii_P0138_flags = LEA_obd_ii_P0138_flags & 0xdb;
  LEA_obd_ii_P0139_flags = LEA_obd_ii_P0139_flags & 0xdb;
  LEA_obd_ii_P0140_flags = LEA_obd_ii_P0140_flags & 0xdb;
  LEA_obd_ii_P0141_flags = LEA_obd_ii_P0141_flags & 0xdb;
  LEA_obd_ii_P0151_flags = LEA_obd_ii_P0151_flags & 0xdb;
  LEA_obd_ii_P0152_flags = LEA_obd_ii_P0152_flags & 0xdb;
  LEA_obd_ii_P0153_flags = LEA_obd_ii_P0153_flags & 0xdb;
  LEA_obd_ii_P0154_flags = LEA_obd_ii_P0154_flags & 0xdb;
  LEA_obd_ii_P0155_flags = LEA_obd_ii_P0155_flags & 0xdb;
  LEA_obd_ii_P0157_flags = LEA_obd_ii_P0157_flags & 0xdb;
  LEA_obd_ii_P0158_flags = LEA_obd_ii_P0158_flags & 0xdb;
  LEA_obd_ii_P0159_flags = LEA_obd_ii_P0159_flags & 0xdb;
  LEA_obd_ii_P0160_flags = LEA_obd_ii_P0160_flags & 0xdb;
  LEA_obd_ii_P0161_flags = LEA_obd_ii_P0161_flags & 0xdb;
  LEA_obd_ii_P0171_flags = LEA_obd_ii_P0171_flags & 0xdb;
  LEA_obd_ii_P0172_flags = LEA_obd_ii_P0172_flags & 0xdb;
  LEA_obd_ii_P0174_flags = LEA_obd_ii_P0174_flags & 0xdb;
  LEA_obd_ii_P0175_flags = LEA_obd_ii_P0175_flags & 0xdb;
  LEA_obd_ii_P0191_flags = LEA_obd_ii_P0191_flags & 0xdb;
  LEA_obd_ii_P0192_flags = LEA_obd_ii_P0192_flags & 0xdb;
  LEA_obd_ii_P0193_flags = LEA_obd_ii_P0193_flags & 0xdb;
  LEA_obd_ii_P0222_flags = LEA_obd_ii_P0222_flags & 0xdb;
  LEA_obd_ii_P0223_flags = LEA_obd_ii_P0223_flags & 0xdb;
  DAT_40004d14 = DAT_40004d14 & 0xdb;
  DAT_40004d17 = DAT_40004d17 & 0xdb;
  LEA_obd_ii_P023B_flags = LEA_obd_ii_P023B_flags & 0xdb;
  LEA_obd_ii_P023C_flags = LEA_obd_ii_P023C_flags & 0xdb;
  LEA_obd_ii_P025C_flags = LEA_obd_ii_P025C_flags & 0xdb;
  LEA_obd_ii_P025D_flags = LEA_obd_ii_P025D_flags & 0xdb;
  LEA_obd_ii_P0261_flags = LEA_obd_ii_P0261_flags & 0xdb;
  LEA_obd_ii_P0262_flags = LEA_obd_ii_P0262_flags & 0xdb;
  LEA_obd_ii_P0264_flags = LEA_obd_ii_P0264_flags & 0xdb;
  LEA_obd_ii_P0265_flags = LEA_obd_ii_P0265_flags & 0xdb;
  LEA_obd_ii_P0267_flags = LEA_obd_ii_P0267_flags & 0xdb;
  LEA_obd_ii_P0268_flags = LEA_obd_ii_P0268_flags & 0xdb;
  LEA_obd_ii_P0270_flags = LEA_obd_ii_P0270_flags & 0xdb;
  LEA_obd_ii_P0271_flags = LEA_obd_ii_P0271_flags & 0xdb;
  LEA_obd_ii_P0273_flags = LEA_obd_ii_P0273_flags & 0xdb;
  LEA_obd_ii_P0274_flags = LEA_obd_ii_P0274_flags & 0xdb;
  LEA_obd_ii_P0276_flags = LEA_obd_ii_P0276_flags & 0xdb;
  LEA_obd_ii_P0277_flags = LEA_obd_ii_P0277_flags & 0xdb;
  LEA_obd_ii_P0300_flags = LEA_obd_ii_P0300_flags & 0xdb;
  LEA_obd_ii_P0301_flags = LEA_obd_ii_P0301_flags & 0xdb;
  LEA_obd_ii_P0302_flags = LEA_obd_ii_P0302_flags & 0xdb;
  LEA_obd_ii_P0303_flags = LEA_obd_ii_P0303_flags & 0xdb;
  LEA_obd_ii_P0304_flags = LEA_obd_ii_P0304_flags & 0xdb;
  LEA_obd_ii_P0305_flags = LEA_obd_ii_P0305_flags & 0xdb;
  LEA_obd_ii_P0306_flags = LEA_obd_ii_P0306_flags & 0xdb;
  LEA_obd_ii_P0327_flags = LEA_obd_ii_P0327_flags & 0xdb;
  LEA_obd_ii_P0328_flags = LEA_obd_ii_P0328_flags & 0xdb;
  LEA_obd_ii_P0332_flags = LEA_obd_ii_P0332_flags & 0xdb;
  LEA_obd_ii_P0333_flags = LEA_obd_ii_P0333_flags & 0xdb;
  LEA_obd_ii_P0335_flags = LEA_obd_ii_P0335_flags & 0xdb;
  LEA_obd_ii_P0341_flags = LEA_obd_ii_P0341_flags & 0xdb;
  LEA_obd_ii_P0346_flags = LEA_obd_ii_P0346_flags & 0xdb;
  LEA_obd_ii_P0366_flags = LEA_obd_ii_P0366_flags & 0xdb;
  LEA_obd_ii_P0391_flags = LEA_obd_ii_P0391_flags & 0xdb;
  LEA_obd_ii_P1301_flags = LEA_obd_ii_P1301_flags & 0xdb;
  LEA_obd_ii_P1302_flags = LEA_obd_ii_P1302_flags & 0xdb;
  LEA_obd_ii_P0351_flags = LEA_obd_ii_P0351_flags & 0xdb;
  LEA_obd_ii_P0352_flags = LEA_obd_ii_P0352_flags & 0xdb;
  LEA_obd_ii_P0353_flags = LEA_obd_ii_P0353_flags & 0xdb;
  LEA_obd_ii_P0354_flags = LEA_obd_ii_P0354_flags & 0xdb;
  LEA_obd_ii_P0355_flags = LEA_obd_ii_P0355_flags & 0xdb;
  LEA_obd_ii_P0356_flags = LEA_obd_ii_P0356_flags & 0xdb;
  LEA_obd_ii_P0420_flags = LEA_obd_ii_P0420_flags & 0xdb;
  LEA_obd_ii_P0430_flags = LEA_obd_ii_P0430_flags & 0xdb;
  LEA_obd_ii_P0441_flags = LEA_obd_ii_P0441_flags & 0xdb;
  LEA_obd_ii_P0442_flags = LEA_obd_ii_P0442_flags & 0xdb;
  LEA_obd_ii_P0444_flags = LEA_obd_ii_P0444_flags & 0xdb;
  LEA_obd_ii_P0445_flags = LEA_obd_ii_P0445_flags & 0xdb;
  LEA_obd_ii_P0446_flags = LEA_obd_ii_P0446_flags & 0xdb;
  LEA_obd_ii_P0447_flags = LEA_obd_ii_P0447_flags & 0xdb;
  LEA_obd_ii_P0448_flags = LEA_obd_ii_P0448_flags & 0xdb;
  LEA_obd_ii_P0451_flags = LEA_obd_ii_P0451_flags & 0xdb;
  LEA_obd_ii_P0452_flags = LEA_obd_ii_P0452_flags & 0xdb;
  LEA_obd_ii_P0453_flags = LEA_obd_ii_P0453_flags & 0xdb;
  LEA_obd_ii_P0455_flags = LEA_obd_ii_P0455_flags & 0xdb;
  LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags & 0xdb;
  LEA_obd_ii_P0461_flags = LEA_obd_ii_P0461_flags & 0xdb;
  LEA_obd_ii_P0463_flags = LEA_obd_ii_P0463_flags & 0xdb;
  LEA_obd_ii_P0462_flags = LEA_obd_ii_P0462_flags & 0xdb;
  LEA_obd_ii_P0480_flags = LEA_obd_ii_P0480_flags & 0xdb;
  LEA_obd_ii_P0482_flags = LEA_obd_ii_P0482_flags & 0xdb;
  LEA_obd_ii_P0500_flags = LEA_obd_ii_P0500_flags & 0xdb;
  LEA_obd_ii_P0506_flags = LEA_obd_ii_P0506_flags & 0xdb;
  LEA_obd_ii_P0507_flags = LEA_obd_ii_P0507_flags & 0xdb;
  LEA_obd_ii_P050A_flags = LEA_obd_ii_P050A_flags & 0xdb;
  LEA_obd_ii_P050B_flags = LEA_obd_ii_P050B_flags & 0xdb;
  LEA_obd_ii_P0522_flags = LEA_obd_ii_P0522_flags & 0xdb;
  LEA_obd_ii_P0523_flags = LEA_obd_ii_P0523_flags & 0xdb;
  LEA_obd_ii_P0524_flags = LEA_obd_ii_P0524_flags & 0xdb;
  LEA_obd_ii_P0537_flags = LEA_obd_ii_P0537_flags & 0xdb;
  LEA_obd_ii_P0538_flags = LEA_obd_ii_P0538_flags & 0xdb;
  LEA_obd_ii_P0563_flags = LEA_obd_ii_P0563_flags & 0xdb;
  LEA_obd_ii_P0562_flags = LEA_obd_ii_P0562_flags & 0xdb;
  LEA_obd_ii_P0571_flags = LEA_obd_ii_P0571_flags & 0xdb;
  LEA_obd_ii_P0578_flags = LEA_obd_ii_P0578_flags & 0xdb;
  LEA_obd_ii_P0579_flags = LEA_obd_ii_P0579_flags & 0xdb;
  LEA_obd_ii_P0564_flags = LEA_obd_ii_P0564_flags & 0xdb;
  LEA_obd_ii_P0601_flags = LEA_obd_ii_P0601_flags & 0xdb;
  LEA_obd_ii_P0606_flags = LEA_obd_ii_P0606_flags & 0xdb;
  LEA_obd_ii_P0610_flags = LEA_obd_ii_P0610_flags & 0xdb;
  LEA_obd_ii_P0627_flags = LEA_obd_ii_P0627_flags & 0xdb;
  LEA_obd_ii_P0630_flags = LEA_obd_ii_P0630_flags & 0xdb;
  LEA_obd_ii_P0638_flags = LEA_obd_ii_P0638_flags & 0xdb;
  LEA_obd_ii_P0647_flags = LEA_obd_ii_P0647_flags & 0xdb;
  LEA_obd_ii_P0646_flags = LEA_obd_ii_P0646_flags & 0xdb;
  LEA_obd_ii_P0685_flags = LEA_obd_ii_P0685_flags & 0xdb;
  LEA_obd_ii_P0700_flags = LEA_obd_ii_P0700_flags & 0xdb;
  LEA_obd_ii_P0712_flags = LEA_obd_ii_P0712_flags & 0xdb;
  LEA_obd_ii_P0713_flags = LEA_obd_ii_P0713_flags & 0xdb;
  LEA_obd_ii_P0806_flags = LEA_obd_ii_P0806_flags & 0xdb;
  LEA_obd_ii_P1809_flags = LEA_obd_ii_P1809_flags & 0xdb;
  LEA_obd_ii_P0807_flags = LEA_obd_ii_P0807_flags & 0xdb;
  LEA_obd_ii_P0808_flags = LEA_obd_ii_P0808_flags & 0xdb;
  LEA_obd_ii_P1106_flags = LEA_obd_ii_P1106_flags & 0xdb;
  LEA_obd_ii_P123B_flags = LEA_obd_ii_P123B_flags & 0xdb;
  LEA_obd_ii_P123C_flags = LEA_obd_ii_P123C_flags & 0xdb;
  LEA_obd_ii_P1562_flags = LEA_obd_ii_P1562_flags & 0xdb;
  LEA_obd_ii_P2122_flags = LEA_obd_ii_P2122_flags & 0xdb;
  LEA_obd_ii_P2123_flags = LEA_obd_ii_P2123_flags & 0xdb;
  LEA_obd_ii_P2127_flags = LEA_obd_ii_P2127_flags & 0xdb;
  LEA_obd_ii_P2128_flags = LEA_obd_ii_P2128_flags & 0xdb;
  LEA_obd_ii_P2135_flags = LEA_obd_ii_P2135_flags & 0xdb;
  LEA_obd_ii_P2138_flags = LEA_obd_ii_P2138_flags & 0xdb;
  LEA_obd_ii_P2173_flags = LEA_obd_ii_P2173_flags & 0xdb;
  LEA_obd_ii_P2602_flags = LEA_obd_ii_P2602_flags & 0xdb;
  LEA_obd_ii_P2603_flags = LEA_obd_ii_P2603_flags & 0xdb;
  DAT_40004e2b = DAT_40004e2b & 0xdb;
  DAT_40004e2e = DAT_40004e2e & 0xdb;
  LEA_obd_ii_P2104_flags = LEA_obd_ii_P2104_flags & 0xdb;
  LEA_obd_ii_P1104_flags = LEA_obd_ii_P1104_flags & 0xdb;
  LEA_obd_ii_P2105_flags = LEA_obd_ii_P2105_flags & 0xdb;
  LEA_obd_ii_P2106_flags = LEA_obd_ii_P2106_flags & 0xdb;
  LEA_obd_ii_P2107_flags = LEA_obd_ii_P2107_flags & 0xdb;
  LEA_obd_ii_P2100_flags = LEA_obd_ii_P2100_flags & 0xdb;
  LEA_obd_ii_P2102_flags = LEA_obd_ii_P2102_flags & 0xdb;
  LEA_obd_ii_P2103_flags = LEA_obd_ii_P2103_flags & 0xdb;
  LEA_obd_ii_P2108_flags = LEA_obd_ii_P2108_flags & 0xdb;
  LEA_obd_ii_P2612_flags = LEA_obd_ii_P2612_flags & 0xdb;
  LEA_obd_ii_P2613_flags = LEA_obd_ii_P2613_flags & 0xdb;
  LEA_obd_ii_P0616_flags = LEA_obd_ii_P0616_flags & 0xdb;
  LEA_obd_ii_P0617_flags = LEA_obd_ii_P0617_flags & 0xdb;
  LEA_obd_ii_P2119_flags = LEA_obd_ii_P2119_flags & 0xdb;
  LEA_obd_ii_P2170_flags = LEA_obd_ii_P2170_flags & 0xdb;
  LEA_obd_ii_P2171_flags = LEA_obd_ii_P2171_flags & 0xdb;
  LEA_obd_ii_P0826_flags = LEA_obd_ii_P0826_flags & 0xdb;
  LEA_obd_ii_P0827_flags = LEA_obd_ii_P0827_flags & 0xdb;
  LEA_obd_ii_P0828_flags = LEA_obd_ii_P0828_flags & 0xdb;
  LEA_obd_ii_P2191_flags = LEA_obd_ii_P2191_flags & 0xdb;
  LEA_obd_ii_P2193_flags = LEA_obd_ii_P2193_flags & 0xdb;
  LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags & 0xdb;
  LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags & 0xdb;
  LEA_obd_ii_P2336_flags = LEA_obd_ii_P2336_flags & 0xdb;
  LEA_obd_ii_P2337_flags = LEA_obd_ii_P2337_flags & 0xdb;
  LEA_obd_ii_P2338_flags = LEA_obd_ii_P2338_flags & 0xdb;
  LEA_obd_ii_P2339_flags = LEA_obd_ii_P2339_flags & 0xdb;
  LEA_obd_ii_P2340_flags = LEA_obd_ii_P2340_flags & 0xdb;
  LEA_obd_ii_P2341_flags = LEA_obd_ii_P2341_flags & 0xdb;
  LEA_obd_ii_P1107_flags = LEA_obd_ii_P1107_flags & 0xdb;
  LEA_obd_ii_P1108_flags = LEA_obd_ii_P1108_flags & 0xdb;
  LEA_obd_ii_P1109_flags = LEA_obd_ii_P1109_flags & 0xdb;
  LEA_obd_ii_P2754_flags = LEA_obd_ii_P2754_flags & 0xdb;
  LEA_obd_ii_P2755_flags = LEA_obd_ii_P2755_flags & 0xdb;
  LEA_obd_ii_P0897_flags = LEA_obd_ii_P0897_flags & 0xdb;
  LEA_obd_ii_P2797_flags = LEA_obd_ii_P2797_flags & 0xdb;
  LEA_obd_ii_P0101_flags = LEA_obd_ii_P0101_flags & 0xdb;
  LEA_obd_ii_P0109_flags = LEA_obd_ii_P0109_flags & 0xdb;
  LEA_obd_ii_P0122_flags = LEA_obd_ii_P0122_flags & 0xdb;
  LEA_obd_ii_P0123_flags = LEA_obd_ii_P0123_flags & 0xdb;
  LEA_obd_ii_P0141_flags = LEA_obd_ii_P0141_flags & 0xdb;
  LEA_obd_ii_P0155_flags = LEA_obd_ii_P0155_flags & 0xdb;
  LEA_obd_ii_P0302_flags = LEA_obd_ii_P0302_flags & 0xdb;
  LEA_obd_ii_P0316_flags = LEA_obd_ii_P0316_flags & 0xdb;
  LEA_obd_ii_P0416_flags = LEA_obd_ii_P0416_flags & 0xdb;
  LEA_obd_ii_P0513_flags = LEA_obd_ii_P0513_flags & 0xdb;
  return;
}



void FUN_0005a370(void)

{
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x10;
  FUN_0005a3a0();
  FUN_0005523c();
  return;
}



void FUN_0005a3a0(void)

{
  uint i;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0b00100000;
  lea_reset3();
  lea_reset2();
  lea_reset4();
  for (i = 0; i < 1514; i = i + 1) {
    (&DAT_400042c8)[i] = 0;
  }
  zero_counters_unknown1();
  zero_counters_unknown2();
  return;
}



void init_lea_maf_unknown(void)

{
  bool bVar1;
  bool bVar2;
  int i;
  
  bVar1 = false;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    for (i = 0; i < 8; i = i + 1) {
      bVar2 = true;
      if (LEA_maf_comp1_unknown[i] == CAL_maf_comp_ips_unknown_X_maf_flow[i]) {
        bVar2 = bVar1;
      }
      bVar1 = bVar2;
    }
  }
  else {
    for (i = 0; i < 8; i = i + 1) {
      bVar2 = true;
      if (LEA_maf_comp1_unknown[i] == CAL_maf_comp_manual_unknown_X_maf_flow[i]) {
        bVar2 = bVar1;
      }
      bVar1 = bVar2;
    }
  }
  if (bVar1) {
    DAT_40004a8a = 0;
    DAT_40004a89 = 0;
    for (i = 8; i < 0x10; i = i + 1) {
      LEA_maf_comp4_unknown[i] = 0;
      LEA_maf_comp3_unknown[i] = 0;
      LEA_maf_comp2_unknown[i] = 0;
      LEA_maf_comp1_unknown[i] = 0;
    }
  }
  bVar1 = false;
  for (i = 0; i < 0x28; i = i + 1) {
    bVar2 = true;
    if (LEA_load_alphaN_adj_X_engine_speed[i] == CAL_load_alphaN_base_X_engine_speed[i]) {
      bVar2 = bVar1;
    }
    bVar1 = bVar2;
  }
  if (bVar1) {
    for (i = 0x28; i < 0x1b8; i = i + 1) {
      LEA_load_alphaN_adj_X_engine_speed[i] = 100;
    }
  }
  bVar1 = false;
  for (i = 0; i < 40; i = i + 1) {
    bVar2 = true;
    if (LEA_torque_torque_to_tps_scaling_X_engine_speed[i] == CAL_load_to_tps_max_X_engine_speed[i])
    {
      bVar2 = bVar1;
    }
    bVar1 = bVar2;
  }
  if (bVar1) {
    for (i = 40; i < 440; i = i + 1) {
                    // the offsets here load the table data, not the axes that the reference points
                    // to
      LEA_torque_torque_to_tps_scaling_X_engine_speed[i] = 100;
    }
  }
  return;
}



void init_lea_maf_and_trqlimit(void)

{
  uint8_t uVar1;
  byte i;
  
  if ((COD_base[0] >> 0xd & 7) == 1) {
    for (i = 0; i < 8; i = i + 1) {
      uVar1 = CAL_maf_comp_ips_unknown_X_maf_flow[i];
      LEA_maf_comp4_unknown[i] = uVar1;
      LEA_maf_comp3_unknown[i] = uVar1;
      LEA_maf_comp2_unknown[i] = uVar1;
      LEA_maf_comp1_unknown[i] = uVar1;
    }
  }
  else {
    for (i = 0; i < 8; i = i + 1) {
      uVar1 = CAL_maf_comp_manual_unknown_X_maf_flow[i];
      LEA_maf_comp4_unknown[i] = uVar1;
      LEA_maf_comp3_unknown[i] = uVar1;
      LEA_maf_comp2_unknown[i] = uVar1;
      LEA_maf_comp1_unknown[i] = uVar1;
    }
  }
  for (i = 0; i < 40; i = i + 1) {
                    // This axis is only 20 bytes long. This writes both X and Y axis.
    LEA_load_alphaN_adj_X_engine_speed[i] = CAL_load_alphaN_base_X_engine_speed[i];
  }
  for (i = 0; i < 40; i = i + 1) {
                    // Again. This copies both axes in a single loop.
    LEA_torque_torque_to_tps_scaling_X_engine_speed[i] = CAL_load_to_tps_max_X_engine_speed[i];
  }
  return;
}



void lea_reset4(void)

{
  byte bVar1;
  
  ecu_startup_flags_unknown = ecu_startup_flags_unknown | 0x80;
  for (bVar1 = 0; bVar1 < 32; bVar1 = bVar1 + 1) {
    (&DAT_4000412c)[bVar1] = 0;
    (&DAT_4000416c)[bVar1] = 0;
    (&DAT_400040ec)[bVar1] = 0;
    (&DAT_400041ac)[bVar1] = 0;
  }
  DAT_400041ff = 0;
  u32_time_5ms_400040e4 = 0;
  u16_time_100ms_400041ec = 0;
  u16_voltage_18_1023v_400041ee = 0;
  DAT_400041f0 = 0;
  DAT_400041fe = 0;
  DAT_400040e8 = 0;
  DAT_400041f2 = 0;
  DAT_400041f4 = 0;
  DAT_400041f6 = 0;
  DAT_400041f8 = 0;
  DAT_400041fa = 0;
  DAT_400041fc = 0;
  DAT_40004264 = 0;
  return;
}



void lea_reset_handler_unknown(void)

{
                    // I'm not sure where this condition is set. The value is "SR" in ascii, which
                    // doesn't make much sense, but might be part of some developement feature.
  if (uint16_t_40001ba8 == 0b0101001101010010) {
    lea_reset3();
    lea_reset1();
    uint16_t_40001ba8 = 0b0100101101001111;
  }
  return;
}



undefined8 flash_erase(uint param_1,uint param_2,uint param_3)

{
  uint8_t *puVar1;
  undefined8 uVar2;
  
  puVar1 = CAL_knock_sampling_window + 0x2e;
  DAT_40001be4 = 0;
  DAT_40001bd8 = param_1;
  DAT_40001bdc = param_2;
  DAT_40001be0 = param_3;
  uVar2 = (*(code *)PTR_FUN_40002aa8)(&PTR_FLASH_MCR_400005e8);
  if ((int)uVar2 == 0) {
    if ((DAT_40001bd8 == 0) || (DAT_40001bdc == 0)) {
      if (DAT_40001be0 == 0) {
        if (DAT_40001bdc == 1) {
          uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,4,&DAT_40001bb4,&DAT_40001bb0);
          if ((int)uVar2 != 0) {
            return uVar2;
          }
          if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
             (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                                (&PTR_FLASH_MCR_400005e8,4,DAT_40001bb0 & ~DAT_40001bdc,
                                 0xffffffffa1a11111), (int)uVar2 != 0)) {
            return uVar2;
          }
          uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,5,&DAT_40001bb4,&DAT_40001bb0);
          if ((int)uVar2 != 0) {
            return uVar2;
          }
          if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
             (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                                (&PTR_FLASH_MCR_400005e8,5,DAT_40001bb0 & ~DAT_40001bdc,
                                 0xffffffffc3c33333), (int)uVar2 != 0)) {
            return uVar2;
          }
          DAT_40001bd4 = DAT_400005ec + 0x40000;
          DAT_40001bd0 = 0;
        }
      }
      else {
        uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,0,1,0xffffffffa1a11111);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,1,1,0xffffffffc3c33333);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,2,&DAT_40001bb4,&DAT_40001bb0);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        if ((DAT_40001be0 == (DAT_40001be0 & DAT_40001bb0)) &&
           (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                              (&PTR_FLASH_MCR_400005e8,2,DAT_40001bb0 & ~DAT_40001be0,
                               0xffffffffa1a11111), (int)uVar2 != 0)) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,3,&DAT_40001bb4,&DAT_40001bb0);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        if ((DAT_40001be0 == (DAT_40001be0 & DAT_40001bb0)) &&
           (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                              (&PTR_FLASH_MCR_400005e8,3,DAT_40001bb0 & ~DAT_40001be0,
                               0xffffffffc3c33333), (int)uVar2 != 0)) {
          return uVar2;
        }
        if (DAT_40001be0 == 0x10) {
          DAT_40001bd4 = DAT_400005ec + 0x20000;
          DAT_40001bd0 = 0x10000;
        }
        else if (DAT_40001be0 == 8) {
          DAT_40001bd4 = DAT_400005ec + 0x1c000;
          DAT_40001bd0 = 0x4000;
        }
        else if (DAT_40001be0 == 4) {
          DAT_40001bd4 = DAT_400005ec + 0x10000;
          DAT_40001bd0 = 0xc000;
        }
        else {
          DAT_40001bd4 = 0;
          DAT_40001bd0 = 0;
        }
      }
    }
    else {
      uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,0,1,0xffffffffa1a11111);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,1,1,0xffffffffc3c33333);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,6,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bd8 == (DAT_40001bd8 & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,6,DAT_40001bb0 & ~DAT_40001bd8,
                             0xffffffffb2b22222), (int)uVar2 != 0)) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,4,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,4,DAT_40001bb0 & ~DAT_40001bdc,
                             0xffffffffa1a11111), (int)uVar2 != 0)) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,5,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,5,DAT_40001bb0 & ~DAT_40001bdc,
                             0xffffffffc3c33333), (int)uVar2 != 0)) {
        return uVar2;
      }
      DAT_40001bd4 = DAT_400005ec + 0x40000;
      DAT_40001bd0 = 0x40000;
    }
    if (DAT_40001bd0 == 0) {
      uVar2 = 0;
    }
    else {
      uVar2 = (**(code **)(&UNK_ffff801c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,DAT_40001be4,DAT_40001be0,DAT_40001bdc,DAT_40001bd8
                         ,0xffffffffffffffff);
      if (((int)uVar2 == 0) &&
         (uVar2 = (**(code **)(&DAT_ffff8020 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,DAT_40001bd4,DAT_40001bd0,&DAT_40001bc8,
                             &DAT_40001bc0,0xffffffffffffffff), (int)uVar2 == 0)) {
        uVar2 = 0;
      }
    }
  }
  return uVar2;
}



undefined8 FUN_0005afac(uint param_1,uint param_2,uint param_3)

{
  uint8_t *puVar1;
  undefined8 uVar2;
  
  puVar1 = CAL_knock_sampling_window + 0x2e;
  DAT_40001be4 = 0;
  DAT_40001bd8 = param_1;
  DAT_40001bdc = param_2;
  DAT_40001be0 = param_3;
  uVar2 = (*(code *)PTR_FUN_40002aa8)(&PTR_FLASH_MCR_400005e8);
  if ((int)uVar2 == 0) {
    if ((DAT_40001bd8 == 0) || (DAT_40001bdc == 0)) {
      if (DAT_40001be0 == 0) {
        if (DAT_40001bdc == 1) {
          uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,4,&DAT_40001bb4,&DAT_40001bb0);
          if ((int)uVar2 != 0) {
            return uVar2;
          }
          if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
             (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                                (&PTR_FLASH_MCR_400005e8,4,DAT_40001bb0 & ~DAT_40001bdc,
                                 0xffffffffa1a11111), (int)uVar2 != 0)) {
            return uVar2;
          }
          uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,5,&DAT_40001bb4,&DAT_40001bb0);
          if ((int)uVar2 != 0) {
            return uVar2;
          }
          if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
             (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                                (&PTR_FLASH_MCR_400005e8,5,DAT_40001bb0 & ~DAT_40001bdc,
                                 0xffffffffc3c33333), (int)uVar2 != 0)) {
            return uVar2;
          }
          DAT_40001bd4 = DAT_400005ec + 0x40000;
          DAT_40001bd0 = 0;
        }
      }
      else {
        uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,0,1,0xffffffffa1a11111);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,1,1,0xffffffffc3c33333);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,2,&DAT_40001bb4,&DAT_40001bb0);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        if ((DAT_40001be0 == (DAT_40001be0 & DAT_40001bb0)) &&
           (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                              (&PTR_FLASH_MCR_400005e8,2,DAT_40001bb0 & ~DAT_40001be0,
                               0xffffffffa1a11111), (int)uVar2 != 0)) {
          return uVar2;
        }
        uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                          (&PTR_FLASH_MCR_400005e8,3,&DAT_40001bb4,&DAT_40001bb0);
        if ((int)uVar2 != 0) {
          return uVar2;
        }
        if ((DAT_40001be0 == (DAT_40001be0 & DAT_40001bb0)) &&
           (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                              (&PTR_FLASH_MCR_400005e8,3,DAT_40001bb0 & ~DAT_40001be0,
                               0xffffffffc3c33333), (int)uVar2 != 0)) {
          return uVar2;
        }
        if (DAT_40001be0 == 0x10) {
          DAT_40001bd4 = DAT_400005ec + 0x20000;
          DAT_40001bd0 = 0x10000;
        }
        else if (DAT_40001be0 == 8) {
          DAT_40001bd4 = DAT_400005ec + 0x1c000;
          DAT_40001bd0 = 0x4000;
        }
        else if (DAT_40001be0 == 4) {
          DAT_40001bd4 = DAT_400005ec + 0x10000;
          DAT_40001bd0 = 0xc000;
        }
        else {
          DAT_40001bd4 = 0;
          DAT_40001bd0 = 0;
        }
      }
    }
    else {
      uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,0,1,0xffffffffa1a11111);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,1,1,0xffffffffc3c33333);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,6,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bd8 == (DAT_40001bd8 & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,6,DAT_40001bb0 & ~DAT_40001bd8,
                             0xffffffffb2b22222), (int)uVar2 != 0)) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,4,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,4,DAT_40001bb0 & ~DAT_40001bdc,
                             0xffffffffa1a11111), (int)uVar2 != 0)) {
        return uVar2;
      }
      uVar2 = (**(code **)(&UNK_ffff802c + (int)puVar1))
                        (&PTR_FLASH_MCR_400005e8,5,&DAT_40001bb4,&DAT_40001bb0);
      if ((int)uVar2 != 0) {
        return uVar2;
      }
      if ((DAT_40001bdc == (DAT_40001bdc & DAT_40001bb0)) &&
         (uVar2 = (**(code **)(&UNK_ffff8030 + (int)puVar1))
                            (&PTR_FLASH_MCR_400005e8,5,DAT_40001bb0 & ~DAT_40001bdc,
                             0xffffffffc3c33333), (int)uVar2 != 0)) {
        return uVar2;
      }
      DAT_40001bd4 = DAT_400005ec + 0x40000;
      DAT_40001bd0 = 0x40000;
    }
    uVar2 = 0;
  }
  return uVar2;
}



void flash_write(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  uint8_t *puVar1;
  int iVar2;
  
  puVar1 = CAL_knock_sampling_window + 0x2e;
  DAT_40001bcc = param_2;
  DAT_40001bd0 = param_3;
  DAT_40001bd4 = param_1;
  iVar2 = (*(code *)PTR_FUN_40002ab4)
                    (&PTR_FLASH_MCR_400005e8,param_1,param_3,param_2,0xffffffffffffffff);
  if (iVar2 == 0) {
    (**(code **)(&UNK_ffff8028 + (int)puVar1))
              (&PTR_FLASH_MCR_400005e8,DAT_40001bd4,DAT_40001bd0,DAT_40001bcc,&DAT_40001bc8,
               &DAT_40001bc0,&DAT_40001bb8,0xffffffffffffffff);
  }
  return;
}



undefined8 init_flash_cr(void)

{
  uint uVar1;
  uint uVar2;
  
  if (DAT_40001bd8 != 0) {
    uVar1 = FLASH_HSR;
    uVar2 = FLASH_HSR;
    FLASH_HSR = uVar1 & 0xfffffff & ~DAT_40001bd8 | uVar2 & 0xf0000000;
    uVar1 = FLASH_HLR;
    uVar2 = FLASH_HLR;
    FLASH_HLR = uVar1 & 0xfffffff | DAT_40001bd8 & 0xfffffff | uVar2 & 0xf0000000;
  }
  if (DAT_40001be0 != 0) {
    uVar1 = FLASH_MLSR;
    uVar2 = FLASH_MLSR;
    FLASH_MLSR = uVar1 & 0xffff & ~DAT_40001be0 | uVar2 & 0xffff0000;
    uVar1 = FLASH_LMLR;
    uVar2 = FLASH_LMLR;
    FLASH_LMLR = uVar1 & 0xffff | DAT_40001be0 & 0xffff | uVar2 & 0xffff0000;
    uVar1 = FLASH_SLMLR;
    uVar2 = FLASH_SLMLR;
    FLASH_SLMLR = uVar1 & 0xffff | DAT_40001be0 & 0xffff | uVar2 & 0xffff0000;
  }
  if (DAT_40001bdc != 0) {
    uVar1 = FLASH_MLSR;
    uVar2 = FLASH_MLSR;
    FLASH_MLSR = (uVar1 >> 0x10 & 0xf & ~DAT_40001bdc) << 0x10 | uVar2 & 0xfff0ffff;
    uVar1 = FLASH_LMLR;
    uVar2 = FLASH_LMLR;
    FLASH_LMLR = (uVar1 >> 0x10 & 0xf | DAT_40001bdc & 0xf) << 0x10 | uVar2 & 0xfff0ffff;
    uVar1 = FLASH_SLMLR;
    uVar2 = FLASH_SLMLR;
    FLASH_SLMLR = (uVar1 >> 0x10 & 0xf | DAT_40001bdc & 0xf) << 0x10 | uVar2 & 0xfff0ffff;
  }
  return 0;
}



void busy_wait_50k(void)

{
  undefined *i;
  
  for (i = (undefined *)0x0; i < &DAT_0000c350; i = i + 1) {
    watchdog_retrigger();
  }
  return;
}



void EEPROM_write_learned_data(byte *data,ulonglong size)

{
  uint i;
  ulonglong size_aligned;
  byte buffer [32];
  int size_unaligned;
  
  set_spr154_2c52();
  size_aligned = size & 7;
  watchdog_retrigger();
  flash_erase(0,0,4);
  watchdog_retrigger();
  size_unaligned = (int)((((size & 0xffff) << 32) >> 35) << 3);
                    // 0x10000 is LEAROM base
  flash_write(0x10000,data,size_unaligned);
  watchdog_retrigger();
  if (size_aligned != 0) {
    for (i = 0; (i & 0xff) < (uint)size_aligned; i = i + 1) {
      buffer[i & 0xff] = data[(i & 0xff) + size_unaligned];
    }
    for (; (size_aligned & 0xff) < 8; size_aligned = size_aligned + 1) {
      buffer[(uint)size_aligned & 0xff] = 0xff;
    }
    flash_write(size_unaligned + 0x10000,buffer,8);
    watchdog_retrigger();
  }
  init_flash_cr();
  busy_wait_50k();
  set_spr154_6c54();
  return;
}



void load_saved_LEA(char *param_1,short size)

{
  char cVar1;
  char *pcVar2;
  bool done;
  
  pcVar2 = LEAROM_base;
  watchdog_retrigger();
  while( true ) {
    done = size == 0;
    size = size + -1;
    if (done) break;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
    *param_1 = cVar1;
    param_1 = param_1 + 1;
  }
  watchdog_retrigger();
  return;
}



void init_flash_ctrl(void)

{
  uint uVar1;
  
  set_spr154_2c52();
  uVar1 = FLASH_MCR;
  FLASH_MCR = uVar1 | 0x8000;
  if ((DAT_400017d8 & 1) != 0) {
    watchdog_retrigger();
    flash_erase(0,0,4);
  }
  if ((DAT_400017d8 & 2) != 0) {
    watchdog_retrigger();
    flash_erase(0,0,8);
  }
  watchdog_retrigger();
  init_flash_cr();
  set_spr154_6c54();
  do {
                    // WARNING: Do nothing block with infinite loop
  } while( true );
}



void EEPROM_erase_coding(void)

{
  set_spr154_2c52();
  flash_erase(0,0,8);
  set_spr154_6c54();
  return;
}



void flash_write_cod_data(byte *flash_addr,byte *data,size_t size)

{
  int iVar1;
  uint i;
  uint uVar2;
  byte *pbVar3;
  byte local_20 [32];
  
  set_spr154_2c52();
  pbVar3 = (byte *)((uint)flash_addr & 0xfffffff8);
  if ((((byte *)0x1bfff < flash_addr) && (flash_addr < &DAT_00020000)) && (flash_addr == pbVar3)) {
    WriteExternalEnableImmediate(0);
    FUN_0005afac(0,0,8);
    iVar1 = ((int)(size & 0xffff) >> 3) * 8;
    uVar2 = size & 7;
    watchdog_retrigger();
    flash_write(pbVar3,data,iVar1);
    watchdog_retrigger();
    if ((size & 7) != 0) {
      for (i = 0; (i & 0xff) < uVar2; i = i + 1) {
        local_20[i & 0xff] = data[(i & 0xff) + iVar1];
      }
      for (; (uVar2 & 0xff) < 8; uVar2 = uVar2 + 1) {
        local_20[uVar2 & 0xff] = 0xff;
      }
      flash_write(pbVar3 + iVar1,local_20,8);
      watchdog_retrigger();
    }
    init_flash_cr();
    WriteExternalEnableImmediate(1);
  }
  set_spr154_6c54();
  return;
}



byte checkAllBytesAreFF(byte *data,size_t size)

{
  byte old_val;
  uint size_old;
  
  watchdog_retrigger();
  do {
    size_old = size & 0xffff;
    size = size - 1;
    if (size_old == 0) {
      watchdog_retrigger();
      return 1;
    }
    old_val = *data;
    data = data + 1;
  } while (old_val == 0xff);
  return 0;
}



int shutdown(int __fd,uint16_t diag_flags)

{
  uint8_t uVar1;
  uint32_t *calbase;
  byte cooling_afterrun_timer;
  
  if (sensor_adc_ign_voltage < (ushort)((ushort)CAL_ecu_ign_threshold << 2)) {
    calbase = (uint32_t *)CAL_base;
    if ((ignition_on_flags & 1) != 0) {
      calbase = (uint32_t *)flexcan_a_set_rx();
    }
    ignition_on_flags = ignition_on_flags & 0xffee;
    if (((obd_ii_engine_speed == 0) &&
        (((lbf_state_flags & 8) != 0 || ((lbf_state_flags & 0x80) == 0)))) &&
       ((ecu_shutdown_timer == 0 ||
        ((((obd_ii_mode2f_flags_enabled & 0x2000) != 0 &&
          ((obd_ii_mode2f_flags_state & 0x2000) != 0)) ||
         ((calbase = &siu_start, uVar1 = siu_gpdi[0x5c], uVar1 == 0 &&
          ((calbase = &siu_start, uVar1 = siu_gpdi[199], uVar1 == 0 &&
           (calbase = (uint32_t *)get_dash_value0___(), ((uint)calbase & 0xff) != 0)))))))))) {
      if (shutdown_eeprom_saved == false) {
        FUN_00074278();
        if ((CAL_ecu_system_voltage_threshold[1] < sensor_adc_ecu_voltage) ||
           ((LEA_obd_ii_P0562_flags & 2) != 0)) {
          EEPROM_save();
        }
        shutdown_eeprom_saved = true;
        WriteExternalEnableImmediate(1);
      }
      siu_gpdo[0xcb] = 0;
      calbase = (uint32_t *)FUN_00074288();
    }
  }
  else {
    ignition_on_flags = ignition_on_flags | 1;
    siu_gpdo[0xcb] = 1;
    cooling_afterrun_timer =
         lookup_3D_uint8(8,8,temp_engine_air,coolant_temp,CAL_cooling_fan_afterrun_X_air_temp,
                         CAL_cooling_fan_afterrun_Y_coolant_temp,CAL_cooling_fan_afterrun);
    calbase = (uint32_t *)(uint)cooling_afterrun_timer;
    shutdown_timer = (ushort)cooling_afterrun_timer * 4 + (ushort)cooling_afterrun_timer;
    if ((obd_ii_engine_speed != 0) ||
       (calbase = (uint32_t *)ecu_shutdown_timer,
       (int)ecu_shutdown_timer < (int)((uint)shutdown_timer * 200))) {
      ecu_shutdown_timer = (uint)shutdown_timer * 200;
    }
  }
  return (int)calbase;
}



void gear_determination(void)

{
  ushort new_flags;
  
  if ((COD_base[0] >> 0xd & 7) == 0) {
    if (car_speed_div100 == 0) {
      car_current_gear = NO_GEAR;
    }
    else {
      gear_index_manual =
           (uint)((int)((uint)obd_ii_engine_speed * 1000) >> 2) / (uint)car_speed_div100;
      if ((gear_index_manual < gear_lookup[0]) || (gear_lookup[1] < gear_index_manual)) {
        if ((gear_index_manual < gear_lookup[2]) || (gear_lookup[3] < gear_index_manual)) {
          if ((gear_index_manual < gear_lookup[4]) || (gear_lookup[5] < gear_index_manual)) {
            if ((gear_index_manual < gear_lookup[6]) || (gear_lookup[7] < gear_index_manual)) {
              if ((gear_index_manual < gear_lookup[8]) || (gear_lookup[9] < gear_index_manual)) {
                if ((gear_index_manual < gear_lookup[10]) || (gear_lookup[0xb] < gear_index_manual))
                {
                  new_flags = new_gear_detected_flags | 1;
                  if (car_current_gear == NO_GEAR) {
                    new_flags = new_gear_detected_flags;
                  }
                  car_current_gear = NO_GEAR;
                  new_gear_detected_flags = new_flags;
                }
                else {
                  new_flags = new_gear_detected_flags | 1;
                  if (car_current_gear == GEAR_6) {
                    new_flags = new_gear_detected_flags;
                  }
                  car_current_gear = GEAR_6;
                  new_gear_detected_flags = new_flags;
                }
              }
              else {
                new_flags = new_gear_detected_flags | 1;
                if (car_current_gear == GEAR_5) {
                  new_flags = new_gear_detected_flags;
                }
                car_current_gear = GEAR_5;
                new_gear_detected_flags = new_flags;
              }
            }
            else {
              new_flags = new_gear_detected_flags | 1;
              if (car_current_gear == GEAR_4) {
                new_flags = new_gear_detected_flags;
              }
              car_current_gear = GEAR_4;
              new_gear_detected_flags = new_flags;
            }
          }
          else {
            new_flags = new_gear_detected_flags | 1;
            if (car_current_gear == GEAR_3) {
              new_flags = new_gear_detected_flags;
            }
            car_current_gear = GEAR_3;
            new_gear_detected_flags = new_flags;
          }
        }
        else {
          new_flags = new_gear_detected_flags | 1;
          if (car_current_gear == GEAR_2) {
            new_flags = new_gear_detected_flags;
          }
          car_current_gear = GEAR_2;
          new_gear_detected_flags = new_flags;
        }
      }
      else {
        new_flags = new_gear_detected_flags | 1;
        if (car_current_gear == GEAR_1) {
          new_flags = new_gear_detected_flags;
        }
        car_current_gear = GEAR_1;
        new_gear_detected_flags = new_flags;
      }
    }
  }
  else if ((COD_base[0] >> 0xd & 7) == 1) {
    car_current_gear = get_determination_auto();
  }
  else {
    car_current_gear = NO_GEAR;
  }
  return;
}



void cooling_pump_control(void)

{
  uint8_t uVar1;
  
  if ((DAT_400031e2 == 0) || ((COD_base[1] >> 0x14 & 1) == 0)) {
    if (BYTE_40001c56 == 0) {
      DAT_40001c74 = 0;
    }
  }
  else {
    DAT_40001c74 = 1;
    BYTE_40001c56 = 10;
  }
  if (DAT_40001c72 == 0) {
                    // On S1 cars 0x400000 is the recirculation pump
    if ((obd_ii_mode2f_flags_enabled & 0x400000) == 0) {
      if (obd_ii_engine_speed == 0) {
        if (((CAL_cooling_aux_pump_timer_reset_coolant_temp <= coolant_temp) && (DAT_40001c57 == 0))
           && (DAT_40001df4 != 0)) {
                    // TODO: this should be 5s, not single seconds
          cooling_timer_recirc_pump = (uint)CAL_cooling_timer_recircpump * 1000;
          if ((int)ecu_shutdown_timer < (int)cooling_timer_recirc_pump) {
            ecu_shutdown_timer = cooling_timer_recirc_pump;
          }
          DAT_40001c57 = 1;
        }
        if (cooling_timer_recirc_pump == 0) {
          if ((cooling_system_flags & 0x40) != 0) {
            cooling_system_flags = cooling_system_flags & 0xffffffbf;
            siu_gpdo[0xb7] = 0;
          }
        }
        else {
                    // recirc pump enable
          cooling_system_flags = cooling_system_flags | 0x40;
          siu_gpdo[0xb7] = 1;
        }
      }
      else {
        if (((((engine_operating_state_flags & 8) == 0) ||
             (CAL_vehicle_moving_threshold_ <= car_speed_u8)) ||
            (((DAT_40008737 <= temp_engine_air_cooling_control || (DAT_40001c74 != '\0')) &&
             (DAT_40001c54 != 0)))) &&
           (((CAL_cooling_aux_pump_enginespeed_enable_engine_on <= engine_speed_2 ||
             (CAL_cooling_aux_pump_airtemp_disable_engine_on <= temp_engine_air_cooling_control)) ||
            (DAT_40001c74 != 0)))) {
          if (((CAL_cooling_aux_pump_enginespeed_disable_engine_on < engine_speed_2) ||
              (CAL_cooling_aux_pump_airtemp_disable_engine_on <= temp_engine_air_cooling_control))
             || (DAT_40001c74 != 0)) {
            cooling_system_flags = cooling_system_flags & 0xffffffbf;
            siu_gpdo[0xb7] = 0;
          }
        }
        else {
          cooling_system_flags = cooling_system_flags | 0x40;
          siu_gpdo[0xb7] = 1;
        }
        DAT_40001c57 = 0;
      }
    }
    else if ((obd_ii_mode2f_flags_state & 4194304) == 0) {
      siu_gpdo[0xb7] = 0;
      cooling_system_flags = cooling_system_flags & 0xffffffbf;
    }
    else {
      siu_gpdo[0xb7] = 1;
      cooling_system_flags = cooling_system_flags | 0x40;
    }
  }
  else if (DAT_40001c72 == 1) {
    siu_gpdo[0xb7] = 0;
    cooling_system_flags = cooling_system_flags & 0xffffffbf;
  }
  else {
    siu_gpdo[0xb7] = 1;
    cooling_system_flags = cooling_system_flags | 0x40;
  }
                    // chargecooler pump maybe?
  if (((COD_base[1] >> 0x14 & 1) == 0) || (uVar1 = siu_gpdo[0xb7], uVar1 != 0)) {
    siu_gpdo[0x7d] = 0;
    cooling_system_flags = cooling_system_flags & 0xffffff7f;
  }
  else if (DAT_40001c73 == 0) {
                    // 0x80000000 is not yet documented in the 2f table
    if ((obd_ii_mode2f_flags_enabled & 0x80000000) == 0) {
      if (DAT_40001c74 == 0) {
        siu_gpdo[0x7d] = 0;
        cooling_system_flags = cooling_system_flags & 0xffffff7f;
      }
      else {
        siu_gpdo[0x7d] = 1;
        cooling_system_flags = cooling_system_flags | 0x80;
      }
    }
    else if ((obd_ii_mode2f_flags_state & 0x80000000) == 0) {
      siu_gpdo[0x7d] = 0;
      cooling_system_flags = cooling_system_flags & 0xffffff7f;
    }
    else {
      siu_gpdo[0x7d] = 1;
      cooling_system_flags = cooling_system_flags | 0x80;
    }
  }
  else if (DAT_40001c73 == 1) {
    siu_gpdo[0x7d] = 1;
    cooling_system_flags = cooling_system_flags | 0x80;
  }
  else {
    siu_gpdo[0x7d] = 0;
    cooling_system_flags = cooling_system_flags & 0xffffff7f;
  }
  return;
}



void cooling_control(void)

{
  if (((COD_base[0] >> 0xd & 7) == 1) && (recent_shift_flags_ips != 0)) {
    cooling_ips = 1;
  }
  else {
    cooling_ips = 0;
  }
  if ((((COD_base[1] >> 10 & 1) == 0) || ((engine_state_failure_flags & 0x40000000) != 0)) ||
     ((engine_state_failure_flags & 0x20000000) != 0)) {
    temp_engine_air_cooling_control = temp_engine_air;
  }
  else {
    temp_engine_air_cooling_control = air_temp_intake_unknown;
  }
  cooling_fan_radiator_control();
  cooling_fan_engine_bay_control();
  cooling_pump_control();
  return;
}



void cooling_fan_radiator_control(void)

{
  uint16_t _car_speed;
  
  if (fan_cooling1_emios_initialized == 0) {
    init_eMIOS(3,&DAT_000186a0,0,0);
    siu_pcr[0xb6] = 0xecc;
    fan_cooling1_emios_initialized = 1;
  }
  if ((engine_speed_2 == 0) ||
     ((ushort)((ushort)CAL_cooling_engine_speed_unknown_threshold[0] << 2) <= engine_speed_2)) {
    if ((engine_speed_2 == 0) ||
       ((ushort)((ushort)CAL_cooling_engine_speed_unknown_threshold[1] << 2) < engine_speed_2)) {
      cooling_system_flags = cooling_system_flags & 0xffffbfff;
    }
  }
  else {
    cooling_system_flags = cooling_system_flags | 0x4000;
  }
  _car_speed = 0xff;
  if ((engine_state_failure_flags & 0x400) == 0) {
    _car_speed = (ushort)car_speed_u8;
  }
  if ((obd_ii_engine_speed == 0) && (car_speed_u8 == 0)) {
    cooling_fan1_duty_cycle_car_speed =
         lookup_2D_uint8_interpolated
                   ('\b',coolant_temp,CAL_cooling_fan_duty_cycle_stopped,
                    CAL_cooling_fan_duty_cycle_stopped_X_coolant_temp);
  }
  else {
    if (runtime_since_start < CAL_cooling_fan_startup_time) {
      if (CAL_cooling_fan_hotstart_temp < coolant_temp) {
        hotstart_duty_cycle = CAL_cooling_fan_hotstart_dutycycle;
      }
    }
    else {
      hotstart_duty_cycle = 0;
    }
    cooling_fan1_duty_cycle_car_speed =
         lookup_3D_uint8_interpolated
                   (6,6,(ushort)coolant_temp,_car_speed,CAL_cooling_fan1_running,
                    CAL_cooling_fan1_running_X_coolant_temp,CAL_cooling_fan1_running_Y_car_speed);
    if (((COD_base[0] >> 28 & 7) < 2) || (DAT_400028ae == 0)) {
      cooling_fan1_duty_cycle_air_temp = '\0';
    }
    else if (ac_cooling_fan_required == 0) {
      cooling_fan1_duty_cycle_air_temp =
           lookup_3D_uint8_interpolated
                     (8,8,(ushort)temp_engine_air_cooling_control,_car_speed,CAL_cooling_fan1_ac_off
                      ,CAL_cooling_fan1_ac_off_X_air_temp,CAL_cooling_fan1_ac_off_Y_car_speed);
    }
    else {
      cooling_fan1_duty_cycle_air_temp =
           lookup_3D_uint8_interpolated
                     (6,6,(ushort)temp_engine_air_cooling_control,_car_speed,CAL_cooling_fan1_ac_on,
                      CAL_cooling_fan1_ac_on_X_air_temp,CAL_cooling_fan1_ac_on_Y_car_speed);
    }
  }
  if (DAT_40001624 < 256) {
    cooling_fan1 = (u8_dutycycle_100_255)DAT_40001624;
  }
  else if ((CAL_cooling_fan_speed_disable_speed < car_speed_u8) ||
          ((cooling_system_flags & 0x4000) != 0)) {
    cooling_fan1 = 0;
  }
  else if ((engine_state_failure_flags & 3) == 0) {
    if (obd_ii_engine_speed == 0) {
                    // 2f flag 0x100000 is not yet documented
      if (((obd_ii_mode2f_flags_enabled & 1048576) == 0) ||
         ((obd_ii_mode2f_flags_state & 0x100000) == 0)) {
        if ((cooling_system_flags & 0x40) == 0) {
          cooling_fan1 = 0;
        }
        else {
          cooling_fan1 = cooling_fan1_duty_cycle_car_speed;
        }
      }
      else if ((cooling_fan1_duty_cycle_car_speed < obd_ii_mode2f_cooling_fan_dutycycle) ||
              ((cooling_system_flags & 0x40) == 0)) {
        cooling_fan1 = obd_ii_mode2f_cooling_fan_dutycycle;
      }
      else {
        cooling_fan1 = cooling_fan1_duty_cycle_car_speed;
      }
    }
    else if (runtime_since_start < CAL_cooling_fan_startup_time) {
      cooling_fan1 = hotstart_duty_cycle;
    }
    else {
      cooling_fan1 = cooling_fan1_duty_cycle_air_temp;
      if (cooling_fan1_duty_cycle_air_temp < cooling_fan1_duty_cycle_car_speed) {
        cooling_fan1 = cooling_fan1_duty_cycle_car_speed;
      }
    }
  }
  else {
    cooling_fan1 = 0xff;
  }
  cooling_fan1_scaled =
       lookup_2D_uint8_interpolated
                 ('\b',cooling_fan1,CAL_cooling_fan_scaling,CAL_cooling_fan_scaling_X_dutycycle);
  pwm_set_dutycycle((int)((0xff - (uint)cooling_fan1_scaled) * 100000) / 0xff,3);
  return;
}



// A. Engine Bay Cooling Fan
// The engine bay fan is ECU controlled and will operate when:
// - The coolant pack radiator fans are running a duty cycle greater then 35% and ambient is above
// 10C when
// the engine is running.
// - The recirculation pump switches on when the engine is off.
// 

void cooling_fan_engine_bay_control(void)

{
  uint uVar1;
  uint uVar2;
  
                    // bit 0x1a is aux fan enable
  if ((COD_base[1] >> 0x1a & 1) == 0) {
    obd_ii_relay_status = obd_ii_relay_status & 0b10111111;
  }
  else {
    if (obd_ii_engine_speed == 0) {
                    // recirculation pump check
      uVar1 = cooling_system_flags & 0x40;
      uVar2 = cooling_system_flags & 0xfffffbff;
      cooling_system_flags = cooling_system_flags | 0x400;
      if (uVar1 == 0) {
        cooling_system_flags = uVar2;
      }
    }
    else if (((cooling_fan1 < CAL_cooling_fan_engine_bay_radfan_threshold_enable) ||
             (temp_engine_air_cooling_control < CAL_cooling_fan_engine_bay_airtemp_enable)) ||
            (DAT_40001c5a != 0)) {
      if (cooling_fan1 <= CAL_cooling_fan_engine_bay_radfan_threshold_disable) {
        cooling_system_flags = cooling_system_flags & 0xfffffbff;
      }
    }
    else {
                    // enable 
      cooling_system_flags = cooling_system_flags | 0x400;
    }
    if (DAT_40001c7a == 0) {
      if (obd_ii_engine_speed == 0) {
        if (((cooling_system_flags & 0x400) == 0) &&
           (((obd_ii_mode2f_flags_enabled & 268435456) == 0 ||
            ((obd_ii_mode2f_flags_state & 0x10000000) == 0)))) {
          obd_ii_relay_status = obd_ii_relay_status & 0xbf;
          u16_time_5ms_40001814 = 0;
          fan_engine_bay_timer____ = 0;
        }
        else {
          obd_ii_relay_status = obd_ii_relay_status | 0x40;
        }
      }
      else if ((((cooling_system_flags & 0x400) == 0) || ((cooling_system_flags & 0x4000) != 0)) ||
              (cooling_ips != 0)) {
        if (cooling_ips == 0) {
          obd_ii_relay_status = obd_ii_relay_status & 0xbf;
        }
        if ((obd_ii_relay_status & 0x40) == 0) {
          u16_time_5ms_40001814 = 0;
          fan_engine_bay_timer____ = 0;
        }
      }
      else if (DAT_400087ac <= u16_time_5ms_40001814) {
        obd_ii_relay_status = obd_ii_relay_status | 0x40;
      }
    }
    else if (DAT_40001c7a == 1) {
      obd_ii_relay_status = obd_ii_relay_status & 0xbf;
    }
    else {
      obd_ii_relay_status = obd_ii_relay_status | 0x40;
    }
  }
  return;
}



void pwm_set_dutycycle(uint output_dc,uint8_t channel)

{
  byte *pbVar1;
  
  WriteExternalEnableImmediate(0);
  if (output_dc < *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 4)) {
    if (output_dc < 3) {
      *(undefined4 *)(emios_uc[0].uc + (uint)channel * 0x20) =
           *(undefined4 *)(emios_uc[0].uc + (uint)channel * 0x20 + 4);
      *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) =
           *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) & 0xffffdfff | 0x2000;
    }
    else if (*(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 8) < output_dc + 2) {
      *(uint *)(emios_uc[0].uc + (uint)channel * 0x20) = output_dc;
    }
    else {
      *(uint *)(emios_uc[0].uc + (uint)channel * 0x20) = output_dc;
      *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) =
           *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) & 0xffffdfff | 0x2000;
    }
  }
  else {
    pbVar1 = emios_uc[0].uc + (uint)channel * 0x20;
    pbVar1[0] = 0;
    pbVar1[1] = 0;
    pbVar1[2] = 0;
    pbVar1[3] = 0;
    *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) =
         *(uint *)(emios_uc[0].uc + (uint)channel * 0x20 + 0xc) & 0xffffefff | 0x1000;
  }
  return;
}



void cooling_chargecooler_pump_100ms(void)

{
  if (cc_state == 0) {
    init_eMIOS(0x16,&DAT_00002710,0,0);
    siu_pcr[0xc9] = 3788;
    cc_state = 1;
    cc_warmup_timer = 30;
  }
  if (cc_warmup_timer == 0) {
    if (u16_factor_1_255_40001626 < 256) {
      cc_pump_dutycycle__ = (u8_factor_1_255)u16_factor_1_255_40001626;
    }
    else if (obd_ii_engine_speed == 0) {
      if (((obd_ii_mode2f_flags_enabled & 0x200000) == 0) ||
         ((obd_ii_mode2f_flags_state & 0x200000) == 0)) {
        cc_pump_dutycycle__ = CAL_cooling_cc_pump_diag_dutycycle_min;
        if ((cooling_system_flags & 0b01000000) == 0) {
          cc_pump_dutycycle__ = 0;
        }
      }
      else if ((cooling_cc_pump_test_2F_dutycycle < CAL_cooling_cc_pump_diag_dutycycle_min) &&
              ((cooling_system_flags & 0b01000000) != 0)) {
        cc_pump_dutycycle__ = CAL_cooling_cc_pump_diag_dutycycle_min;
      }
      else {
        cc_pump_dutycycle__ = cooling_cc_pump_test_2F_dutycycle;
      }
    }
    else if ((engine_state_failure_flags & 0x800000) == 0) {
      cc_pump_dutycycle__ =
           lookup_2D_uint8_interpolated
                     (8,obd_ii_manifold_temp,CAL_cooling_cc_pump_dutycycle,
                      CAL_cooling_cc_pump_dutycycle_X_manifold_temp);
    }
    else {
      cc_pump_dutycycle__ = 0xff;
    }
    cc_pwm_output =
         lookup_2D_uint8_interpolated
                   (8,cc_pump_dutycycle__,CAL_cooling_cc_pump_dc_drive_output,
                    CAL_cooling_cc_pump_dc_drive_output_X_target_dutycycle);
  }
  else {
    cc_pwm_output = 25;
    cc_pump_dutycycle__ = 0;
    cc_warmup_timer = cc_warmup_timer + 0xff;
  }
  if ((cc_pwm_output != 0) && (cc_pwm_output_last == 0)) {
    cc_state = 1;
  }
  if (cc_state == 1) {
    pwm_set_dutycycle(10000,'\x16');
    cc_state = cc_state + 1;
  }
  else if (cc_state == 2) {
    pwm_set_dutycycle(0,'\x16');
    cc_state = cc_state + 1;
  }
  else if (cc_state == 3) {
    pwm_set_dutycycle((int)((0xff - (uint)cc_pwm_output) * 10000) / 0xff,'\x16');
  }
  else {
    pwm_set_dutycycle((int)((0xff - (uint)cc_pwm_output) * 10000) / 0xff,'\x16');
  }
  cc_pwm_output_last = cc_pwm_output;
  return;
}



void read_accessory_states(void)

{
  byte bVar1;
  
  DAT_40001bf2 = (byte)(-((ulonglong)obd_ii_relay_status & 0x40) >> 0x18) >> 7;
  bVar1 = siu_gpdo[0xb7];
  recirculation_pump_state_____or_acis = (byte)(-(ulonglong)bVar1 >> 0x18) >> 7;
  bVar1 = siu_gpdo[0xcb];
  DAT_40001bf4 = (char)((ulonglong)(LZCOUNT(bVar1 - 1) << 0x20) >> 0x25);
  ign_voltage_above_threshold =
       (ushort)((ushort)CAL_ecu_ign_threshold << 2) <= sensor_adc_ign_voltage;
  bVar1 = siu_gpdo[99];
  DAT_40001bfe = (char)((ulonglong)(LZCOUNT(bVar1 - 1) << 0x20) >> 0x25);
  bVar1 = siu_gpdo[100];
  DAT_40001bff = (char)((ulonglong)(LZCOUNT(bVar1 - 1) << 0x20) >> 0x25);
  bVar1 = siu_gpdo[0x60];
  DAT_40001bfc = (char)((ulonglong)(LZCOUNT(bVar1 - 1) << 0x20) >> 0x25);
  bVar1 = siu_gpdo[0x62];
  DAT_40001bfd = (char)((ulonglong)(LZCOUNT(bVar1 - 1) << 0x20) >> 0x25);
  return;
}



void cluster_data_send_100ms(void)

{
  byte bVar1;
  uint uVar2;
  ushort _shift_light_rpm_offset;
  u16_rspeed_1_4rpm _engine_speed_tach;
  u16_rspeed_4rpm _engine_speed_tach2;
  u16_rspeed_4rpm _engine_speed_tach3;
  u16_rspeed_4rpm _engine_speed_tach4;
  u16_rspeed_4rpm _engine_speed_tach5;
  u16_rspeed_4rpm _engine_speed_tach6;
  uint8_t _cluster_oil_pressure_warn_threshold_;
  bool timer_is_zero;
  
  flexcan_a_tx_403(fuel_range_remaining,mileage_instantaneous___,fuel_usage_average___);
  if ((COD_base[0] >> 0xd & 7) == 1) {
    _shift_light_rpm_offset =
         lookup_2D_uint8_fixed(8,car_current_gear,CAL_cluster_shiftlight_rpm_offset_ips_X_gear);
  }
  else {
    _shift_light_rpm_offset =
         lookup_2D_uint8_fixed(8,car_current_gear,CAL_cluster_shiftlight_rpm_offset_manual_X_gear);
  }
  shift_light_rpm_offset = (_shift_light_rpm_offset & 0xff) << 1;
  if (obd_ii_engine_speed == 0) {
    if (DAT_40001c26 == 1) {
      cluster_indicator_flags = cluster_indicator_flags | 0b11100000;
    }
    else {
      cluster_indicator_flags = cluster_indicator_flags & 0b00011111;
    }
  }
  else if (shift_light_state_from_ips == 0) {
    if (cluster_shift_light_state == 0) {
      cluster_indicator_flags = cluster_indicator_flags & 0x1f;
      _engine_speed_tach = get_engine_speed_tach();
      if ((int)((uint)rev_limit + (uint)shift_light_rpm_offset * -4) <
          (int)(uint)_engine_speed_tach >> 2) {
        cluster_shift_light_state = cluster_shift_light_state + 1;
        cluster_indicator_flags = cluster_indicator_flags | 0b10000000;
      }
    }
    else if (cluster_shift_light_state == 1) {
      cluster_indicator_flags = cluster_indicator_flags & 0b10011111 | 0b10000000;
      _engine_speed_tach2 = get_engine_speed_tach();
      if ((int)((uint)rev_limit - ((uint)shift_light_rpm_offset * 4 - (uint)shift_light_rpm_offset))
          < (int)(uint)_engine_speed_tach2 >> 2) {
        cluster_shift_light_state = cluster_shift_light_state + 1;
        cluster_indicator_flags = cluster_indicator_flags | 0b01000000;
      }
      else {
        _engine_speed_tach3 = get_engine_speed_tach();
        if ((int)(uint)_engine_speed_tach3 >> 2 <
            (int)(((uint)rev_limit + (uint)shift_light_rpm_offset * -4) -
                 (uint)u16_rspeed_rpm_400087de)) {
          cluster_indicator_flags = cluster_indicator_flags & 0b01111111;
          cluster_shift_light_state = cluster_shift_light_state + 0xff;
        }
      }
    }
    else if (cluster_shift_light_state == 2) {
      cluster_indicator_flags = cluster_indicator_flags & 0xdf | 0xc0;
      _engine_speed_tach4 = get_engine_speed_tach();
      if ((int)((uint)rev_limit + (uint)shift_light_rpm_offset * -2) <
          (int)(uint)_engine_speed_tach4 >> 2) {
        cluster_shift_light_state = cluster_shift_light_state + 1;
        cluster_indicator_flags = cluster_indicator_flags | 0b00100000;
      }
      else {
        _engine_speed_tach5 = get_engine_speed_tach();
        if ((int)(uint)_engine_speed_tach5 >> 2 <
            (int)(((uint)rev_limit -
                  ((uint)shift_light_rpm_offset * 4 - (uint)shift_light_rpm_offset)) -
                 (uint)u16_rspeed_rpm_400087de)) {
          cluster_indicator_flags = cluster_indicator_flags & 0b10111111;
          cluster_shift_light_state = cluster_shift_light_state + 0xff;
        }
      }
    }
    else if (cluster_shift_light_state == 3) {
      cluster_indicator_flags = cluster_indicator_flags ^ 0b11100000;
      _engine_speed_tach6 = get_engine_speed_tach();
      if ((int)(uint)_engine_speed_tach6 >> 2 <
          (int)(((uint)rev_limit + (uint)shift_light_rpm_offset * -2) -
               (uint)u16_rspeed_rpm_400087de)) {
        cluster_indicator_flags = cluster_indicator_flags & 0b11011111 | 0b11000000;
        cluster_shift_light_state = cluster_shift_light_state + 0xff;
      }
    }
    else {
      cluster_indicator_flags = cluster_indicator_flags & 0b00011111;
    }
  }
  else {
    cluster_indicator_flags = cluster_indicator_flags & 0b00011111 | shift_light_state_from_ips;
  }
  if ((((obd_ii_mode2f_flags_enabled & 0x40000000) == 0) ||
      ((obd_ii_mode2f_flags_state & 0x40000000) == 0)) && ((traction_intervention_flags & 4) == 0))
  {
    cluster_flags = cluster_flags & 0xf7;
  }
  else {
    cluster_flags = cluster_flags | 0b00001000;
    if (TC_ENABLED < CAL_traction_mode) {
      cluster_indicator_flags = cluster_indicator_flags | 0b00100000;
    }
  }
  bVar1 = cluster_flags;
                    // TC light?
  if (((traction_intervention_flags & 0b01000000) != 0) && (TC_ENABLED < CAL_traction_mode)) {
    cluster_indicator_flags = cluster_indicator_flags | 0b10000000;
  }
  cluster_flags = cluster_flags & 0xef;
  dash_data_CAN400.field7 = 0;
  if ((((COD_base[0] >> 0xd & 7) == 1) && ((ips_state_flags == 0 || (ips_state_flags == 9)))) &&
     (((brake_switch & 0x11) == 0 &&
      (((car_speed_div100 / 100 < (uint)CAL_cluster_brake_switch_max_speed_ips_unknown &&
        (engine_speed_2 == 0)) && (DAT_400031dd != 0)))))) {
    cluster_flags = cluster_flags | 0b00100000;
  }
  else {
    cluster_flags = bVar1 & 0b11001111;
  }
  uVar2 = (COD_base[0] >> 4 & 127) * 3;
  if (0xff < uVar2) {
    uVar2 = 0xff;
  }
  if (((fuel_level < CAL_cluster_fuel_level_zero_clip_threshold) ||
      ((LEA_obd_ii_P0462_flags & 2) != 0)) || ((LEA_obd_ii_P0463_flags & 2) != 0)) {
    fuel_level_pct = 0;
  }
  else if ((uVar2 & 0xff) < (uint)fuel_level) {
    fuel_level_pct = 0xff;
  }
  else {
    fuel_level_pct =
         (byte)((int)(((uint)fuel_level - (uint)CAL_cluster_fuel_level_zero_clip_threshold) * 0xff)
               / (int)((uVar2 & 0xff) - (uint)CAL_cluster_fuel_level_zero_clip_threshold));
  }
  if ((fuel_level < CAL_cluster_fuel_level_warning_threshold[0]) || (DAT_40001c26 == 1)) {
    cluster_flags = cluster_flags | 1;
  }
  else if (CAL_cluster_fuel_level_warning_threshold[1] < fuel_level) {
    cluster_flags = cluster_flags & 0b11111110;
  }
  _cluster_oil_pressure_warn_threshold_ =
       lookup_2D_uint8_interpolated
                 (8,engine_speed_3,CAL_cluster_oil_pressure_warn_threshold,
                  CAL_cluster_oil_pressure_warn_threshold_X_engine_speed);
  cluster_oil_pressure_warn_threshold_ = (ushort)_cluster_oil_pressure_warn_threshold_ << 4;
                    // oil pressure warning lamp
  if ((obd_ii_mode2f_flags_enabled & 0x2000000) == 0) {
    if (((engine_state_failure_flags & 0x2000000) == 0) || (engine_is_running == false)) {
      if (((CAL_cluster_oil_pressure_warning_light_mode == 1) &&
          (oil_pressure_warning_switch_voltage < 512)) ||
         (((((CAL_cluster_oil_pressure_warning_light_mode == 2 &&
             ((int)oil_pressure_reading_unknown <
              (int)((uint)_cluster_oil_pressure_warn_threshold_ << 4))) &&
            (engine_is_running != false)) || (DAT_40001c26 == 1)) ||
          ((CAL_cluster_oil_pressure_warning_light_mode != 1 &&
           (CAL_cluster_oil_pressure_warning_light_mode != 2)))))) {
        cluster_indicator_flags = cluster_indicator_flags | 0b00001000;
      }
      else {
        cluster_indicator_flags = cluster_indicator_flags & 0b11110111;
      }
    }
    else if (oil_pressure_warning_light_timer == 0) {
      cluster_indicator_flags = cluster_indicator_flags ^ 0b00001000;
      oil_pressure_warning_light_timer = 5;
    }
    else {
      oil_pressure_warning_light_timer = oil_pressure_warning_light_timer + -1;
    }
  }
  else if ((obd_ii_mode2f_flags_state & 0x2000000) == 0) {
    cluster_indicator_flags = cluster_indicator_flags & 0b11110111;
  }
  else {
    cluster_indicator_flags = cluster_indicator_flags | 0b00001000;
  }
                    // MIL control
  if ((obd_ii_mode2f_flags_enabled & 0x80000) == 0) {
    bVar1 = cluster_indicator_flags & 0xef;
    cluster_indicator_flags = cluster_indicator_flags | 0x10;
    if ((obd_ii_montior_passes_bitfield & 8) == 0) {
      cluster_indicator_flags = bVar1;
    }
  }
  else if ((obd_ii_mode2f_flags_state & 0x80000) == 0) {
    cluster_indicator_flags = cluster_indicator_flags & 0xef;
  }
  else {
    cluster_indicator_flags = cluster_indicator_flags | 0x10;
  }
  if ((((lbf_state_flags & 1) == 0) || ((lbf_state_flags & 2) == 0)) &&
     (((lbf_state_flags & 1) != 0 ||
      (((DAT_40001c26 != 1 && ((obd_ii_montior_passes_bitfield & 0x40) == 0)) &&
       (vehicle_mode != VM_TC_OFF)))))) {
    cluster_indicator_flags = cluster_indicator_flags & 0xfb;
  }
  else {
    cluster_indicator_flags = cluster_indicator_flags | 4;
  }
                    // It's strange that this timer is updated here. It is unrelated to the cluster
                    // output.
  timer_is_zero = lfb_pulse_toggle_timer == 0;
  lfb_pulse_toggle_timer = lfb_pulse_toggle_timer - 1;
  if (timer_is_zero) {
    lfb_pulse_toggle_timer = 0;
  }
  if (CAL_cluster_test_enable___ == false) {
    if (CAL_cluster_coolant_warning[0] < coolant_temp) {
      cluster_indicator_flags = cluster_indicator_flags | 1;
      cluster_flags = cluster_flags & 0xfd;
    }
    else if (coolant_temp < CAL_cluster_coolant_warning[1]) {
      cluster_indicator_flags = cluster_indicator_flags & 254;
      cluster_flags = cluster_flags | 2;
    }
    else {
      cluster_indicator_flags = cluster_indicator_flags & 254;
      cluster_flags = cluster_flags & 0xfd;
    }
  }
  else {
                    // test mode?
    cluster_test_timer = cluster_test_timer + -1;
    if (cluster_test_timer == 0) {
      cluster_indicator_flags = cluster_indicator_flags ^ 1;
      cluster_flags = cluster_flags ^ 2;
      cluster_test_timer = 5;
    }
  }
  dash_data_CAN400.fuel_usage_instantaneous = fuel_usage_instantaneous << 4;
  if (4095 < fuel_usage_instantaneous) {
    dash_data_CAN400.fuel_usage_instantaneous = 65520;
  }
  dash_data_CAN400.fuel_level_pct = fuel_level_pct;
  dash_data_CAN400.temp_coolant = coolant_temp;
  dash_data_CAN400.cluster_indicator_flags = cluster_indicator_flags;
  dash_data_CAN400.cluster_flags = cluster_flags;
  flexcan_a_tx_400(&dash_data_CAN400);
  return;
}



// It's unclear what output this drives.

void pwm_drive_0xB3_200hz(void)

{
  byte pwm_dc;
  
                    // select pwm drive rate
  if (obd_ii_engine_speed == 0) {
    pwm_dc = 0;
    BOOL_40001c7e = false;
  }
  else if ((engine_is_running) || (BOOL_40001c7e)) {
    BOOL_40001c7e = true;
    pwm_dc = 66;
    if (15 < car_speed_u8) {
      pwm_dc = 100;
    }
  }
  else {
    pwm_dc = 33;
  }
  software_pwm_0xb3(pwm_dc);
  return;
}



void software_pwm_0xb3(byte pwm_dc)

{
  if (pwm_0xB3_drive_timer < 40) {
    if ((DAT_40001c80 < 100) && (((uint)DAT_40001c80 * 40) / 100 <= (uint)pwm_0xB3_drive_timer)) {
      siu_gpdo[0xb3] = 0;
    }
  }
  else {
    pwm_0xB3_drive_timer = 0;
    DAT_40001c80 = pwm_dc;
    if (pwm_dc == 0) {
      siu_gpdo[0xb3] = 0;
    }
    else {
      siu_gpdo[0xb3] = 1;
    }
  }
  pwm_0xB3_drive_timer = pwm_0xB3_drive_timer + 1;
  return;
}



void cluster_and_exhaust_flaps_100ms(void)

{
  bool bVar1;
  
  trans_cooler_timer = trans_cooler_timer + 0xff;
  if ((trans_cooler_timer == 0) && (trans_cooler_timer = 5, (COD_base[1] >> 19 & 1) == 1)) {
    trans_cooler_control();
  }
  if ((ign_voltage_above_threshold != false) && (DAT_40001c26 == 2)) {
    DAT_40001623 = 0;
  }
  if ((ign_voltage_above_threshold == false) || (DAT_40001622 <= DAT_40001623)) {
    DAT_40001c26 = 0;
    if (ign_voltage_above_threshold == false) {
      DAT_40001c26 = 2;
    }
  }
  else {
    DAT_40001623 = DAT_40001623 + 1;
    DAT_40001c26 = 1;
  }
  cluster_data_send_100ms();
  if (((engine_operating_state_flags & 8) == 0) || (CAL_vehicle_moving_threshold_ <= car_speed_u8))
  {
    DAT_40001c54 = (ushort)DAT_4000876c << 2;
  }
  else if ((DAT_40001c54 != 0) && (DAT_4000876c != 0xff)) {
    DAT_40001c54 = DAT_40001c54 + -1;
  }
  bVar1 = BYTE_40001c56 == 0;
  BYTE_40001c56 = BYTE_40001c56 - 1;
  if (bVar1) {
    BYTE_40001c56 = 0;
  }
  if ((runtime_since_start < (uint)u8_time_250ms_40008766 * 50) ||
     ((uint)u8_time_250ms_4000875f * 50 < runtime_since_start)) {
    DAT_40001c59 = DAT_40008763;
    DAT_40001c5b = coolant_temp;
    DAT_40001c5a = (byte)(((uint)u8_time_250ms_40008766 * 0x32 <<
                          (int)LZCOUNT((uint)u8_time_250ms_40008766 * 0x32 ^ runtime_since_start))
                         >> 0x1f);
  }
  else if (DAT_40001c59 == 0) {
    DAT_40001c59 = DAT_40008763;
    if (coolant_temp < DAT_40001c5b) {
      DAT_40001c58 = DAT_40001c5b - coolant_temp;
      if (DAT_40001c58 < DAT_40008762) {
        DAT_40001c5a = 0;
      }
      else {
        DAT_40001c5a = 1;
      }
    }
    else {
      DAT_40001c5a = 0;
    }
    DAT_40001c5b = coolant_temp;
  }
  else {
    DAT_40001c59 = DAT_40001c59 + -1;
  }
                    // COD_base[1] >> 27 & 1) is a check for exhaust valve
  if (((COD_base[1] >> 27 & 1) == 0) || ((engine_state_failure_flags & 0x40000) != 0)) {
    DAT_40001c00 = 2;
    eTPU_calculate_and_set_channel_value('\x1a',0);
    siu_gpdo[0x8f] = 0;
  }
  else {
    exhaust_flap_control();
  }
  return;
}



uint16_t CRC16(byte *data,size_t size)

{
  uint16_t uVar1;
  uint uVar2;
  
  uVar2 = 0;
  for (; (size & 0xffff) != 0; size = size - 1) {
    watchdog_retrigger();
    uVar2 = (int)uVar2 >> 8 ^ (uint)*(ushort *)((int)&CRC16_salt + ((uVar2 ^ *data) & 0xff) * 2);
    data = data + 1;
  }
  return (uint16_t)uVar2;
}



void exhaust_flap_control(void)

{
  byte bVar1;
  undefined1 pps;
  
  if (DAT_40001c4b == 0) {
    siu_pcr[0x8c] = 0xe84;
    FUN_000543b4(0x1a,2,1000,0,1,0,10000000);
    DAT_40001c4b = 1;
  }
  bVar1 = exhaust_flap_flags & 0b11111101;
  exhaust_flap_flags = exhaust_flap_flags | 0b00000010;
  if ((uint)CAL_exhaust_flap_startup_threshold * 20 < runtime_since_start) {
    exhaust_flap_flags = bVar1;
  }
  if ((engine_speed_2 < CAL_exhaust_flap_RPM_threshold_open) ||
     (load_mass_per_stroke < CAL_exhaust_flap_load_threshold_open)) {
    if ((engine_speed_2 < CAL_exhaust_flap_RPM_threshold_close) ||
       (load_mass_per_stroke < CAL_exhaust_flap_load_threshold_close)) {
      exhaust_flap_flags = exhaust_flap_flags & 0b11111110;
    }
  }
  else {
    exhaust_flap_flags = exhaust_flap_flags | 1;
  }
  if (((car_speed_div100 == 0) && (launch_mode == LC_INACTIVE)) &&
     ((((driver_input_flags[1] & 0x80) != 0 &&
       (((driver_input_flags[0] & 8) == 0 && ((DAT_4000cca9 & 1) != 0)))) ||
      (((driver_input_flags[0] & 8) != 0 && ((DAT_4000cca9 & 2) != 0)))))) {
    exhaust_flap_flags = exhaust_flap_flags | 0b00100000;
  }
  else {
    exhaust_flap_flags = exhaust_flap_flags & 0b11011111;
  }
                    // (COD_base[1] >> 30 & 1) is a check for exhaust bypass override switch
  if (((COD_base[1] >> 30 & 1) != 0) && (launch_mode == LC_INACTIVE)) {
    if (exahust_override_switch_status == 0) {
      exhaust_flap_flags = exhaust_flap_flags & 0b11100111;
      siu_gpdo[0xb4] = 0;
    }
    else {
      if ((((vehicle_mode_flags & 1) == 0) || (DAT_40008807 == '\0')) &&
         (((vehicle_mode_flags & 2) == 0 || (DAT_40008806 == '\0')))) {
        if ((exhaust_flap_flags & 0x10) == 0) {
          exhaust_flap_flags = exhaust_flap_flags & 0xef | 8;
        }
        else {
          exahust_override_switch_status = '\0';
          exhaust_flap_flags = exhaust_flap_flags & 0xe7;
        }
      }
      else if ((exhaust_flap_flags & 8) == 0) {
        exhaust_flap_flags = exhaust_flap_flags & 0xf7 | 0x10;
      }
      else {
        exahust_override_switch_status = '\0';
        exhaust_flap_flags = exhaust_flap_flags & 0xe7;
      }
      siu_gpdo[0xb4] = '\x01';
    }
  }
  pps = (undefined1)((short)accel_pedal_pos2 >> 2);
  if (((vehicle_mode_flags & 1) == 0) || ((exhaust_flap_flags & 0b00010000) != 0)) {
    if (((vehicle_mode_flags & 2) == 0) || ((exhaust_flap_flags & 0b00010000) != 0)) {
      DAT_40001c81 = lookup_3D_uint8(8,8,(char)((ulonglong)engine_speed_2 / 50),pps,&DAT_4000e2c8,
                                     &DAT_4000e2d0,s__4000e2d8);
    }
    else {
      DAT_40001c81 = lookup_3D_uint8(8,8,(char)((ulonglong)engine_speed_2 / 50),pps,&DAT_4000e318,
                                     &DAT_4000e320,s__4000e328);
    }
  }
  else {
    DAT_40001c81 = lookup_3D_uint8(8,8,(char)((ulonglong)engine_speed_2 / 50),pps,&DAT_4000e7cc,
                                   &DAT_4000e7d4,s__4000e7dc);
  }
  if ((DAT_40001c81 == 2) && (launch_mode == LC_INACTIVE)) {
    exhaust_flap_flags = exhaust_flap_flags | 0b00000100;
  }
  else if ((DAT_40001c81 == 0) || (launch_mode != LC_INACTIVE)) {
    exhaust_flap_flags = exhaust_flap_flags & 0b11111011;
  }
  if ((obd_ii_mode2f_flags_enabled & 0x20000000) == 0) {
    if (((exhaust_flap_flags & 1) == 0) && ((exhaust_flap_flags & 2) == 0)) {
      if ((exhaust_flap_flags & 4) == 0) {
        if ((exhaust_flap_flags & 0x10) == 0) {
          if (((exhaust_flap_flags & 8) == 0) && ((exhaust_flap_flags & 0x20) == 0)) {
            DAT_4000162a = 10000;
            DAT_40001c00 = 0;
          }
          else {
            DAT_4000162a = 0;
            DAT_40001c00 = 1;
          }
        }
        else {
          DAT_4000162a = 10000;
          DAT_40001c00 = 0;
        }
      }
      else {
        DAT_4000162a = 0;
        DAT_40001c00 = 1;
      }
    }
    else {
      DAT_4000162a = 0;
      DAT_40001c00 = 1;
    }
  }
  else if ((obd_ii_mode2f_flags_state & 0x20000000) == 0) {
    DAT_4000162a = 10000;
    DAT_40001c00 = 0;
  }
  else {
    DAT_4000162a = 0;
    DAT_40001c00 = 1;
  }
  eTPU_calculate_and_set_channel_value('\x1a',DAT_4000162a);
  if (DAT_4000162a == 0) {
    siu_gpdo[0x8f] = 0;
  }
  else {
    siu_gpdo[0x8f] = 1;
  }
  return;
}



void car_speed_update_200hz(void)

{
  uint uVar1;
  uint uVar2;
  
  if ((COD_base[1] >> 9 & 1) == 0) {
    uVar1 = DAT_40001990 & 0xffff;
    if (0xffff < DAT_40001990) {
      uVar1 = 0xffff;
    }
    if ((uVar1 == 0xffff) || ((engine_state_failure_flags & 0x400) != 0)) {
      car_speed_u8 = 0;
    }
    else {
      if (CAL_tc_abs_ring_teeth_count == '\0') {
        uVar2 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheelspeed;
        wheelspeed = ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
                     (uint)CAL_wheel_speed_smoothing *
                     (((uint)CAL_tc_unknown_tire_circumference * 36000) / uVar1);
      }
      else {
        uVar2 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheelspeed;
        wheelspeed = ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
                     (uint)CAL_wheel_speed_smoothing *
                     (int)((ulonglong)
                           ((longlong)(int)(uint)CAL_tc_unknown_tire_circumference * 36000) /
                          (ulonglong)
                          ((longlong)(int)uVar1 * (longlong)(int)(uint)CAL_tc_abs_ring_teeth_count))
        ;
      }
      if ((int)(((int)wheelspeed >> 8) + (uint)((int)wheelspeed < 0 && (wheelspeed & 0xff) != 0)) <
          0xa00) {
        car_speed_u8 = (u8_speed_kph)((int)wheelspeed / 2560);
        car_speed_div100 =
             ((short)(wheelspeed >> 8) + (ushort)((int)wheelspeed < 0 && (wheelspeed & 0xff) != 0))
             * 10;
      }
      else {
        car_speed_u8 = 0xff;
      }
    }
  }
  else if ((engine_state_failure_flags & 0x400) == 0) {
    if (car_speed_div100 / 100 < 256) {
      car_speed_u8 = (u8_speed_kph)(car_speed_div100 / 100);
    }
    else {
      car_speed_u8 = 0xff;
    }
  }
  else {
    car_speed_u8 = 0;
  }
  return;
}



void flexcan_a_tx_102_helper_200hz(void)

{
  flexcan_a_tx_102_timer = flexcan_a_tx_102_timer + -1;
  if (flexcan_a_tx_102_timer == 0) {
    flexcan_a_tx_102_timer = 2;
    flexcan_a_tx_102();
    DAT_4000284c = 1;
  }
  return;
}



// Detect and damp cyclic engine speed oscillations

void engine_roughness____200hz(void)

{
  bool bVar1;
  short sVar2;
  int iVar3;
  ushort uVar4;
  ushort uVar5;
  byte i;
  longlong lVar6;
  byte bVar7;
  byte j;
  byte bVar8;
  byte bVar9;
  u16_rspeed_1_4rpm _engine_speed;
  
  _engine_speed = obd_ii_engine_speed;
  iVar3 = (int)DAT_40001c6e * (uint)u8_factor_1_100_400088a2 +
          (100 - (uint)u8_factor_1_100_400088a2) * 100 *
          ((uint)obd_ii_engine_speed - (uint)engine_speed_previous_ER);
  sVar2 = (short)(iVar3 >> 31);
  DAT_40001c6e = ((short)(iVar3 / 100) + sVar2) -
                 ((short)((short)(iVar3 / 0x640000) + sVar2) >> 0xf);
  if ((((CAL_roughness_enable_rpm[0] < obd_ii_engine_speed) &&
       (obd_ii_engine_speed < CAL_roughness_enable_rpm[1])) &&
      (CAL_roughness_enable_load[0] < load_mass_per_stroke)) &&
     (load_mass_per_stroke < CAL_roughness_enable_load[1])) {
    if (engine_speed_previous_ER < obd_ii_engine_speed) {
      if (DAT_40001c61 != 0xff) {
        DAT_40001c61 = DAT_40001c61 + 1;
      }
      uVar4 = DAT_40001c68 + 1;
      uVar5 = roughness_flags | 5;
      if (DAT_400088a5 < DAT_40001c61) {
        uVar5 = roughness_flags & 0xffef | 5;
      }
      if ((uVar5 & 2) == 0) {
        roughness_flags = uVar5;
        if (((uVar5 & 8) != 0) && (DAT_400088a4 < DAT_40001c61)) {
          roughness_flags = uVar5 & 0xfff7 | 0x20;
          DAT_40001c68 = (ushort)DAT_400088a4;
          for (i = 9; i != 0; i = i - 1) {
            (&DAT_40004ed0)[i] = (&DAT_40004ed0)[i - 1];
            (&DAT_40004ee4)[i] = (&DAT_40004ee4)[i - 1];
          }
          DAT_40004ed0 = DAT_40001c62;
          if ((DAT_40001c6a == 0) && (DAT_40001c6c == 0)) {
            DAT_40004ee4 = 0;
          }
          else {
            DAT_40004ee4 = DAT_40001c64;
          }
          if (DAT_40001c6a != 0xffff) {
            DAT_40001c6a = DAT_40001c6a + 1;
          }
          DAT_40001c60 = 0;
          uVar4 = DAT_40001c68;
        }
      }
      else {
        roughness_flags = uVar5 & 0xfffd;
        if (DAT_400088a3 < DAT_40001c60) {
          DAT_40001c62 = engine_speed_previous_ER;
          DAT_40001c64 = DAT_40001c68;
          roughness_flags = uVar5 & 0xfffd | 8;
        }
      }
    }
    else if (obd_ii_engine_speed < engine_speed_previous_ER) {
      if (DAT_40001c60 != 0xff) {
        DAT_40001c60 = DAT_40001c60 + 1;
      }
      uVar4 = DAT_40001c68 + 1;
      uVar5 = roughness_flags | 3;
      if (DAT_400088a5 < DAT_40001c60) {
        uVar5 = roughness_flags & 0xfff7 | 3;
      }
      if ((uVar5 & 4) == 0) {
        roughness_flags = uVar5;
        if (((uVar5 & 0x10) != 0) && (DAT_400088a4 < DAT_40001c60)) {
          roughness_flags = uVar5 & 0xffef | 0x40;
          DAT_40001c68 = (ushort)DAT_400088a4;
          for (bVar9 = 9; bVar9 != 0; bVar9 = bVar9 - 1) {
            (&DAT_40004ef8)[bVar9] = (&DAT_40004ef8)[bVar9 - 1];
            (&DAT_40004f0c)[bVar9] = (&DAT_40004f0c)[bVar9 - 1];
          }
          DAT_40004ef8 = DAT_40001c66;
          if ((DAT_40001c6a == 0) && (DAT_40001c6c == 0)) {
            DAT_40004f0c = 0;
          }
          else {
            DAT_40004f0c = DAT_40001c64;
          }
          if (DAT_40001c6c != 0xffff) {
            DAT_40001c6c = DAT_40001c6c + 1;
          }
          DAT_40001c61 = 0;
          uVar4 = DAT_40001c68;
        }
      }
      else {
        roughness_flags = uVar5 & 0xfffb;
        if (DAT_400088a3 < DAT_40001c61) {
          DAT_40001c66 = engine_speed_previous_ER;
          DAT_40001c64 = DAT_40001c68;
          roughness_flags = uVar5 & 0xfffb | 0x10;
        }
      }
    }
    else {
      roughness_flags = roughness_flags | 1;
      uVar4 = DAT_40001c68 + 1;
    }
    DAT_40001c68 = uVar4;
    lVar6 = libc_abs((ulonglong)DAT_40001c6c - (ulonglong)DAT_40001c6a);
    if ((int)(uint)DAT_400088a7 < (int)lVar6) {
      bVar1 = DAT_40001c6c <= DAT_40001c6a;
      if (bVar1) {
        DAT_40004ef8 = 0;
      }
      else {
        DAT_40004ed0 = 0;
      }
      DAT_40004f0c = 0;
      DAT_40004ee4 = 0;
      DAT_40001c6c = (ushort)!bVar1;
      DAT_40001c6a = (ushort)bVar1;
      for (bVar9 = 1; bVar9 < 10; bVar9 = bVar9 + 1) {
        (&DAT_40004ef8)[bVar9] = 0;
        (&DAT_40004f0c)[bVar9] = 0;
        (&DAT_40004ed0)[bVar9] = 0;
        (&DAT_40004ee4)[bVar9] = 0;
      }
      DAT_40001c2e = 0;
      DAT_40001c2c = 0;
      DAT_40001c82 = 0;
    }
    if (((roughness_flags & 0x20) != 0) || ((roughness_flags & 0x40) != 0)) {
      roughness_flags = roughness_flags & 0xff9f;
      if ((DAT_40004ed0 < DAT_40004ef8) && ((DAT_40001c6c != 0 && (DAT_40001c6a != 0)))) {
        DAT_40001c2e = DAT_40004ef8 - DAT_40004ed0;
        DAT_40001c82 = 0;
        bVar9 = 0;
        for (bVar7 = 0; bVar7 < 10; bVar7 = bVar7 + 1) {
          bVar8 = bVar9 + 1;
          if ((&DAT_40004f0c)[bVar7] == 0) {
            bVar8 = bVar9;
          }
          bVar9 = bVar8 + 1;
          if ((&DAT_40004ee4)[bVar7] == 0) {
            bVar9 = bVar8;
          }
          DAT_40001c82 = (&DAT_40004ee4)[bVar7] + DAT_40001c82 + (&DAT_40004f0c)[bVar7];
        }
        if (bVar9 == 0) {
          DAT_40001c2c = 0;
        }
        else {
          DAT_40001c2c = (ushort)(((uint)DAT_40001c82 << 1) / (uint)bVar9);
        }
      }
      else {
        DAT_40001c2e = 0;
        DAT_40001c2c = 0;
        DAT_40001c82 = 0;
      }
    }
    uVar4 = roughness_flags & 0xff7f;
    roughness_flags = roughness_flags | 0x80;
    if ((uint)DAT_40001c6c + (uint)DAT_40001c6a < (uint)DAT_400088a6) {
      roughness_flags = uVar4;
    }
    if (((((ign_flags_unknown & 2) != 0) || (DAT_400088a1 <= DAT_40001c68)) ||
        ((engine_operating_state_flags & 1) != 0)) ||
       ((trqlimit_external_request_flags___ & 0x1f) != 0)) {
      roughness_flags = roughness_flags | 0x8000;
    }
    if ((((roughness_flags & 0x80) == 0) || ((roughness_flags & 0x8000) != 0)) ||
       ((DAT_40001c2e < DAT_400088a0 ||
        ((DAT_40001c2c < DAT_400088a8 || (DAT_400088a9 < DAT_40001c2c)))))) {
      roughness_flags = roughness_flags & 0xfeff;
      ign_adv_from_roughness_detection = 0;
    }
    else {
      iVar3 = -((int)DAT_40001c6e * (uint)DAT_400088ac);
      sVar2 = (short)(iVar3 >> 0x1f);
      ign_adv_from_roughness_detection =
           ((short)(iVar3 / 1000) + sVar2) - ((short)((short)(iVar3 / 0x3e80000) + sVar2) >> 0xf);
      if ((short)(ushort)CAL_roughness_ign_adv_max < ign_adv_from_roughness_detection) {
        ign_adv_from_roughness_detection = (i16_angle_1_4deg)CAL_roughness_ign_adv_max;
      }
      else if ((int)ign_adv_from_roughness_detection <
               (int)-(uint)CAL_roughness_ign_adv_min_sign_flipped) {
        ign_adv_from_roughness_detection = -(ushort)CAL_roughness_ign_adv_min_sign_flipped;
      }
      roughness_flags = roughness_flags | 0x100;
    }
  }
  else {
    roughness_flags = roughness_flags | 0x8000;
  }
  if ((roughness_flags & 0x8000) != 0) {
    if ((roughness_flags & 1) != 0) {
      DAT_40001c6c = 0;
      DAT_40001c6a = 0;
      for (j = 0; j < 10; j = j + 1) {
        (&DAT_40004ef8)[j] = 0;
        (&DAT_40004ed0)[j] = 0;
        (&DAT_40004f0c)[j] = 0;
        (&DAT_40004ee4)[j] = 0;
      }
      DAT_40001c2e = 0;
      DAT_40001c60 = 0;
      DAT_40001c61 = 0;
      DAT_40001c2c = 0;
    }
    DAT_40001c68 = 0;
    roughness_flags = 0;
    ign_adv_from_roughness_detection = 0;
  }
  engine_speed_previous_ER = _engine_speed;
  return;
}



void paddle_shift_sensor_input_process(void)

{
  byte bVar1;
  
  if ((paddle_shift_flags & 4) == 0) {
    if ((ushort)(paddle_shift_sensor_raw - 0x231U) < 0x59) {
      paddle_shift_flags = paddle_shift_flags & 0xf5 | 1;
    }
    else if ((ushort)(paddle_shift_sensor_raw - 0x1c3U) < 99) {
      paddle_shift_flags = paddle_shift_flags & 0xf6 | 2;
    }
    else if ((ushort)(paddle_shift_sensor_raw - 0x187U) < 0x1d) {
      paddle_shift_flags = paddle_shift_flags & 0xfc | 8;
    }
    else {
      paddle_shift_flags = paddle_shift_flags & 0xf4;
    }
    bVar1 = paddle_shift_flags | 0x80;
    if ((vehicle_mode_flags & 4) == 0) {
      bVar1 = paddle_shift_flags & 0x7f;
    }
    if (((COD_base[0] >> 0xd & 7) == 1) && ((byte)(launch_mode - LC_READY) < 2)) {
      paddle_shift_flags = bVar1 | 0x10;
    }
    else {
      paddle_shift_flags = bVar1 & 0xef;
    }
  }
  else {
    paddle_shift_flags = paddle_shift_flags & 0xf4;
  }
  return;
}



void wheelspeed_front_rate_200hz(void)

{
  uint uVar1;
  
  if (wheel_speed_timer1 == 0) {
    wheel_speed_front_avg =
         (short)(((uint)(ushort)wheel_speeds.LF + (uint)(ushort)wheel_speeds.RF & 0xffff) / 20);
    wheel_speed_front_avg_dvdt = wheel_speed_front_avg - wheel_speed_front_avg_last;
    uVar1 = (0x100 - (uint)CAL_wheel_speed_front_dvdt_scaling) * (int)DAT_40001c84;
    DAT_40001c84 = (short)(uVar1 >> 8) + (ushort)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
                   (ushort)CAL_wheel_speed_front_dvdt_scaling * wheel_speed_front_avg_dvdt;
    wheel_speed_front_accel =
         (short)((DAT_40001c84 * 0x3d09) / (int)((uint)CAL_wheel_speed_timer1 * 0x113e8));
    wheel_speed_timer1 = CAL_wheel_speed_timer1;
    wheel_speed_front_avg_last = wheel_speed_front_avg;
  }
  else {
    wheel_speed_timer1 = wheel_speed_timer1 + -1;
  }
  return;
}



// Because the cluster uses a smoothed/clamped reference, not the raw sensor RPM.
// The 100 Hz path blends the filtered value toward a target (idle target or TPSRPM map) using
// rise/fall gains (DAT_40001c9c, revlimit_unknown3), applies antiovershoot/hysteresis, respects
// the current rev_limit, and bypasses filtering in special states (startup, moving, faults).
// This removes jitter, avoids needle bounce, and makes the displayed RPM consistent with
// mode-dependent behavior rather than instantaneous crank speed.

void engine_speed_reference_update_100hz(void)

{
  uint uVar2;
  u16_factor_1_1023 _accel_pps;
  u16_factor_1_1023 _accel_pedal_pos;
  u8_factor_1_255 engine_speed_ref_fall_gain;
  u32_rspeed_1024rpm uVar1;
  bool _idle_underspeed_latch;
  
  if ((((engine_operating_state_flags & 1) != 0) &&
      ((ulonglong)obd_ii_engine_speed <
       ((longlong)(short)obd_ii_idle_speed_target___ & 0x3fffffffU) << 2)) &&
     ((uint)u16_rspeed_1_4rpm_40008926 <
      (short)obd_ii_idle_speed_target___ * 4 - (uint)obd_ii_engine_speed)) {
    idle_underspeed_latch = true;
  }
  _idle_underspeed_latch = idle_underspeed_latch;
  if ((((engine_operating_state_flags & 8) != 0) && (idle_underspeed_latch != false)) &&
     (_idle_underspeed_latch = false,
     (ulonglong)obd_ii_engine_speed <
     ((longlong)(short)obd_ii_idle_speed_target___ & 0x3fffffffU) << 2)) {
    _idle_underspeed_latch = idle_underspeed_latch;
  }
  idle_underspeed_latch = _idle_underspeed_latch;
  if (((obd_ii_engine_speed == 0) ||
      (runtime_since_start <= (uint)CAL_revlimit_enforce_engine_start_delay___ * 10)) ||
     (((coolant_temp <= u8_temp_5_8_40c_40008922 ||
       ((((engine_state_failure_flags != 0 || (car_speed_div100 != 0)) ||
         (accel_pedal_mode != shifting)) ||
        ((idle_underspeed_latch != false || (launch_mode == LC_FREEREV)))))) || (DAT_400088e4 == 0))
     )) {
    engine_speed_1_1024rpm = (uint)obd_ii_engine_speed << 8;
    engine_speed_tach = obd_ii_engine_speed;
    if ((engine_operating_state_flags & 1) != 0) {
      if ((vehicle_mode_flags & 0x20) == 0) {
        engine_speed_target_ramp_up_gain =
             lookup_3D_uint8_interpolated
                       (4,4,(ushort)engine_speed_3,(ushort)coolant_temp,
                        CAL_ecu_engine_speed_target_ramp_gain_tour,
                        CAL_ecu_engine_speed_target_ramp_gain_tour_X_rpm,
                        CAL_ecu_engine_speed_target_ramp_gain_tour_Y_coolant_temp);
      }
      else {
        engine_speed_target_ramp_up_gain =
             lookup_3D_uint8_interpolated
                       (4,4,(ushort)engine_speed_3,(ushort)coolant_temp,
                        CAL_ecu_engine_speed_target_ramp_gain_sport,
                        CAL_ecu_engine_speed_target_ramp_gain_sport_X_rpm,
                        CAL_ecu_engine_speed_target_ramp_gain_sport_Y_coolant_temp);
      }
    }
  }
  else {
    if ((engine_operating_state_flags & 1) == 0) {
      if ((vehicle_mode_flags & 0x20) == 0) {
        _accel_pedal_pos = get_accel_pedal_pos();
        engine_speed_pps_target =
             lookup_2D_uint16_interpolated
                       (10,_accel_pedal_pos,CAL_ecu_engine_speed_target_tour,
                        CAL_ecu_engine_speed_target_tour_X_pps);
      }
      else {
        _accel_pps = get_accel_pedal_pos();
        engine_speed_pps_target =
             lookup_2D_uint16_interpolated
                       (10,_accel_pps,CAL_ecu_engine_speed_target_sport,
                        CAL_ecu_engine_speed_target_sport_X_pps);
      }
    }
    else {
      engine_speed_pps_target = obd_ii_idle_speed_target___ << 2;
      if ((int)(((int)engine_speed_1_1024rpm >> 8) +
               (uint)((int)engine_speed_1_1024rpm < 0 && (engine_speed_1_1024rpm & 0xff) != 0)) <
          (int)(uint)engine_speed_pps_target) {
        engine_speed_1_1024rpm = (uint)engine_speed_pps_target << 8;
      }
      if ((vehicle_mode_flags & 0x20) == 0) {
        engine_speed_target_ramp_up_gain =
             lookup_3D_uint8_interpolated
                       (4,4,(ushort)engine_speed_3,(ushort)coolant_temp,
                        CAL_ecu_engine_speed_target_ramp_gain_tour,
                        CAL_ecu_engine_speed_target_ramp_gain_tour_X_rpm,
                        CAL_ecu_engine_speed_target_ramp_gain_tour_Y_coolant_temp);
      }
      else {
        engine_speed_target_ramp_up_gain =
             lookup_3D_uint8_interpolated
                       (4,4,(ushort)engine_speed_3,(ushort)coolant_temp,
                        CAL_ecu_engine_speed_target_ramp_gain_sport,
                        CAL_ecu_engine_speed_target_ramp_gain_sport_X_rpm,
                        CAL_ecu_engine_speed_target_ramp_gain_sport_Y_coolant_temp);
      }
    }
    engine_speed_ref_fall_gain =
         lookup_2D_uint8_interpolated
                   (4,coolant_temp,CAL_ecu_engine_speed_target_dec_gain,
                    CAL_ecu_engine_speed_target_dec_gain_X_coolant_temp);
    if ((int)(((int)engine_speed_1_1024rpm >> 8) +
             (uint)((int)engine_speed_1_1024rpm < 0 && (engine_speed_1_1024rpm & 0xff) != 0)) <
        (int)(uint)engine_speed_pps_target) {
      engine_speed_1_1024rpm =
           (int)((2560 - (uint)engine_speed_target_ramp_up_gain) *
                 (((int)engine_speed_1_1024rpm >> 8) +
                 (uint)((int)engine_speed_1_1024rpm < 0 && (engine_speed_1_1024rpm & 0xff) != 0)) +
                (uint)engine_speed_target_ramp_up_gain * (uint)engine_speed_pps_target) / 10;
      DAT_40001c94 = 0;
    }
    else {
      uVar2 = (256 - (uint)engine_speed_ref_fall_gain) * engine_speed_1_1024rpm;
      engine_speed_1_1024rpm =
           ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
           (uint)engine_speed_ref_fall_gain * (uint)engine_speed_pps_target;
      if (DAT_40001c94 == 0) {
        if ((((int)engine_speed_1_1024rpm < (int)engine_speed2_x256) &&
            ((int)((uint)u16_rspeed_1_4rpm_40008924 << 8) <
             (int)((uint)obd_ii_engine_speed * 0x100 - engine_speed_1_1024rpm))) &&
           ((int)(uint)engine_speed_pps_target <
            (int)((uint)obd_ii_engine_speed - (uint)u16_rspeed_1_4rpm_40008924))) {
          engine_speed_1_1024rpm =
               ((uint)obd_ii_engine_speed - (uint)u16_rspeed_1_4rpm_40008924) * 256;
          DAT_40001c94 = 1;
        }
      }
      else if ((int)(uint)engine_speed_pps_target <
               (int)((uint)obd_ii_engine_speed - (uint)u16_rspeed_1_4rpm_40008924)) {
        engine_speed_1_1024rpm =
             ((uint)obd_ii_engine_speed - (uint)u16_rspeed_1_4rpm_40008924) * 256;
      }
      else {
        engine_speed_1_1024rpm = (uint)engine_speed_pps_target << 8;
      }
    }
    if ((int)((rev_limit & 0b0011111111111111) << 2) <
        (int)(((int)engine_speed_1_1024rpm >> 8) +
             (uint)((int)engine_speed_1_1024rpm < 0 && (engine_speed_1_1024rpm & 0xff) != 0))) {
      uVar1 = (uint)rev_limit << 10;
    }
    else {
      uVar1 = (uint)obd_ii_engine_speed << 8;
      if ((revlimit_state_flags & 1) == 0) {
        uVar1 = engine_speed_1_1024rpm;
      }
    }
    engine_speed_1_1024rpm = uVar1;
    engine_speed_tach =
         (short)(engine_speed_1_1024rpm >> 8) +
         (ushort)((int)engine_speed_1_1024rpm < 0 && (engine_speed_1_1024rpm & 0xff) != 0);
  }
  engine_speed2_x256 = engine_speed_1_1024rpm;
  return;
}



u16_rspeed_4rpm get_engine_speed_tach(void)

{
  return engine_speed_tach;
}



void copy_and_sort(byte len,short *rc,short *dest)

{
  bool bVar1;
  byte i;
  uint j;
  
  bVar1 = true;
  for (i = 0; i < len; i = i + 1) {
    dest[i] = rc[i];
  }
  while (bVar1) {
    bVar1 = false;
    for (j = 0; (int)(j & 0xff) < (int)(len - 1); j = j + 1) {
      if ((ushort)dest[(j & 0xff) + 1] < (ushort)dest[j & 0xff]) {
        bVar1 = true;
        swap((ulonglong)j & 0xff,(int)dest);
      }
    }
  }
  return;
}



void swap(ulonglong v1,int _)

{
  undefined2 tmp;
  
  tmp = *(undefined2 *)(_ + (int)((v1 & 0xff) << 1));
  *(undefined2 *)(_ + (int)((v1 & 0xff) << 1)) = *(undefined2 *)(_ + (int)((v1 & 0xff) << 1) + 2);
  *(undefined2 *)(_ + (int)((v1 & 0xff) << 1) + 2) = tmp;
  return;
}



void fuel_level_and_usage(void)

{
  uint uVar1;
  uint _fuel_range_remaining;
  ulonglong uVar2;
  uint fuel_range_remaining_smoothing_factor;
  uint uVar3;
  ulonglong range_to_empty___;
  
  if ((car_speed_div100 == 0) || (fuel_usage_instantaneous == 0)) {
    uVar1 = 0;
  }
  else {
    uVar1 = ((car_speed_div100 / 10) * 784) / ((uint)fuel_usage_instantaneous * 10) & 0xffff;
  }
  if (fuel_usage_reset_request_timer == 0) {
    fuel_usage_running_total = 0;
    car_speed_running_total = 0;
  }
  if ((car_speed_running_total < 256) || (fuel_usage_running_total < 256)) {
    uVar2 = 0;
  }
  else {
    uVar2 = ((ulonglong)(car_speed_running_total >> 8) * 126) /
            (ulonglong)(fuel_usage_running_total >> 8);
  }
                    // default value here is 1 for DAT_4000898e
  if (DAT_4000898e == 0) {
    uVar3 = 112500;
  }
  else {
    uVar3 = (uint)DAT_4000898e * 112500;
  }
  if ((uVar3 <= car_speed_running_total2) && (1124 < fuel_usage_running_total2)) {
    range_to_empty___ =
         ((((ulonglong)(car_speed_running_total2 * 50) / 1125) * 1000) /
         (ulonglong)fuel_usage_running_total2) * 100;
    if ((ulonglong)CAL_cluster_range_to_empty_limit[0] * 100 < (range_to_empty___ & 0xffffffff)) {
      range_to_empty = (ushort)CAL_cluster_range_to_empty_limit[0] * 100;
    }
    else if ((range_to_empty___ & 0xffffffff) < (ulonglong)CAL_cluster_range_to_empty_limit[1] * 100
            ) {
      range_to_empty = (ushort)CAL_cluster_range_to_empty_limit[1] * 100;
    }
    else {
      range_to_empty = (ushort)range_to_empty___;
    }
    if ((uint)range_to_empty_smoothed_ + (uint)DAT_40008979 * 20 < (uint)range_to_empty) {
      range_to_empty_smoothed_ = range_to_empty_smoothed_ + (ushort)DAT_40008979 * 20;
    }
    else if ((int)(uint)range_to_empty <
             (int)((uint)range_to_empty_smoothed_ + (uint)DAT_40008979 * -20)) {
      range_to_empty_smoothed_ = range_to_empty_smoothed_ + (ushort)DAT_40008979 * -0b00010100;
    }
    else {
      range_to_empty_smoothed_ = range_to_empty;
    }
    car_speed_running_total2 = 0;
    fuel_usage_running_total2 = 0;
  }
  if (CAL_cluster_fuel_level_zero_clip_threshold < fuel_level) {
    DAT_40001ca0 = (ushort)((int)((uint)range_to_empty_smoothed_ *
                                 ((uint)fuel_level -
                                 (uint)CAL_cluster_fuel_level_zero_clip_threshold)) / 3000);
  }
  else {
    DAT_40001ca0 = 0;
  }
  if ((999 < DAT_40004bd6) ||
     ((car_speed_div100 == 0 &&
      (((COD_base[0] >> 4 & 127) * 3 <= (uint)fuel_level ||
       ((int)(uint)u8_fuel_gal_x10_40008855 <= (int)((uint)fuel_level - (uint)fuel_level2))))))) {
    DAT_40004bd6 = DAT_40001ca0;
  }
  fuel_level2 = fuel_level;
  if (fuel_usage_timer1 == 0) {
    if ((DAT_40004bd6 < DAT_40001ca0) && (DAT_40004bd6 < 999)) {
      DAT_40004bd6 = DAT_40004bd6 + 1;
    }
    else if ((DAT_40001ca0 < DAT_40004bd6) && (DAT_40004bd6 != 0)) {
      DAT_40004bd6 = DAT_40004bd6 - 1;
    }
    fuel_usage_timer1 = CAL_fuel_range_smoothing_interval;
  }
  if (cluster_fuel_mileage_update_timer == 0) {
    if (uVar1 == 0) {
      mileage_instantaneous___ = 1023;
    }
    else {
      mileage_instantaneous___ = (uint16_t)uVar1;
      if (999 < uVar1) {
        mileage_instantaneous___ = 999;
      }
    }
    if ((int)uVar2 == 0) {
      fuel_usage_average___ = 0x3ff;
    }
    else {
      fuel_usage_average___ = (uint16_t)uVar2;
      if (999 < uVar2) {
        fuel_usage_average___ = 999;
      }
    }
    cluster_fuel_mileage_update_timer = CAL_cluster_fuel_mileage_update_timer;
  }
  fuel_range_remaining_smoothing_factor = (uint)CAL_fuel_range_remaining_smoothing_factor;
  if (fuel_range_remaining_smoothing_factor == 0) {
    fuel_range_remaining_smoothing_factor = 1;
  }
  _fuel_range_remaining =
       fuel_range_remaining_smoothing_factor *
       (DAT_40004bd6 / fuel_range_remaining_smoothing_factor);
  if (((LEA_obd_ii_P0462_flags & 2) == 0) && ((LEA_obd_ii_P0463_flags & 2) == 0)) {
    if ((_fuel_range_remaining & 0xffff) < 1000) {
      if (((_fuel_range_remaining & 0xffff) < (uint)DAT_40008990) ||
         (DAT_40001ca0 < DAT_40008990 >> 1)) {
                    // invalid, no data
        fuel_range_remaining = 1023;
      }
      else {
                    // display range
        fuel_range_remaining = (uint16_t)_fuel_range_remaining;
      }
    }
    else {
                    // max displayable range
      fuel_range_remaining = 999;
    }
  }
  else {
                    //  sensor fault
    fuel_range_remaining = 1022;
  }
  return;
}



void fuel_usage_summary_100ms(void)

{
  bool bVar1;
  
  bVar1 = cluster_fuel_mileage_update_timer == 0;
  cluster_fuel_mileage_update_timer = cluster_fuel_mileage_update_timer + 0xff;
  if (bVar1) {
    cluster_fuel_mileage_update_timer = 0;
  }
  bVar1 = fuel_usage_timer1 == 0;
  fuel_usage_timer1 = fuel_usage_timer1 + 0xff;
  if (bVar1) {
    fuel_usage_timer1 = 0;
  }
  fuel_usage_reset = get_fuel_reset_button();
  if (fuel_usage_reset) {
    if (fuel_usage_reset_request_timer != 0) {
      fuel_usage_reset_request_timer = fuel_usage_reset_request_timer + 0xff;
    }
  }
  else {
    fuel_usage_reset_request_timer = CAL_fuel_usage_reset_request_timer;
  }
  if (fuel_usage_running_total < -((int)(uint)fuel_usage_instantaneous >> 1) - 1U) {
    fuel_usage_running_total = fuel_usage_running_total + ((int)(uint)fuel_usage_instantaneous >> 1)
    ;
  }
  else {
    fuel_usage_running_total = -1;
  }
  if (car_speed_running_total < -((int)(uint)car_speed_div100 >> 5) - 1U) {
    car_speed_running_total = car_speed_running_total + ((int)(uint)car_speed_div100 >> 5);
  }
  else {
    car_speed_running_total = -1;
  }
  if (car_speed_div100 != 0) {
    if (fuel_usage_running_total2 < -((int)(uint)fuel_usage_instantaneous >> 1) - 1U) {
      fuel_usage_running_total2 =
           fuel_usage_running_total2 + ((int)(uint)fuel_usage_instantaneous >> 1);
    }
    else {
      fuel_usage_running_total2 = 0xffffffff;
    }
    if (car_speed_running_total2 < -((int)(uint)car_speed_div100 >> 5) - 1U) {
      car_speed_running_total2 = car_speed_running_total2 + ((int)(uint)car_speed_div100 >> 5);
    }
    else {
      car_speed_running_total2 = 0xffffffff;
    }
  }
  return;
}



void injtip(void)

{
  u16_time_5ms uVar1;
  u8_rspeed_50rpm lookup1;
  u8_rspeed_10rpm lookup2;
  u8_rspeed_10rpm lookup3;
  byte lookup4;
  byte lookup5;
  uint uVar2;
  byte i;
  uint16_t _inj_flags1;
  ushort _inj_flags3;
  uint16_t _inj_flags2;
  uint8_t _inj_tps_ips_flag1;
  ushort flag_bit1;
  
  if (car_current_gear == NO_GEAR) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[0];
  }
  else if (car_current_gear == GEAR_1) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[1];
  }
  else if (car_current_gear == GEAR_2) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[2];
  }
  else if (car_current_gear == GEAR_3) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[3];
  }
  else if (car_current_gear == GEAR_4) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[4];
  }
  else if (car_current_gear == GEAR_5) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[5];
  }
  else if (car_current_gear == GEAR_6) {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears_6;
  }
  else {
    inj_tip_in_adj_gear_current = CAL_injtip_in_adj_gears[0];
  }
  injtip_comp_step1 =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_injtip_comp_step1,CAL_injtip_comp_step1_X_rpm);
  injtip_comp_positive_rpm =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_injtip_comp_rpm1,CAL_injtip_comp_rpm1_X_engine_speed);
  injtip_comp_positive_temp =
       lookup_2D_uint8_interpolated
                 (16,coolant_temp,CAL_injtip_comp_temp1,CAL_injtip_comp_temp1_X_coolant);
  injtip_comp_positive_load =
       lookup_2D_uint8_interpolated
                 (16,load_mass_per_stroke,CAL_injtip_comp_load1,CAL_injtip_comp_load1_X_load);
  injtip_step_unknown =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_injtip_step_unknown,CAL_injtip_step_unknown_X_rpm);
  injtip_comp_negative_rpm =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_injtip_comp_negative_rpm,CAL_injtip_comp_negative_rpm_X_rpm)
  ;
  injtip_comp_negative_temp =
       lookup_2D_uint8_interpolated
                 (16,coolant_temp,CAL_injtip_comp_negative_temp,
                  CAL_injtip_comp_negative_temp_X_coolant_temp);
  injtip_comp_negative_load =
       lookup_2D_uint8_interpolated
                 (16,load_mass_per_stroke,CAL_injtip_comp_negative_load,
                  CAL_injtip_comp_negative_load_X_load);
  tps_inj_tipin_rate2_ = tps_inj_tipin_rate_;
  if ((short)tps_inj_tipin_rate_ < 0) {
    decel_enleanment___ =
         (uint)CAL_injtip_comp_base *
         (-(int)(short)tps_inj_tipin_rate_ *
          ((int)((uint)injtip_comp_negative_load *
                (uint)injtip_comp_negative_rpm * (uint)injtip_comp_negative_temp) >> 8) >> 12);
    accel_enrichment___ = 0;
  }
  else {
    accel_enrichment___ =
         (uint)CAL_injtip_comp_base *
         ((int)((int)(short)tps_inj_tipin_rate_ *
               (uint)(ushort)((ulonglong)
                              ((longlong)(int)(uint)injtip_comp_positive_load *
                              (longlong)
                              (int)((uint)(byte)inj_tip_in_adj_gear_current *
                                   (uint)injtip_comp_positive_rpm * (uint)injtip_comp_positive_temp)
                              ) >> 16)) >> 11);
    decel_enleanment___ = 0;
  }
  if ((engine_is_running == false) || ((misfire_condition_flags & 0b0000100001100000) != 0)) {
    inj_tip_adj_enleanment = 0;
    inj_tip_adj_enrichment = 0;
    inj_tip_apply_adj = false;
  }
  else {
    inj_tip_adj_enrichment = accel_enrichment___;
    inj_tip_adj_enleanment = decel_enleanment___;
    inj_tip_apply_adj = true;
  }
  _inj_tps_ips_flag1 = inj_tps_ips_flag1;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if (((inj_flags & 1) == 0) || (car_current_gear != GEAR_1)) {
      if ((inj_tps_ips_flag1 == 1) && ((car_current_gear == GEAR_1 && (inj_flags == 0)))) {
        inj_tps_ips_flag1 = 2;
        _inj_tps_ips_flag1 = inj_tps_ips_flag1;
      }
      else if ((inj_tps_ips_flag1 == 2) && ((car_current_gear == GEAR_1 && (inj_flags == 0)))) {
        if ((short)(ushort)CAL_injtip_dfco_ips_min_accel_pedal <= (short)accel_pedal_pos2) {
          inj_tps_ips_flag1 = 4;
          _inj_tps_ips_flag1 = inj_tps_ips_flag1;
        }
      }
      else {
        _inj_tps_ips_flag1 = 0;
        if (car_current_gear == GEAR_1) {
          _inj_tps_ips_flag1 = inj_tps_ips_flag1;
        }
      }
    }
    else {
      inj_tps_ips_flag1 = 1;
      _inj_tps_ips_flag1 = inj_tps_ips_flag1;
    }
  }
  inj_tps_ips_flag1 = _inj_tps_ips_flag1;
                    // (COD_base[0] >> 13 & 7) == 1)
                    // 
                    // This is a check for IPS (automatic) transmissions
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if ((car_current_gear == GEAR_1) && ((inj_tps_ips_flag1 & 2) != 0)) {
      lookup1 = lookup_2D_uint8_interpolated
                          ('\x04',coolant_temp,CAL_injtip_dfco_enable_rpm_ips_firstgear,
                           CAL_injtip_dfco_enable_rpm_ips_firstgear_X_coolant);
      dfco_enable_engine_speed = (ushort)lookup1 * 50;
    }
    else {
      if ((COD_base[0] >> 2 & 1) == 0) {
        lookup2 = lookup_2D_uint8_interpolated
                            ('\x04',coolant_temp,CAL_injtip_dfco_ips_unknown1,
                             CAL_injtip_dfco_ips_unknown1_X_coolant_temp);
      }
      else {
        lookup2 = lookup_2D_uint8_interpolated
                            ('\x04',coolant_temp,CAL_injtip_dfco_enable_rpm_ips_default,
                             CAL_injtip_dfco_enable_rpm_ips_default_X_coolant);
      }
      dfco_enable_engine_speed = (ushort)lookup2 * 10;
    }
    lookup3 = lookup_2D_uint8_interpolated('\x04',coolant_temp,s_nnn_4000919e,s__p_4000919a);
  }
  else {
                    // Japan seatbelt warning presence flag? Why is this here? This seems unrelated
                    // to injector timing
    if ((COD_base[0] >> 2 & 1) == 0) {
      lookup4 = lookup_2D_uint8_interpolated
                          ('\x04',coolant_temp,CAL_injtip_dfco_manual_unknown1,
                           CAL_injtip_dfco_manual_unknown1_X_coolant_temp);
    }
    else {
      lookup4 = lookup_2D_uint8_interpolated
                          ('\x04',coolant_temp,CAL_injtip_dfco_enable_rpm_manual_default,
                           CAL_injtip_dfco_enable_rpm_manual_default_X_coolant);
    }
    dfco_enable_engine_speed = (ushort)lookup4 * 10;
    lookup3 = lookup_2D_uint8_interpolated('\x04',coolant_temp,s_xxx_40008cf8,s___40008cf4);
  }
  injtip_engine_speed_unknown1 = (ushort)lookup3 * 10;
  lookup5 = lookup_2D_uint8_interpolated('\x04',coolant_temp,s__40008d00,s____40008cfc);
  injtip_engine_speed_unknown2 = (ushort)lookup5 * 10;
  DAT_40001cc0 = lookup_2D_uint8_interpolated
                           ('\x04',(uint8_t)((short)accel_pedal_pos2 >> 2),s__40009f9e,s__40009f9a);
                    // This is probably a check for cruise control. Value 2 means normal cruise.
  _inj_flags1 = inj_flags;
  if (((COD_base[1] >> 21 & 3) == 2) &&
     (_inj_flags1 = inj_flags | 8, CAL_injtip_carspeed_unknown1 < car_speed_u8)) {
    _inj_flags1 = inj_flags;
  }
  inj_flags = _inj_flags1;
                    // COD[1] >> 21 is a check for clutch potentiometer
  _inj_flags2 = inj_flags;
  if (((((COD_base[1] >> 21 & 3) == 2) && (car_current_gear != NO_GEAR)) &&
      (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold)) &&
     (_inj_flags2 = inj_flags & 0b1111111111110111, car_speed_u8 < CAL_injtip_dfco_enable_speed)) {
    _inj_flags2 = inj_flags;
  }
  inj_flags = _inj_flags2;
  if ((((COD_base[1] >> 0x15 & 3) != 2) || ((clutch_pos_sensor & 8) != 0)) ||
     (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold)) {
    inj_flags = inj_flags & 0b1111111111111011;
    injtip_overrun_hysteresis_timer = 0;
  }
  if (((((COD_base[1] >> 0x15 & 3) == 2) && ((clutch_pos_sensor & 8) == 0)) &&
      (((CAL_sensor_clutch_disengaged_threshold < clutch_pos_voltage &&
        ((((trqlimit_external_request_flags___ & 0b00010000) == 0 &&
          ((ushort)((ushort)u8_rspeed_10rpm_40008811 * 10) < engine_speed_2)) &&
         (CAL_injtip_dfco_enable_speed < car_speed_u8)))) &&
       (((int)(short)accel_pedal_pos2 < (int)((uint)CAL_injtip_accel_pedal_min_unknown << 2) &&
        ((inj_flags & 8) == 0)))))) &&
     ((((COD_base[0] >> 0x19 & 7) == 0 || ((obd_ii_cruise_status & 2) == 0)) &&
      ((inj_flags & 4) == 0)))) {
    ign_flags_unknown = 63;
    injtip_overrun_hysteresis_timer = CAL_injtip_overrun_hysteresis_timer;
    _inj_flags3 = inj_flags | 0b00000111;
  }
  else if ((((((abs_esp_flags & 1) == 0) && ((trqlimit_external_request_flags___ & 0x10) == 0)) &&
            ((injtip_overrun_hysteresis_timer == 0 &&
             ((((dfco_enable_engine_speed < engine_speed_2 &&
                ((uint)u8_time_50ms_400087f1 * 10 < runtime_since_start)) &&
               (CAL_injtip_dfco_enable_temp < coolant_temp)) &&
              ((CAL_injtip_dfco_enable_speed < car_speed_u8 || (car_speed_u8 == 0)))))))) &&
           ((obd_ii_cruise_status & 0x20000) == 0)) &&
          ((((short)accel_pedal_pos2 < (short)(ushort)CAL_injtip_dfco_enable_accel_pedal &&
            (((COD_base[0] >> 0x19 & 7) == 0 || ((obd_ii_cruise_status & 2) == 0)))) ||
           (((COD_base[0] >> 0x19 & 7) != 0 &&
            (((short)cruise_tps_commanded < (short)(ushort)CAL_injtip_dfco_enable_accel_pedal &&
             ((obd_ii_cruise_status & 2) != 0)))))))) {
    _inj_flags3 = inj_flags | 0b00000010;
    if (((DAT_4000180c == 0) && (inj_tip_adj_enleanment == 0)) || (car_current_gear == NO_GEAR)) {
      flag_bit1 = inj_flags & 1;
      inj_flags = _inj_flags3;
      if (flag_bit1 == 0) {
        if (car_speed_u8 == 0) {
          ign_flags_unknown = 0b00111111;
        }
        else {
          ign_flags_unknown = (undefined1)(1 << (DAT_400018c8 & 63));
          for (i = 0; i < 6; i = i + 1) {
            s__40001cec[i] =
                 (char)((ulonglong)(longlong)(int)(uint)DAT_400087ee / 6) +
                 (char)((int)(uint)DAT_400087ee >> 7);
          }
        }
      }
                    // I think this indicates DFCO
      _inj_flags3 = inj_flags | 1;
    }
  }
  else if (((((((abs_esp_flags & 1) != 0) && ((COD_base[1] >> 0x15 & 3) == 2)) &&
             ((clutch_pos_voltage < CAL_sensor_clutch_disengaged_threshold ||
              ((clutch_pos_sensor & 8) != 0)))) ||
            (((abs_esp_flags & 1) != 0 && ((COD_base[1] >> 0x15 & 3) != 2)))) ||
           ((((trqlimit_external_request_flags___ & 0x10) != 0 ||
             ((((car_speed_u8 != '\0' && (car_current_gear != NO_GEAR)) &&
               (((COD_base[1] >> 0x15 & 3) != 2 ||
                (clutch_pos_voltage < CAL_sensor_clutch_disengaged_threshold)))) &&
              (engine_speed_2 <= injtip_engine_speed_unknown1)))) ||
            ((((car_speed_u8 <= CAL_injtip_carspeed_unknown1 && (car_speed_u8 != '\0')) ||
              ((((car_speed_u8 == '\0' || (car_current_gear == NO_GEAR)) ||
                (((COD_base[1] >> 0x15 & 3) == 2 &&
                 (CAL_sensor_clutch_disengaged_threshold <= clutch_pos_voltage)))) &&
               (engine_speed_2 <= injtip_engine_speed_unknown2)))) ||
             (((coolant_temp < u8_temp_5_8_40c_400087ed && ((inj_flags & 4) == 0)) ||
              (((short)(ushort)CAL_injtip_dfco_ips_min_accel_pedal <= (short)accel_pedal_pos2 &&
               ((injtip_overrun_hysteresis_timer == 0 ||
                (engine_speed_2 <= injtip_engine_speed_unknown1)))))))))))) ||
          ((_inj_flags3 = inj_flags, (COD_base[0] >> 0x19 & 7) != 0 &&
           (((obd_ii_cruise_status & 2) != 0 &&
            ((short)(ushort)CAL_injtip_dfco_ips_min_accel_pedal < (short)cruise_tps_commanded))))))
  {
    if ((inj_flags & 1) != 0) {
      if ((engine_speed_2 < u16_rspeed_rpm_40008946) && (u16_time_5ms_40001cce == 0)) {
        uVar2 = lookup_2D_uint8_interpolated_noaxis(2,uint16_t_400018ee,s__40008d7e);
        u32_time_us_40001cb0 = (uint)CAL_injtip_comp_base * (uVar2 & 0xff);
        if (u32_time_us_40001cb0 != 0) {
          u16_time_5ms_40001cce = DAT_40008948;
        }
      }
      else {
        u32_time_us_40001cb0 = 0;
      }
      DAT_4000180c = (ushort)DAT_40001cc0;
    }
    ign_flags_unknown = 0;
    uint16_t_400018ee = 0;
    injtip_overrun_hysteresis_timer = 0;
    _inj_flags3 = inj_flags & 0b1111111111111100;
  }
  inj_flags = _inj_flags3;
  if ((inj_flags & 1) != 0) {
    injtip_overrun_inhibit_timer = CAL_injtip_overrun_inhibit_timer;
  }
  uVar1 = 0;
  if ((int)((int)(short)obd_ii_idle_speed_target___ + (uint)DAT_4000875e) <
      (int)(uint)engine_speed_2) {
    uVar1 = injtip_overrun_inhibit_timer;
  }
  injtip_overrun_inhibit_timer = uVar1;
  return;
}



void inj_transient_ramp_200hz(void)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  short sVar4;
  longlong lVar5;
  byte bVar6;
  uint8_t uVar7;
  byte j;
  ushort _maf_accum_32mg;
  
  _maf_accum_32mg = (ushort)((int)(uint)maf_accumulated2 >> 5) & 0xff;
  if (255 < (uint)((int)(uint)maf_accumulated2 >> 5)) {
    _maf_accum_32mg = 255;
  }
  DAT_40001ce7 = DAT_40001ce7 + -1;
  if ((DAT_40001ce7 == 0) && (DAT_40001ce7 = 2, DAT_40001cd0 != 0)) {
    if (DAT_40001cd0 < 1) {
      DAT_40001ce1 = lookup_3D_uint8_interpolated
                               (8,8,_maf_accum_32mg,(ushort)coolant_temp_engine_stopped,
                                s_4_>_J_Z_e____<Z_2<FZx_d__4000901a,s__4000900a,s_08_PX_h_40009012);
      lVar5 = libc_abs((longlong)DAT_40001cd0);
      DAT_40001cd0 = DAT_40001cd0 + (ushort)DAT_40001ce1;
      if ((int)lVar5 < (int)(uint)DAT_40001ce1) {
        DAT_40001cd0 = 0;
      }
    }
    else {
      DAT_40001ce1 = lookup_3D_uint8_interpolated
                               (8,8,_maf_accum_32mg,(ushort)coolant_temp_engine_stopped,
                                s_<<<FPd_<<<FPd_<<<FPd_]]]]]x_tttt_40008fca,s__40008fba,
                                s_08_PX_h_40008fc2);
      if (DAT_40001cd0 < (short)(ushort)DAT_40001ce1) {
        DAT_40001cd0 = 0;
      }
      else {
        DAT_40001cd0 = DAT_40001cd0 - (ushort)DAT_40001ce1;
      }
    }
  }
  DAT_40001ce8 = DAT_40001ce8 + -1;
  sVar1 = DAT_40001cd0;
  if (DAT_40001ce8 == '\0') {
    DAT_40001ce8 = '\x04';
    for (j = 24; j != 0; j = j - 1) {
      USHORT_ARRAY_40004f20[j] = USHORT_ARRAY_40004f20[j - 1];
    }
    if ((int)load_computed_alphaN < 1381) {
      USHORT_ARRAY_40004f20[0] = (ushort)load_computed_alphaN;
      if ((int)load_computed_alphaN < 0) {
        USHORT_ARRAY_40004f20[0] = 0;
      }
    }
    else {
      USHORT_ARRAY_40004f20[0] = 1380;
    }
    if (DAT_4000ccae < 25) {
      uVar2 = (uint)DAT_4000ccae;
    }
    else {
      uVar2 = 24;
    }
    DAT_40001ce2 = USHORT_ARRAY_40004f20[0] - USHORT_ARRAY_40004f20[uVar2];
    if (runtime_since_start < 400) {
      DAT_40001cd0 = 0;
      sVar1 = DAT_40001cd0;
    }
    else {
      if (DAT_40001ce2 < 0) {
        uVar7 = (uint8_t)(-(int)DAT_40001ce2 >> 2);
        if (0xff < -(int)DAT_40001ce2 >> 2) {
          uVar7 = 0xff;
        }
        bVar6 = lookup_2D_uint8_interpolated(8,uVar7,&DAT_40009a72,&DAT_40009a6a);
      }
      else {
        uVar7 = (uint8_t)(DAT_40001ce2 >> 2);
        if (0xff < DAT_40001ce2 >> 2) {
          uVar7 = 0xff;
        }
        bVar6 = lookup_2D_uint8_interpolated(8,uVar7,&DAT_40009a62,&DAT_40009a5a);
      }
      DAT_40001ce4 = bVar6 - 100;
      if (DAT_40001ce4 < 0x65) {
        if (DAT_40001ce4 < -0x1e) {
          DAT_40001ce4 = -0x1e;
        }
      }
      else {
        DAT_40001ce4 = 100;
      }
      DAT_40001ce6 = lookup_3D_uint8_interpolated
                               (8,8,_maf_accum_32mg,(ushort)coolant_temp_engine_stopped,s__4000c45a,
                                s__4000c44a,s_08_PX_h_4000c452);
      iVar3 = (int)DAT_40001ce4 * (uint)DAT_40001ce6 * 100;
      sVar4 = ((short)(iVar3 / 0xff) + (short)(iVar3 >> 0x1f)) -
              (short)((longlong)iVar3 * 0x80808081 >> 0x3f);
      if (DAT_40001cd0 < 1) {
        sVar1 = sVar4;
        if ((DAT_40001cd0 < 0) && ((0 < sVar4 || (sVar1 = DAT_40001cd0, sVar4 < DAT_40001cd0)))) {
          sVar1 = sVar4;
        }
      }
      else if ((sVar4 < 0) || (sVar1 = DAT_40001cd0, DAT_40001cd0 < sVar4)) {
        sVar1 = sVar4;
      }
    }
  }
  DAT_40001cd0 = sVar1;
  return;
}



// WARNING: Removing unreachable block (ram,0x00061c34)
// WARNING: Removing unreachable block (ram,0x00061c78)

void engine_load(void)

{
  ushort uVar1;
  uint uVar2;
  int iVar3;
  int atmo_baro_scaled;
  u8_factor_1_255 _knock_inhibit_tps_max;
  u8_factor_1_255 _load_tps_max;
  uint32_t _load_cylinder_efficiency;
  ulonglong uVar4;
  byte load_seed_alphaN;
  byte load_alphaN_base;
  byte tps_scaling_lookup;
  ulonglong tps_scaling_learned;
  u8_factor_1_255 tps_max;
  u8_load_4mg_stroke load_reference_charge;
  byte efficiency2_lookup;
  byte efficiency1_lookup;
  u16_flow_50mg_s uVar5;
  uint engine_load_calc;
  byte i;
  uint load_reference_at_wot;
  int _load_pct;
  uint _load_alphaN;
  
  _knock_inhibit_tps_max =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_knock_inhibit_tps_max,CAL_knock_inhibit_tps_max_X_rpm);
  knock_inhibit_tps_max = _knock_inhibit_tps_max;
  load_unused1 = lookup_2D_uint8_interpolated
                           (16,engine_speed_3,CAL_load_unused1,CAL_load_unused1_X_rpm);
  _load_tps_max =
       lookup_2D_uint8_interpolated(16,engine_speed_3,CAL_load_tps_max,CAL_load_tps_max_X_rpm);
  load_tps_max = _load_tps_max;
  _load_cylinder_efficiency =
       lookup_3D_uint32_interpolated
                 (16,16,(uint)obd_ii_engine_speed,(uint)map,CAL_load_cylinder_efficiency,
                  CAL_load_cylinder_efficiency_X_engine_speed,CAL_load_cylinder_efficiency_Y_map);
  load_cylinder_efficiency = (undefined2)_load_cylinder_efficiency;
                    // 287 J kg K (specific gas constant for dry air)
  load_computed_map =
       (int)((_load_cylinder_efficiency & 0xffff) * (uint)map * (uint)CAL_load_cylinder_volume) /
       ((((int)((uint)obd_ii_manifold_temp * 4 + (uint)obd_ii_manifold_temp) >> 3) + 233) * 2870);
  if (DAT_40001d50 == 0) {
    exhaust_air_mass___ = 0;
  }
  else {
    exhaust_air_mass___ =
         (u16_flow_100mg_s)((int)(load_computed_map * 100000) / (int)(uint)DAT_40001d50);
  }
  maf_flow_2 = lookup_2D_uint16_interpolated
                         (32,sensor_adc_maf2,CAL_sensor_maf_scaling,CAL_sensor_maf_scaling_X_signal)
  ;
  obd_ii_maf_flow =
       lookup_2D_uint16_interpolated
                 (32,sensor_adc_maf1,CAL_sensor_maf_scaling,CAL_sensor_maf_scaling_X_signal);
  maf_flow_difference = obd_ii_maf_flow - maf_flow_2;
  if (CAL_ecu_load_use_tmap == false) {
    if (manifold_pressure_calculated < obd_ii_atmospheric_baro) {
      vacuum_mbar = obd_ii_atmospheric_baro - manifold_pressure_calculated;
      if (1023 < (short)vacuum_mbar) {
        vacuum_mbar = 1023;
      }
    }
    else {
      vacuum_mbar = 0;
    }
    if (obd_ii_atmospheric_baro == 0) {
      manifold_pressure_ratio_mbar = 0;
    }
    else {
      manifold_pressure_ratio_mbar =
           (uint16_t)(((uint)manifold_pressure_calculated * 1000) / (uint)obd_ii_atmospheric_baro);
    }
  }
  else {
    if (map < obd_ii_atmospheric_baro) {
      vacuum_mbar = obd_ii_atmospheric_baro - map;
      if (0x3ff < (short)vacuum_mbar) {
        vacuum_mbar = 0x3ff;
      }
    }
    else {
      vacuum_mbar = 0;
    }
    if (obd_ii_atmospheric_baro == 0) {
      manifold_pressure_ratio_mbar = 0;
    }
    else {
      manifold_pressure_ratio_mbar = (uint16_t)(((uint)map * 1000) / (uint)obd_ii_atmospheric_baro);
    }
  }
  i = lookup_3D_uint8_interpolated
                (20,20,(ushort)engine_speed_3,(ushort)tps2,LEA_load_alphaN_adj,
                 LEA_load_alphaN_adj_X_engine_speed,LEA_load_alphaN_adj_Y_tps);
  learned_load_alphaN_from_rpm_tps = (ushort)i;
  uVar4 = torque_update_LEA____
                    (20,20,engine_speed_3,tps2,LEA_load_alphaN_adj_X_engine_speed,
                     LEA_load_alphaN_adj_Y_tps);
  DAT_40001d12 = (undefined2)uVar4;
  u8_factor_1_255_40001d47 =
       lookup_2D_uint8_interpolated(16,engine_speed_3,s__40009dc2,s__0_JVcp__40009db2);
  load_seed_alphaN =
       lookup_2D_uint8_interpolated(16,tps2,CAL_load_alphaN_seed,CAL_load_alphaN_seed_X_tps);
  load_alphaN_base =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)tps2,CAL_load_alphaN_base,
                  CAL_load_alphaN_base_X_engine_speed,CAL_load_alphaN_base_Y_tps);
  _load_alphaN = ((uint)load_alphaN_base * 1173) / 255;
  load_alphaN_calc = (u16_load_1173mg_255stroke)_load_alphaN;
  if (engine_is_running == false) {
    if (CAL_sensor_manifold_temp_sensor_present == 0) {
      uVar2 = (uint)load_seed_alphaN * 4 * (uint)air_density_ambiant;
    }
    else {
      uVar2 = (uint)load_seed_alphaN * 4 * (uint)air_density_manifold_temp;
    }
    load_computed_alphaN = uVar2 / 20000;
    load_alphaN_expected = load_computed_alphaN;
  }
  else {
    if (CAL_sensor_manifold_temp_sensor_present == 0) {
      iVar3 = (int)(short)learned_load_alphaN_from_rpm_tps *
              ((_load_alphaN * air_density_ambiant) / 100);
    }
    else {
      iVar3 = (int)(short)learned_load_alphaN_from_rpm_tps *
              ((_load_alphaN * air_density_manifold_temp) / 100);
    }
    load_computed_alphaN = iVar3 / 20000;
    uVar1 = air_density_ambiant;
    if (DAT_4000caa3 != '\0') {
      uVar1 = air_density_manifold_temp;
    }
    load_alphaN_expected = (_load_alphaN * uVar1) / 20000;
  }
  uVar4 = (ulonglong)(longlong)(int)((uint)DAT_400018e4 << 2) / 3;
  DAT_40001d50 = (ushort)uVar4;
  if (0xffff < (uint)uVar4) {
    DAT_40001d50 = 0xffff;
  }
  if (DAT_40001d50 == 0) {
    DAT_40001d00 = 0;
    DAT_40001d02 = 0;
  }
  else {
    DAT_40001d00 = (undefined2)((int)(load_computed_alphaN * 100000) / (int)(uint)DAT_40001d50);
    DAT_40001d02 = (undefined2)((load_alphaN_expected * 100000) / (uint)DAT_40001d50);
  }
  load_computed_maf = 0;
  DAT_40001d58 = 0;
  load_zero = 0;
  tps_scaling_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,0,LEA_torque_torque_to_tps_scaling,
                  LEA_torque_torque_to_tps_scaling_X_engine_speed,
                  LEA_torque_torque_to_tps_scaling_Y_load);
  DAT_40001d40 = (ushort)tps_scaling_lookup;
  tps_scaling_learned =
       torque_update_LEA____
                 (20,20,engine_speed_3,load_zero,LEA_torque_torque_to_tps_scaling_X_engine_speed,
                  LEA_torque_torque_to_tps_scaling_Y_load);
  DAT_40001d14 = (undefined2)tps_scaling_learned;
  tps_max = lookup_3D_uint8_interpolated
                      (20,20,(ushort)engine_speed_3,(ushort)load_zero,CAL_load_to_tps_max,
                       CAL_load_to_tps_max_X_engine_speed,CAL_load_to_tps_max_Y_load);
  DAT_40001d3a = (ushort)tps_max << 2;
  DAT_40001d34 = (int)((uint)tps_max * 4 * (int)(short)DAT_40001d40) / 100;
  DAT_40002310 = (ushort)((ulonglong)
                          ((longlong)(int)(uint)DAT_4000230e * (longlong)(int)(uint)DAT_40001d50) /
                         1000000);
  load_maf_vs_alphaN_difference = (short)load_computed_maf - (short)load_computed_alphaN;
  if (load_computed_maf == 0) {
    DAT_40001d49 = 100;
  }
  else {
    uVar2 = (int)(load_computed_alphaN * 100) / (int)load_computed_maf & 0xffff;
    if (uVar2 < 0x100) {
      DAT_40001d49 = (undefined1)uVar2;
    }
    else {
      DAT_40001d49 = 0xff;
    }
  }
  DAT_40001d1e = (short)((int)(uint)tps_u16 >> 2) - (short)DAT_40001d34;
  if ((int)(uint)tps_u16 >> 2 == 0) {
    DAT_40001d4a = 100;
  }
  else {
    uVar2 = (DAT_40001d34 * 100) / ((int)(uint)tps_u16 >> 2) & 0xffff;
    if (uVar2 < 0x100) {
      DAT_40001d4a = (undefined1)uVar2;
    }
    else {
      DAT_40001d4a = 0xff;
    }
  }
  uVar2 = (((short)load_maf_vs_alphaN_difference * 10000) / (int)(uint)DAT_40001d50) * 10;
  DAT_40001d3c = (short)((int)uVar2 >> 2) + (ushort)((int)uVar2 < 0 && (uVar2 & 3) != 0);
  if ((((int)(short)tps_rate_unknown < -(int)(short)u16_factor_1_255_400087f4) ||
      ((short)u16_factor_1_255_40008822 < (short)tps_rate_unknown)) ||
     ((u8_factor_1_255_40001d47 < tps2 && ((engine_operating_state_flags & 8) == 0)))) {
    DAT_40001d42 = DAT_40008698;
  }
  if (((engine_is_running == false) || ((engine_state_failure_flags & 0b00010000) != 0)) ||
     ((DAT_40001d42 != '\0' && ((int)(uint)engine_speed_2 < (int)(short)u16_rspeed_rpm_400087f2))))
  {
    u32_load_mg_stroke_40001d0c = load_computed_alphaN + DAT_40002310;
    DAT_40001d4f = 1;
  }
  else {
    u32_load_mg_stroke_40001d0c = load_computed_maf + DAT_40002310;
    DAT_40001d4f = 0;
  }
  load_mass_per_stroke = 255;
  if ((int)load_mass_per_stroke_raw >> 2 < 0xff) {
    load_mass_per_stroke = (u8_load_4mg_stroke)((int)load_mass_per_stroke_raw >> 2);
  }
                    // The clyinder mass is configured to 690 mg. 1173 seems to be a magic number to
                    // scale the load value to 3/2 of percentage.
                    // 
                    // 1173/255*100/690 is magically 2/3. 
                    // 
                    // load_1 = 1.5 x obd_ii_load_pct
                    // 
                    // This also means that you can't simply change the clyinder value and have the
                    // load calculated correctly.
  if ((int)load_mass_per_stroke_raw < 1173) {
    load_1 = (u8_load_1173mg_255stroke)((int)(load_mass_per_stroke_raw * 255) / 1173);
  }
  else {
    load_1 = 0xff;
  }
  _load_pct = (int)(load_mass_per_stroke_raw * 100) / (int)(uint)CAL_ecu_2gr_cylinder_air_mass_mg;
  load_pct = (u8_factor_1_100)_load_pct;
  if (0xff < (short)_load_pct) {
    load_pct = 0xff;
  }
  load_reference_charge =
       lookup_2D_uint8_interpolated
                 (16,engine_speed_3,CAL_load_reference_charge,CAL_load_reference_charge_X_rpm);
  load_reference_at_wot = ((uint)load_reference_charge * 4 * (uint)air_density_ambiant) / 20000;
  if ((load_from_torque_adjusted < load_reference_at_wot) &&
     ((engine_state_failure_flags & 0x10000) == 0)) {
    load_reference_at_wot = (uint)load_from_torque_adjusted;
  }
  if (load_reference_at_wot == 0) {
    engine_load_calc = 0xff;
  }
  else {
    engine_load_calc = (int)(load_mass_per_stroke_raw * 255) / (int)load_reference_at_wot & 0xffff;
  }
  obd_ii_calc_engine_load = (u8_factor_1_255)engine_load_calc;
  if (0xff < engine_load_calc) {
    obd_ii_calc_engine_load = 0xff;
  }
  obd_ii_load_abs =
       (u16_factor_1_255)
       ((int)(load_mass_per_stroke_raw * 0xff) / (int)(uint)CAL_ecu_2gr_cylinder_air_mass_mg_obd_ii)
  ;
  DAT_40001d54 = load_reference_charge;
  efficiency2_lookup =
       lookup_3D_uint8_interpolated
                 (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_load_baro_gain,
                  CAL_load_baro_gain_X_rpm,CAL_load_baro_gain_Y_load);
  load_baro_gain = (ushort)efficiency2_lookup << 1;
  efficiency1_lookup =
       lookup_3D_uint8_interpolated
                 (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                  CAL_load_efficiency1_unknown,CAL_load_efficiency1_unknown_X_rpm,
                  CAL_load_efficiency1_unknown_Y_load);
  load_efficiency1_unknown = (ushort)efficiency1_lookup;
  atmo_baro_scaled = (int)obd_ii_atmospheric_baro;
  atmo_baro_scaled = (uint)load_baro_gain * atmo_baro_scaled;
  manifold_pressure_calculated =
       (((short)(atmo_baro_scaled / 1013) + (short)(atmo_baro_scaled >> 31)) -
       (short)((longlong)atmo_baro_scaled * 0x8163d283 >> 0x3f)) +
       (short)((int)(load_mass_per_stroke_raw * 287 *
                    (((int)((uint)obd_ii_manifold_temp * 4 + (uint)obd_ii_manifold_temp) >> 3) + 233
                    )) / (int)((uint)CAL_load_cylinder_volume * (uint)load_efficiency1_unknown));
  uVar4 = (ulonglong)inj_flags;
  for (i = 0; i < 2; i = i + 1) {
                    // per bank? It's silly that the function is called twice
    uVar5 = get_exhaust_flow((u16_flow_50mg_s)(((ulonglong)exhaust_air_mass___ << 32) >> 33),1460,
                             (bool)((byte)(-(uVar4 & 1) >> 24) >> 7),engine_speed_2);
    exhaust_flow_per_bank[i] = uVar5;
  }
  return;
}



u16_flow_50mg_s
get_exhaust_flow(u16_flow_50mg_s air_mass,u16_afr_1_100 stoichiometry_factor,bool ignore_fuel,
                uint16_t rpm)

{
  ulonglong uVar1;
  
  if (rpm == 0) {
    air_mass = 0;
  }
  else if ((!ignore_fuel) &&
          (uVar1 = (ulonglong)air_mass +
                   (((ulonglong)air_mass * 100) / (ulonglong)stoichiometry_factor & 0xffff),
          air_mass = (u16_flow_50mg_s)uVar1, 0xffff < uVar1)) {
    air_mass = 0xffff;
  }
  return air_mass;
}



u16_flow_50mg_s get_exhaust_flow_per_bank_safe(byte bank)

{
  u16_flow_50mg_s uVar1;
  
  if (bank < 2) {
    uVar1 = exhaust_flow_per_bank[bank];
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



uint8_t lookup_2D_uint8_interpolated
                  (uint8_t param_1,uint8_t param_2,uint8_t *param_3,uint8_t *param_4)

{
  short sVar1;
  short i;
  uint8_t uVar2;
  
  sVar1 = param_1 - 1;
  i = 0;
  if (*param_4 < param_2) {
    if (param_2 < param_4[sVar1]) {
      for (; (param_4[i] < param_2 && (i < sVar1)); i = i + 1) {
      }
      if (param_2 == param_4[i]) {
        uVar2 = param_3[i];
      }
      else if (param_4[i] == param_4[i + -1]) {
        uVar2 = param_3[i];
      }
      else {
        uVar2 = param_3[i + -1] +
                (char)((int)((int)(short)((ushort)param_3[i] - (ushort)param_3[i + -1]) *
                            ((uint)param_2 - (uint)param_4[i + -1])) /
                      (int)((uint)param_4[i] - (uint)param_4[i + -1]));
      }
    }
    else {
      uVar2 = param_3[sVar1];
    }
  }
  else {
    uVar2 = *param_3;
  }
  return uVar2;
}



uint16_t lookup_2D_uint16_interpolated
                   (uint8_t size_x,uint16_t input_x,uint16_t *lut,uint16_t *x_axis)

{
  short sVar1;
  short sVar2;
  uint16_t uVar3;
  
  sVar1 = size_x - 1;
  sVar2 = 0;
  if (*x_axis < input_x) {
    if (input_x < x_axis[sVar1]) {
      for (; (x_axis[sVar2] < input_x && (sVar2 < sVar1)); sVar2 = sVar2 + 1) {
      }
      if (input_x == x_axis[sVar2]) {
        uVar3 = lut[sVar2];
      }
      else if (x_axis[sVar2] == x_axis[sVar2 + -1]) {
        uVar3 = lut[sVar2];
      }
      else {
        uVar3 = lut[sVar2 + -1] +
                (short)((int)((int)(short)(lut[sVar2] - lut[sVar2 + -1]) *
                             ((uint)input_x - (uint)x_axis[sVar2 + -1])) /
                       (int)((uint)x_axis[sVar2] - (uint)x_axis[sVar2 + -1]));
      }
    }
    else {
      uVar3 = lut[sVar1];
    }
  }
  else {
    uVar3 = *lut;
  }
  return uVar3;
}



ulonglong lookup_2D_uint8_interpolated_noaxis(uint8_t shift,uint16_t input,uint8_t *lut)

{
  uint uVar1;
  uint uVar2;
  ulonglong uVar3;
  ulonglong input_shifted;
  uint _input_shifted;
  
  input_shifted = (ulonglong)((uint)input << ((int)(char)shift & 0b00111111U)) & 0xffff;
  _input_shifted = (uint)input_shifted;
  uVar1 = _input_shifted >> 8;
  if (lut[_input_shifted >> 8] == lut[(_input_shifted >> 8) + 1]) {
    uVar3 = (ulonglong)lut[uVar1];
  }
  else {
    uVar2 = (int)(short)((ushort)lut[uVar1 + 1] - (ushort)lut[uVar1]) *
            (_input_shifted - (int)(short)(((input_shifted << 32) >> 40) << 8));
    uVar3 = (ulonglong)lut[uVar1] +
            (longlong)((int)uVar2 >> 8) + (ulonglong)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) & 0xff;
  }
  return uVar3;
}



uint8_t lookup_3D_uint8_interpolated
                  (uint8_t size_x,uint8_t size_y,uint16_t input_x,uint16_t input_y,uint8_t *lut,
                  uint8_t *x_axis,uint8_t *y_axis)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  short sVar6;
  uint uVar7;
  uint8_t uVar8;
  ushort uVar9;
  ushort uVar10;
  uint uVar11;
  ushort uVar12;
  
  uVar1 = (ushort)size_y;
  uVar2 = input_x & 0xff;
  uVar3 = input_y & 0xff;
  uVar4 = size_x - 1;
  uVar5 = uVar1 - 1;
  uVar10 = 0;
  uVar9 = 0;
  if ((uVar2 < *x_axis) && (uVar3 < *y_axis)) {
    uVar8 = *lut;
  }
  else {
    uVar12 = (ushort)size_x;
    if ((x_axis[(short)uVar4] < uVar2) && (y_axis[(short)uVar5] < uVar3)) {
      uVar8 = lut[(int)(short)uVar12 * (int)(short)uVar1 + -1];
    }
    else {
      for (; (y_axis[(short)uVar9] < uVar3 && ((short)uVar9 < (short)uVar5)); uVar9 = uVar9 + 1) {
      }
      if ((y_axis[(short)uVar9] < uVar3) && (uVar9 == uVar5)) {
        uVar9 = uVar9 + 1;
      }
      for (; (x_axis[(short)uVar10] < uVar2 && ((short)uVar10 < (short)uVar4)); uVar10 = uVar10 + 1)
      {
      }
      if ((x_axis[(short)uVar10] < uVar2) && (uVar10 == uVar4)) {
        uVar10 = uVar10 + 1;
      }
      if (((uVar2 == x_axis[(short)uVar10]) && (uVar3 == y_axis[(short)uVar9])) && (uVar9 == size_y)
         ) {
        uVar8 = lut[((short)uVar9 + -1) * (int)(short)uVar12 + (int)(short)uVar10];
      }
      else if ((uVar2 == x_axis[(short)uVar10]) && (uVar3 == y_axis[(short)uVar9])) {
        uVar8 = lut[(int)(short)uVar9 * (int)(short)uVar12 + (int)(short)uVar10];
      }
      else if (((uVar3 == y_axis[(short)uVar9]) || (uVar9 == uVar1)) || (uVar9 == 0)) {
        if (uVar9 == uVar1) {
          uVar9 = uVar9 - 1;
        }
        if (uVar10 == uVar12) {
          if (x_axis[(short)uVar10 + -1] == x_axis[(short)uVar10 + -2]) {
            uVar8 = lut[((short)uVar9 + 1) * (int)(short)uVar12 + -2];
          }
          else {
            uVar8 = lut[((short)uVar9 + 1) * (int)(short)uVar12 + -1];
          }
        }
        else if (uVar10 == 0) {
          uVar8 = lut[(int)(short)uVar9 * (int)(short)uVar12];
        }
        else {
          sVar6 = uVar10 + uVar9 * size_x;
          if (x_axis[(short)uVar10 + -1] == x_axis[(short)uVar10]) {
            uVar8 = lut[sVar6 + -1];
          }
          else {
            uVar8 = lut[sVar6 + -1] +
                    (char)((int)(((int)(short)uVar2 - (uint)x_axis[(short)uVar10 + -1]) *
                                ((uint)lut[sVar6] - (uint)lut[sVar6 + -1])) /
                          (int)((uint)x_axis[(short)uVar10] - (uint)x_axis[(short)uVar10 + -1]));
          }
        }
      }
      else if (((uVar2 == x_axis[(short)uVar10]) || (uVar10 == uVar12)) || (uVar10 == 0)) {
        if (uVar10 == uVar12) {
          uVar10 = uVar10 - 1;
        }
        sVar6 = uVar10 + uVar9 * size_x;
        if (uVar9 == uVar1) {
          if (y_axis[(short)uVar9 + -2] == y_axis[(short)uVar9 + -1]) {
            uVar8 = lut[(int)sVar6 + (short)uVar12 * -2];
          }
          else {
            uVar8 = lut[(int)sVar6 - (int)(short)uVar12];
          }
        }
        else if (uVar9 == 0) {
          uVar8 = lut[(short)uVar10];
        }
        else if (y_axis[(short)uVar9 + -1] == y_axis[(short)uVar9]) {
          uVar8 = lut[(int)sVar6 - (int)(short)uVar12];
        }
        else {
          uVar8 = lut[(int)sVar6 - (int)(short)uVar12] +
                  (char)((int)(((int)(short)uVar3 - (uint)y_axis[(short)uVar9 + -1]) *
                              ((uint)lut[sVar6] - (uint)lut[(int)sVar6 - (int)(short)uVar12])) /
                        (int)((uint)y_axis[(short)uVar9] - (uint)y_axis[(short)uVar9 + -1]));
        }
      }
      else {
        sVar6 = uVar10 + (uVar9 - 1) * (ushort)size_x;
        if (x_axis[(short)uVar10 + -1] == x_axis[(short)uVar10]) {
          uVar7 = (uint)lut[sVar6];
          uVar11 = (uint)lut[(int)(short)uVar12 + (int)sVar6];
        }
        else {
          uVar7 = (uint)lut[sVar6 + -1] +
                  (int)(((int)(short)uVar2 - (uint)x_axis[(short)uVar10 + -1]) *
                       ((uint)lut[sVar6] - (uint)lut[sVar6 + -1])) /
                  (int)((uint)x_axis[(short)uVar10] - (uint)x_axis[(short)uVar10 + -1]) & 0xff;
          uVar11 = (uint)lut[(int)(short)uVar4 + (int)sVar6] +
                   (int)(((int)(short)uVar2 - (uint)x_axis[(short)uVar10 + -1]) *
                        ((uint)lut[(int)(short)uVar12 + (int)sVar6] -
                        (uint)lut[(int)(short)uVar4 + (int)sVar6])) /
                   (int)((uint)x_axis[(short)uVar10] - (uint)x_axis[(short)uVar10 + -1]) & 0xff;
        }
        uVar8 = (char)uVar7 +
                (char)((int)(((int)(short)uVar3 - (uint)y_axis[(short)uVar9 + -1]) *
                            (uVar11 - uVar7)) /
                      (int)((uint)y_axis[(short)uVar9] - (uint)y_axis[(short)uVar9 + -1]));
      }
    }
  }
  return uVar8;
}



uint32_t lookup_3D_uint32_interpolated
                   (ulonglong param_1,uint size_y,uint32_t input_x,uint32_t input_y,uint16_t *lut,
                   uint16_t *x_axis,uint16_t *y_axis)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  ulonglong uVar5;
  ulonglong uVar6;
  ulonglong uVar7;
  int iVar8;
  ulonglong uVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  
  uVar5 = param_1 & 0xff;
  uVar4 = size_y & 0xff;
  uVar10 = input_x & 0xffff;
  uVar2 = input_y & 0xffff;
  uVar9 = uVar5 - 1;
  uVar12 = uVar4 - 1;
  uVar7 = 0;
  uVar3 = 0;
  if ((uVar10 < *x_axis) && (uVar2 < *y_axis)) {
    uVar4 = (uint)*lut;
  }
  else {
    iVar11 = (int)uVar5;
    if ((*(ushort *)((int)x_axis + (int)((uVar9 & 0xffffffff) << 1)) < uVar10) &&
       (y_axis[uVar12] < uVar2)) {
      uVar4 = (uint)lut[iVar11 * uVar4 + -1];
    }
    else {
      for (; (y_axis[uVar3] < uVar2 && ((int)uVar3 < (int)uVar12)); uVar3 = uVar3 + 1) {
      }
      if ((y_axis[uVar3] < uVar2) && (uVar3 == uVar12)) {
        uVar3 = uVar3 + 1;
      }
      while( true ) {
        if ((uVar10 <= *(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) ||
           ((int)uVar9 <= (int)uVar7)) break;
        uVar7 = uVar7 + 1;
      }
      if ((*(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1)) < uVar10) &&
         ((int)uVar7 == (int)uVar9)) {
        uVar7 = uVar7 + 1;
      }
      if (((uVar10 == *(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) &&
          (uVar2 == y_axis[uVar3])) && (uVar3 == (size_y & 0xff))) {
        uVar4 = (uint)*(ushort *)
                       ((int)lut +
                       (int)((uVar7 + (longlong)(int)(uVar3 - 1) * (longlong)iVar11 & 0xffffffff) <<
                            1));
      }
      else if ((uVar10 == *(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) &&
              (uVar2 == y_axis[uVar3])) {
        uVar4 = (uint)*(ushort *)
                       ((int)lut +
                       (int)((uVar7 + (longlong)(int)uVar3 * (longlong)iVar11 & 0xffffffff) << 1));
      }
      else {
        iVar8 = (int)uVar7;
        if (((uVar2 == y_axis[uVar3]) || (uVar3 == uVar4)) || (uVar3 == 0)) {
          if (uVar3 == uVar4) {
            uVar3 = uVar3 - 1;
          }
          if (iVar8 == iVar11) {
            if (*(short *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1)) ==
                *(short *)((int)x_axis + (int)((uVar7 - 2 & 0xffffffff) << 1))) {
              uVar1 = lut[(uVar3 + 1) * iVar11 + -2];
            }
            else {
              uVar1 = lut[(uVar3 + 1) * iVar11 + -1];
            }
            uVar4 = (uint)uVar1;
          }
          else if (iVar8 == 0) {
            uVar4 = (uint)lut[uVar3 * iVar11];
          }
          else {
            uVar5 = uVar7 + (longlong)(int)uVar3 * (longlong)iVar11;
            if (*(short *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1)) ==
                *(short *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) {
              uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar5 - 1 & 0xffffffff) << 1));
            }
            else {
              uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar5 - 1 & 0xffffffff) << 1)) +
                      (int)((uVar10 - *(ushort *)
                                       ((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1))) *
                           ((uint)*(ushort *)((int)lut + (int)((uVar5 & 0xffffffff) << 1)) -
                           (uint)*(ushort *)((int)lut + (int)((uVar5 - 1 & 0xffffffff) << 1)))) /
                      (int)((uint)*(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1)) -
                           (uint)*(ushort *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1))) &
                      0xffff;
            }
          }
        }
        else if (((uVar10 == *(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) ||
                 (iVar8 == iVar11)) || (iVar8 == 0)) {
          if (iVar8 == iVar11) {
            uVar7 = uVar7 - 1;
          }
          uVar9 = uVar7 + (longlong)(int)uVar3 * (longlong)iVar11;
          if (uVar3 == uVar4) {
            if (y_axis[uVar3 - 2] == y_axis[uVar3 - 1]) {
              uVar1 = *(ushort *)
                       ((int)lut + (int)((uVar9 + (param_1 & 0xff) * -2 & 0xffffffff) << 1));
            }
            else {
              uVar1 = *(ushort *)((int)lut + (int)((uVar9 - uVar5 & 0xffffffff) << 1));
            }
            uVar4 = (uint)uVar1;
          }
          else if (uVar3 == 0) {
            uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar7 & 0xffffffff) << 1));
          }
          else if (y_axis[uVar3 - 1] == y_axis[uVar3]) {
            uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar9 - uVar5 & 0xffffffff) << 1));
          }
          else {
            uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar9 - uVar5 & 0xffffffff) << 1)) +
                    (int)((uVar2 - y_axis[uVar3 - 1]) *
                         ((uint)*(ushort *)((int)lut + (int)((uVar9 & 0xffffffff) << 1)) -
                         (uint)*(ushort *)((int)lut + (int)((uVar9 - uVar5 & 0xffffffff) << 1)))) /
                    (int)((uint)y_axis[uVar3] - (uint)y_axis[uVar3 - 1]) & 0xffff;
          }
        }
        else {
          uVar6 = uVar7 + (longlong)(int)(uVar3 - 1) * (longlong)iVar11;
          if (*(short *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1)) ==
              *(short *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1))) {
            uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar6 & 0xffffffff) << 1));
            uVar10 = (uint)*(ushort *)((int)lut + (int)((uVar6 + uVar5 & 0xffffffff) << 1));
          }
          else {
            uVar4 = (uint)*(ushort *)((int)lut + (int)((uVar6 - 1 & 0xffffffff) << 1)) +
                    (int)((uVar10 - *(ushort *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1)))
                         * ((uint)*(ushort *)((int)lut + (int)((uVar6 & 0xffffffff) << 1)) -
                           (uint)*(ushort *)((int)lut + (int)((uVar6 - 1 & 0xffffffff) << 1)))) /
                    (int)((uint)*(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1)) -
                         (uint)*(ushort *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1))) &
                    0xffff;
            uVar10 = (uint)*(ushort *)((int)lut + (int)((uVar6 + uVar9 & 0xffffffff) << 1)) +
                     (int)((uVar10 - *(ushort *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1))
                           ) * ((uint)*(ushort *)
                                       ((int)lut + (int)((uVar6 + uVar5 & 0xffffffff) << 1)) -
                               (uint)*(ushort *)
                                      ((int)lut + (int)((uVar6 + uVar9 & 0xffffffff) << 1)))) /
                     (int)((uint)*(ushort *)((int)x_axis + (int)((uVar7 & 0xffffffff) << 1)) -
                          (uint)*(ushort *)((int)x_axis + (int)((uVar7 - 1 & 0xffffffff) << 1))) &
                     0xffff;
          }
          uVar4 = uVar4 + (int)((uVar2 - y_axis[uVar3 - 1]) * (uVar10 - uVar4)) /
                          (int)((uint)y_axis[uVar3] - (uint)y_axis[uVar3 - 1]) & 0xffff;
        }
      }
    }
  }
  return uVar4;
}



void obd_ii_vvt_cam_timing_monitors_update(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  
  if ((engine_state_failure_flags & 2) == 0) {
    bVar2 = LEA_obd_ii_P0011_flags & 0xbf;
    bVar3 = LEA_obd_ii_P0012_flags & 0xbf;
    LEA_obd_ii_P0014_flags = LEA_obd_ii_P0014_flags & 0xbf;
    LEA_obd_ii_P0015_flags = LEA_obd_ii_P0015_flags & 0xbf;
    LEA_obd_ii_P0021_flags = LEA_obd_ii_P0021_flags & 0xbf;
    LEA_obd_ii_P0022_flags = LEA_obd_ii_P0022_flags & 0xbf;
    LEA_obd_ii_P0024_flags = LEA_obd_ii_P0024_flags & 0xbf;
    LEA_obd_ii_P0025_flags = LEA_obd_ii_P0025_flags & 0xbf;
    if (vvt_start_time < runtime_since_start) {
      if ((DAT_4000ca48 < coolant_temp) && (DAT_4000ca4a < runtime_since_start)) {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x30000000;
        if (((int)(short)obd_ii_vvt_inlet_angle_error_bank1 < -(int)DAT_4000ca20) &&
           ((LEA_obd_ii_P0011_flags & 2) == 0)) {
          DAT_40001d78 = 0;
          DAT_40001d7c = 0;
          if (DAT_40001d74 != 0xff) {
            DAT_40001d74 = DAT_40001d74 + 1;
          }
          DAT_40004b7c = (ushort)DAT_40001d74 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3f6 - (ushort)DAT_40001d68);
        }
        else if ((DAT_4000ca20 < (short)obd_ii_vvt_inlet_angle_error_bank1) &&
                ((LEA_obd_ii_P0012_flags & 2) == 0)) {
          DAT_40001d7c = 0;
          DAT_40001d74 = 0;
          if (DAT_40001d78 != 0xff) {
            DAT_40001d78 = DAT_40001d78 + 1;
          }
          DAT_40004b7e = (ushort)DAT_40001d78 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3f7 - (ushort)DAT_40001d69);
        }
        else {
          DAT_40001d74 = 0;
          DAT_40001d78 = 0;
          DAT_40001d7c = DAT_40001d7c + 1;
        }
        if (((CAL_obd_ii_P0011 & 7) == 0) || ((LEA_obd_ii_P0011_flags & 2) != 0)) {
          DAT_40001d80 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f6;
          LEA_obd_ii_P0011_flags = bVar2;
        }
        else {
          bVar1 = LEA_obd_ii_P0011_flags & 0x20;
          LEA_obd_ii_P0011_flags = bVar2;
          if (((bVar1 == 0) && (DAT_40001d80 != 0)) &&
             (DAT_40001d80 = DAT_40001d80 + -1, DAT_40001d80 == 0)) {
            LEA_obd_ii_P0011_flags = bVar2 | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d74) {
            DAT_40001d74 = 0;
            if ((DAT_40001d68 != 0) && (DAT_40001d68 = DAT_40001d68 - 1, DAT_40001d68 == 0)) {
              LEA_obd_ii_P0012_flags = bVar3;
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0011,&LEA_obd_ii_P0011_flags,&DAT_40004c13,&DAT_40004c14,0x11,
                         0);
              bVar3 = LEA_obd_ii_P0012_flags;
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7c) {
            if (((CAL_obd_ii_P0012 & 7) == 0) || ((LEA_obd_ii_P0012_flags & 2) != 0)) {
              DAT_40001d7c = 0;
            }
            if (DAT_40001d68 < DAT_4000d3f6) {
              DAT_40001d68 = DAT_40001d68 + 1;
            }
            else {
              LEA_obd_ii_P0012_flags = bVar3;
              obd_ii_monitor_pass(&CAL_obd_ii_P0011,&LEA_obd_ii_P0011_flags);
              bVar3 = LEA_obd_ii_P0012_flags;
            }
          }
        }
        LEA_obd_ii_P0012_flags = bVar3;
        if (((CAL_obd_ii_P0012 & 7) == 0) || ((LEA_obd_ii_P0012_flags & 2) != 0)) {
          DAT_40001d88 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f7;
        }
        else {
          if ((((LEA_obd_ii_P0012_flags & 0x20) == 0) && (DAT_40001d88 != 0)) &&
             (DAT_40001d88 = DAT_40001d88 + -1, DAT_40001d88 == 0)) {
            LEA_obd_ii_P0012_flags = LEA_obd_ii_P0012_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d78) {
            DAT_40001d78 = 0;
            if ((DAT_40001d69 != 0) && (DAT_40001d69 = DAT_40001d69 - 1, DAT_40001d69 == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0012,&LEA_obd_ii_P0012_flags,&DAT_40004c16,&DAT_40004c17,0x12,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7c) {
            DAT_40001d7c = 0;
            if (DAT_40001d69 < DAT_4000d3f7) {
              DAT_40001d69 = DAT_40001d69 + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0012,&LEA_obd_ii_P0012_flags);
            }
          }
        }
        if (((int)(short)obd_ii_vvt_exhaust_error_bank1 < -(int)DAT_4000ca20) &&
           ((LEA_obd_ii_P0015_flags & 2) == 0)) {
          DAT_40001d7d = 0;
          DAT_40001d75 = 0;
          if (DAT_40001d79 != 0xff) {
            DAT_40001d79 = DAT_40001d79 + 1;
          }
          DAT_40004b86 = (ushort)DAT_40001d79 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3aa - (ushort)DAT_40001d6d);
        }
        else if ((DAT_4000ca20 < (short)obd_ii_vvt_exhaust_error_bank1) &&
                ((LEA_obd_ii_P0014_flags & 2) == 0)) {
          DAT_40001d79 = 0;
          DAT_40001d7d = 0;
          if (DAT_40001d75 != 0xff) {
            DAT_40001d75 = DAT_40001d75 + 1;
          }
          DAT_40004b84 = (ushort)DAT_40001d75 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3a6 - (ushort)DAT_40001d6c);
        }
        else {
          DAT_40001d75 = 0;
          DAT_40001d79 = 0;
          DAT_40001d7d = DAT_40001d7d + 1;
        }
        if (((CAL_obd_ii_P0014 & 7) == 0) || ((LEA_obd_ii_P0014_flags & 2) != 0)) {
          DAT_40001d82 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3a6;
        }
        else {
          if ((((LEA_obd_ii_P0014_flags & 0x20) == 0) && (DAT_40001d82 != 0)) &&
             (DAT_40001d82 = DAT_40001d82 + -1, DAT_40001d82 == 0)) {
            LEA_obd_ii_P0014_flags = LEA_obd_ii_P0014_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d75) {
            DAT_40001d75 = 0;
            if ((DAT_40001d6c != 0) && (DAT_40001d6c = DAT_40001d6c - 1, DAT_40001d6c == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0014,&LEA_obd_ii_P0014_flags,&DAT_40004c1f,&DAT_40004c20,0x14,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7d) {
            if (((CAL_obd_ii_P0015 & 7) == 0) || ((LEA_obd_ii_P0015_flags & 2) != 0)) {
              DAT_40001d7d = 0;
            }
            if (DAT_40001d6c < DAT_4000d3a6) {
              DAT_40001d6c = DAT_40001d6c + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0014,&LEA_obd_ii_P0014_flags);
            }
          }
        }
        if (((CAL_obd_ii_P0015 & 7) == 0) || ((LEA_obd_ii_P0015_flags & 2) != 0)) {
          DAT_40001d8a = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3aa;
        }
        else {
          if ((((LEA_obd_ii_P0015_flags & 0x20) == 0) && (DAT_40001d8a != 0)) &&
             (DAT_40001d8a = DAT_40001d8a + -1, DAT_40001d8a == 0)) {
            LEA_obd_ii_P0015_flags = LEA_obd_ii_P0015_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d79) {
            DAT_40001d79 = 0;
            if ((DAT_40001d6d != 0) && (DAT_40001d6d = DAT_40001d6d - 1, DAT_40001d6d == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0015,&LEA_obd_ii_P0015_flags,&DAT_40004c22,&DAT_40004c23,0x15,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7d) {
            DAT_40001d7d = 0;
            if (DAT_40001d6d < DAT_4000d3aa) {
              DAT_40001d6d = DAT_40001d6d + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0015,&LEA_obd_ii_P0015_flags);
            }
          }
        }
        if (((int)(short)obd_ii_vvt_inlet_angle_error_bank2 < -(int)DAT_4000ca20) &&
           ((LEA_obd_ii_P0021_flags & 2) == 0)) {
          DAT_40001d7a = 0;
          DAT_40001d7e = 0;
          if (DAT_40001d76 != 0xff) {
            DAT_40001d76 = DAT_40001d76 + 1;
          }
          DAT_40004b80 = (ushort)DAT_40001d76 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d42e - (ushort)DAT_40001d6a);
        }
        else if ((DAT_4000ca20 < (short)obd_ii_vvt_inlet_angle_error_bank2) &&
                ((LEA_obd_ii_P0022_flags & 2) == 0)) {
          DAT_40001d7e = 0;
          DAT_40001d76 = 0;
          if (DAT_40001d7a != 0xff) {
            DAT_40001d7a = DAT_40001d7a + 1;
          }
          DAT_40004b82 = (ushort)DAT_40001d7a +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d42f - (ushort)DAT_40001d6b);
        }
        else {
          DAT_40001d76 = 0;
          DAT_40001d7a = 0;
          DAT_40001d7e = DAT_40001d7e + 1;
        }
        if (((CAL_obd_ii_P0021 & 7) == 0) || ((LEA_obd_ii_P0021_flags & 2) != 0)) {
          DAT_40001d84 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42e;
        }
        else {
          if ((((LEA_obd_ii_P0021_flags & 0x20) == 0) && (DAT_40001d84 != 0)) &&
             (DAT_40001d84 = DAT_40001d84 + -1, DAT_40001d84 == 0)) {
            LEA_obd_ii_P0021_flags = LEA_obd_ii_P0021_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d76) {
            DAT_40001d76 = 0;
            if ((DAT_40001d6a != 0) && (DAT_40001d6a = DAT_40001d6a - 1, DAT_40001d6a == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0021,&LEA_obd_ii_P0021_flags,&DAT_40004c19,&DAT_40004c1a,0x21,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7e) {
            if (((CAL_obd_ii_P0022 & 7) == 0) || ((LEA_obd_ii_P0022_flags & 2) != 0)) {
              DAT_40001d7e = 0;
            }
            if (DAT_40001d6a < DAT_4000d42e) {
              DAT_40001d6a = DAT_40001d6a + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0021,&LEA_obd_ii_P0021_flags);
            }
          }
        }
        if (((CAL_obd_ii_P0022 & 7) == 0) || ((LEA_obd_ii_P0022_flags & 2) != 0)) {
          DAT_40001d8c = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42f;
        }
        else {
          if ((((LEA_obd_ii_P0022_flags & 0x20) == 0) && (DAT_40001d8c != 0)) &&
             (DAT_40001d8c = DAT_40001d8c + -1, DAT_40001d8c == 0)) {
            LEA_obd_ii_P0022_flags = LEA_obd_ii_P0022_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d7a) {
            DAT_40001d7a = 0;
            if ((DAT_40001d6b != 0) && (DAT_40001d6b = DAT_40001d6b - 1, DAT_40001d6b == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0022,&LEA_obd_ii_P0022_flags,&DAT_40004c1c,&DAT_40004c1d,0x22,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7e) {
            DAT_40001d7e = 0;
            if (DAT_40001d6b < DAT_4000d42f) {
              DAT_40001d6b = DAT_40001d6b + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0022,&LEA_obd_ii_P0022_flags);
            }
          }
        }
        if (((int)(short)obd_ii_vvt_exhaust_error_bank2 < -(int)DAT_4000ca20) &&
           ((LEA_obd_ii_P0025_flags & 2) == 0)) {
          DAT_40001d7f = 0;
          DAT_40001d77 = 0;
          if (DAT_40001d7b != 0xff) {
            DAT_40001d7b = DAT_40001d7b + 1;
          }
          DAT_40004b8a = (ushort)DAT_40001d7b +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3b2 - (ushort)DAT_40001d6f);
        }
        else if ((DAT_4000ca20 < (short)obd_ii_vvt_exhaust_error_bank2) &&
                ((LEA_obd_ii_P0024_flags & 2) == 0)) {
          DAT_40001d7b = 0;
          DAT_40001d7f = 0;
          if (DAT_40001d77 != 0xff) {
            DAT_40001d77 = DAT_40001d77 + 1;
          }
          DAT_40004b88 = (ushort)DAT_40001d77 +
                         (ushort)DAT_4000ca49 * ((ushort)DAT_4000d3ae - (ushort)DAT_40001d6e);
        }
        else {
          DAT_40001d77 = 0;
          DAT_40001d7b = 0;
          DAT_40001d7f = DAT_40001d7f + 1;
        }
        if (((CAL_obd_ii_P0024 & 7) == 0) || ((LEA_obd_ii_P0024_flags & 2) != 0)) {
          DAT_40001d86 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3ae;
        }
        else {
          if ((((LEA_obd_ii_P0024_flags & 0x20) == 0) && (DAT_40001d86 != 0)) &&
             (DAT_40001d86 = DAT_40001d86 + -1, DAT_40001d86 == 0)) {
            LEA_obd_ii_P0024_flags = LEA_obd_ii_P0024_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d77) {
            DAT_40001d77 = 0;
            if ((DAT_40001d6e != 0) && (DAT_40001d6e = DAT_40001d6e - 1, DAT_40001d6e == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0024,&LEA_obd_ii_P0024_flags,&DAT_40004c25,&DAT_40004c26,0x24,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7f) {
            if (((CAL_obd_ii_P0025 & 7) == 0) || ((LEA_obd_ii_P0025_flags & 2) != 0)) {
              DAT_40001d7f = 0;
            }
            if (DAT_40001d6e < DAT_4000d3ae) {
              DAT_40001d6e = DAT_40001d6e + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0024,&LEA_obd_ii_P0024_flags);
            }
          }
        }
        if (((CAL_obd_ii_P0025 & 7) == 0) || ((LEA_obd_ii_P0025_flags & 2) != 0)) {
          DAT_40001d8e = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3b2;
        }
        else {
          if ((((LEA_obd_ii_P0025_flags & 0x20) == 0) && (DAT_40001d8e != 0)) &&
             (DAT_40001d8e = DAT_40001d8e + -1, DAT_40001d8e == 0)) {
            LEA_obd_ii_P0025_flags = LEA_obd_ii_P0025_flags | 0x20;
          }
          if (DAT_4000ca49 < DAT_40001d7b) {
            DAT_40001d7b = 0;
            if ((DAT_40001d6f != 0) && (DAT_40001d6f = DAT_40001d6f - 1, DAT_40001d6f == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P0025,&LEA_obd_ii_P0025_flags,&DAT_40004c28,&DAT_40004c29,0x25,
                         0);
            }
          }
          else if (DAT_4000ca70 < DAT_40001d7f) {
            DAT_40001d7f = 0;
            if (DAT_40001d6f < DAT_4000d3b2) {
              DAT_40001d6f = DAT_40001d6f + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P0025,&LEA_obd_ii_P0025_flags);
            }
          }
        }
      }
      else {
        LEA_obd_ii_P0011_flags = bVar2;
        LEA_obd_ii_P0012_flags = bVar3;
        FUN_00064f6c();
      }
      if ((((CAL_obd_ii_P0016 & 7) != 0) && ((LEA_obd_ii_P0016_flags & 2) == 0)) &&
         (DAT_400025eb == '\x01')) {
        if (DAT_400025e7 == '\x01') {
          if ((DAT_40001d70 != 0) && (DAT_40001d70 = DAT_40001d70 - 1, DAT_40001d70 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0016,&LEA_obd_ii_P0016_flags,&DAT_40004c2b,&DAT_40004c2c,0x16,0)
            ;
          }
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0016,&LEA_obd_ii_P0016_flags);
          if (DAT_40001d70 < DAT_4000d41b) {
            DAT_40001d70 = DAT_40001d70 + 1;
          }
        }
      }
      if ((((CAL_obd_ii_P0017 & 7) != 0) && ((LEA_obd_ii_P0017_flags & 2) == 0)) &&
         (DAT_400025e9 == '\x01')) {
        if (DAT_400025e5 == '\x01') {
          if ((DAT_40001d71 != 0) && (DAT_40001d71 = DAT_40001d71 - 1, DAT_40001d71 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0017,&LEA_obd_ii_P0017_flags,&DAT_40004c2e,&DAT_40004c2f,0x17,0)
            ;
          }
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0017,&LEA_obd_ii_P0017_flags);
          if (DAT_40001d71 < DAT_4000d437) {
            DAT_40001d71 = DAT_40001d71 + 1;
          }
        }
      }
      if ((((CAL_obd_ii_P0018 & 7) != 0) && ((LEA_obd_ii_P0018_flags & 2) == 0)) &&
         (DAT_400025ea == '\x01')) {
        if (DAT_400025e6 == '\x01') {
          if ((DAT_40001d72 != 0) && (DAT_40001d72 = DAT_40001d72 - 1, DAT_40001d72 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0018,&LEA_obd_ii_P0018_flags,&DAT_40004c31,&DAT_40004c32,0x18,0)
            ;
          }
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0018,&LEA_obd_ii_P0018_flags);
          if (DAT_40001d72 < DAT_4000d438) {
            DAT_40001d72 = DAT_40001d72 + 1;
          }
        }
      }
      if ((((CAL_obd_ii_P0019 & 7) != 0) && ((LEA_obd_ii_P0019_flags & 2) == 0)) &&
         (DAT_400025e8 == '\x01')) {
        if (DAT_400025e4 == '\x01') {
          if ((DAT_40001d73 != 0) && (DAT_40001d73 = DAT_40001d73 - 1, DAT_40001d73 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0019,&LEA_obd_ii_P0019_flags,&DAT_40004c34,&DAT_40004c35,0x19,0)
            ;
          }
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0019,&LEA_obd_ii_P0019_flags);
          if (DAT_40001d73 < DAT_4000d439) {
            DAT_40001d73 = DAT_40001d73 + 1;
          }
        }
      }
    }
    else {
      LEA_obd_ii_P0011_flags = bVar2;
      LEA_obd_ii_P0012_flags = bVar3;
      FUN_00064f6c();
    }
  }
  else {
    LEA_obd_ii_P0011_flags = LEA_obd_ii_P0011_flags | 0x40;
    LEA_obd_ii_P0012_flags = LEA_obd_ii_P0012_flags | 0x40;
    LEA_obd_ii_P0014_flags = LEA_obd_ii_P0014_flags | 0x40;
    LEA_obd_ii_P0015_flags = LEA_obd_ii_P0015_flags | 0x40;
    LEA_obd_ii_P0021_flags = LEA_obd_ii_P0021_flags | 0x40;
    LEA_obd_ii_P0022_flags = LEA_obd_ii_P0022_flags | 0x40;
    LEA_obd_ii_P0024_flags = LEA_obd_ii_P0024_flags | 0x40;
    LEA_obd_ii_P0025_flags = LEA_obd_ii_P0025_flags | 0x40;
    FUN_00064f6c();
  }
  if (((((((((LEA_obd_ii_P0011_flags & 4) != 0) && ((LEA_obd_ii_P0011_flags & 2) == 0)) &&
          (((LEA_obd_ii_P0012_flags & 4) != 0 &&
           ((((((LEA_obd_ii_P0012_flags & 2) == 0 && ((LEA_obd_ii_P0014_flags & 4) != 0)) &&
              ((LEA_obd_ii_P0014_flags & 2) == 0)) &&
             (((LEA_obd_ii_P0015_flags & 4) != 0 && ((LEA_obd_ii_P0015_flags & 2) == 0)))) &&
            ((LEA_obd_ii_P0021_flags & 4) != 0)))))) &&
         (((LEA_obd_ii_P0021_flags & 2) == 0 && ((LEA_obd_ii_P0022_flags & 4) != 0)))) &&
        ((LEA_obd_ii_P0022_flags & 2) == 0)) &&
       (((((LEA_obd_ii_P0024_flags & 4) != 0 && ((LEA_obd_ii_P0024_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0025_flags & 4) != 0)) && ((LEA_obd_ii_P0025_flags & 2) == 0)))) ||
      (((((LEA_obd_ii_P0011_flags & 1) != 0 && ((LEA_obd_ii_P0011_flags & 2) != 0)) ||
        (((LEA_obd_ii_P0012_flags & 1) != 0 && ((LEA_obd_ii_P0012_flags & 2) != 0)))) ||
       ((((LEA_obd_ii_P0014_flags & 1) != 0 && ((LEA_obd_ii_P0014_flags & 2) != 0)) ||
        (((LEA_obd_ii_P0015_flags & 1) != 0 && ((LEA_obd_ii_P0015_flags & 2) != 0)))))))) ||
     (((((LEA_obd_ii_P0021_flags & 1) != 0 && ((LEA_obd_ii_P0021_flags & 2) != 0)) ||
       (((LEA_obd_ii_P0022_flags & 1) != 0 && ((LEA_obd_ii_P0022_flags & 2) != 0)))) ||
      ((((LEA_obd_ii_P0024_flags & 1) != 0 && ((LEA_obd_ii_P0024_flags & 2) != 0)) ||
       (((LEA_obd_ii_P0025_flags & 1) != 0 && ((LEA_obd_ii_P0025_flags & 2) != 0)))))))) {
    obd_ii_engine_tests_completeness = obd_ii_engine_tests_completeness & 0x7f;
    obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xff7f;
  }
  if ((((DAT_40001e79 == '\0') || (DAT_40001e7a == '\0')) || (DAT_40001d70 == 0)) ||
     (DAT_40001d72 == 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x20;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffffdf;
  }
  if (((DAT_40001e7b == '\0') || (DAT_40001e7c == '\0')) ||
     ((DAT_40001d71 == 0 || (DAT_40001d73 == 0)))) {
    engine_state_failure_flags = engine_state_failure_flags | 0x40;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffffbf;
  }
  return;
}



void FUN_00064f6c(void)

{
  DAT_40001d74 = 0;
  DAT_40001d75 = 0;
  DAT_40001d76 = 0;
  DAT_40001d77 = 0;
  DAT_40001d78 = 0;
  DAT_40001d79 = 0;
  DAT_40001d7a = 0;
  DAT_40001d7b = 0;
  DAT_40001d7c = 0;
  DAT_40001d7d = 0;
  DAT_40001d7e = 0;
  DAT_40001d7f = 0;
  DAT_40001d80 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f6;
  DAT_40001d82 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3a6;
  DAT_40001d84 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42e;
  DAT_40001d86 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3ae;
  DAT_40001d88 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f7;
  DAT_40001d8a = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3aa;
  DAT_40001d8c = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42f;
  DAT_40001d8e = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3b2;
  return;
}



void FUN_000650f0(void)

{
  DAT_40001d68 = DAT_4000d3f6;
  DAT_40001d69 = DAT_4000d3f7;
  DAT_40001d6a = DAT_4000d42e;
  DAT_40001d6b = DAT_4000d42f;
  DAT_40001d6c = DAT_4000d3a6;
  DAT_40001d6d = DAT_4000d3aa;
  DAT_40001d6e = DAT_4000d3ae;
  DAT_40001d6f = DAT_4000d3b2;
  DAT_40001d70 = DAT_4000d41b;
  DAT_40001d71 = DAT_4000d437;
  DAT_40001d72 = DAT_4000d438;
  DAT_40001d73 = DAT_4000d439;
  obdii_update_dtc_state(&CAL_obd_ii_P0011,&LEA_obd_ii_P0011_flags,0x11,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0012,&LEA_obd_ii_P0012_flags,0x12,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0021,&LEA_obd_ii_P0021_flags,0x21,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0022,&LEA_obd_ii_P0022_flags,0x22,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0014,&LEA_obd_ii_P0014_flags,0x14,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0015,&LEA_obd_ii_P0015_flags,0x15,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0024,&LEA_obd_ii_P0024_flags,0x24,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0025,&LEA_obd_ii_P0025_flags,0x25,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0016,&LEA_obd_ii_P0016_flags,0x16,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0017,&LEA_obd_ii_P0017_flags,0x17,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0018,&LEA_obd_ii_P0018_flags,0x18,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0019,&LEA_obd_ii_P0019_flags,0x19,0);
  FUN_00064f6c();
  return;
}



void FUN_000653e0(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0011,&LEA_obd_ii_P0011_flags,&DAT_40004c13,&DAT_40004c14,0x11,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0012,&LEA_obd_ii_P0012_flags,&DAT_40004c16,&DAT_40004c17,0x12,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0021,&LEA_obd_ii_P0021_flags,&DAT_40004c19,&DAT_40004c1a,0x21,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0022,&LEA_obd_ii_P0022_flags,&DAT_40004c1c,&DAT_40004c1d,0x22,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0014,&LEA_obd_ii_P0014_flags,&DAT_40004c1f,&DAT_40004c20,0x14,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0015,&LEA_obd_ii_P0015_flags,&DAT_40004c22,&DAT_40004c23,0x15,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0024,&LEA_obd_ii_P0024_flags,&DAT_40004c25,&DAT_40004c26,0x24,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0025,&LEA_obd_ii_P0025_flags,&DAT_40004c28,&DAT_40004c29,0x25,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0016,&LEA_obd_ii_P0016_flags,&DAT_40004c2b,&DAT_40004c2c,0x16,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0017,&LEA_obd_ii_P0017_flags,&DAT_40004c2e,&DAT_40004c2f,0x17,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0018,&LEA_obd_ii_P0018_flags,&DAT_40004c31,&DAT_40004c32,0x18,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0019,&LEA_obd_ii_P0019_flags,&DAT_40004c34,&DAT_40004c35,0x19,0);
  return;
}



void obd_ii_cat_efficiency_eval(void)

{
  byte bVar1;
  uint uVar2;
  ushort uVar4;
  short sVar5;
  int iVar3;
  
  DAT_40001d92 = lookup_2D_uint8_interpolated
                           (8,coolant_temp_engine_stopped,s_____4000dee8,s_0___4000dee0);
  if ((COD_base[0] >> 0xd & 7) == 1) {
    uVar2 = lookup_2D_uint8_fixed
                      (8,(uint8_t)(obd_ii_maf_flow / 100),CAL_maf_comp_ips_unknown_X_maf_flow);
  }
  else {
    uVar2 = lookup_2D_uint8_fixed
                      (8,(uint8_t)(obd_ii_maf_flow / 100),CAL_maf_comp_manual_unknown_X_maf_flow);
  }
  maf_comp_unknown = (ushort)((int)(uVar2 & 0xff) >> 1);
  if (obd_ii_diag_override == false) {
    maf_comp_unknown = (ushort)(uVar2 & 0xff);
  }
  uVar4 = lookup_2D_uint8_fixed(8,(uint8_t)(obd_ii_maf_flow / 100),LEA_maf_comp1_unknown);
  maf_comp1_learned = uVar4 & 0xff;
  uVar4 = lookup_2D_uint8_fixed(8,(uint8_t)(obd_ii_maf_flow / 100),LEA_maf_comp2_unknown);
  maf_comp2_learned = uVar4 & 0xff;
  uVar4 = lookup_2D_uint8_fixed(8,(uint8_t)(obd_ii_maf_flow / 100),LEA_maf_comp3_unknown);
  obd_ii_o2_precat_sw_bank2 = uVar4 & 0xff;
  uVar4 = lookup_2D_uint8_fixed(8,(uint8_t)(obd_ii_maf_flow / 100),LEA_maf_comp4_unknown);
  DAT_40001dbc = uVar4 & 0xff;
  DAT_40001da4 = LEA_maf_comp1_unknown;
  DAT_40001da8 = LEA_maf_comp2_unknown;
  DAT_40001dac = LEA_maf_comp3_unknown;
  DAT_40001db0 = LEA_maf_comp4_unknown;
  if ((((((((((DAT_40001e90 & 8) == 0) && ((LEA_obd_ii_P0133_flags & 2) == 0)) &&
           ((LEA_obd_ii_P0137_flags & 2) == 0)) &&
          (((LEA_obd_ii_P0138_flags & 2) == 0 && ((LEA_obd_ii_P0139_flags & 2) == 0)))) &&
         ((LEA_obd_ii_P0140_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0141_flags & 2) == 0 && ((LEA_obd_ii_P0116_flags & 2) == 0)))) &&
       (((LEA_obd_ii_P0500_flags & 2) == 0 &&
        ((((LEA_obd_ii_P0117_flags & 2) == 0 && ((LEA_obd_ii_P0118_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0111_flags & 2) == 0)))))) &&
      (((((LEA_obd_ii_P0112_flags & 2) == 0 && ((LEA_obd_ii_P0113_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0106_flags & 2) == 0)) &&
       (((LEA_obd_ii_P0107_flags & 2) == 0 && ((LEA_obd_ii_P0108_flags & 2) == 0)))))) &&
     ((((LEA_obd_ii_P0171_flags & 2) == 0 &&
       ((((LEA_obd_ii_P0172_flags & 2) == 0 && ((LEA_obd_ii_P0300_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0301_flags & 2) == 0)))) &&
      ((((LEA_obd_ii_P0303_flags & 2) == 0 && ((LEA_obd_ii_P0305_flags & 2) == 0)) &&
       (((LEA_obd_ii_P0101_flags & 2) == 0 &&
        (((LEA_obd_ii_P0102_flags & 2) == 0 && ((LEA_obd_ii_P0103_flags & 2) == 0)))))))))) {
    bVar1 = LEA_obd_ii_P0420_flags & 0xbf;
    if (((((((uint)((int)(uint)maf_accumulated2 >> 4) < (uint)DAT_40001d92) ||
           (coolant_temp <= u8_temp_5_8_40c_4000c9f4)) || ((DAT_40001e90 & 2) == 0)) ||
         ((car_speed_u8 < u8_speed_kph_4000c9ff || (u8_speed_kph_4000c9fe <= car_speed_u8)))) ||
        ((obd_ii_maf_flow <= u16_flow_10mg_s_4000c9f6 ||
         ((u16_flow_10mg_s_4000c9f8 <= obd_ii_maf_flow || (DAT_40001d9e != 0)))))) ||
       (DAT_40001da0 != 0)) {
      DAT_40001dc2 = DAT_40001dc2 & 0xffbc;
      LEA_obd_ii_P0420_flags = bVar1;
    }
    else if ((u8_temp_5_8_40c_4000c9f5 < temp_engine_air) &&
            (u16_pressure_mbar_4000c9f2 < obd_ii_atmospheric_baro)) {
      if (((LEA_obd_ii_P0420_flags & 4) == 0) && ((CAL_obd_ii_P0420 & 7) != 0)) {
        if (maf_comp1_learned < maf_comp_unknown) {
          uVar4 = DAT_40001dc2 | 0x43;
          for (sVar5 = 0;
              ((uint)LEA_maf_comp1_unknown[sVar5] < obd_ii_maf_flow / 100 && (sVar5 < 7));
              sVar5 = sVar5 + 1) {
          }
          if (DAT_4000ca18 < obd_ii_o2_sensor1_voltage) {
            if (((DAT_40001dc2 & 4) != 0) ||
               (LEA_obd_ii_P0420_flags = bVar1, (DAT_40001dc2 & 8) == 0)) {
              DAT_40001dc2 = uVar4;
              LEA_obd_ii_P0420_flags = bVar1;
              (&DAT_40004a51)[sVar5] = (&DAT_40004a51)[sVar5] + '\x01';
              uVar4 = DAT_40001dc2 & 0xfffb | 8;
            }
          }
          else {
            LEA_obd_ii_P0420_flags = bVar1;
            if ((obd_ii_o2_sensor1_voltage < DAT_4000ca16) &&
               (((DAT_40001dc2 & 8) != 0 || ((DAT_40001dc2 & 4) == 0)))) {
              DAT_40001dc2 = uVar4;
              (&DAT_40004a51)[sVar5] = (&DAT_40004a51)[sVar5] + '\x01';
              uVar4 = DAT_40001dc2 & 0xfff7 | 4;
            }
          }
          DAT_40001dc2 = uVar4;
          if (DAT_40001db8 / 0xa00 + (int)DAT_4000ca1c < (int)obd_ii_o2_sensor2_voltage) {
            if (((DAT_40001dc2 & 0x10) != 0) || ((DAT_40001dc2 & 0x20) == 0)) {
              (&DAT_40004a71)[sVar5] = (&DAT_40004a71)[sVar5] + '\x01';
              DAT_40001dc2 = DAT_40001dc2 & 0xffef | 0x20;
            }
          }
          else if (((int)obd_ii_o2_sensor2_voltage < DAT_40001db8 / 0xa00 - (int)DAT_4000ca1a) &&
                  (((DAT_40001dc2 & 0x20) != 0 || ((DAT_40001dc2 & 0x10) == 0)))) {
            (&DAT_40004a71)[sVar5] = (&DAT_40004a71)[sVar5] + '\x01';
            DAT_40001dc2 = DAT_40001dc2 & 0xffdf | 0x10;
          }
          if (DAT_40001db8 / 0xa00 < (int)obd_ii_o2_sensor2_voltage) {
            DAT_40001dc2 = DAT_40001dc2 & 0xffef;
          }
          else {
            DAT_40001dc2 = DAT_40001dc2 & 0xffdf;
          }
        }
        else {
          DAT_40001dc2 = DAT_40001dc2 & 0xffbf | 3;
          for (sVar5 = 0;
              ((uint)LEA_maf_comp1_unknown[sVar5] < obd_ii_maf_flow / 100 && (sVar5 < 7));
              sVar5 = sVar5 + 1) {
          }
          DAT_40004a89 = DAT_40004a89 | (byte)(1 << ((int)sVar5 & 0x3fU));
          LEA_obd_ii_P0420_flags = bVar1;
        }
      }
      else {
        DAT_40001dc2 = DAT_40001dc2 & 0xffbd | 1;
        LEA_obd_ii_P0420_flags = bVar1;
      }
    }
    else {
      obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xfeff;
      DAT_40001dc2 = DAT_40001dc2 & 0xffbc;
      LEA_obd_ii_P0420_flags = bVar1;
    }
  }
  else {
    LEA_obd_ii_P0420_flags = LEA_obd_ii_P0420_flags | 0x40;
    DAT_40001dc2 = DAT_40001dc2 & 0xffbc;
  }
  if (((((((DAT_40001e92 & 8) == 0) && ((LEA_obd_ii_P0153_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0157_flags & 2) == 0)) &&
       ((((LEA_obd_ii_P0158_flags & 2) == 0 && ((LEA_obd_ii_P0159_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0160_flags & 2) == 0 &&
         (((LEA_obd_ii_P0161_flags & 2) == 0 && ((LEA_obd_ii_P0116_flags & 2) == 0)))))))) &&
      (((LEA_obd_ii_P0500_flags & 2) == 0 &&
       ((((LEA_obd_ii_P0117_flags & 2) == 0 && ((LEA_obd_ii_P0118_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0111_flags & 2) == 0)))))) &&
     ((((LEA_obd_ii_P0112_flags & 2) == 0 && ((LEA_obd_ii_P0113_flags & 2) == 0)) &&
      ((((((LEA_obd_ii_P0106_flags & 2) == 0 &&
          (((LEA_obd_ii_P0107_flags & 2) == 0 && ((LEA_obd_ii_P0108_flags & 2) == 0)))) &&
         ((LEA_obd_ii_P0174_flags & 2) == 0)) &&
        (((((LEA_obd_ii_P0175_flags & 2) == 0 && ((LEA_obd_ii_P0300_flags & 2) == 0)) &&
          ((LEA_obd_ii_P0302_flags & 2) == 0)) &&
         (((LEA_obd_ii_P0101_flags & 2) == 0 && ((LEA_obd_ii_P0102_flags & 2) == 0)))))) &&
       (((LEA_obd_ii_P0103_flags & 2) == 0 &&
        (((LEA_obd_ii_P0304_flags & 2) == 0 && ((LEA_obd_ii_P0306_flags & 2) == 0)))))))))) {
    bVar1 = LEA_obd_ii_P0430_flags & 0xbf;
    if (((((((uint)((int)(uint)maf_accumulated2 >> 4) < (uint)DAT_40001d92) ||
           (coolant_temp <= u8_temp_5_8_40c_4000c9f4)) ||
          (temp_engine_air <= u8_temp_5_8_40c_4000c9f5)) ||
         (((obd_ii_atmospheric_baro <= u16_pressure_mbar_4000c9f2 || ((DAT_40001e92 & 2) == 0)) ||
          ((car_speed_u8 < u8_speed_kph_4000c9ff ||
           ((u8_speed_kph_4000c9fe <= car_speed_u8 || (obd_ii_maf_flow <= u16_flow_10mg_s_4000c9f6))
           )))))) || (u16_flow_10mg_s_4000c9f8 <= obd_ii_maf_flow)) ||
       ((DAT_40001d9e != 0 || (DAT_40001da0 != 0)))) {
      DAT_40001dc2 = DAT_40001dc2 & 0xffbc;
      LEA_obd_ii_P0430_flags = bVar1;
    }
    else if (((LEA_obd_ii_P0430_flags & 4) == 0) && ((CAL_obd_ii_P0430 & 7) != 0)) {
      if (obd_ii_o2_precat_sw_bank2 < maf_comp_unknown) {
        uVar4 = DAT_40001dc0 | 0x43;
        for (sVar5 = 0; ((uint)LEA_maf_comp3_unknown[sVar5] < obd_ii_maf_flow / 100 && (sVar5 < 7));
            sVar5 = sVar5 + 1) {
        }
        if (DAT_4000ca18 < obd_ii_o2_sensor5_voltage) {
          if (((DAT_40001dc0 & 4) != 0) || (LEA_obd_ii_P0430_flags = bVar1, (DAT_40001dc0 & 8) == 0)
             ) {
            DAT_40001dc0 = uVar4;
            LEA_obd_ii_P0430_flags = bVar1;
            (&DAT_40004a61)[sVar5] = (&DAT_40004a61)[sVar5] + '\x01';
            uVar4 = DAT_40001dc0 & 0xfffb | 8;
          }
        }
        else {
          LEA_obd_ii_P0430_flags = bVar1;
          if ((obd_ii_o2_sensor5_voltage < DAT_4000ca16) &&
             (((DAT_40001dc0 & 8) != 0 || ((DAT_40001dc0 & 4) == 0)))) {
            DAT_40001dc0 = uVar4;
            (&DAT_40004a61)[sVar5] = (&DAT_40004a61)[sVar5] + '\x01';
            uVar4 = DAT_40001dc0 & 0xfff7 | 4;
          }
        }
        DAT_40001dc0 = uVar4;
        if (DAT_40001db4 / 0xa00 + (int)DAT_4000ca1c < (int)obd_ii_o2_sensor6_voltage) {
          if (((DAT_40001dc0 & 0x10) != 0) || ((DAT_40001dc0 & 0x20) == 0)) {
            (&DAT_40004a81)[sVar5] = (&DAT_40004a81)[sVar5] + '\x01';
            DAT_40001dc0 = DAT_40001dc0 & 0xffef | 0x20;
          }
        }
        else if (((int)obd_ii_o2_sensor6_voltage < DAT_40001db4 / 0xa00 - (int)DAT_4000ca1a) &&
                (((DAT_40001dc0 & 0x20) != 0 || ((DAT_40001dc0 & 0x10) == 0)))) {
          (&DAT_40004a81)[sVar5] = (&DAT_40004a81)[sVar5] + '\x01';
          DAT_40001dc0 = DAT_40001dc0 & 0xffdf | 0x10;
        }
        if (DAT_40001db4 / 0xa00 < (int)obd_ii_o2_sensor6_voltage) {
          DAT_40001dc0 = DAT_40001dc0 & 0xffef;
        }
        else {
          DAT_40001dc0 = DAT_40001dc0 & 0xffdf;
        }
      }
      else {
        for (sVar5 = 0; ((uint)LEA_maf_comp3_unknown[sVar5] < obd_ii_maf_flow / 100 && (sVar5 < 7));
            sVar5 = sVar5 + 1) {
        }
        DAT_40004a8a = DAT_40004a8a | (byte)(1 << ((int)sVar5 & 0x3fU));
        DAT_40001dc0 = DAT_40001dc0 & 0xffbf | 3;
        LEA_obd_ii_P0430_flags = bVar1;
      }
    }
    else {
      DAT_40001dc2 = DAT_40001dc2 & 0xffbd;
      DAT_40001dc0 = DAT_40001dc0 | 1;
      LEA_obd_ii_P0430_flags = bVar1;
    }
  }
  else {
    LEA_obd_ii_P0430_flags = LEA_obd_ii_P0430_flags | 0x40;
    DAT_40001dc0 = DAT_40001dc0 & 0xffbc;
  }
  if (DAT_40004a89 == 0xff) {
    DAT_40001d94 = 0;
    DAT_40001d98 = 0;
    for (iVar3 = 8; iVar3 < 0x10; iVar3 = iVar3 + 1) {
      DAT_40001d94 = DAT_40001d94 + LEA_maf_comp1_unknown[iVar3];
      DAT_40001d98 = DAT_40001d98 + LEA_maf_comp2_unknown[iVar3];
    }
    DAT_40004b30 = (ushort)(((uint)DAT_40001d98 * 1000) / (uint)DAT_40001d94);
    if (uint16_t_ARRAY_400049ec[0] < DAT_40004b30) {
      uint16_t_ARRAY_400049ec[0] = DAT_40004b30;
      sort_array10(uint16_t_ARRAY_400049ec);
    }
    if (DAT_4000ca1e < DAT_40004b30) {
      bVar1 = DAT_40001d90 - 1;
      if (DAT_40001d90 == 0) {
        bVar1 = DAT_40001d90;
      }
      DAT_40001d90 = bVar1;
      if (bVar1 == 0) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0420,&LEA_obd_ii_P0420_flags,&DAT_40004d69,&DAT_40004d6a,0x420,0);
        DAT_40004a89 = 0;
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0420,&LEA_obd_ii_P0420_flags);
      if (DAT_40001d90 < DAT_4000d3ed) {
        DAT_40001d90 = DAT_40001d90 + 1;
      }
      DAT_40004a89 = 0;
    }
    LEA_obd_ii_P0420_flags = LEA_obd_ii_P0420_flags | 0x20;
  }
  if (DAT_40004a8a == 0xff) {
    DAT_40001d96 = 0;
    DAT_40001d9a = 0;
    for (iVar3 = 8; iVar3 < 0x10; iVar3 = iVar3 + 1) {
      DAT_40001d96 = DAT_40001d96 + LEA_maf_comp3_unknown[iVar3];
      DAT_40001d9a = DAT_40001d9a + LEA_maf_comp4_unknown[iVar3];
    }
    DAT_40004b3e = (ushort)(((uint)DAT_40001d9a * 1000) / (uint)DAT_40001d96);
    if (DAT_40004a00 < DAT_40004b3e) {
      DAT_40004a00 = DAT_40004b3e;
      sort_array10(&DAT_40004a00);
    }
    if (DAT_4000ca1e < DAT_40004b3e) {
      bVar1 = DAT_40001d91 - 1;
      if (DAT_40001d91 == 0) {
        bVar1 = DAT_40001d91;
      }
      DAT_40001d91 = bVar1;
      if (bVar1 == 0) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0430,&LEA_obd_ii_P0430_flags,&DAT_40004d6c,&DAT_40004d6d,0x430,0);
        DAT_40004a8a = 0;
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0430,&LEA_obd_ii_P0430_flags);
      if (DAT_40001d91 < DAT_4000d3f2) {
        DAT_40001d91 = DAT_40001d91 + 1;
      }
      DAT_40004a8a = 0;
    }
    LEA_obd_ii_P0430_flags = LEA_obd_ii_P0430_flags | 0x20;
  }
  if ((((((LEA_obd_ii_P0420_flags & 4) != 0) && ((LEA_obd_ii_P0420_flags & 2) == 0)) &&
       ((LEA_obd_ii_P0430_flags & 4) != 0)) && ((LEA_obd_ii_P0430_flags & 2) == 0)) ||
     ((((LEA_obd_ii_P0420_flags & 1) != 0 && ((LEA_obd_ii_P0420_flags & 2) != 0)) ||
      (((LEA_obd_ii_P0430_flags & 1) != 0 && ((LEA_obd_ii_P0430_flags & 2) != 0)))))) {
    obd_ii_engine_tests_completeness = obd_ii_engine_tests_completeness & 0xfe;
    obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xfffe;
  }
  if (((LEA_obd_ii_P0420_flags & 4) != 0) && ((CAL_obd_ii_P0420 & 8) != 0)) {
    LEA_obd_ii_P0420_flags = LEA_obd_ii_P0420_flags & 0xfb;
    for (iVar3 = 8; iVar3 < 0x10; iVar3 = iVar3 + 1) {
      LEA_maf_comp2_unknown[iVar3] = '\0';
      LEA_maf_comp1_unknown[iVar3] = '\0';
    }
  }
  if (((LEA_obd_ii_P0430_flags & 4) != 0) && ((CAL_obd_ii_P0430 & 8) != 0)) {
    LEA_obd_ii_P0430_flags = LEA_obd_ii_P0430_flags & 0xfb;
    for (iVar3 = 8; iVar3 < 0x10; iVar3 = iVar3 + 1) {
      LEA_maf_comp4_unknown[iVar3] = '\0';
      LEA_maf_comp3_unknown[iVar3] = '\0';
    }
  }
  return;
}



void obd_ii_postcat_o2_sensor_check_unknown_200hz(void)

{
  char cVar1;
  
  DAT_40001db8 = (int)((0xa00 - (uint)CAL_obd_ii_postcat_o2_voltage_scaling_unknown) * DAT_40001db8)
                 / 0xa00 + (uint)CAL_obd_ii_postcat_o2_voltage_scaling_unknown *
                           (uint)obd_ii_o2_sensor2_voltage;
  DAT_40001db4 = (int)((0xa00 - (uint)CAL_obd_ii_postcat_o2_voltage_scaling_unknown) * DAT_40001db4)
                 / 0xa00 + (uint)CAL_obd_ii_postcat_o2_voltage_scaling_unknown *
                           (uint)obd_ii_o2_sensor6_voltage;
  cVar1 = DAT_40001d9c;
  if (DAT_40001d9e < DAT_4000180e) {
    DAT_40001d9e = DAT_4000180e;
    if ((int)(short)obd_ii_o2_sensor2_voltage < DAT_40001db8 / 0xa00) {
      DAT_40001dc2 = DAT_40001dc2 & 0xffdf | 0x10;
    }
    if ((int)(short)obd_ii_o2_sensor6_voltage < DAT_40001db4 / 0xa00) {
      DAT_40001dc0 = DAT_40001dc0 & 0xffdf | 0x10;
    }
  }
  else if ((DAT_40001d9e == 0) || (DAT_40001d9c != '\0')) {
    cVar1 = DAT_40001d9c + -1;
    if (DAT_40001d9c == '\0') {
      cVar1 = DAT_40001d9c;
    }
  }
  else {
    DAT_40001d9e = DAT_40001d9e + -1;
    DAT_40001d9c = DAT_4000c9fb;
    cVar1 = DAT_40001d9c;
  }
  DAT_40001d9c = cVar1;
  if (((short)(ushort)DAT_4000872e < (short)tps_delta_rate) ||
     ((int)(short)tps_delta_rate < (int)-(uint)DAT_4000872e)) {
    DAT_40001da0 = DAT_40008730;
  }
  else if ((DAT_40001da0 != 0) && (DAT_40001da0 = DAT_40001da0 + -1, DAT_40001da0 == 0)) {
    DAT_40001db8 = (uint)obd_ii_o2_sensor2_voltage * 0xa00;
    DAT_40001db4 = (uint)obd_ii_o2_sensor6_voltage * 0xa00;
  }
  return;
}



void FUN_00067100(void)

{
  uint uVar1;
  
  for (uVar1 = 8; (uVar1 & 0xff) < 0x10; uVar1 = uVar1 + 1) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      if (CAL_maf_comp_ips_unknown_X_maf_flow[uVar1 & 0xff] == '\0') {
        DAT_40004a89 = DAT_40004a89 | (byte)(1 << ((uVar1 & 0xff) - 8 & 0x3f));
        DAT_40004a8a = DAT_40004a8a | (byte)(1 << ((uVar1 & 0xff) - 8 & 0x3f));
      }
    }
    else if (CAL_maf_comp_manual_unknown_X_maf_flow[uVar1 & 0xff] == '\0') {
      DAT_40004a89 = DAT_40004a89 | (byte)(1 << ((uVar1 & 0xff) - 8 & 0x3f));
      DAT_40004a8a = DAT_40004a8a | (byte)(1 << ((uVar1 & 0xff) - 8 & 0x3f));
    }
  }
  DAT_40001d90 = DAT_4000d3ed;
  DAT_40001d91 = DAT_4000d3f2;
  obdii_update_dtc_state(&CAL_obd_ii_P0420,&LEA_obd_ii_P0420_flags,0x420,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0430,&LEA_obd_ii_P0430_flags,0x430,0);
  return;
}



void obd_ii_catalyst_efficiency(void)

{
  byte i;
  
  if ((LEA_obd_ii_P0420_flags & 4) != 0) {
    for (i = 8; i < 16; i = i + 1) {
      LEA_maf_comp2_unknown[i] = '\0';
      LEA_maf_comp1_unknown[i] = '\0';
    }
  }
  if ((LEA_obd_ii_P0430_flags & 4) != 0) {
    for (i = 8; i < 16; i = i + 1) {
      LEA_maf_comp4_unknown[i] = '\0';
      LEA_maf_comp3_unknown[i] = '\0';
    }
  }
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0420,&LEA_obd_ii_P0420_flags,&DAT_40004d69,&DAT_40004d6a,0x420,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0430,&LEA_obd_ii_P0430_flags,&DAT_40004d6c,&DAT_40004d6d,0x430,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Given the data spec. This probably runs at 10hz

void perf_stats_update(void)

{
  uint16_t uVar1;
  u32_time_100ms uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  u32_time_100ms uVar6;
  undefined4 uVar7;
  byte bVar10;
  int iVar8;
  uint uVar9;
  longlong lat_accel_abs;
  longlong lat_accel_abs2;
  longlong lVar11;
  longlong lat_accel_abs5;
  longlong lat_accel_abs3;
  longlong lat_accel_abs4;
  byte i;
  u8_temp_5_8_40c coolant_temp_range [5];
  u8_speed_kph car_speed_range [5];
  u8_factor_1_255 tps_range [8];
  u16_accel_1_10g lat_accel_range [4];
  undefined2 local_30;
  undefined2 local_2e;
  undefined2 local_2c;
  undefined2 local_2a;
  undefined2 local_28;
  u16_rspeed_rpm engine_speed_range [4];
  
  tps_range[0] = tps_range_config[0];
  tps_range[1] = tps_range_config[1];
  tps_range[2] = tps_range_config[2];
  tps_range[3] = tps_range_config[3];
  tps_range[4] = tps_range_config[4];
  tps_range[5] = tps_range_config[5];
  tps_range[6] = tps_range_config[6];
  tps_range[7] = tps_range_config[7];
  engine_speed_range[0] = engine_speed_range_config[0];
  engine_speed_range[1] = engine_speed_range_config[1];
  engine_speed_range[2] = engine_speed_range_config[2];
  engine_speed_range[3] = engine_speed_range_config[3];
  car_speed_range[0] = car_speed_range_config[0];
  car_speed_range[1] = car_speed_range_config[1];
  car_speed_range[2] = car_speed_range_config[2];
  car_speed_range[3] = car_speed_range_config[3];
  car_speed_range[4] = car_speed_range_config[4];
  coolant_temp_range[0] = coolant_temp_range_config[0];
  coolant_temp_range[1] = coolant_temp_range_config[1];
  coolant_temp_range[2] = coolant_temp_range_config[2];
  coolant_temp_range[3] = coolant_temp_range_config[3];
  coolant_temp_range[4] = coolant_temp_range_config[4];
  lat_accel_range[0] = lat_accel_range_config[0];
  lat_accel_range[1] = lat_accel_range_config[1];
  lat_accel_range[2] = lat_accel_range_config[2];
  lat_accel_range[3] = lat_accel_range_config[3];
  local_30 = DAT_000d5648;
  local_2e = DAT_000d564a;
  local_2c = DAT_000d564c;
  local_2a = DAT_000d564e;
  local_28 = DAT_000d5650;
  if (engine_speed_2 != 0) {
    for (i = 0; i < 8; i = i + 1) {
      if ((tps_range[i] < tps2) && (tps2 <= tps_range[i + 1])) {
        time_at_tps[i] = time_at_tps[i] + 1;
      }
      if ((engine_speed_range[i] < engine_speed_2) && (engine_speed_2 <= engine_speed_range[i + 1]))
      {
        time_at_rpm[i] = time_at_rpm[i] + 1;
      }
      if ((car_speed_range[i] < car_speed_u8) && (car_speed_u8 <= car_speed_range[i + 1])) {
        time_at_speed_range_kmh[i] = time_at_speed_range_kmh[i] + 1;
      }
      if ((((i < 6) && ((DAT_40001788 & 0b00100000) == 0)) &&
          (lat_accel_abs = libc_abs((longlong)lat_accel),
          (int)(short)lat_accel_range[i] <= (int)lat_accel_abs)) &&
         (lat_accel_abs2 = libc_abs((longlong)lat_accel),
         (int)lat_accel_abs2 < (int)(short)lat_accel_range[i + 1])) {
        time_at_lateral_g[i] = time_at_lateral_g[i] + 1;
      }
      if (((i < 4) && (coolant_temp_range[i] < coolant_temp)) &&
         (coolant_temp <= coolant_temp_range[i + 1])) {
        time_at_coolant_temp[i] = time_at_coolant_temp[i] + 1;
      }
    }
  }
  for (i = 0; i < 8; i = i + 1) {
    if ((((time_at_tps[i] == 0xfffffffe) || (time_at_rpm[i] == 0xfffffffe)) ||
        ((time_at_speed_range_kmh[i] == 0xfffffffe ||
         ((i < 4 && (time_at_coolant_temp[i] == 0xfffffffe)))))) ||
       ((i < 6 && (time_at_lateral_g[i] == 0xfffffffe)))) {
      for (i = 0; i < 8; i = i + 1) {
        time_at_tps[i] = 0;
        time_at_rpm[i] = 0;
        time_at_speed_range_kmh[i] = 0;
        if (i < 4) {
          time_at_coolant_temp[i] = 0;
        }
        if (i < 6) {
          time_at_lateral_g[i] = 0;
        }
      }
    }
  }
  if ((DAT_40001638 != 0) && (DAT_40001638 = DAT_40001638 + -1, DAT_40001dd6 < engine_speed_2)) {
    DAT_40001dd6 = engine_speed_2;
  }
  if (DAT_40001638 == 0) {
    DAT_40001638 = 50;
    if (max_engine_speed5 < DAT_40001dd6) {
      max_engine_speed5 = DAT_40001dd6;
      max_engine_speed_5_coolant = coolant_temp;
      u32_time_100ms_400040c0 = engine_run_timer_total;
      for (i = 0; i < 4; i = i + 1) {
        if ((&max_engine_speed5)[(i + 1) * 4] < (&max_engine_speed5)[(uint)i * 4]) {
          uVar4 = *(undefined4 *)(&max_engine_speed5 + (i + 1) * 4);
          uVar6 = (&u32_time_100ms_400040c0)[(i + 1) * 2];
          uVar2 = (&u32_time_100ms_400040c0)[(uint)i * 2];
          *(undefined4 *)(&max_engine_speed5 + (i + 1) * 4) =
               *(undefined4 *)(&max_engine_speed5 + (uint)i * 4);
          (&u32_time_100ms_400040c0)[(i + 1) * 2] = uVar2;
          *(undefined4 *)(&max_engine_speed5 + (uint)i * 4) = uVar4;
          (&u32_time_100ms_400040c0)[(uint)i * 2] = uVar6;
        }
      }
    }
    DAT_40001dd6 = 0;
  }
  if (car_speed_div100 < 32000) {
    for (i = 0; i < 5; i = i + 1) {
      if ((((i < 4) && ((uint)max_vehicle_speed[i] < car_speed_div100 / 100)) &&
          (car_speed_div100 / 100 < (uint)max_vehicle_speed[i + 1])) ||
         ((i == 4 && ((uint)max_vehicle_speed[4] < car_speed_div100 / 100)))) {
        (&DAT_40001dd0)[i] = (&DAT_40001dd0)[i] + '\x01';
      }
      else {
        (&DAT_40001dd0)[i] = 0;
      }
      if (0x14 < (byte)(&DAT_40001dd0)[i]) {
        max_vehicle_speed[0] = car_speed_div100 / 100;
        for (i = 0; i < 4; i = i + 1) {
          if (max_vehicle_speed[i + 1] < max_vehicle_speed[i]) {
            uVar1 = max_vehicle_speed[i + 1];
            max_vehicle_speed[i + 1] = max_vehicle_speed[i];
            max_vehicle_speed[i] = uVar1;
          }
        }
        (&DAT_40001dd0)[i] = 0;
      }
    }
  }
  if (engine_speed_2 != 0) {
    if (engine_run_timer_total < 0xffffffff) {
      engine_run_timer_total = engine_run_timer_total + 1;
    }
    else {
      engine_run_timer_total = 0;
    }
  }
  if ((COD_base[1] >> 9 & 1) == 0) {
    flexcan_timer____ = '\0';
  }
  else if ((flexcan_flags_unknown & 2) == 0) {
    flexcan_timer____ = 10;
  }
  else if (flexcan_timer____ != 0) {
    flexcan_timer____ = flexcan_timer____ + -1;
  }
  if ((flexcan_timer____ == 0) && ((engine_state_failure_flags & 0x400) == 0)) {
    if (car_speed_u8 == 0) {
      DAT_40001dd8 = 0;
      if (((u16_rspeed_rpm_400087aa < engine_speed_2) ||
          (((COD_base[1] >> 8 & 1) != 0 && (abs_a8_flag2 == 3)))) ||
         (((COD_base[0] >> 0xd & 7) == 1 &&
          (((brake_switch & 0x11) != 0 &&
           ((int)(uint)CAL_vehicle_standing_start_throttle_threshold < (int)(short)accel_pedal_pos2)
           ))))) {
        i = standing_start_flags | 1;
      }
      else if ((((COD_base[0] >> 0xd & 7) != 1) ||
               (i = standing_start_flags,
               (int)(short)accel_pedal_pos2 <=
               (int)(uint)CAL_vehicle_standing_start_throttle_threshold)) &&
              (i = standing_start_flags & 0xfe, abs_a8_flag2 == 4)) {
        i = standing_start_flags;
      }
      standing_start_flags = i;
      standing_start_flags = standing_start_flags | 6;
    }
    else {
      DAT_40001dd8 = DAT_40001dd8 + 1;
      if ((abs_a8_flag2 == 4) && ((standing_start_flags & 1) != 0)) {
        standing_start_flags = standing_start_flags & 0xfe;
        standing_start_num = standing_start_num + 1;
      }
      if (DAT_40001dd8 < 0xff) {
        if ((((byte)(car_speed_u8 + 156) < 20) && ((standing_start_flags & 2) != 0)) &&
           (bVar10 = standing_start_flags & 253, i = standing_start_flags & 1,
           DAT_40001dd9 = DAT_40001dd8, standing_start_flags = bVar10, i != 0)) {
          standing_start_num = standing_start_num + 1;
        }
        if (((byte)(car_speed_u8 + 96) < 20) && ((standing_start_flags & 4) != 0)) {
          standing_start_flags = standing_start_flags & 0xfb;
          standing_start_timer = DAT_40001dd8;
        }
      }
      else {
        standing_start_flags = standing_start_flags & 0xf8;
        DAT_40001dd8 = 0;
      }
    }
    if ((DAT_40001dd9 != 0) &&
       (standing_start_last[0] = DAT_40001dd9, DAT_40001dd9 < standing_start_fastest[0])) {
      standing_start_fastest[0] = DAT_40001dd9;
    }
    if (((0x50 < standing_start_timer) && (DAT_40001dd9 < standing_start_timer)) &&
       (standing_start_last[1] = standing_start_timer,
       standing_start_timer < standing_start_fastest[1])) {
      standing_start_fastest[1] = standing_start_timer;
    }
  }
  else {
    DAT_40001dd8 = 0xff;
    standing_start_flags = 0;
  }
  if (((engine_state_failure_flags & 0x400) == 0) &&
     (iVar8 = (int)((ulonglong)((longlong)(int)(uint)car_speed_div100 * -0x49f49f49) >> 0x20) +
              (uint)car_speed_div100,
     uint32_t_40004268 = uint32_t_40004268 + ((iVar8 >> 8) - (iVar8 >> 0x1f)),
     &DAT_ee6b2800 < uint32_t_40004268)) {
    uint32_t_40004268 = (uint32_t)&DAT_ee6b2800;
  }
  if ((DAT_4000426c == '\0') && ((uint)DAT_400088bc <= uint32_t_40004268 / 10000)) {
    DAT_4000426c = '\x01';
  }
  if ((((CAL_cluster_oil_pressure_warning_light_mode == 1) &&
       (oil_pressure_warning_switch_voltage < 512)) ||
      ((CAL_cluster_oil_pressure_warning_light_mode == 2 &&
       (oil_pressure_low_pressure_event_detected != false)))) &&
     (((500 < engine_speed_2 && (200 < runtime_since_start)) && ((ignition_on_flags & 1) != 0)))) {
    if (oil_pressure_low_event_count_unknown != 0xff) {
      oil_pressure_low_event_count_unknown = oil_pressure_low_event_count_unknown + 1;
    }
    lVar11 = libc_abs((longlong)DAT_40001dde);
    lat_accel_abs5 = libc_abs((longlong)lat_accel);
    if ((int)lVar11 < (int)lat_accel_abs5) {
      DAT_40001dde = lat_accel;
    }
  }
  else {
    if (DAT_4000421c < oil_pressure_low_event_count_unknown) {
      DAT_4000421c = oil_pressure_low_event_count_unknown;
      _DAT_4000421e = engine_speed_2;
      DAT_40004220._0_2_ = DAT_40001dde;
      DAT_4000421d = car_speed_u8;
      DAT_40004224 = engine_run_timer_total;
      for (i = 0; i < 2; i = i + 1) {
        if ((&DAT_4000421c)[(i + 1) * 0xc] < (&DAT_4000421c)[(uint)i * 0xc]) {
          iVar8 = i + 1;
          uVar4 = *(undefined4 *)(&DAT_4000421c + iVar8 * 0xc);
          uVar5 = (&DAT_40004220)[iVar8 * 3];
          uVar7 = (&DAT_40004224)[iVar8 * 3];
          uVar9 = (uint)i;
          iVar8 = i + 1;
          uVar3 = (&DAT_40004220)[uVar9 * 3];
          *(undefined4 *)(&DAT_4000421c + iVar8 * 0xc) =
               *(undefined4 *)(&DAT_4000421c + uVar9 * 0xc);
          (&DAT_40004220)[iVar8 * 3] = uVar3;
          (&DAT_40004224)[iVar8 * 3] = (&DAT_40004224)[uVar9 * 3];
          uVar9 = (uint)i;
          *(undefined4 *)(&DAT_4000421c + uVar9 * 0xc) = uVar4;
          (&DAT_40004220)[uVar9 * 3] = uVar5;
          (&DAT_40004224)[uVar9 * 3] = uVar7;
        }
      }
    }
    if ((2 < oil_pressure_low_event_count_unknown) && (total_num_low_oil_pres_events != -1)) {
      total_num_low_oil_pres_events = total_num_low_oil_pres_events + 1;
    }
    DAT_40001dde = 0;
    oil_pressure_low_event_count_unknown = 0;
  }
  lat_accel_abs3 = libc_abs((longlong)lat_accel);
  if ((((int)lat_accel_abs3 < 101) || ((DAT_40001788 & 0b00100000) != 0)) || (engine_speed_2 == 0))
  {
    if (DAT_40004240 < DAT_40001ddd) {
      DAT_40004240 = DAT_40001ddd;
      u16_rspeed_rpm_40004242 = engine_speed_2;
      DAT_40004244._0_2_ = i16_accel_1_10g_40001de0;
      u8_speed_kph_40004241 = car_speed_u8;
      u32_time_100ms_40004248 = engine_run_timer_total;
      for (i = 0; i < 2; i = i + 1) {
        if ((&DAT_40004240)[(i + 1) * 0xc] < (&DAT_40004240)[(uint)i * 0xc]) {
          iVar8 = i + 1;
          uVar4 = *(undefined4 *)(&DAT_40004240 + iVar8 * 0xc);
          uVar5 = (&DAT_40004244)[iVar8 * 3];
          uVar6 = (&u32_time_100ms_40004248)[iVar8 * 3];
          uVar9 = (uint)i;
          iVar8 = i + 1;
          uVar7 = (&DAT_40004244)[uVar9 * 3];
          *(undefined4 *)(&DAT_40004240 + iVar8 * 0xc) =
               *(undefined4 *)(&DAT_40004240 + uVar9 * 0xc);
          (&DAT_40004244)[iVar8 * 3] = uVar7;
          (&u32_time_100ms_40004248)[iVar8 * 3] = (&u32_time_100ms_40004248)[uVar9 * 3];
          uVar9 = (uint)i;
          *(undefined4 *)(&DAT_40004240 + uVar9 * 0xc) = uVar4;
          (&DAT_40004244)[uVar9 * 3] = uVar5;
          (&u32_time_100ms_40004248)[uVar9 * 3] = uVar6;
        }
      }
    }
    i16_accel_1_10g_40001de0 = 0;
    DAT_40001ddd = 0;
  }
  else {
    if (DAT_40001ddd != 255) {
      DAT_40001ddd = DAT_40001ddd + 1;
    }
    lVar11 = libc_abs((longlong)i16_accel_1_10g_40001de0);
    lat_accel_abs4 = libc_abs((longlong)lat_accel);
    if ((int)lVar11 < (int)lat_accel_abs4) {
      i16_accel_1_10g_40001de0 = lat_accel;
    }
  }
  return;
}



void obd_ii_update_states(void)

{
  char cVar1;
  ushort uVar2;
  short sVar3;
  short sVar5;
  int iVar4;
  undefined8 uVar6;
  char *pcVar8;
  ulonglong uVar7;
  ushort engine_speed_unknown;
  byte bVar9;
  byte i;
  byte j;
  byte k;
  byte p;
  
  bVar9 = 0;
  FUN_000bdd38();
  uVar2 = obd_ii_montior_passes_bitfield;
  if (obd_ii_engine_speed == 0) {
    if (((DAT_400086d6 == 0) || (obd_ii_engine_tests_completeness == 0)) ||
       (0x62 < (ushort)(ecu_run_timer - 0x97))) {
      uVar2 = obd_ii_montior_passes_bitfield | 8;
    }
    else if ((obd_ii_MIL_flags_unknown & 1) != 0) {
      obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfffe;
      DAT_40001dfc = DAT_40001dfc + 1;
      if (4 < DAT_40001dfc) {
        DAT_40001dfc = 0;
        uVar2 = obd_ii_montior_passes_bitfield ^ 8;
      }
    }
  }
  else if ((obd_ii_montior_passes_bitfield & 2) == 0) {
    if ((((COD_base[0] >> 0xd & 7) == 1) && ((DAT_40001dec & 1) != 0)) ||
       ((obd_ii_montior_passes_bitfield & 1) != 0)) {
      uVar2 = obd_ii_montior_passes_bitfield | 8;
    }
    else if ((obd_ii_montior_passes_bitfield & 4) == 0) {
      uVar2 = obd_ii_montior_passes_bitfield & 0xfff7;
    }
    else if ((obd_ii_MIL_flags_unknown & 1) != 0) {
      obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfffe;
      DAT_40001dfc = DAT_40001dfc + 1;
      if ((0x1c < DAT_40001dfc) && (uVar2 = obd_ii_montior_passes_bitfield | 8, 0x1d < DAT_40001dfc)
         ) {
        DAT_40001dfc = 0;
        uVar2 = obd_ii_montior_passes_bitfield & 0xfff7;
      }
    }
  }
  else if ((obd_ii_MIL_flags_unknown & 1) != 0) {
    obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfffe;
    DAT_40001dfc = DAT_40001dfc + 1;
    if (4 < DAT_40001dfc) {
      DAT_40001dfc = 0;
      uVar2 = obd_ii_montior_passes_bitfield ^ 8;
    }
  }
  obd_ii_montior_passes_bitfield = uVar2;
  if ((((COD_base[0] >> 0xd & 7) == 1) && ((DAT_40001dec & 2) != 0)) ||
     (((obd_ii_montior_passes_bitfield & 0x20) != 0 && (u16_time_100ms_40001df6 != 0)))) {
    obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0x40;
  }
  else {
    obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield & 0xffbf;
  }
  if (DAT_40001def != 0) {
    DAT_40001def = 0;
    obd_clear_DTC_and_stored();
    obd_ii_zero_perm_dtc();
  }
  uVar6 = obd_set_dtc_processing();
  if ((int)uVar6 != 0) {
    if (((int)(uint)CAL_obd_ii_coolant_warmup_thresholds[0] <
         (int)((uint)coolant_temp - (uint)coolant_temp_engine_stopped)) &&
       (CAL_obd_ii_coolant_warmup_thresholds[1] < coolant_temp)) {
      DAT_40001df5 = 1;
      paddle_shift_flags = paddle_shift_flags | 0x20;
      if ((obd_ii_warmups_since_code_cleared != 0xff) && (obd_ii_warmup_completed == 0)) {
        obd_ii_warmups_since_code_cleared = obd_ii_warmups_since_code_cleared + 1;
        obd_ii_warmup_completed = 1;
      }
    }
    obd_ii_engine_coolant_temp = (u8_temp__40c)((uint)coolant_temp_raw * 0xa0 >> 8);
    uVar2 = stft_bank1 << 3;
    obd_ii_stft_bank1 =
         (((char)((int)(short)uVar2 / 0x7d) + (char)((short)uVar2 >> 7)) -
         (char)((short)(uVar2 | (ushort)(stft_bank1 >> 0xf) >> 0xd) >> 7)) + 0x80;
    uVar2 = stft_bank2 << 3;
    obd_ii_stft_bank2 =
         (((char)((int)(short)uVar2 / 0x7d) + (char)((short)uVar2 >> 7)) -
         (char)((short)(uVar2 | (ushort)(stft_bank2 >> 0xf) >> 0xd) >> 7)) + 0x80;
    uVar2 = ltft_bank1 << 4;
    obd_ii_ltft_bank1 =
         (((char)((int)(short)uVar2 / 0x7d) + (char)((short)uVar2 >> 7)) -
         (char)((short)(uVar2 | (ushort)(ltft_bank1 >> 0xf) >> 0xc) >> 7)) + 0x80;
    uVar2 = ltft_bank2 << 4;
    obd_ii_ltft_bank2 =
         (((char)((int)(short)uVar2 / 0x7d) + (char)((short)uVar2 >> 7)) -
         (char)((short)(uVar2 | (ushort)(ltft_bank2 >> 0xf) >> 0xc) >> 7)) + 0x80;
    for (i = 0; i < 5; i = i + 1) {
      if (int16_t_ARRAY_40004ab8[i] != 0) {
        FUN_00069230((uint)i);
      }
    }
    if (engine_is_running != false) {
      if (DAT_40001df4 == 0) {
        for (i = 0; i < 6; i = i + 1) {
          int16_t_ARRAY_40004bf8[i] = 0;
        }
      }
      DAT_40001df4 = 1;
    }
    misfire_calc_unknown();
    obd_ii_cat_efficiency_eval();
    obd_ii_evaluate_fuel_trim_monitors();
    obd_ii_o2_slow_response_monitor();
    if ((obd_ii_MIL_flags_unknown & 2) == 0) {
      if ((obd_ii_MIL_flags_unknown & 4) == 0) {
        if ((obd_ii_MIL_flags_unknown & 8) == 0) {
          if ((obd_ii_MIL_flags_unknown & 0x10) == 0) {
            if ((obd_ii_MIL_flags_unknown & 0x40) != 0) {
              obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xffbf;
              obd_ii_update_calculated_engine_flow_rates();
              obd_ii_update_mode09_stats();
              if ((obd_ii_montior_passes_bitfield & 1) == 0) {
                obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield & 0xffef;
              }
              else {
                if (engine_is_running != false) {
                  if ((obd_ii_montior_passes_bitfield & 16) == 0) {
                    obd_ii_distance_traveled_with_MIL = 0;
                  }
                  iVar4 = (int)((ulonglong)((longlong)(int)(uint)car_speed_div100 * -0x49f49f49) >>
                               0x20) + (uint)car_speed_div100;
                  obd_ii_distance_traveled_with_MIL =
                       obd_ii_distance_traveled_with_MIL + ((iVar4 >> 8) - (iVar4 >> 0x1f));
                  if (0x270fd8f0 < obd_ii_distance_traveled_with_MIL) {
                    obd_ii_distance_traveled_with_MIL = 0x3e7fc18;
                  }
                }
                obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0x10;
              }
              if (((engine_is_running != false) &&
                  (obd_ii_distance_since_codes_cleared_km != 0xffff)) &&
                 (iVar4 = (int)((ulonglong)((longlong)(int)(uint)car_speed_div100 * -0x49f49f49) >>
                               0x20) + (uint)car_speed_div100,
                 DAT_40001e04 = DAT_40001e04 +
                                ((short)((uint)iVar4 >> 8) -
                                ((short)(char)((uint)iVar4 >> 0x18) >> 0xf)), 10000 < DAT_40001e04))
              {
                obd_ii_distance_since_codes_cleared_km = obd_ii_distance_since_codes_cleared_km + 1;
                DAT_40001e04 = 0;
              }
            }
          }
          else {
            obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xffef;
            perf_stats_update();
            obd_ii_module_coding_vin_monitors_update();
            obd_ii_evap_montior();
            obd_ii_vvt_cam_timing_monitors_update();
            obd_ii_accel_pedal_monitors();
            obd_ii_tps_and_airflow_plausibility_monitor();
            if (1 < (COD_base[0] >> 0x1c & 7)) {
              ac_check_unknown();
            }
            obd_ii_monitors_misc1();
          }
        }
        else {
          obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfff7;
          obd_ii_o2_no_activity_monitor();
          obd_ii_update_speed_and_timing_sensor_monitors();
          FUN_00076a10();
          obd_ii_thermostat_check();
          evap_canister_unknown();
          FUN_0006d3a0();
          FUN_000a02dc();
        }
      }
      else {
        obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfffb;
        obd_ii_set_dtc_unknown();
      }
    }
    else {
      obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xfffd;
      obd_ii_set_monitors_unknown2();
      if (engine_is_running != false) {
        sVar5 = DAT_40001e0a + -1;
        if (DAT_40001e0a == 0) {
          sVar5 = DAT_40001e0a;
        }
        sVar3 = DAT_40001e0c;
        if ((DAT_40001e0c != 0) && (sVar3 = DAT_40001e0c + -1, car_speed_u8 < u8_speed_kph_4000cba7)
           ) {
          sVar3 = DAT_40001e0c;
        }
        DAT_40001e0c = sVar3;
        engine_speed_unknown = 0;
        if ((int)(short)u16_rspeed_rpm_40001f2c < (int)(uint)engine_speed_2) {
          engine_speed_unknown = engine_speed_2 - u16_rspeed_rpm_40001f2c;
        }
        DAT_40001e0a = sVar5;
        if (((DAT_40001e08 == 0) || ((engine_operating_state_flags & 1) == 0)) ||
           ((u8_speed_kph_4000cbb1 < car_speed_u8 &&
            (u16_rspeed_rpm_4000cbae <= engine_speed_unknown)))) {
          if (DAT_40001e08 != 0) {
            DAT_40001e08 = DAT_4000cba8;
          }
        }
        else {
          DAT_40001e08 = DAT_40001e08 + -1;
        }
      }
      if (((DAT_40001e0a == 0) && (DAT_40001e0c == 0)) && (DAT_40001e08 == 0)) {
        DAT_40001df8 = 1;
        paddle_shift_flags = paddle_shift_flags | 0x40;
      }
      DAT_40001dfe = DAT_40001dfe + 1;
      if (9 < DAT_40001dfe) {
        DAT_40001dfe = 0;
        DAT_40001dff = DAT_40001dff + 1;
        if (DAT_40001dff < 0x80) {
          if (obd_ii_dtc_current[DAT_40001dff] == 0) {
            DAT_40001dff = 0;
          }
        }
        else {
          DAT_40001dff = 0;
        }
        pcVar8 = obd_ii_dtc_format(obd_ii_dtc_current[DAT_40001dff]);
        for (i = 0; i < 5; i = i + 1) {
          cVar1 = *pcVar8;
          pcVar8 = pcVar8 + 1;
          s__40001648[i] = cVar1;
        }
        DAT_40001e0e = obd_ii_dtc_current[DAT_40001dff];
        uVar7 = obd_ii_dtc_unpack(obd_ii_dtc_current[DAT_40001dff]);
        DAT_40001df0 = (undefined2)uVar7;
        i = DAT_40001e02;
        if ((CAL_obd_ii_standards_supported == 1) && (CAL_obd_ii_diag_unknown != 0)) {
          while ((obd_ii_dtc_perm[(uint)DAT_40001e02 * 2] == 0 && (DAT_40001e02 < 8))) {
            DAT_40001e02 = DAT_40001e02 + 1;
            bVar9 = bVar9 + 1;
            if ((7 < DAT_40001e02) && (bVar9 < 8)) {
              DAT_40001e02 = 0;
            }
          }
          if (DAT_40001e02 < 8) {
            pcVar8 = obd_ii_dtc_format(obd_ii_dtc_perm[(uint)DAT_40001e02 * 2]);
            for (bVar9 = 0; bVar9 < 5; bVar9 = bVar9 + 1) {
              cVar1 = *pcVar8;
              pcVar8 = pcVar8 + 1;
              s__40001650[bVar9] = cVar1;
            }
            DAT_40001e12 = obd_ii_dtc_perm[(uint)DAT_40001e02 * 2];
            uVar7 = obd_ii_dtc_unpack(obd_ii_dtc_perm[(uint)DAT_40001e02 * 2]);
            DAT_40001e18 = (undefined2)uVar7;
            DAT_40001e02 = DAT_40001e02 + 1;
          }
          else {
            for (j = 0; j < 5; j = j + 1) {
              s__40001650[j] = 0;
            }
            DAT_40001e12 = 0;
            DAT_40001e18 = 0;
          }
          i = 0;
          if (DAT_40001e02 < 8) {
            i = DAT_40001e02;
          }
        }
        DAT_40001e02 = i;
        DAT_40001e00 = DAT_40001e00 + 1;
        if (DAT_40001e00 < 0x80) {
          if (obd_ii_dtc_unknown[DAT_40001e00] == 0) {
            DAT_40001e00 = 0;
          }
        }
        else {
          DAT_40001e00 = 0;
        }
        pcVar8 = obd_ii_dtc_format(obd_ii_dtc_unknown[DAT_40001e00]);
        for (k = 0; k < 5; k = k + 1) {
          cVar1 = *pcVar8;
          pcVar8 = pcVar8 + 1;
          s__40001658[k] = cVar1;
        }
        DAT_40001e10 = obd_ii_dtc_unknown[DAT_40001e00];
        uVar7 = obd_ii_dtc_unpack(obd_ii_dtc_unknown[DAT_40001e00]);
        DAT_40001e16 = (undefined2)uVar7;
        DAT_40001e01 = DAT_40001e01 + 1;
        if (DAT_40001e01 < 0x80) {
          if (obd_ii_dtc_pending[DAT_40001e01] == 0) {
            DAT_40001e01 = 0;
          }
        }
        else {
          DAT_40001e01 = 0;
        }
        pcVar8 = obd_ii_dtc_format(obd_ii_dtc_pending[DAT_40001e01]);
        for (p = 0; p < 5; p = p + 1) {
          cVar1 = *pcVar8;
          pcVar8 = pcVar8 + 1;
          s__40001660[p] = cVar1;
        }
        DAT_40001e14 = obd_ii_dtc_pending[DAT_40001e01];
        uVar7 = obd_ii_dtc_unpack(obd_ii_dtc_pending[DAT_40001e01]);
        DAT_40001df2 = (undefined2)uVar7;
      }
    }
  }
  return;
}



void FUN_00069230(uint param_1)

{
  longlong lVar1;
  
  lVar1 = libc_abs((ulonglong)obd_ii_engine_speed -
                   (ulonglong)(ushort)int16_t_ARRAY_40004ab8[(param_1 & 0xff) + 5]);
  if ((((int)lVar1 < (int)(uint)DAT_4000c9ca) &&
      (lVar1 = libc_abs((ulonglong)obd_ii_calc_engine_load -
                        (ulonglong)(byte)(&DAT_40004acc)[param_1 & 0xff]),
      (int)lVar1 < (int)(uint)DAT_4000c9c8)) && (DAT_40001df5 == (&DAT_40004adc)[param_1 & 0xff])) {
    if ((&DAT_40004f58)[param_1 & 0xff] == 0) {
      DAT_40001de8 = DAT_40001de8 | (byte)(1 << (param_1 & 0x3f));
    }
  }
  else {
    (&DAT_40004f58)[param_1 & 0xff] = DAT_4000c9cc;
  }
  return;
}



void FUN_00069344(uint param_1)

{
  int16_t_ARRAY_40004ab8[param_1 & 0xff] = 0;
  int16_t_ARRAY_40004ab8[(param_1 & 0xff) + 5] = 0;
  (&DAT_40004acc)[param_1 & 0xff] = 0;
  (&DAT_40004ad2)[param_1 & 0xff] = 0;
  (&DAT_40004adc)[param_1 & 0xff] = 0;
  (&DAT_40004ae1)[param_1 & 0xff] = 0;
  return;
}



void obd_ii_monitor_fail_transition
               (byte *param_1,byte *param_2,undefined *param_3,undefined *param_4,uint param_5,
               ulonglong param_6)

{
  ulonglong uVar1;
  uint16_t uVar2;
  bool bVar3;
  byte bVar4;
  
  bVar3 = false;
  uVar1 = (ulonglong)param_5 | (param_6 & 0xff) << 0xe;
  if ((*param_1 & 0x10) != 0) {
    DAT_40001e28 = *param_1;
    DAT_40001e24 = param_5 & 0xffff;
    FUN_00069bd8((ushort)DAT_40001e28,(ulonglong)DAT_40001e24);
  }
  bVar4 = 0;
  do {
    if (7 < bVar4) {
LAB_00069488:
      if (bVar3) {
        *(undefined1 *)(obd_ii_dtc_perm + (uint)bVar4 * 2 + 1) = 0;
      }
      uVar2 = (uint16_t)uVar1;
      if (((*param_1 & 7) < 2) || (3 < (*param_1 & 7))) {
        if (((*param_1 & 7) == 1) || ((*param_1 & 7) == 5)) {
          if ((*param_2 & 4) == 0) {
            obd_ii_monitors_completed_this_drive_cycle =
                 obd_ii_monitors_completed_this_drive_cycle + '\x01';
          }
          *param_2 = *param_2 | 7;
          *param_3 = 0;
          *param_4 = 0;
          if ((*param_1 & 7) == 5) {
            FUN_0006af38(uVar2);
          }
          if ((*param_1 & 0x10) != 0) {
            obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 1;
            if (((CAL_obd_ii_standards_supported == '\x01') && (!bVar3)) &&
               (CAL_obd_ii_diag_unknown != '\0')) {
              obd_ii_set_perm_dtc(uVar2);
            }
            if ((*param_2 & 8) == 0) {
              *param_2 = *param_2 | 8;
              obd_ii_dtc_pending_update_unknown(uVar2);
            }
            if ((obd_ii_DTC_causing_FF == 0) ||
               (((DAT_40004a8e & 0x80) == 0 && ((*param_1 & 0x80) != 0)))) {
              DAT_40004a8e = *param_1 & 0x80;
              obd_ii_DTC_causing_FF = uVar2;
              obd_ii_ff_set_data();
            }
          }
          if (((*param_2 & 0x10) == 0) && ((*param_2 & 2) != 0)) {
            *param_2 = *param_2 | 0x10;
            if ((*param_1 & 0x10) == 0) {
              if ((*param_1 & 0x20) != 0) {
                obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0x20;
                u16_time_100ms_40001df6 = (ushort)DAT_40008699 * 10;
              }
              obd_ii_dtc_mode08_unknown(uVar2);
            }
            else {
              obd_ii_record_confirmed_dtc(uVar2);
            }
          }
        }
        else if ((*param_1 & 7) == 4) {
          if ((*param_2 & 4) == 0) {
            obd_ii_monitors_completed_this_drive_cycle =
                 obd_ii_monitors_completed_this_drive_cycle + '\x01';
          }
          *param_2 = *param_2 | 7;
          *param_3 = 0;
          *param_4 = 0;
          FUN_0006af38(uVar2);
          if ((*param_1 & 0x10) != 0) {
            obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 2;
            if (((CAL_obd_ii_standards_supported == 1) && (!bVar3)) &&
               (CAL_obd_ii_diag_unknown != 0)) {
              obd_ii_set_perm_dtc(uVar2);
            }
            if (((*param_1 & 0x10) != 0) && ((*param_2 & 8) == 0)) {
              *param_2 = *param_2 | 8;
              obd_ii_dtc_pending_update_unknown(uVar2);
            }
            if ((obd_ii_DTC_causing_FF == 0) ||
               (((DAT_40004a8e & 0x80) == 0 && ((*param_1 & 0x80) != 0)))) {
              DAT_40004a8e = *param_1 & 0x80;
              obd_ii_DTC_causing_FF = uVar2;
              obd_ii_ff_set_data();
            }
          }
          if (((*param_2 & 0x10) == 0) && ((*param_2 & 2) != 0)) {
            *param_2 = *param_2 | 0x10;
            if ((*param_1 & 0x10) == 0) {
              if ((*param_1 & 0x20) != 0) {
                obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0b00100000;
                u16_time_100ms_40001df6 = (ushort)DAT_40008699 * 10;
              }
              obd_ii_dtc_mode08_unknown(uVar2);
            }
            else {
              obd_ii_record_confirmed_dtc(uVar2);
            }
          }
        }
      }
      else {
        if ((*param_2 & 4) == 0) {
          obd_ii_monitors_completed_this_drive_cycle =
               obd_ii_monitors_completed_this_drive_cycle + 1;
        }
        if (((*param_2 & 8) != 0) && ((*param_2 & 2) == 0)) {
          *param_2 = *param_2 | 1;
          if ((*param_1 & 7) == 2) {
            FUN_0006af38(uVar2);
          }
          if ((*param_1 & 0x10) != 0) {
            obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 1;
            if (((CAL_obd_ii_standards_supported == 1) && (!bVar3)) &&
               (CAL_obd_ii_diag_unknown != 0)) {
              obd_ii_set_perm_dtc(uVar2);
            }
            if ((obd_ii_DTC_causing_FF == 0) ||
               (((DAT_40004a8e & 0x80) == 0 && ((*param_1 & 0x80) != 0)))) {
              DAT_40004a8e = *param_1 & 0x80;
              obd_ii_DTC_causing_FF = uVar2;
              obd_ii_ff_set_data();
            }
          }
          if ((*param_2 & 0x10) == 0) {
            *param_2 = *param_2 | 0x10;
            if ((*param_1 & 0x10) == 0) {
              if ((*param_1 & 0x20) != 0) {
                obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0x20;
                u16_time_100ms_40001df6 = (ushort)DAT_40008699 * 10;
              }
              obd_ii_dtc_mode08_unknown(uVar2);
            }
            else {
              obd_ii_record_confirmed_dtc(uVar2);
            }
          }
        }
        *param_2 = *param_2 | 6;
        *param_3 = 0;
        *param_4 = 0;
        if (((*param_1 & 0x10) != 0) && ((*param_2 & 8) == 0)) {
          *param_2 = *param_2 | 8;
          obd_ii_dtc_pending_update_unknown(uVar2);
          if ((*param_1 & 7) == 2) {
            FUN_0006af38(uVar2);
          }
        }
      }
      return;
    }
    if ((uVar1 & 0xffff) == (ulonglong)obd_ii_dtc_perm[(uint)bVar4 * 2]) {
      bVar3 = true;
      goto LAB_00069488;
    }
    bVar4 = bVar4 + 1;
  } while( true );
}



void obd_ii_monitor_pass(u8_obd2level_t6 *obd2level,byte *dtc_learned_flags)

{
  if ((((*obd2level & 7) == 0) || (3 < (*obd2level & 7))) && ((*obd2level & 7) != 5)) {
    if ((*obd2level & 7) == 4) {
      if ((*dtc_learned_flags & 4) == 0) {
        obd_ii_monitors_completed_this_drive_cycle = obd_ii_monitors_completed_this_drive_cycle + 1;
      }
      *dtc_learned_flags = *dtc_learned_flags | 4;
      if (((*dtc_learned_flags & 1) != 0) && ((*obd2level & 0x10) != 0)) {
        obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield & 0xfffd | 1;
      }
    }
  }
  else {
    if ((*dtc_learned_flags & 4) == 0) {
      obd_ii_monitors_completed_this_drive_cycle =
           obd_ii_monitors_completed_this_drive_cycle + '\x01';
    }
    *dtc_learned_flags = *dtc_learned_flags | 4;
  }
  return;
}



void FUN_00069bd8(ushort param_1,ulonglong param_2)

{
  DAT_40004ae8 = (ushort)((param_2 & 0xffffffff) << 3) | param_1 & 7;
  u16_rspeed_4rpm_40004aea = obd_ii_engine_speed;
  u16_flow_10mg_s_40004aec = obd_ii_maf_flow;
  u8_speed_kph_40004b0c = car_speed_u8;
  DAT_40004aee = stft_bank1;
  DAT_40004af0 = stft_bank2;
  DAT_40004af2 = ltft_bank1;
  DAT_40004af4 = ltft_bank2;
  u8_temp_5_8_40c_40004af6 = coolant_temp;
  u8_temp_5_8_40c_40004af7 = coolant_temp_engine_stopped;
  u8_temp_5_8_40c_40004af8 = temp_engine_air;
  u8_factor_1_255_40004af9 = tps2;
  u32_time_5ms_40004afc = runtime_since_start;
  DAT_40004b00 = obd_ii_o2_sensor1_voltage;
  DAT_40004b02 = obd_ii_o2_sensor5_voltage;
  DAT_40004b04 = obd_ii_o2_sensor2_voltage;
  DAT_40004b06 = obd_ii_o2_sensor6_voltage;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// obd_ii_FF_set_data

void obd_ii_ff_set_data(void)

{
  int iVar1;
  ulonglong uVar2;
  uint uVar3;
  
  uVar2 = get_fuel_system_status_flags();
  obd_ii_FF_fuel_system_status = (ushort)uVar2 & 0xff;
  obd_ii_FF_calc_engine_load = obd_ii_calc_engine_load;
  obd_ii_FF_engine_coolant_temp_C = obd_ii_engine_coolant_temp;
  obd_ii_FF_stft_bank1 = obd_ii_stft_bank1;
  obd_ii_FF_ltft_bank1 = obd_ii_ltft_bank1;
  obd_ii_stft_bank2 = obd_ii_stft_bank2;
  obd_ii_FF_ltft_bank2 = obd_ii_ltft_bank2;
  iVar1 = (int)((uint)fuel_pressure_abs - (uint)obd_ii_atmospheric_baro) / 0x1e;
  if (iVar1 < 0) {
    iVar1 = 0;
  }
  else if (0xff < iVar1) {
    iVar1 = 0xff;
  }
  obd_ii_fuel_pressure = (uint8_t)iVar1;
  uVar3 = obd_ii_manifold_pressure / 10;
  if (0xff < uVar3) {
    uVar3 = 0xff;
  }
  obd_ii_FF_intake_manifold_pressure = (undefined1)uVar3;
  obd_ii_FF_engine_speed = obd_ii_engine_speed;
  uVar3 = car_speed_div100 / 100;
  if (0xff < uVar3) {
    uVar3 = 0xff;
  }
  obd_ii_FF_car_speed = (undefined1)uVar3;
  obd_ii_FF_ign_adv =
       (char)((int)obd_ii_ign_adv_per_cylinder[0] - ((int)obd_ii_ign_adv_per_cylinder[0] >> 0x1f) >>
             1) + -0x80;
  obd_ii_FF_iat = (undefined1)((uint)iat * 0xa0 >> 8);
  obd_ii_FF_maf_flow_1 = obd_ii_maf_flow;
  uVar3 = get_tps();
  obd_ii_FF_tps_x4 = (undefined1)uVar3;
  obd_ii_FF_runtime_since_start = (ushort)((ulonglong)runtime_since_start / 200);
  obd_ii_FF_evap_purge_cmd = (undefined1)_obd_ii_commanded_evap_purge;
  fuel_tank_level = fuel_level_lookup_unfiltered(0x80);
  obd_ii_FF_atmo_pressure._0_1_ = (undefined1)(obd_ii_atmospheric_baro / 10);
  obd_ii_FF_ecu_voltage = (ushort)((uint)(((int)(uint)adc_dma_dest[0x14] >> 4) * 18000) / 0x3ff);
  obd_ii_FF_load_abs_percentage = obd_ii_load_abs;
  uVar2 = (ulonglong)((longlong)(int)(uint)afr_commanded * 0x3394a09d9033) >> 0x20;
  obd_ii_FF_afr_commanded =
       (ushort)(((((longlong)(int)(uint)afr_commanded * 0x8013 - uVar2 << 0x20) >> 0x21) + uVar2 <<
                0x20) >> 0x2a);
  uVar3 = get_relative_tps();
  obd_ii_FF_tps_relative = (undefined1)uVar3;
  uVar3 = get_ambiant_air_temp();
  obd_ii_FF_ambiant_air_temp = (undefined1)(((uVar3 & 0xff) * 0xa0) / 0xff);
  uVar3 = get_abs_throttle_pos_b();
  obd_ii_FF_abs_tps_b = (char)uVar3;
  obd_ii_FF_accelerator_pos_d = (char)((int)(uint)accelerator_pedal_pos_d >> 2);
  obd_ii_FF_accelerator_pos_e = (char)((int)(uint)accelerator_pedal_pos_e >> 2);
  obd_ii_FF_throttle_target_pos = (char)((short)obd_ii_commanded_throttle_actuator >> 4);
  obd_ii_FF_chargecooler_temp = (char)((uint)chargecooler_temp_div_160 * 0xa0 >> 8);
  return;
}



void obd_ii_dtc_process_all_mode_01(void)

{
  DAT_40001df9 = DAT_40001df4;
  if (DAT_40001df4 == '\x01') {
    DAT_40004b18 = DAT_40004b18 + 1;
  }
  if (DAT_4000c9c6 <= obd_ii_monitors_completed_this_drive_cycle) {
    DAT_40004ae6 = DAT_40004ae6 + 1;
    DAT_40001dfb = 1;
  }
  FUN_000aab30();
  FUN_00098a58();
  obd_ii_catalyst_efficiency();
  FUN_00073f54();
  FUN_00092734();
  FUN_0006eb8c();
  FUN_000773b4();
  FUN_0007e410();
  FUN_0007b69c();
  FUN_000ad1b8();
  FUN_000abdc4();
  FUN_000653e0();
  FUN_00079ccc();
  obd_ii_set_evap_purge_codes();
  FUN_0009b2cc();
  obd_ii_set_codes_tps_and_various();
  FUN_000c5b2c();
  FUN_000cbb24();
  FUN_000cf78c();
  obd_ii_dtc_process_trans_fluid_temp();
  return;
}



void obd_ii_set_active_code_and_FF
               (u8_obd2level_t6 *code_enable_flags,byte *lea_flags,byte *param_3,byte *param_4,
               uint16_t code_number,undefined8 param_6)

{
  byte bVar1;
  ushort uVar2;
  bool bVar3;
  uint uVar4;
  byte bVar5;
  uint uVar6;
  
  uVar4 = 0;
  bVar3 = false;
  uVar2 = code_number | param_6._6_2_ << 0xe;
  for (bVar5 = 0; bVar5 < 8; bVar5 = bVar5 + 1) {
    if (uVar2 == obd_ii_dtc_perm[(uint)bVar5 * 2]) {
      bVar3 = true;
      break;
    }
  }
  if (DAT_40001df9 != '\0') {
    for (uVar6 = 0; uVar4 = 0, (uVar6 & 0xff) < 5; uVar6 = uVar6 + 1) {
      if (uVar2 == int16_t_ARRAY_40004ab8[uVar6 & 0xff]) {
        uVar4 = 1;
        break;
      }
    }
    if ((uVar4 != 0) && ((*lea_flags & 8) != 0)) {
      if ((uint)DAT_4000c9c7 + (uint)(byte)(&DAT_40004ae1)[uVar6 & 0xff] < 0x100) {
        if (((uint)DAT_4000c9c7 + (uint)(byte)(&DAT_40004ae1)[uVar6 & 0xff] < (uint)DAT_40004b18) &&
           (*lea_flags = *lea_flags & 0xf7, (*lea_flags & 1) == 0)) {
          FUN_00069344(uVar6 & 0xff);
        }
      }
      else if (((DAT_40004b18 <= DAT_4000c9c7) &&
               (((uint)DAT_4000c9c7 + (uint)(byte)(&DAT_40004ae1)[uVar6 & 0xff]) - 0xff <
                (uint)DAT_40004b18)) && (*lea_flags = *lea_flags & 0xf7, (*lea_flags & 1) == 0)) {
        FUN_00069344(uVar6 & 0xff);
      }
    }
    if (((((*lea_flags & 4) != 0) && ((*lea_flags & 2) == 0)) &&
        ((uVar4 == 0 || ((((uint)DAT_40001de8 & 1 << (uVar6 & 0x3f)) != 0 && (uVar4 != 0)))))) &&
       (bVar1 = *param_3, *param_3 = bVar1 + 1, 2 < (byte)(bVar1 + 1))) {
      if ((bVar3) && ((*lea_flags & 1) != 0)) {
        obd_ii_dtc_perm[(uint)bVar5 * 2] = 0;
      }
      *lea_flags = *lea_flags & 0xfe;
      if (uVar4 != 0) {
        FUN_00069344(uVar6 & 0xff);
      }
    }
  }
  if ((((((DAT_40001df5 != '\0') && ((*lea_flags & 4) != 0)) && ((*lea_flags & 2) == 0)) &&
       ((*param_4 = *param_4 + 1, DAT_4000ca12 <= *param_4 && ((*lea_flags & 0x10) != 0)))) &&
      ((*lea_flags & 1) == 0)) && (*lea_flags = *lea_flags & 0xef, obd_ii_DTC_causing_FF == uVar2))
  {
    obd_ii_DTC_causing_FF = 0;
    obd_ii_FF_fuel_system_status = 0;
    obd_ii_FF_calc_engine_load = 0;
    obd_ii_FF_engine_coolant_temp_C = 0;
    obd_ii_FF_stft_bank1 = 0;
    obd_ii_FF_ltft_bank1 = 0;
    obd_ii_stft_bank2 = 0;
    obd_ii_FF_ltft_bank2 = 0;
    obd_ii_fuel_pressure = '\0';
    obd_ii_FF_intake_manifold_pressure = 0;
    obd_ii_FF_engine_speed = 0;
    obd_ii_FF_car_speed = 0;
    obd_ii_FF_ign_adv = 0;
    obd_ii_FF_iat = 0;
    obd_ii_FF_maf_flow_1 = 0;
    obd_ii_FF_tps_x4 = 0;
    obd_ii_FF_runtime_since_start = 0;
    obd_ii_FF_evap_purge_cmd = 0;
    fuel_tank_level = 0;
    obd_ii_FF_atmo_pressure._0_1_ = 0;
    obd_ii_FF_ecu_voltage = 0;
    obd_ii_FF_load_abs_percentage = 0;
    obd_ii_FF_afr_commanded = 0;
    obd_ii_FF_tps_relative = 0;
    obd_ii_FF_ambiant_air_temp = 0;
    obd_ii_FF_abs_tps_b = 0;
    obd_ii_FF_accelerator_pos_d = 0;
    obd_ii_FF_accelerator_pos_e = 0;
    obd_ii_FF_throttle_target_pos = 0;
    obd_ii_FF_chargecooler_temp = 0;
  }
  if (DAT_40001dfb != '\0') {
    if (((*lea_flags & 2) == 0) && ((*lea_flags & 4) != 0)) {
      if ((*lea_flags & 8) != 0) {
        if ((((*code_enable_flags & 7) == 2) || ((*code_enable_flags & 7) == 4)) ||
           ((*code_enable_flags & 7) == 5)) {
          for (uVar6 = 0; (uVar6 & 0xff) < 5; uVar6 = uVar6 + 1) {
            if (uVar2 == int16_t_ARRAY_40004ab8[uVar6 & 0xff]) {
              uVar4 = 1;
              break;
            }
            uVar4 = 0;
          }
          if ((((((*lea_flags & 4) != 0) && ((*lea_flags & 2) == 0)) &&
               ((uVar4 != 0 && (((uint)DAT_40001de8 & 1 << (uVar6 & 0x3f)) != 0)))) || (uVar4 == 0))
             && (*lea_flags = *lea_flags & 0xf7, (uVar4 & (uint)LZCOUNT(*lea_flags & 1) >> 5) != 0))
          {
            FUN_00069344(uVar6 & 0xff);
          }
        }
        else {
          *lea_flags = *lea_flags & 0xf7;
        }
      }
      if (((bVar3) &&
          (*(undefined1 *)(obd_ii_dtc_perm + (uint)bVar5 * 2 + 1) = 1, (*lea_flags & 0x10) == 0)) &&
         ((*code_enable_flags & 0x40) != 0)) {
        obd_ii_dtc_perm[(uint)bVar5 * 2] = 0;
      }
    }
    *lea_flags = *lea_flags & 0xfd;
  }
  if ((((bVar3) && (*(char *)(obd_ii_dtc_perm + (uint)bVar5 * 2 + 1) != '\0')) &&
      ((*lea_flags & 0x10) == 0)) && (((*code_enable_flags & 0x40) == 0 && (DAT_40001df8 != '\0'))))
  {
    obd_ii_dtc_perm[(uint)bVar5 * 2] = 0;
  }
  return;
}



undefined8 obd_set_dtc_processing(void)

{
  undefined8 uVar1;
  
  switch(obd_ii_dtc_state) {
  case '\0':
    FUN_000a005c('\x01');
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x01':
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x02':
    FUN_000a9b14();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x03':
    FUN_00097d6c();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x04':
    FUN_00067100();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x05':
    FUN_00073c98();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x06':
    FUN_000922b0();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\a':
    set_vvt_failures();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\b':
    FUN_000ad070();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\t':
    FUN_000772e4();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\n':
    FUN_000650f0();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\v':
    FUN_0007e258();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\f':
    FUN_00079bd0();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\r':
    FUN_0006e010();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x0e':
    FUN_0007b3b0();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x0f':
    FUN_000abd6c();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x10':
    obd_ii_montior_passes_bitfield = obd_ii_montior_passes_bitfield | 0x10;
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x11':
    FUN_0009b184();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x12':
    FUN_0006ca60();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x13':
    FUN_000a005c('\0');
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x14':
    FUN_000c5a54();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x15':
    FUN_000cb870();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x16':
    obd_ii_init_timers();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x17':
    FUN_000cf66c();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x18':
    obd_ii_setup_trans_fluid_pump();
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  case '\x19':
    if ((obd_ii_montior_passes_bitfield & 0x20) != 0) {
      u16_time_100ms_40001df6 = (ushort)DAT_40008699 * 10;
    }
    obd_ii_dtc_state = obd_ii_dtc_state + '\x01';
    uVar1 = 0;
    break;
  default:
    uVar1 = 1;
  }
  return uVar1;
}



void obdii_update_dtc_state(byte *param_1,byte *param_2,ushort param_3,ulonglong param_4)

{
  ushort uVar1;
  ushort uVar2;
  
  uVar1 = param_3 | (ushort)((param_4 & 0xff) << 0xe);
  if ((*param_1 & 7) != 0) {
    uVar2 = obd_ii_montior_passes_bitfield;
    if (((*param_1 & 0x10) != 0) &&
       (uVar2 = obd_ii_montior_passes_bitfield | 1, (*param_2 & 1) == 0)) {
      uVar2 = obd_ii_montior_passes_bitfield;
    }
    obd_ii_montior_passes_bitfield = uVar2;
    uVar2 = obd_ii_montior_passes_bitfield;
    if (((*param_1 & 0x20) != 0) &&
       (uVar2 = obd_ii_montior_passes_bitfield | 0x20, (*param_2 & 1) == 0)) {
      uVar2 = obd_ii_montior_passes_bitfield;
    }
    obd_ii_montior_passes_bitfield = uVar2;
    if (((*param_2 & 8) != 0) && ((*param_1 & 0x10) != 0)) {
      obd_ii_dtc_pending_update_unknown(uVar1);
    }
    if ((*param_2 & 0x10) != 0) {
      if ((*param_1 & 0x10) == 0) {
        obd_ii_dtc_mode08_unknown(uVar1);
      }
      else {
        obd_ii_record_confirmed_dtc(uVar1);
      }
    }
  }
  return;
}



undefined1 * obd_ii_dtc_format(uint16_t param_1)

{
  uint uVar1;
  char cVar2;
  uint uVar3;
  byte bVar4;
  uint uVar5;
  
  uVar3 = (uint)(short)param_1;
  if (param_1 == 0) {
    for (bVar4 = 0; bVar4 < 5; bVar4 = bVar4 + 1) {
      (&DAT_40001e1c)[bVar4] = 0x20;
    }
  }
  else {
    if ((int)(uVar3 & 0xc000) >> 0xe == 0) {
      DAT_40001e1c = 0x50;
    }
    else if ((int)(uVar3 & 0xc000) >> 0xe == 1) {
      DAT_40001e1c = 0x43;
    }
    else if ((int)(uVar3 & 0xc000) >> 0xe == 2) {
      DAT_40001e1c = 0x42;
    }
    else if ((int)(uVar3 & 0xc000) >> 0xe == 3) {
      DAT_40001e1c = 0x55;
    }
    uVar5 = 0xc;
    for (bVar4 = 1; bVar4 < 5; bVar4 = bVar4 + 1) {
      uVar1 = (int)(uVar3 & 0x3fff) >> (uVar5 & 0x3f) & 0xf;
      cVar2 = (char)uVar1;
      if (uVar1 < 10) {
        (&DAT_40001e1c)[bVar4] = cVar2 + '0';
      }
      else {
        (&DAT_40001e1c)[bVar4] = cVar2 + '7';
      }
      uVar5 = uVar5 - 4 & 0xff;
    }
  }
  return &DAT_40001e1c;
}



// The tenthousands digit encodes the system: 0=P, 1=C, 2=B, 3=U.
// Takes bits [15:14] to select the base: 0, 10000 (0x2710), 20000 (0x4E20), 30000 (0x7530).
// Uses bits [13:12] as the thousands digit, [11:8] hundreds, [7:4] tens, [3:0] ones, then sums base
// + 1000T + 100H + 10X + U.

ulonglong obd_ii_dtc_unpack(uint16_t dtc)

{
  ulonglong uVar1;
  uint uVar2;
  ulonglong uVar3;
  
  uVar2 = (uint)(short)dtc;
  if (dtc == 0) {
    uVar3 = 0;
  }
  else {
    if ((int)(uVar2 & 0xc000) >> 0xe == 1) {
      uVar3 = ZEXT48(&DAT_00002710);
    }
    else if ((int)(uVar2 & 0xc000) >> 0xe == 2) {
      uVar3 = ZEXT48(&DAT_00004e20);
    }
    else {
      uVar3 = 0;
      if ((int)(uVar2 & 0xc000) >> 0xe == 3) {
        uVar3 = ZEXT48(&DAT_00007530);
      }
    }
    uVar1 = (ulonglong)uVar2 & 0x3fff;
    uVar3 = ((uVar3 + ((uVar1 << 0x20) >> 0x2c) * 1000 + ((uVar1 << 0x20) >> 0x28 & 0xf) * 100 &
             0xffff) + ((uVar1 << 0x20) >> 0x24 & 0xf) * 10 & 0xffff) + ((ulonglong)uVar2 & 0xf) &
            0xffff;
  }
  return uVar3;
}



void obd_ii_init_timers(void)

{
  DAT_40001e08 = DAT_4000cba8;
  DAT_40001e0a = DAT_4000cbaa;
  DAT_40001e0c = DAT_4000cbac;
  return;
}



void FUN_0006af38(short param_1)

{
  bool bVar1;
  byte i;
  
  bVar1 = false;
  for (i = 0; i < 5; i = i + 1) {
    if (param_1 == int16_t_ARRAY_40004ab8[i]) {
      bVar1 = true;
    }
  }
  if (!bVar1) {
    for (i = 0; i < 5; i = i + 1) {
      if (int16_t_ARRAY_40004ab8[i] == 0) {
        int16_t_ARRAY_40004ab8[i] = param_1;
        (&DAT_40004acc)[i] = obd_ii_calc_engine_load;
        (&DAT_40004ad2)[i] = obd_ii_maf_flow;
        int16_t_ARRAY_40004ab8[i + 5] = obd_ii_engine_speed;
        (&DAT_40004adc)[i] = DAT_40001df5;
        (&DAT_40004ae1)[i] = DAT_40004b18;
        return;
      }
    }
  }
  return;
}



void FUN_0006b06c(uint param_1,byte param_2)

{
  if ((&DAT_40004f69)[(param_1 & 0xff) * 0xc] == '\0') {
    (&DAT_40004f68)[(param_1 & 0xff) * 0xc] = param_2;
    if (param_2 != 0) {
      (&DAT_40004f6e)[(param_1 & 0xff) * 6] = (&DAT_40004f6e)[(param_1 & 0xff) * 6] + 1;
      if ((ushort)(&DAT_40004f6e)[(param_1 & 0xff) * 6] <
          (ushort)(&DAT_40004f6a)[(param_1 & 0xff) * 6]) {
        (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 1;
      }
      else {
        (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 2;
        (&DAT_40004f70)[(param_1 & 0xff) * 6] = 0;
      }
    }
  }
  else if ((&DAT_40004f69)[(param_1 & 0xff) * 0xc] == '\x01') {
    (&DAT_40004f68)[(param_1 & 0xff) * 0xc] = param_2;
    if (param_2 != 0) {
      (&DAT_40004f6e)[(param_1 & 0xff) * 6] = (&DAT_40004f6e)[(param_1 & 0xff) * 6] + 1;
      (&DAT_40004f70)[(param_1 & 0xff) * 6] = 0;
      if ((ushort)(&DAT_40004f6a)[(param_1 & 0xff) * 6] <=
          (ushort)(&DAT_40004f6e)[(param_1 & 0xff) * 6]) {
        (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 2;
        (&DAT_40004f70)[(param_1 & 0xff) * 6] = 0;
      }
    }
  }
  else if ((&DAT_40004f69)[(param_1 & 0xff) * 0xc] == '\x02') {
    if (param_2 == 0) {
      (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 3;
    }
    else {
      (&DAT_40004f68)[(param_1 & 0xff) * 0xc] = param_2;
      DAT_40001e30 = 1;
      (&DAT_400050c4)[param_2] = 1;
    }
  }
  else if ((&DAT_40004f69)[(param_1 & 0xff) * 0xc] == '\x03') {
    if (param_2 == 0) {
      (&DAT_40004f70)[(param_1 & 0xff) * 6] = (&DAT_40004f70)[(param_1 & 0xff) * 6] + 1;
      if ((ushort)(&DAT_40004f6c)[(param_1 & 0xff) * 6] <=
          (ushort)(&DAT_40004f70)[(param_1 & 0xff) * 6]) {
        (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 0;
        (&DAT_40004f6e)[(param_1 & 0xff) * 6] = 0;
        (&DAT_40004f70)[(param_1 & 0xff) * 6] = 0;
        (&DAT_400050c4)[(byte)(&DAT_40004f68)[(param_1 & 0xff) * 0xc]] = 0;
        (&DAT_40004f68)[(param_1 & 0xff) * 0xc] = 0;
      }
    }
    else {
      (&DAT_40004f69)[(param_1 & 0xff) * 0xc] = 2;
      (&DAT_40004f68)[(param_1 & 0xff) * 0xc] = param_2;
      (&DAT_40004f70)[(param_1 & 0xff) * 6] = 0;
    }
  }
  return;
}



void FUN_0006b448(void)

{
  int iVar1;
  
  DAT_40001e30 = 0;
  for (iVar1 = 0; iVar1 < 0x22; iVar1 = iVar1 + 1) {
    (&DAT_400050c4)[iVar1] = 0;
  }
  for (iVar1 = 0; iVar1 < 0x1d; iVar1 = iVar1 + 1) {
    (&DAT_40004f68)[iVar1 * 0xc] = 0;
    (&DAT_40004f69)[iVar1 * 0xc] = 0;
    (&DAT_40004f6a)[iVar1 * 6] = 0xb4;
    (&DAT_40004f6c)[iVar1 * 6] = 1000;
    (&DAT_40004f6e)[iVar1 * 6] = 0;
    (&DAT_40004f70)[iVar1 * 6] = 0;
  }
  DAT_40004f9a = 500;
  DAT_40004f9c = 2000;
  DAT_40004fa6 = 500;
  DAT_40004fa8 = 2000;
  DAT_40004fca = 500;
  DAT_40004fcc = 2000;
  DAT_40004f76 = 100;
  DAT_40004f78 = 400;
  DAT_40004f82 = 100;
  DAT_40004f84 = 400;
  DAT_40004f8e = 100;
  DAT_40004f90 = 400;
  DAT_4000504e = 500;
  DAT_4000505a = 500;
  DAT_40005066 = 500;
  DAT_40005072 = 500;
  DAT_40004fee = 500;
  DAT_40004ff0 = 500;
  DAT_40005096 = (ushort)DAT_4000d3fe;
  DAT_40005098 = 10000;
  DAT_400050a2 = (ushort)DAT_4000d432;
  DAT_400050a4 = 10000;
  DAT_400050ae = (ushort)DAT_4000d401;
  DAT_400050b0 = 10000;
  DAT_400050ba = (ushort)DAT_4000d436;
  DAT_400050bc = 10000;
  return;
}



void obd_ii_tps_and_airflow_plausibility_monitor(void)

{
  u8_load_4mg_stroke _tps_load_lookup;
  
  if ((CAL_obd_ii_P2135 & 7) != 0) {
    if (((obd_ii_tps_1_2_correlation & 0x10) == 0) && ((obd_ii_tps_1_2_correlation & 0x20) == 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2135,&LEA_obd_ii_P2135_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2135,&LEA_obd_ii_P2135_flags,&DAT_40004e1d,&DAT_40004e1e,0x2135,0);
      latch_counter_p2135 = 0;
    }
  }
  if ((CAL_obd_ii_P0122 & 7) != 0) {
    if ((obd_ii_tps_1_2_correlation & 2) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,&DAT_40004c8b,&DAT_40004c8c,0x122,0);
      latch_counter_p0122 = 0;
    }
  }
  if ((CAL_obd_ii_P0123 & 7) != 0) {
    if ((obd_ii_tps_1_2_correlation & 1) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,&DAT_40004c8e,&DAT_40004c8f,0x123,0);
      latch_counter_p0123 = '\0';
    }
  }
  if ((CAL_obd_ii_P0222 & 7) != 0) {
    if ((obd_ii_tps_1_2_correlation & 8) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0222,&LEA_obd_ii_P0222_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0222,&LEA_obd_ii_P0222_flags,&DAT_40004ce5,&DAT_40004ce6,0x222,0);
      latch_counter_p0222 = '\0';
    }
  }
  if ((CAL_obd_ii_P0223 & 7) != 0) {
    if ((obd_ii_tps_1_2_correlation & 4) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0223,&LEA_obd_ii_P0223_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0223,&LEA_obd_ii_P0223_flags,&DAT_40004ce8,&DAT_40004ce9,0x223,0);
      latch_counter_p0223 = '\0';
    }
  }
  if (((CAL_obd_ii_P2119 & 7) == 0) || (obd_ii_throttle_body_range_perf == 0)) {
    obd_ii_monitor_pass(&CAL_obd_ii_P2119,&LEA_obd_ii_P2119_flags);
  }
  else {
    obd_ii_monitor_fail_transition
              (&CAL_obd_ii_P2119,&LEA_obd_ii_P2119_flags,&DAT_40004e5f,&DAT_40004e60,0x2119,0);
    latch_counter_p2119 = '\0';
  }
  if ((((((CAL_obd_ii_P2173 & 7) == 0) || (engine_is_running == false)) || (DAT_400023d1 == '\0'))
      || ((DAT_400023d2 == '\0' || (DAT_400023e4 == '\0')))) || (DAT_400023e5 == '\0')) {
    DAT_40001e4c = 0;
  }
  else {
    load_delta_maf = load_computed_maf - load_alphaN_expected;
    load_delta_map = load_computed_map - load_alphaN_expected;
    _tps_load_lookup =
         lookup_3D_uint8_interpolated
                   (8,8,(ushort)engine_speed_3,(ushort)tps2,CAL_load_plausibility_test_delta,
                    CAL_load_plausibility_test_delta_X_rpm,CAL_load_plausibility_test_delta_Y_tps);
    tps_monitor_plausibility_delta = (ushort)_tps_load_lookup << 1;
    if (((int)load_delta_maf < (int)((uint)_tps_load_lookup << 1)) ||
       ((int)load_delta_map < (int)((uint)_tps_load_lookup << 1))) {
      if (DAT_40001e4c == 0) {
        if (DAT_40001e3e < DAT_4000d41c) {
          DAT_40001e3e = DAT_40001e3e + 1;
          DAT_40001e4c = DAT_4000ca88;
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P2173,&LEA_obd_ii_P2173_flags);
        }
      }
      else {
        DAT_40001e4c = DAT_40001e4c - 1;
      }
    }
    else {
      DAT_40001e4c = DAT_40001e4c + 1;
      if ((((int)(uint)DAT_4000ca88 <= (int)(short)DAT_40001e4c) &&
          (DAT_40001e4c = 0, DAT_40001e3e != 0)) &&
         (DAT_40001e3e = DAT_40001e3e - 1, DAT_40001e3e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2173,&LEA_obd_ii_P2173_flags,&DAT_40004e23,&DAT_40004e24,0x2173,0);
      }
    }
  }
  if ((CAL_obd_ii_P1104 & 7) != 0) {
    if (obd_ii_throttle_limp_mode_conditions == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P1104,&LEA_obd_ii_P1104_flags);
    }
    else {
      DAT_40001e41 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P1104,&LEA_obd_ii_P1104_flags,&DAT_40004e3b,&DAT_40004e3c,0x1104,0);
    }
  }
  if ((CAL_obd_ii_P1106 & 7) != 0) {
    if ((lbf_state_flags & 8) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P1106,&LEA_obd_ii_P1106_flags);
    }
    else {
      DAT_40001e50 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P1106,&LEA_obd_ii_P1106_flags,&DAT_40004e05,&DAT_40004e06,0x1106,0);
    }
  }
  if ((CAL_obd_ii_P2104 & 7) != 0) {
    if ((DAT_400050ea < 9) && (DAT_40001f20 < 9)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2104,&LEA_obd_ii_P2104_flags);
    }
    else {
      DAT_40001e40 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2104,&LEA_obd_ii_P2104_flags,&DAT_40004e38,&DAT_40004e39,0x2104,0);
    }
  }
  if ((CAL_obd_ii_P2105 & 7) != 0) {
    if (DAT_400050ea == 10) {
      DAT_40001e42 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2105,&LEA_obd_ii_P2105_flags,&DAT_40004e3e,&DAT_40004e3f,0x2105,0);
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P2105,&LEA_obd_ii_P2105_flags);
    }
  }
  if ((CAL_obd_ii_P2107 & 7) != 0) {
    if (((DAT_400050eb & 0x40) == 0) && ((DAT_400050eb & 0x80) == 0)) {
      DAT_40001e4e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2107,&LEA_obd_ii_P2107_flags);
      if (DAT_40001e44 < DAT_4000d420) {
        DAT_40001e44 = DAT_40001e44 + 1;
      }
    }
    else {
      DAT_40001e4e = DAT_40001e4e + 1;
      if ((DAT_400023e8 <= DAT_40001e4e) &&
         ((DAT_40001e4e = 0, DAT_40001e44 != 0 &&
          (DAT_40001e44 = DAT_40001e44 - 1, DAT_40001e44 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2107,&LEA_obd_ii_P2107_flags,&DAT_40004e44,&DAT_40004e45,0x2107,0);
        DAT_40001e49 = 1;
      }
    }
  }
  if ((CAL_obd_ii_P2106 & 7) != 0) {
    if (((DAT_400026bc == '\0') && (DAT_400026c3 == '\0')) && (DAT_400026b8 == '\0')) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2106,&LEA_obd_ii_P2106_flags);
    }
    else {
      DAT_40001e43 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2106,&LEA_obd_ii_P2106_flags,&DAT_40004e41,&DAT_40004e42,0x2106,0);
    }
  }
  if (((DAT_40001e45 != '\0') && (DAT_40001e46 != '\0')) &&
     ((DAT_40001e47 != '\0' && (DAT_40001e48 != '\0')))) {
    if ((CAL_obd_ii_P2100 & 7) != 0) {
      if (((DAT_40002900 & 0x10) == 0) || (DAT_400081b9 != '\x02')) {
        obd_ii_monitor_pass(&CAL_obd_ii_P2100,&LEA_obd_ii_P2100_flags);
      }
      else {
        DAT_40001e45 = '\0';
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2100,&LEA_obd_ii_P2100_flags,&DAT_40004e47,&DAT_40004e48,0x2100,0);
      }
    }
    if ((CAL_obd_ii_P2102 & 7) != 0) {
      if (((DAT_40002900 & 8) == 0) || (DAT_400081b9 != '\x02')) {
        obd_ii_monitor_pass(&CAL_obd_ii_P2102,&LEA_obd_ii_P2102_flags);
      }
      else {
        DAT_40001e46 = '\0';
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2102,&LEA_obd_ii_P2102_flags,&DAT_40004e4a,&DAT_40004e4b,0x2102,0);
      }
    }
    if ((CAL_obd_ii_P2103 & 7) != 0) {
      if (((DAT_40002900 & 4) == 0) || (DAT_400081b9 != '\x02')) {
        obd_ii_monitor_pass(&CAL_obd_ii_P2103,&LEA_obd_ii_P2103_flags);
      }
      else {
        DAT_40001e47 = '\0';
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2103,&LEA_obd_ii_P2103_flags,&DAT_40004e4d,&DAT_40004e4e,0x2103,0);
      }
    }
    if ((CAL_obd_ii_P2108 & 7) != 0) {
      if (((DAT_40002900 & 1) == 0) || (DAT_400081b9 != '\x02')) {
        obd_ii_monitor_pass(&CAL_obd_ii_P2108,&LEA_obd_ii_P2108_flags);
      }
      else {
        DAT_40001e48 = '\0';
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2108,&LEA_obd_ii_P2108_flags,&DAT_40004e50,&DAT_40004e51,0x2108,0);
      }
    }
  }
  if ((DAT_400050eb & 0x10) == 0) {
    DAT_40001e52 = 0;
  }
  else {
    if ((DAT_40001e52 != 0xffff) && (DAT_40004a46 < DAT_40001e52)) {
      DAT_40004a46 = DAT_40001e52;
    }
    if ((DAT_40001e52 == 0) && (DAT_40004a44 != -1)) {
      DAT_40004a44 = DAT_40004a44 + '\x01';
    }
    DAT_40001e52 = DAT_40001e52 + 1;
  }
  if ((((latch_counter_p2135 == 0) || (latch_counter_p0122 == 0)) || (latch_counter_p0123 == '\0'))
     || ((latch_counter_p0222 == '\0' || (latch_counter_p0223 == '\0')))) {
    engine_state_failure_flags = engine_state_failure_flags | 4;
  }
  if (((latch_counter_p2119 == '\0') || (DAT_40001e3c == '\0')) || (DAT_40001e3e == 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x10000;
  }
  return;
}



void obd_ii_throttle_actuator_monitor_200hz(void)

{
  bool bVar1;
  short sVar2;
  uint16_t uVar5;
  int iVar3;
  short sVar6;
  uint uVar4;
  u16_factor_1_1023 uVar8;
  longlong lVar7;
  
  uVar4 = ((short)obd_ii_commanded_throttle_actuator * 20000) / 0xfff & 0xffff;
  uVar8 = FUN_000c70c8();
  uVar5 = ((short)(((short)uVar8 * 20000) / 0xfff) + ((short)uVar8 >> 0xf)) -
          (short)((longlong)((short)uVar8 * 20000) * 0x80080081 >> 0x3f);
  if ((short)uint16_t_40001668 == 0xffff) {
    uint16_t_40001668 = uVar5;
  }
  if ((int)(short)uint16_t_40001668 < (int)uVar4) {
    iVar3 = (uint)DAT_4000cc4e * (uVar4 - (int)(short)uint16_t_40001668);
    sVar6 = (short)(iVar3 >> 0x1f);
    sVar6 = ((short)(iVar3 / 200) + sVar6) - ((short)((short)(iVar3 / 0xc80000) + sVar6) >> 0xf);
    if (DAT_4000cc50 < sVar6) {
      sVar6 = DAT_4000cc50;
    }
  }
  else {
    iVar3 = (uint)DAT_4000cc4f * (uVar4 - (int)(short)uint16_t_40001668);
    sVar6 = (short)(iVar3 >> 0x1f);
    sVar6 = ((short)(iVar3 / 200) + sVar6) - ((short)((short)(iVar3 / 0xc80000) + sVar6) >> 0xf);
    if ((int)sVar6 < -(int)DAT_4000cc52) {
      sVar6 = -DAT_4000cc52;
    }
  }
  if ((((DAT_40001e60 < 1) || (DAT_40001e60 <= sVar6)) &&
      ((-1 < DAT_40001e60 || (sVar6 <= DAT_40001e60)))) ||
     (lVar7 = libc_abs((longlong)DAT_40001e60), (int)lVar7 < 0xc9)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  lVar7 = libc_abs((longlong)sVar6 - (longlong)DAT_40001e60);
  sVar2 = (short)lVar7;
  uVar4 = (uint)lVar7;
  if (sVar6 < DAT_40001e60) {
    if (bVar1) {
      if ((uint)DAT_4000cc56 << 1 < (uVar4 & 0xffff)) {
        sVar2 = (ushort)DAT_4000cc56 << 1;
      }
      DAT_40001e60 = DAT_40001e60 - sVar2;
    }
    else if ((uint)DAT_4000cc55 << 1 < (uVar4 & 0xffff)) {
      DAT_40001e60 = DAT_40001e60 + (ushort)DAT_4000cc55 * -2;
    }
    else {
      DAT_40001e60 = DAT_40001e60 - sVar2;
    }
  }
  else if (bVar1) {
    if ((uint)DAT_4000cc57 << 1 < (uVar4 & 0xffff)) {
      DAT_40001e60 = DAT_40001e60 + (ushort)DAT_4000cc57 * 2;
    }
    else {
      DAT_40001e60 = DAT_40001e60 + sVar2;
    }
  }
  else if ((uint)DAT_4000cc54 << 1 < (uVar4 & 0xffff)) {
    DAT_40001e60 = DAT_40001e60 + (ushort)DAT_4000cc54 * 2;
  }
  else {
    DAT_40001e60 = DAT_40001e60 + sVar2;
  }
  if ((int)(short)uint16_t_40001668 + (int)DAT_40001e60 < 0x4e21) {
    iVar3 = (int)(short)uint16_t_40001668;
    uint16_t_40001668 = uint16_t_40001668 + DAT_40001e60;
    if (iVar3 + DAT_40001e60 < 0) {
      uint16_t_40001668 = 0;
    }
  }
  else {
    uint16_t_40001668 = 20000;
  }
  DAT_40001e62 = uVar5 - uint16_t_40001668;
  if (((((CAL_obd_ii_P0638 & 7) != 0) && (engine_is_running != false)) && (DAT_40001f20 < 8)) &&
     (DAT_400050ea < 8)) {
    lVar7 = libc_abs((longlong)(short)tps_delta_rate);
    if ((int)(uint)DAT_4000cc5c < (int)lVar7) {
      DAT_40001e64 = DAT_4000cc5e;
    }
    else {
      bVar1 = DAT_40001e64 == 0;
      DAT_40001e64 = DAT_40001e64 - 1;
      if (bVar1) {
        DAT_40001e64 = 0;
      }
    }
    if ((DAT_40001e64 == 0) || ((trqlimit_external_request_flags___ & 0x1f) == 0)) {
      lVar7 = libc_abs((longlong)DAT_40001e62);
      uVar4 = (uint)lVar7 ^ (uint)DAT_4000ca86;
      if ((((uint)LZCOUNT((uint)DAT_40001e64) >> 5 &
           ((int)uVar4 >> 1) - (uVar4 & (uint)lVar7) >> 0x1f) == 0) &&
         (lVar7 = libc_abs((longlong)DAT_40001e62), (int)lVar7 <= (int)(uint)DAT_4000cc58)) {
        if (DAT_40001e4a == 0) {
          if (DAT_40001e3c < DAT_4000d3f1) {
            DAT_40001e3c = DAT_40001e3c + 1;
            DAT_40001e4a = DAT_4000cc5a;
          }
          else {
            obd_ii_monitor_pass(&CAL_obd_ii_P0638,&LEA_obd_ii_P0638_flags);
          }
        }
        else {
          DAT_40001e4a = DAT_40001e4a - 1;
        }
      }
      else {
        DAT_40001e4a = DAT_40001e4a + 1;
        if (((DAT_4000cc5a <= DAT_40001e4a) && (DAT_40001e4a = 0, DAT_40001e3c != 0)) &&
           (DAT_40001e3c = DAT_40001e3c - 1, DAT_40001e3c == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0638,&LEA_obd_ii_P0638_flags,&DAT_40004de4,&DAT_40004de5,0x638,0);
        }
      }
    }
  }
  return;
}



void FUN_0006ca60(void)

{
  latch_counter_p0122 = DAT_4000d3b4;
  latch_counter_p0123 = DAT_4000d3b5;
  latch_counter_p0222 = DAT_4000d3ee;
  latch_counter_p0223 = DAT_4000d3ef;
  DAT_40001e3c = DAT_4000d3f1;
  DAT_40001e4a = 0;
  DAT_40001e50 = DAT_4000d3e6;
  latch_counter_p2119 = DAT_4000d418;
  DAT_40001e3e = DAT_4000d41c;
  latch_counter_p2135 = DAT_4000d3f0;
  DAT_40001e40 = DAT_4000d41d;
  DAT_40001e41 = DAT_4000d404;
  DAT_40001e42 = DAT_4000d41e;
  DAT_40001e43 = DAT_4000d41f;
  DAT_40001e44 = DAT_4000d420;
  DAT_40001e45 = DAT_4000d421;
  DAT_40001e46 = DAT_4000d422;
  DAT_40001e47 = DAT_4000d423;
  DAT_40001e48 = DAT_4000d424;
  obdii_update_dtc_state(&CAL_obd_ii_P0222,&LEA_obd_ii_P0222_flags,0x222,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0223,&LEA_obd_ii_P0223_flags,0x223,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,0x123,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,0x122,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0638,&LEA_obd_ii_P0638_flags,0x638,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1106,&LEA_obd_ii_P1106_flags,0x1106,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2119,&LEA_obd_ii_P2119_flags,0x2119,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2173,&LEA_obd_ii_P2173_flags,0x2173,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2135,&LEA_obd_ii_P2135_flags,0x2135,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2104,&LEA_obd_ii_P2104_flags,0x2104,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1104,&LEA_obd_ii_P1104_flags,0x1104,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2105,&LEA_obd_ii_P2105_flags,0x2105,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2106,&LEA_obd_ii_P2106_flags,0x2106,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2107,&LEA_obd_ii_P2107_flags,0x2107,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2100,&LEA_obd_ii_P2100_flags,0x2100,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2102,&LEA_obd_ii_P2102_flags,0x2102,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2103,&LEA_obd_ii_P2103_flags,0x2103,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2108,&LEA_obd_ii_P2108_flags,0x2108,0);
  return;
}



void obd_ii_set_codes_tps_and_various(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,&DAT_40004c8e,&DAT_40004c8f,0x123,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,&DAT_40004c8b,&DAT_40004c8c,0x122,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0223,&LEA_obd_ii_P0223_flags,&DAT_40004ce8,&DAT_40004ce9,0x223,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0222,&LEA_obd_ii_P0222_flags,&DAT_40004ce5,&DAT_40004ce6,0x222,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0638,&LEA_obd_ii_P0638_flags,&DAT_40004de4,&DAT_40004de5,0x638,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1106,&LEA_obd_ii_P1106_flags,&DAT_40004e05,&DAT_40004e06,0x1106,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2119,&LEA_obd_ii_P2119_flags,&DAT_40004e5f,&DAT_40004e60,0x2119,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2173,&LEA_obd_ii_P2173_flags,&DAT_40004e23,&DAT_40004e24,0x2173,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2135,&LEA_obd_ii_P2135_flags,&DAT_40004e1d,&DAT_40004e1e,0x2135,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2104,&LEA_obd_ii_P2104_flags,&DAT_40004e38,&DAT_40004e39,0x2104,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1104,&LEA_obd_ii_P1104_flags,&DAT_40004e3b,&DAT_40004e3c,0x1104,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2105,&LEA_obd_ii_P2105_flags,&DAT_40004e3e,&DAT_40004e3f,0x2105,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2106,&LEA_obd_ii_P2106_flags,&DAT_40004e41,&DAT_40004e42,0x2106,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2107,&LEA_obd_ii_P2107_flags,&DAT_40004e44,&DAT_40004e45,0x2107,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2100,&LEA_obd_ii_P2100_flags,&DAT_40004e47,&DAT_40004e48,0x2100,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2102,&LEA_obd_ii_P2102_flags,&DAT_40004e4a,&DAT_40004e4b,0x2102,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2103,&LEA_obd_ii_P2103_flags,&DAT_40004e4d,&DAT_40004e4e,0x2103,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2108,&LEA_obd_ii_P2108_flags,&DAT_40004e50,&DAT_40004e51,0x2108,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0006d3a0(void)

{
  uint uVar1;
  
  if ((((((((flags_unknown & 0x400000) == 0) && ((CAL_obd_ii_P0441 & 7) != 0)) &&
         ((LEA_obd_ii_P0441_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0444_flags & 2) == 0 && ((LEA_obd_ii_P0445_flags & 2) == 0)))) &&
       (((uint)DAT_4000c9e2 * 0x14 < runtime_since_start &&
        (((evap_status_flags & 2) == 0 && (_obd_ii_commanded_evap_purge == 0)))))) &&
      ((DAT_40001e88 & 0x400) == 0)) &&
     ((((DAT_40001e8a & 0x400) == 0 && ((flags_unknown & 0x20) == 0)) &&
      (((int)-(uint)DAT_4000c9e3 / 2 < (int)(short)obd_ii_evap_purge_pressure ||
       ((flags_unknown & 0x800000) != 0)))))) {
    evap_canister_close_command = 1;
    siu_gpdo[0xc3] = 1;
    if (DAT_40001e75 == '\0') {
      DAT_40001e75 = DAT_4000c9e4;
      uVar1 = flags_unknown & 0xff5fffff | 0x400000;
    }
    else {
      DAT_40001e75 = DAT_40001e75 + -1;
      uVar1 = flags_unknown | 0x800000;
      if ((int)(short)obd_ii_evap_purge_pressure < (int)-(uint)DAT_4000c9e3) {
        DAT_40001e75 = DAT_4000c9e4;
        uVar1 = (flags_unknown | 0xe00000) & 0xff7fffff;
      }
    }
  }
  else {
    DAT_40001e75 = DAT_4000c9e4;
    uVar1 = flags_unknown & 0xff7fffff;
  }
  flags_unknown = uVar1;
  if ((DAT_40002322 < DAT_4000cb00) || (_obd_ii_commanded_evap_purge < DAT_4000caf6)) {
    u8_time_100ms_40001e71 = DAT_4000cafc;
    DAT_40001e73 = 0;
    DAT_40001e72 = 0;
  }
  else if (-(int)DAT_4000caf8 < (int)(short)DAT_40002548) {
    if (-(int)DAT_4000cafa < (int)(short)DAT_40002548) {
      if (-(int)DAT_4000cb08 < (int)(short)DAT_40002548) {
        if (DAT_40001e72 == '\x01') {
          if (u8_time_100ms_40001e71 == '\0') {
            DAT_40001e73 = '\x01';
          }
        }
        else {
          u8_time_100ms_40001e71 = DAT_4000cafc;
          DAT_40001e73 = '\0';
          DAT_40001e72 = '\x01';
        }
      }
      else if (DAT_40001e72 == '\x02') {
        if (u8_time_100ms_40001e71 == '\0') {
          DAT_40001e73 = '\x02';
        }
      }
      else {
        u8_time_100ms_40001e71 = DAT_4000cafc;
        DAT_40001e73 = '\0';
        DAT_40001e72 = '\x02';
      }
    }
    else if (DAT_40001e72 == '\x03') {
      if (u8_time_100ms_40001e71 == '\0') {
        DAT_40001e73 = '\x03';
      }
    }
    else {
      u8_time_100ms_40001e71 = DAT_4000cafc;
      DAT_40001e73 = '\0';
      DAT_40001e72 = '\x03';
    }
  }
  else if (DAT_40001e72 == '\x04') {
    if (u8_time_100ms_40001e71 == '\0') {
      DAT_40001e73 = '\x04';
    }
  }
  else {
    u8_time_100ms_40001e71 = DAT_4000cafc;
    DAT_40001e73 = '\0';
    DAT_40001e72 = '\x04';
  }
  if (((((evap_status_flags & 0x200) == 0) || ((LEA_obd_ii_P0455_flags & 4) != 0)) ||
      ((flags_unknown & 0x10000) != 0)) && ((flags_unknown & 0x2000) == 0)) {
    uVar1 = flags_unknown & 0xffffbfff;
  }
  else {
    uVar1 = flags_unknown | 0x4000;
    if (DAT_40001e73 == '\x03') {
      if (((flags_unknown & 0x100) != 0) && ((flags_unknown & 0x200) == 0)) {
        uVar1 = flags_unknown | 0x24000;
      }
      flags_unknown = uVar1;
      DAT_40001e6a = DAT_40002548;
      uVar1 = flags_unknown & 0xffffdfff | 0x8000;
    }
    else if ((byte)(DAT_40001e73 - 1U) < 2) {
      if ((flags_unknown & 0x100) == 0) {
        uVar1 = flags_unknown | 0x14000;
      }
      else if (((flags_unknown & 0x200) == 0) || (DAT_40001e73 != '\x01')) {
        if ((byte)(DAT_40001e73 - 1U) < 2) {
          uVar1 = flags_unknown | 0x14000;
        }
      }
      else {
        uVar1 = flags_unknown | 0x104000;
      }
      flags_unknown = uVar1;
      DAT_40001e6a = DAT_40002548;
      uVar1 = flags_unknown & 0xffffdfff;
    }
  }
  flags_unknown = uVar1;
  if ((((flags_unknown & 0x20000) == 0) && ((flags_unknown & 0x10000) == 0)) ||
     ((flags_unknown & 0x20) != 0)) {
    if ((flags_unknown & 0x40000) != 0) {
      u8_time_100ms_40001e6f = DAT_4000cafd;
    }
    flags_unknown = flags_unknown & 0xfffbffff;
    if (u8_time_100ms_40001e6f == '\0') {
      evap_status_flags = evap_status_flags & 0xdfff;
    }
    DAT_40001e70 = DAT_4000cafe;
  }
  else {
    if ((flags_unknown & 0x40000) == 0) {
      u8_time_100ms_40001e6f = DAT_4000cafd;
    }
    uVar1 = flags_unknown | 0x40000;
    evap_status_flags = evap_status_flags | 0x2000;
    if ((((car_speed_u8 == '\0') || (load_mass_per_stroke <= DAT_40001e70)) ||
        ((DAT_40001e73 == '\x04' ||
         ((DAT_40002322 < DAT_4000cb00 || (_obd_ii_commanded_evap_purge < DAT_4000caf6)))))) ||
       ((u8_time_100ms_40001e6f == '\0' && (DAT_40001e73 != '\0')))) {
      if (DAT_40001e73 == '\x04') {
        uVar1 = flags_unknown & 0xfffcffff | 0x40000;
      }
      else if ((DAT_40001e73 != '\0') && (u8_time_100ms_40001e6f == '\0')) {
        if ((flags_unknown & 0x20000) != 0) {
          uVar1 = flags_unknown & 0xfffdffff | 0x40400;
        }
        flags_unknown = uVar1;
        uVar1 = flags_unknown;
        if ((flags_unknown & 0x10000) != 0) {
          uVar1 = flags_unknown & 0xfffeffff | 0x80000;
        }
      }
      flags_unknown = uVar1;
      DAT_40001e6c = DAT_40002548;
      evap_canister_close_command = 0;
      siu_gpdo[0xc3] = '\0';
      u8_time_100ms_40001e6f = DAT_4000cafd;
      DAT_40001e70 = DAT_4000cafe;
    }
    else {
      evap_canister_close_command = 1;
      siu_gpdo[0xc3] = '\x01';
      DAT_40001e70 = DAT_4000caff;
      flags_unknown = uVar1;
    }
  }
  if ((CAL_obd_ii_P0441 & 7) != 0) {
    if ((((flags_unknown & 0x1000000) == 0) && ((flags_unknown & 0x100000) == 0)) &&
       ((flags_unknown & 0x200000) == 0)) {
      if ((((flags_unknown & 0x80) != 0) || ((flags_unknown & 0x8000) != 0)) &&
         ((LEA_obd_ii_P0441_flags & 4) == 0)) {
        uVar1 = obd_ii_status_unknokwn & 0xfffff07f;
        if ((flags_unknown & 0x80) == 0) {
          obd_ii_status_unknokwn = uVar1;
          if ((flags_unknown & 0x8000) != 0) {
            obd_ii_status_unknokwn = uVar1 | 0x200;
            DAT_40004c04 = DAT_40001e6a;
            if ((flags_unknown & 0x100) != 0) {
              obd_ii_status_unknokwn = uVar1 | 0x300;
              DAT_40004c06 = DAT_40001ff4;
              DAT_40004c08 = DAT_40001ffe;
            }
          }
        }
        else {
          DAT_40004c06 = DAT_40001ff4;
          DAT_40004c08 = DAT_40001ffe;
          obd_ii_status_unknokwn = uVar1 | 0x100;
        }
        obd_ii_monitor_pass(&CAL_obd_ii_P0441,&LEA_obd_ii_P0441_flags);
      }
    }
    else if ((LEA_obd_ii_P0441_flags & 2) == 0) {
      uVar1 = obd_ii_status_unknokwn & 0xfffff07f;
      obd_ii_status_unknokwn = uVar1 | 0x800;
      if ((flags_unknown & 0x1000000) == 0) {
        if ((flags_unknown & 0x200000) == 0) {
          if ((flags_unknown & 0x100000) != 0) {
            obd_ii_status_unknokwn = uVar1 | 0xb00;
            DAT_40004c04 = DAT_40001e6a;
            DAT_40004c06 = DAT_40001ff4;
            DAT_40004c08 = DAT_40001ffe;
          }
        }
        else {
          obd_ii_status_unknokwn = uVar1 | 0xc00;
          DAT_40004c04 = obd_ii_evap_purge_pressure;
        }
      }
      else {
        obd_ii_status_unknokwn = uVar1 | 0x880;
        DAT_40004c04 = DAT_40001ff0;
      }
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0441,&LEA_obd_ii_P0441_flags,&DAT_40004d6f,&DAT_40004d70,0x441,0);
    }
  }
  if ((CAL_obd_ii_P0446 & 7) != 0) {
    if ((((int)(short)DAT_40002548 < -(int)DAT_4000caf8) && (DAT_40002320 == '\x01')) &&
       ((evap_status_flags & 0x2000) == 0)) {
      if (((u8_time_100ms_40001e74 == '\0') && (DAT_40001e6e != 0)) &&
         (DAT_40001e6e = DAT_40001e6e - 1, DAT_40001e6e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0446,&LEA_obd_ii_P0446_flags,&DAT_40004d7b,&DAT_40004d7c,0x446,0);
        flags_unknown = flags_unknown | 0x800;
      }
    }
    else {
      u8_time_100ms_40001e74 = DAT_4000cafc;
      if ((flags_unknown & 0x400) == 0) {
        if (DAT_40001e6e < DAT_4000d416) {
          DAT_40001e6e = DAT_40001e6e + 1;
        }
        if (((((flags_unknown & 0x200) != 0) || (obd_ii_system_leak_status == '\x05')) ||
            ((short)CAL_evap_commanded_purge_unknown >> 1 < _obd_ii_commanded_evap_purge)) &&
           ((LEA_obd_ii_P0446_flags & 4) == 0)) {
          obd_ii_monitor_pass(&CAL_obd_ii_P0446,&LEA_obd_ii_P0446_flags);
        }
      }
      else if ((DAT_40001e6e != 0) && (DAT_40001e6e = DAT_40001e6e - 1, DAT_40001e6e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0446,&LEA_obd_ii_P0446_flags,&DAT_40004d7b,&DAT_40004d7c,0x446,0);
      }
    }
  }
  return;
}



void FUN_0006dfac_100ms(void)

{
  char tmp1;
  char tmp2;
  u8_time_100ms tmp3;
  
  tmp1 = u8_time_100ms_40001e6f + 0xff;
  if (u8_time_100ms_40001e6f == 0) {
    tmp1 = 0;
  }
  u8_time_100ms_40001e6f = tmp1;
  tmp2 = u8_time_100ms_40001e71 + 0xff;
  if (u8_time_100ms_40001e71 == 0) {
    tmp2 = 0;
  }
  u8_time_100ms_40001e71 = tmp2;
  tmp3 = u8_time_100ms_40001e74 + 0xff;
  if (u8_time_100ms_40001e74 == 0) {
    tmp3 = 0;
  }
  u8_time_100ms_40001e74 = tmp3;
  return;
}



void FUN_0006e010(void)

{
  DAT_40001e75 = DAT_4000c9e4;
  u8_time_100ms_40001e74 = DAT_4000cafc;
  DAT_40001e6e = DAT_4000d416;
  obdii_update_dtc_state(&CAL_obd_ii_P0441,&LEA_obd_ii_P0441_flags,0x441,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0446,&LEA_obd_ii_P0446_flags,0x446,0);
  evap_status_flags = evap_status_flags & 0b1111110111111110;
  return;
}



void obd_ii_set_evap_purge_codes(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0441,&LEA_obd_ii_P0441_flags,&DAT_40004d6f,&DAT_40004d70,0x441,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0446,&LEA_obd_ii_P0446_flags,&DAT_40004d7b,&DAT_40004d7c,0x446,0);
  return;
}



void obd_ii_update_speed_and_timing_sensor_monitors(void)

{
  short sVar1;
  byte _flags_2;
  
  if (u8_speed_kph_40001e84 < car_speed_u8) {
    u8_speed_kph_40001e84 = car_speed_u8;
  }
  if (engine_is_running) {
    if ((((inj_flags & 1) == 0) || (engine_speed_3 < u8_rspeed_125_4_500rpm_4000ca3f)) ||
       (u8_rspeed_125_4_500rpm_4000ca9a < engine_speed_3)) {
      DAT_40001e80 = DAT_4000ca38;
      sVar1 = DAT_40001e80;
    }
    else {
      sVar1 = DAT_40001e80 + -1;
      if (DAT_40001e80 == 0) {
        sVar1 = DAT_40001e80;
      }
    }
    DAT_40001e80 = sVar1;
    if (DAT_40001e80 == 0) {
      _flags_2 = car_speed_flags_unknown | 2;
      car_speed_flags_unknown = car_speed_flags_unknown & 0xfd;
      if (car_speed_u8 < DAT_4000ca3c) {
        car_speed_flags_unknown = _flags_2;
      }
      DAT_40001e80 = DAT_4000ca38;
    }
    if ((car_speed_flags_unknown & 4) == 0) {
      DAT_40001e82 = (ushort)DAT_4000c9d9;
    }
    else if (DAT_40001e82 == 0) {
      car_speed_flags_unknown = car_speed_flags_unknown | 1;
      DAT_40001e82 = (ushort)DAT_4000c9d9;
    }
    else {
      DAT_40001e82 = DAT_40001e82 - 1;
    }
  }
  if (((CAL_obd_ii_P0500 & 7) != 0) && (DAT_400029e4 != '\0')) {
    if (((car_speed_flags_unknown & 2) == 0) && ((car_speed_flags_unknown & 1) == 0)) {
      if (DAT_4000ca3c <= car_speed_u8) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0500,&LEA_obd_ii_P0500_flags);
        if (DAT_40001e7d < DAT_4000d407) {
          DAT_40001e7d = DAT_40001e7d + 1;
        }
      }
    }
    else if (DAT_40001e7d != 0) {
      DAT_40001e7d = DAT_40001e7d - 1;
      if (DAT_40001e7d == 0) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0500,&LEA_obd_ii_P0500_flags,&DAT_40004da2,&DAT_40004da3,0x500,0);
      }
      else {
        car_speed_flags_unknown = car_speed_flags_unknown & 0xfc;
      }
    }
  }
  if (((CAL_obd_ii_P0335 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if ((DAT_4000ca3d < DAT_40001896) ||
       (((((int)((uint)DAT_4000ca3d * 4 - (uint)DAT_4000ca3d) < (int)(uint)DAT_40001892 ||
          ((int)((uint)DAT_4000ca3d * 4 - (uint)DAT_4000ca3d) < (int)(uint)DAT_40001893)) ||
         ((int)((uint)DAT_4000ca3d * 4 - (uint)DAT_4000ca3d) < (int)(uint)DAT_40001894)) ||
        ((int)((uint)DAT_4000ca3d * 4 - (uint)DAT_4000ca3d) < (int)(uint)DAT_40001895)))) {
      if ((DAT_40001e78 != 0) && (DAT_40001e78 = DAT_40001e78 - 1, DAT_40001e78 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0335,&LEA_obd_ii_P0335_flags,&DAT_40004d42,&DAT_40004d43,0x335,0);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0335,&LEA_obd_ii_P0335_flags);
      if (DAT_40001e78 < DAT_4000d405) {
        DAT_40001e78 = DAT_40001e78 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0341 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (((DAT_400025d2 == '\0') && (vvt_start_time < runtime_since_start)) ||
       ((DAT_4000ca3d < DAT_40001888 || (DAT_4000189e != '\0')))) {
      if ((DAT_40001e79 != 0) && (DAT_40001e79 = DAT_40001e79 - 1, DAT_40001e79 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0341,&LEA_obd_ii_P0341_flags,&DAT_40004d45,&DAT_40004d46,0x341,0);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0341,&LEA_obd_ii_P0341_flags);
      if (DAT_40001e79 < DAT_4000d43f) {
        DAT_40001e79 = DAT_40001e79 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0346 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (((DAT_400025d1 == '\0') && (vvt_start_time < runtime_since_start)) ||
       (DAT_4000ca3d < DAT_40001888)) {
      if ((DAT_40001e7a != 0) && (DAT_40001e7a = DAT_40001e7a - 1, DAT_40001e7a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0346,&LEA_obd_ii_P0346_flags,&DAT_40004d48,&DAT_40004d49,0x346,0);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0346,&LEA_obd_ii_P0346_flags);
      if (DAT_40001e7a < DAT_4000d440) {
        DAT_40001e7a = DAT_40001e7a + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0366 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (((DAT_400025d0 == '\0') && (vvt_start_time < runtime_since_start)) ||
       (DAT_4000ca3d < DAT_40001888)) {
      if ((DAT_40001e7b != 0) && (DAT_40001e7b = DAT_40001e7b - 1, DAT_40001e7b == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0366,&LEA_obd_ii_P0366_flags,&DAT_40004d4b,&DAT_40004d4c,0x366,0);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0366,&LEA_obd_ii_P0366_flags);
      if (DAT_40001e7b < DAT_4000d441) {
        DAT_40001e7b = DAT_40001e7b + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0391 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (((DAT_400025cf == '\0') && (vvt_start_time < runtime_since_start)) ||
       (DAT_4000ca3d < DAT_40001888)) {
      if ((DAT_40001e7c != 0) && (DAT_40001e7c = DAT_40001e7c - 1, DAT_40001e7c == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0391,&LEA_obd_ii_P0391_flags,&DAT_40004d4e,&DAT_40004d4f,0x391,0);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0391,&LEA_obd_ii_P0391_flags);
      if (DAT_40001e7c < DAT_4000d442) {
        DAT_40001e7c = DAT_40001e7c + 1;
      }
    }
  }
  return;
}



void set_vvt_failures(void)

{
  DAT_40001e78 = DAT_4000d405;
  DAT_40001e7d = DAT_4000d407;
  DAT_40001e79 = DAT_4000d43f;
  DAT_40001e7a = DAT_4000d440;
  DAT_40001e7b = DAT_4000d441;
  DAT_40001e7c = DAT_4000d442;
  DAT_40001e80 = DAT_4000ca38;
  obdii_update_dtc_state(&CAL_obd_ii_P0335,&LEA_obd_ii_P0335_flags,0x335,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0500,&LEA_obd_ii_P0500_flags,0x500,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0341,&LEA_obd_ii_P0341_flags,0x341,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0346,&LEA_obd_ii_P0346_flags,0x346,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0366,&LEA_obd_ii_P0366_flags,0x366,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0391,&LEA_obd_ii_P0391_flags,0x391,0);
  return;
}



void FUN_0006eb8c(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0335,&LEA_obd_ii_P0335_flags,&DAT_40004d42,&DAT_40004d43,0x335,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0500,&LEA_obd_ii_P0500_flags,&DAT_40004da2,&DAT_40004da3,0x500,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0341,&LEA_obd_ii_P0341_flags,&DAT_40004d45,&DAT_40004d46,0x341,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0346,&LEA_obd_ii_P0346_flags,&DAT_40004d48,&DAT_40004d49,0x346,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0366,&LEA_obd_ii_P0366_flags,&DAT_40004d4b,&DAT_40004d4c,0x366,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0391,&LEA_obd_ii_P0391_flags,&DAT_40004d4e,&DAT_40004d4f,0x391,0);
  return;
}



void closedloop(void)

{
  ulonglong uVar1;
  ushort inj_closedloop_activate_timer;
  byte bVar2;
  
  inj_closedloop_activate_timer =
       lookup_2D_uint8_interpolated_noaxis
                 (4,(ushort)coolant_temp_engine_stopped,CAL_inj_closedloop_activate_engine_timer);
  closedloop_activate_time = (inj_closedloop_activate_timer & 0xff) * 200;
  if ((engine_operating_state_flags & 8) == 0) {
    bVar2 = lookup_3D_uint8(8,8,engine_speed_3,load_mass_per_stroke,&DAT_400094ba,&DAT_400094c2,
                            &DAT_400094ca);
    DAT_40001eaa = (ushort)bVar2;
    bVar2 = lookup_3D_uint8(8,8,engine_speed_3,load_mass_per_stroke,&DAT_4000950a,&DAT_40009512,
                            &DAT_4000951a);
    DAT_40001eac = (ushort)bVar2;
    bVar2 = lookup_3D_uint8(8,8,engine_speed_3,load_mass_per_stroke,&DAT_4000955a,&DAT_40009562,
                            &DAT_4000956a);
    DAT_40001eae = (ushort)bVar2;
    bVar2 = lookup_3D_uint8(8,8,engine_speed_3,load_mass_per_stroke,&DAT_400095aa,&DAT_400095b2,
                            &DAT_400095ba);
    DAT_40001eb0 = (ushort)bVar2;
    DAT_40001670 = DAT_400087da;
    bVar2 = lookup_2D_uint8_interpolated('\b',engine_speed_3,&DAT_4000aa2a,&DAT_4000aa22);
    DAT_40001ed2 = (ushort)bVar2 * 4 + (ushort)bVar2;
  }
  else {
    DAT_40001eaa = DAT_40008846;
    DAT_40001eac = DAT_40008848;
    DAT_40001eae = DAT_4000884a;
    DAT_40001eb0 = DAT_4000884c;
    DAT_40001670 = (undefined1)(((uint)DAT_400086c7 * 0x4b0) / (uint)engine_speed_2);
    DAT_40001ed2 = (ushort)DAT_4000cb84 * 4 + (ushort)DAT_4000cb84;
  }
                    // what the heck is this 8 hour timer for?
  if (engine_run_timer_total < (uint)CAL_inj_closedloop_engine_run_learn_timer_unknown * 36000) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      uVar1 = ((longlong)(int)(short)DAT_40001eae * (longlong)(int)(uint)DAT_40008874 & 0xffffffffU)
              * 0x2040811 >> 0x20;
      DAT_40001eae = (ushort)(((((longlong)(int)(short)DAT_40001eae *
                                 (longlong)(int)(uint)DAT_40008874 - uVar1 << 32) >> 33) + uVar1 <<
                              32) >> 38);
    }
    else {
      uVar1 = ((longlong)(int)(short)DAT_40001eae * (longlong)(int)(uint)DAT_40008887 & 0xffffffffU)
              * 0x2040811 >> 0x20;
      DAT_40001eae = (ushort)(((((longlong)(int)(short)DAT_40001eae *
                                 (longlong)(int)(uint)DAT_40008887 - uVar1 << 32) >> 33) + uVar1 <<
                              32) >> 38);
    }
  }
  DAT_40001ec8 = DAT_40008850;
  DAT_40001eca = DAT_4000884e;
  if (engine_speed_2 == 0) {
    DAT_40001e8a = 0;
    DAT_40001e88 = 0;
    stft_bank2 = 0;
    stft_bank1 = 0;
    DAT_40001eb6 = 0;
    int16_t_40001eb4 = 0;
  }
  else if (CAL_inj_closedloop_activate_timer_o2_check <= runtime_since_start) {
    if ((obd_ii_o2_sensor1_voltage < DAT_4000879e) || (DAT_400087a0 < obd_ii_o2_sensor1_voltage)) {
      DAT_40001e88 = DAT_40001e88 | 1;
    }
    if ((obd_ii_o2_sensor5_voltage < DAT_4000879e) || (DAT_400087a0 < obd_ii_o2_sensor5_voltage)) {
      DAT_40001e8a = DAT_40001e8a | 1;
    }
    if ((obd_ii_o2_sensor2_voltage < DAT_4000879e) || (DAT_400087a0 < obd_ii_o2_sensor2_voltage)) {
      DAT_40001e88 = DAT_40001e88 | 4;
    }
    if ((obd_ii_o2_sensor6_voltage < DAT_4000879e) || (DAT_400087a0 < obd_ii_o2_sensor6_voltage)) {
      DAT_40001e8a = DAT_40001e8a | 4;
    }
  }
  if (((((((LEA_obd_ii_P0131_flags & 2) == 0) && ((LEA_obd_ii_P0132_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0134_flags & 2) == 0)) &&
       ((((LEA_obd_ii_P0135_flags & 2) == 0 && ((LEA_obd_ii_P0261_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0262_flags & 2) == 0 &&
         (((LEA_obd_ii_P0267_flags & 2) == 0 && ((LEA_obd_ii_P0268_flags & 2) == 0)))))))) &&
      (((LEA_obd_ii_P0273_flags & 2) == 0 &&
       ((((LEA_obd_ii_P0274_flags & 2) == 0 && ((LEA_obd_ii_P0351_flags & 2) == 0)) &&
        ((LEA_obd_ii_P0353_flags & 2) == 0)))))) &&
     ((((LEA_obd_ii_P0355_flags & 2) == 0 && ((misfire_condition_flags & 0x1000) == 0)) &&
      ((misfire_condition_flags & 0x800) == 0)))) {
    if ((runtime_since_start < closedloop_activate_time) || (afr_target2 != CAL_closedloop_afr)) {
      DAT_40001e90 = 1;
      if (afr_target2 < CAL_closedloop_afr) {
        DAT_40001e90 = 1025;
      }
    }
    else if ((((((inj_flags & 1) == 0) &&
               ((int)inj_tip_adj_enrichment <= (int)((uint)DAT_4000cb88 * 10))) &&
              ((int)inj_tip_adj_enleanment <= (int)((uint)DAT_4000cb89 * 10))) &&
             ((DAT_40001ecf == 0 && (BYTE_ARRAY_400015c8[0] != 0)))) &&
            ((BYTE_ARRAY_400015c8[2] != 0 && ((BYTE_ARRAY_400015c8[4] != 0 && (DAT_40001ed0 == 0))))
            )) {
      if ((DAT_40001e88 & 1) == 0) {
        DAT_40001e90 = 1;
      }
      else {
        DAT_40001e90 = 2;
        FUN_0006f888();
      }
    }
    else {
      DAT_40001e90 = 0b0000010000000100;
    }
  }
  else {
    DAT_40001e90 = 8;
  }
  if ((DAT_40001e90 & 0b0000010000001101) != 0) {
    if (((DAT_40001ed0 == 0) || ((inj_flags & 1) != 0)) || (afr_target2 != CAL_closedloop_afr)) {
      stft_bank1 = 0;
    }
    else if (DAT_40001ede == 0) {
      DAT_40001ede = DAT_40008818;
      stft_bank1 = stft_bank1 + 5;
      if (DAT_4000cb82 < stft_bank1) {
        stft_bank1 = DAT_4000cb82;
      }
    }
    DAT_40001e88 = DAT_40001e88 & 0x3f3f | 0b00100000;
    DAT_40001eba = DAT_40001ed2;
  }
  if ((((((((LEA_obd_ii_P0151_flags & 2) == 0) && ((LEA_obd_ii_P0152_flags & 2) == 0)) &&
         (((LEA_obd_ii_P0154_flags & 2) == 0 &&
          (((LEA_obd_ii_P0155_flags & 2) == 0 && ((LEA_obd_ii_P0264_flags & 2) == 0)))))) &&
        ((LEA_obd_ii_P0265_flags & 2) == 0)) &&
       (((((LEA_obd_ii_P0270_flags & 2) == 0 && ((LEA_obd_ii_P0271_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0276_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0277_flags & 2) == 0 && ((LEA_obd_ii_P0352_flags & 2) == 0)))))) &&
      (((LEA_obd_ii_P0354_flags & 2) == 0 &&
       (((LEA_obd_ii_P0356_flags & 2) == 0 && ((misfire_condition_flags & 0x2000) == 0)))))) &&
     ((misfire_condition_flags & 0x800) == 0)) {
    if ((runtime_since_start < closedloop_activate_time) || (afr_target2 != CAL_closedloop_afr)) {
      DAT_40001e92 = 1;
      if (afr_target2 < CAL_closedloop_afr) {
        DAT_40001e92 = 0x401;
      }
    }
    else if (((((((inj_flags & 1) == 0) &&
                ((int)inj_tip_adj_enrichment <= (int)((uint)DAT_4000cb88 * 10))) &&
               ((int)inj_tip_adj_enleanment <= (int)((uint)DAT_4000cb89 * 10))) &&
              ((DAT_40001ecf == '\0' && (BYTE_ARRAY_400015c8[1] != 0)))) &&
             (BYTE_ARRAY_400015c8[3] != 0)) &&
            ((BYTE_ARRAY_400015c8[5] != 0 && (DAT_40001ed0 == 0)))) {
      if ((DAT_40001e8a & 1) == 0) {
        DAT_40001e92 = 1;
      }
      else {
        DAT_40001e92 = 2;
        FUN_0006fda0();
      }
    }
    else {
      DAT_40001e92 = 0x404;
    }
  }
  else {
    DAT_40001e92 = 8;
  }
  if ((DAT_40001e92 & 0b0000010000001101) != 0) {
    if (((DAT_40001ed0 == 0) || ((inj_flags & 1) != 0)) || (afr_target2 != CAL_closedloop_afr)) {
      stft_bank2 = 0;
    }
    else if (DAT_40001edf == '\0') {
      DAT_40001edf = DAT_40008818;
      stft_bank2 = stft_bank2 + 5;
      if (DAT_4000cb82 < stft_bank2) {
        stft_bank2 = DAT_4000cb82;
      }
    }
    DAT_40001e8a = DAT_40001e8a & 0b0011111100111111 | 0b00100000;
    DAT_40001ebe = DAT_40001ed2;
  }
  return;
}



void FUN_0006f888(void)

{
  int16_t iVar1;
  uint uVar2;
  longlong lVar3;
  
  if (((engine_speed_3 < u8_rspeed_125_4_500rpm_400086da) &&
      (obd_ii_o2_sensor1_voltage < DAT_40001ec8)) && (stft_bank1 < 0)) {
    stft_bank1 = 0;
    iVar1 = int16_t_40001eb4;
  }
  else if (DAT_40001eca < (short)obd_ii_o2_sensor1_voltage) {
    if (((DAT_40001e88 & 0x80) == 0) && ((DAT_40001e88 & 0x40) != 0)) {
      if ((DAT_40001e88 & 0x100) == 0) {
        iVar1 = -DAT_40001eac;
      }
      else {
        uVar2 = (int)DAT_40001eac * (uint)DAT_400087db;
        iVar1 = -((short)((int)uVar2 >> 6) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x3f) != 0));
      }
    }
    else if (((CAL_vehicle_moving_threshold_ < car_speed_u8) ||
             ((((DAT_40001e92 & 2) == 0 || (obd_ii_o2_sensor5_voltage < (short)DAT_40001ec8)) ||
              (DAT_40001eb6 == 0)))) || (DAT_40001ed4 == 0)) {
      DAT_40001eb8 = (ushort)DAT_40001670;
      DAT_40001eba = DAT_40001ed2;
      DAT_400021d4 = DAT_400021d4 | 0x8000;
      iVar1 = -DAT_40001eac;
      if ((DAT_40001e88 & 0x20) == 0) {
        stft_bank1 = stft_bank1 - DAT_40001eb0;
        DAT_40001e88 = DAT_40001e88 & 0xfe7f | 0x40;
      }
      else {
        stft_bank1 = stft_bank1 -
                     (((short)((int)((int)DAT_40001eb0 * (uint)DAT_4000cb86) / 0xff) +
                      (DAT_40001eb0 >> 0xf)) -
                     (short)((longlong)(int)((int)DAT_40001eb0 * (uint)DAT_4000cb86) * 0x80808081 >>
                            0x3f));
        DAT_40001e88 = DAT_40001e88 & 0xfe5f | 0x40;
      }
    }
    else {
      int16_t_40001eb4 = 0;
      iVar1 = int16_t_40001eb4;
    }
  }
  else if ((short)obd_ii_o2_sensor1_voltage < (short)DAT_40001ec8) {
    if (((DAT_40001e88 & 0x40) == 0) && ((DAT_40001e88 & 0x80) != 0)) {
      if ((DAT_40001e88 & 0x100) == 0) {
        int16_t_40001eb4 = DAT_40001eaa;
        iVar1 = int16_t_40001eb4;
      }
      else {
        uVar2 = (int)DAT_40001eaa * (uint)DAT_400087c9;
        iVar1 = (short)((int)uVar2 >> 6) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x3f) != 0);
      }
    }
    else if ((((CAL_vehicle_moving_threshold_ < car_speed_u8) ||
              (((DAT_40001e92 & 2) == 0 || (DAT_40001eb6 == 0)))) ||
             (DAT_40001eca < obd_ii_o2_sensor5_voltage)) || (DAT_40001ed4 == 0)) {
      DAT_40001eb8 = (ushort)DAT_40001670;
      DAT_40001eba = DAT_40001ed2;
      DAT_400021d4 = DAT_400021d4 | 0x4000;
      int16_t_40001eb4 = DAT_40001eaa;
      iVar1 = int16_t_40001eb4;
      if ((DAT_40001e88 & 0x20) == 0) {
        stft_bank1 = stft_bank1 + DAT_40001eae;
        DAT_40001e88 = DAT_40001e88 & 0xfebf | 0x80;
      }
      else {
        stft_bank1 = stft_bank1 +
                     (((short)((int)((int)DAT_40001eae * (uint)DAT_4000cb85) / 0xff) +
                      (DAT_40001eae >> 0xf)) -
                     (short)((longlong)(int)((int)DAT_40001eae * (uint)DAT_4000cb85) * 0x80808081 >>
                            0x3f));
        DAT_40001e88 = DAT_40001e88 & 0xfe9f | 0x80;
      }
    }
    else {
      int16_t_40001eb4 = 0;
      iVar1 = int16_t_40001eb4;
    }
  }
  else if ((DAT_40001e88 & 0x40) == 0) {
    iVar1 = DAT_40001eaa;
    if ((DAT_40001e88 & 0x80) == 0) {
      iVar1 = int16_t_40001eb4;
    }
  }
  else {
    iVar1 = -DAT_40001eac;
  }
  int16_t_40001eb4 = iVar1;
  if (stft_bank1 < (short)CAL_inj_stft_max____) {
    if (-(int)(short)CAL_inj_stft_max____ < (int)stft_bank1) {
      lVar3 = libc_abs((longlong)stft_bank1);
      if ((int)lVar3 < (int)((uint)CAL_inj_stft_max____ - (uint)DAT_40008808)) {
        DAT_40001e88 = DAT_40001e88 & 0x3fff;
      }
    }
    else {
      stft_bank1 = -CAL_inj_stft_max____;
      DAT_40001e88 = DAT_40001e88 & 0xbfff | 0x8000;
    }
  }
  else {
    stft_bank1 = CAL_inj_stft_max____;
    DAT_40001e88 = DAT_40001e88 & 0x7fff | 0x4000;
  }
  return;
}



void FUN_0006fda0(void)

{
  short sVar1;
  uint uVar2;
  longlong lVar3;
  
  if (((engine_speed_3 < u8_rspeed_125_4_500rpm_400086da) &&
      (obd_ii_o2_sensor5_voltage < DAT_40001ec8)) && (stft_bank2 < 0)) {
    stft_bank2 = 0;
    sVar1 = DAT_40001eb6;
  }
  else if (DAT_40001eca < (short)obd_ii_o2_sensor5_voltage) {
    if (((DAT_40001e8a & 0x80) == 0) && ((DAT_40001e8a & 0x40) != 0)) {
      if ((DAT_40001e8a & 0x100) == 0) {
        sVar1 = -DAT_40001eac;
      }
      else {
        uVar2 = (int)DAT_40001eac * (uint)DAT_400087db;
        sVar1 = -((short)((int)uVar2 >> 6) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x3f) != 0));
      }
    }
    else if ((CAL_vehicle_moving_threshold_ < car_speed_u8) ||
            ((((DAT_40001e90 & 2) == 0 || (obd_ii_o2_sensor1_voltage < (short)DAT_40001ec8)) ||
             (DAT_40001ed6 == 0)))) {
      DAT_40001ebc = (ushort)DAT_40001670;
      DAT_40001ebe = DAT_40001ed2;
      DAT_400021d2 = DAT_400021d2 | 0x8000;
      sVar1 = -DAT_40001eac;
      if ((DAT_40001e8a & 0x20) == 0) {
        stft_bank2 = stft_bank2 - DAT_40001eb0;
        DAT_40001e8a = DAT_40001e8a & 0xfe7f | 0x40;
      }
      else {
        stft_bank2 = stft_bank2 -
                     (((short)((int)((int)DAT_40001eb0 * (uint)DAT_4000cb86) / 0xff) +
                      (DAT_40001eb0 >> 0xf)) -
                     (short)((longlong)(int)((int)DAT_40001eb0 * (uint)DAT_4000cb86) * 0x80808081 >>
                            0x3f));
        DAT_40001e8a = DAT_40001e8a & 0xfe5f | 0x40;
      }
    }
    else {
      DAT_40001eb6 = 0;
      sVar1 = DAT_40001eb6;
    }
  }
  else if ((short)obd_ii_o2_sensor5_voltage < (short)DAT_40001ec8) {
    if (((DAT_40001e8a & 0x40) == 0) && ((DAT_40001e8a & 0x80) != 0)) {
      if ((DAT_40001e8a & 0x100) == 0) {
        DAT_40001eb6 = DAT_40001eaa;
        sVar1 = DAT_40001eb6;
      }
      else {
        uVar2 = (int)DAT_40001eaa * (uint)DAT_400087c9;
        sVar1 = (short)((int)uVar2 >> 6) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x3f) != 0);
      }
    }
    else if (((CAL_vehicle_moving_threshold_ < car_speed_u8) ||
             (((DAT_40001e90 & 2) == 0 || (DAT_40001eca < obd_ii_o2_sensor1_voltage)))) ||
            (DAT_40001ed6 == 0)) {
      DAT_40001ebc = (ushort)DAT_40001670;
      DAT_40001ebe = DAT_40001ed2;
      DAT_400021d2 = DAT_400021d2 | 0x4000;
      DAT_40001eb6 = DAT_40001eaa;
      sVar1 = DAT_40001eb6;
      if ((DAT_40001e8a & 0x20) == 0) {
        stft_bank2 = stft_bank2 + DAT_40001eae;
        DAT_40001e8a = DAT_40001e8a & 0xfebf | 0x80;
      }
      else {
        stft_bank2 = stft_bank2 +
                     (((short)((int)((int)DAT_40001eae * (uint)DAT_4000cb85) / 0xff) +
                      (DAT_40001eae >> 0xf)) -
                     (short)((longlong)(int)((int)DAT_40001eae * (uint)DAT_4000cb85) * 0x80808081 >>
                            0x3f));
        DAT_40001e8a = DAT_40001e8a & 0xfe9f | 0x80;
      }
    }
    else {
      DAT_40001eb6 = 0;
      sVar1 = DAT_40001eb6;
    }
  }
  else if ((DAT_40001e8a & 0x40) == 0) {
    sVar1 = DAT_40001eaa;
    if ((DAT_40001e8a & 0x80) == 0) {
      sVar1 = DAT_40001eb6;
    }
  }
  else {
    sVar1 = -DAT_40001eac;
  }
  DAT_40001eb6 = sVar1;
  if (stft_bank2 < (short)CAL_inj_stft_max____) {
    if (-(int)(short)CAL_inj_stft_max____ < (int)stft_bank2) {
      lVar3 = libc_abs((longlong)stft_bank2);
      if ((int)lVar3 < (int)((uint)CAL_inj_stft_max____ - (uint)DAT_40008808)) {
        DAT_40001e8a = DAT_40001e8a & 0x3fff;
      }
    }
    else {
      stft_bank2 = -CAL_inj_stft_max____;
      DAT_40001e8a = DAT_40001e8a & 0xbfff | 0x8000;
    }
  }
  else {
    stft_bank2 = CAL_inj_stft_max____;
    DAT_40001e8a = DAT_40001e8a & 0x7fff | 0x4000;
  }
  return;
}



void closed_loop_200hz(void)

{
  ushort uVar1;
  char cVar2;
  byte bVar3;
  
  if ((DAT_40001e90 & 2) != 0) {
    DAT_40001eb8 = DAT_40001eb8 - 1;
    if ((short)DAT_40001eb8 < 1) {
      DAT_40001eb8 = (ushort)DAT_40001670;
      stft_bank1 = stft_bank1 + int16_t_40001eb4;
      if ((short)CAL_inj_stft_max____ < stft_bank1) {
        stft_bank1 = CAL_inj_stft_max____;
      }
      else if ((int)stft_bank1 < -(int)(short)CAL_inj_stft_max____) {
        stft_bank1 = -CAL_inj_stft_max____;
      }
    }
    if (DAT_40001eba == 0) {
      DAT_40001e88 = DAT_40001e88 | 0x100;
    }
    else {
      DAT_40001eba = DAT_40001eba + -1;
    }
  }
  if ((DAT_40001e92 & 2) != 0) {
    DAT_40001ebc = DAT_40001ebc - 1;
    if ((short)DAT_40001ebc < 1) {
      DAT_40001ebc = (ushort)DAT_40001670;
      stft_bank2 = stft_bank2 + DAT_40001eb6;
      if ((short)CAL_inj_stft_max____ < stft_bank2) {
        stft_bank2 = CAL_inj_stft_max____;
      }
      else if ((int)stft_bank2 < -(int)(short)CAL_inj_stft_max____) {
        stft_bank2 = -CAL_inj_stft_max____;
      }
    }
    if (DAT_40001ebe == 0) {
      DAT_40001e8a = DAT_40001e8a | 0x100;
    }
    else {
      DAT_40001ebe = DAT_40001ebe + -1;
    }
  }
  if (((((inj_flags & 1) == 0) && ((int)inj_tip_adj_enrichment <= (int)((uint)DAT_4000cb88 * 10)))
      && ((int)inj_tip_adj_enleanment <= (int)((uint)DAT_4000cb89 * 10))) &&
     ((DAT_40001cd0 == 0 && (CAL_closedloop_afr <= afr_target2)))) {
    cVar2 = DAT_40001ecf;
    if (((((uint)LZCOUNT(DAT_40001e90 - 4) >> 5 | 0x400) != 0) &&
        (((uint)LZCOUNT(DAT_40001e92 - 4) >> 5 | 0x400) != 0)) &&
       (cVar2 = DAT_40001ecf + -1, DAT_40001ecf == '\0')) {
      cVar2 = DAT_40001ecf;
    }
  }
  else {
    DAT_40001ecf = DAT_400086c5;
    cVar2 = DAT_40001ecf;
  }
  DAT_40001ecf = cVar2;
  if ((coolant_temp_engine_stopped < CAL_ign_comp_coolant_engine_stopped_min) &&
     (maf_accumulated2 < (ushort)((ushort)DAT_4000cb87 << 2))) {
    DAT_40001ed0 = 0;
    uVar1 = DAT_40001ed0;
  }
  else if ((inj_flags & 1) == 0) {
    uVar1 = DAT_40001ed0;
    if (((((uint)LZCOUNT(DAT_40001e90 - 4) >> 5 | 0x400) != 0) &&
        (((uint)LZCOUNT(DAT_40001e92 - 4) >> 5 | 0x400) != 0)) &&
       (uVar1 = DAT_40001ed0 - 1, DAT_40001ed0 == 0)) {
      uVar1 = DAT_40001ed0;
    }
  }
  else {
    bVar3 = lookup_2D_uint8_interpolated
                      ('\b',(uint8_t)((int)(uint)uint16_t_400018ee >> 3),s__4000b002,s__>___4000affa
                      );
    uVar1 = DAT_40001ed0;
    if (DAT_40001ed0 < (ushort)((ushort)bVar3 * 10)) {
      uVar1 = (ushort)bVar3 * 10;
    }
  }
  DAT_40001ed0 = uVar1;
  cVar2 = DAT_40001ede + -1;
  if (DAT_40001ede == '\0') {
    cVar2 = '\0';
  }
  DAT_40001ede = cVar2;
  cVar2 = DAT_40001edf + -1;
  if (DAT_40001edf == '\0') {
    cVar2 = '\0';
  }
  DAT_40001edf = cVar2;
  if (int16_t_40001eb4 == 0) {
    if (DAT_40001ed4 != 0) {
      DAT_40001ed4 = DAT_40001ed4 + -1;
    }
  }
  else {
    DAT_40001ed4 = (ushort)DAT_40008761 << 2;
  }
  if (DAT_40001eb6 == 0) {
    if (DAT_40001ed6 != 0) {
      DAT_40001ed6 = DAT_40001ed6 + -1;
    }
  }
  else {
    DAT_40001ed6 = (ushort)DAT_40008761 << 2;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void o2_fuel_learn_100ms(void)

{
  bool bVar1;
  uint uVar2;
  char cVar4;
  byte bVar5;
  byte bVar6;
  uint uVar3;
  
  if (obd_ii_maf_flow < u16_flow_10mg_s_4000882a) {
    DAT_40001ece = 1;
    ltft_bank2 = 0;
    ltft_bank1 = 0;
  }
  else if ((obd_ii_maf_flow < u16_flow_10mg_s_40008830) &&
          (u16_flow_10mg_s_4000882a <= obd_ii_maf_flow)) {
    DAT_40001ece = 6;
    uVar3 = (char)(obd_ii_fuel_learn_zone_2_bank1 ^ 0x80) * 500;
    ltft_bank1 = (int16_t)((int)((((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0))
                                * ((uint)obd_ii_maf_flow - (uint)u16_flow_10mg_s_4000882a)) /
                          (int)((uint)u16_flow_10mg_s_40008830 - (uint)u16_flow_10mg_s_4000882a));
    uVar3 = (char)(obd_ii_fuel_learn_zone_2_bank2 ^ 0x80) * 500;
    ltft_bank2 = (int16_t)((int)((((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0))
                                * ((uint)obd_ii_maf_flow - (uint)u16_flow_10mg_s_4000882a)) /
                          (int)((uint)u16_flow_10mg_s_40008830 - (uint)u16_flow_10mg_s_4000882a));
  }
  else if (obd_ii_maf_flow < u16_flow_10mg_s_4000882e) {
    DAT_40001ece = 2;
    uVar3 = (char)(obd_ii_fuel_learn_zone_2_bank1 ^ 0x80) * 500;
    ltft_bank1 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
    uVar3 = (char)(obd_ii_fuel_learn_zone_2_bank2 ^ 0x80) * 500;
    ltft_bank2 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
  }
  else if ((u16_flow_10mg_s_4000882e < obd_ii_maf_flow) && (obd_ii_maf_flow < DAT_40008836)) {
    DAT_40001ece = 4;
    uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) * 500;
    uVar2 = (char)(obd_ii_fuel_learn_zone_2_bank1 ^ 0x80) * 500;
    ltft_bank1 = (short)((int)((((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0)) *
                              ((uint)obd_ii_maf_flow - (uint)u16_flow_10mg_s_4000882e)) /
                        (int)((uint)DAT_40008836 - (uint)u16_flow_10mg_s_4000882e)) +
                 (short)((int)((((int)uVar2 >> 7) + (uint)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                              ((uint)DAT_40008836 - (uint)obd_ii_maf_flow)) /
                        (int)((uint)DAT_40008836 - (uint)u16_flow_10mg_s_4000882e));
    uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) * 500;
    uVar2 = (char)(obd_ii_fuel_learn_zone_2_bank2 ^ 0x80) * 500;
    ltft_bank2 = (short)((int)((((int)uVar3 >> 7) + (uint)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0)) *
                              ((uint)obd_ii_maf_flow - (uint)u16_flow_10mg_s_4000882e)) /
                        (int)((uint)DAT_40008836 - (uint)u16_flow_10mg_s_4000882e)) +
                 (short)((int)((((int)uVar2 >> 7) + (uint)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                              ((uint)DAT_40008836 - (uint)obd_ii_maf_flow)) /
                        (int)((uint)DAT_40008836 - (uint)u16_flow_10mg_s_4000882e));
  }
  else if ((DAT_40008890 < engine_speed_3) && (DAT_4000888f < load_mass_per_stroke)) {
    DAT_40001ece = 5;
    if (((char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) < '\0') &&
       ((char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) < '\0')) {
      ltft_bank2 = 0;
      ltft_bank1 = 0;
    }
    else if (obd_ii_fuel_learn_zone_3_bank1 < obd_ii_fuel_learn_zone_3_bank2) {
      uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) * 500;
      ltft_bank1 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
      uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) * 500;
      ltft_bank2 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
    }
    else {
      uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) * 500;
      ltft_bank1 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
      uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) * 500;
      ltft_bank2 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
    }
  }
  else if (DAT_40008836 < obd_ii_maf_flow) {
    DAT_40001ece = 3;
    uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) * 500;
    ltft_bank1 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
    uVar3 = (char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) * 500;
    ltft_bank2 = (short)((int)uVar3 >> 7) + (ushort)((int)uVar3 < 0 && (uVar3 & 0x7f) != 0);
  }
  else {
    ltft_bank2 = 0;
    ltft_bank1 = 0;
    DAT_40001ece = 0;
  }
  if ((((((engine_state_failure_flags & 0x10) == 0) && ((engine_state_failure_flags & 1) == 0)) &&
       ((engine_state_failure_flags & 2) == 0)) &&
      ((((vvt_bank_inhibit_flags & 1) == 0 && ((vvt_bank_inhibit_flags & 2) == 0)) &&
       (((vvt_bank_inhibit_flags & 4) == 0 &&
        (((vvt_bank_inhibit_flags & 8) == 0 && ((engine_state_failure_flags & 0x1000) == 0))))))))
     && ((((engine_state_failure_flags & 0x2000) == 0 &&
          ((((engine_state_failure_flags & 0x4000) == 0 &&
            ((engine_state_failure_flags & 0x20) == 0)) &&
           ((engine_state_failure_flags & 0x40) == 0)))) &&
         ((((engine_state_failure_flags & 0x800000) == 0 &&
           ((engine_state_failure_flags & 0x4000000) == 0)) &&
          (((((engine_state_failure_flags & 0x10000000) == 0 &&
             (((engine_state_failure_flags & 0x1000000) == 0 && (DAT_400087dc < temp_engine_air))))
            && (DAT_4000883a < coolant_temp)) &&
           ((((DAT_400087fc < obd_ii_atmospheric_baro && (DAT_400087dd < fuel_level)) &&
             (DAT_4000897a < maf_accumulated2)) && (enrichment_cranking_blend == '\0')))))))))) {
    if ((DAT_40001e90 & 2) == 0) {
      DAT_40001e88 = DAT_40001e88 & 0xc3ef;
      DAT_40001eda = '\0';
      DAT_40001ed9 = '\0';
      DAT_40001ed8 = '\0';
    }
    else if (_obd_ii_commanded_evap_purge == 0) {
      if (((((obd_ii_maf_flow < u16_flow_10mg_s_4000882a) &&
            (engine_speed_2 < u16_rspeed_rpm_4000882c)) &&
           (((int)load_mass_per_stroke_raw < (int)(uint)DAT_4000885a &&
            (((engine_operating_state_flags & 8) != 0 &&
             ((short)obd_ii_idle_speed_error___ < (short)(ushort)DAT_4000880a)))))) &&
          (DAT_4000880b < current_gear_time)) && (DAT_400087a9 < u16_time_100ms_40001840)) {
        if ((DAT_40001e88 & 0x800) == 0) {
          DAT_40001ecc = DAT_4000883b + DAT_4000cb59;
          DAT_40001ed8 = DAT_4000cb59;
        }
        DAT_40001e88 = DAT_40001e88 & 0xcfff | 0xc10;
        bVar1 = DAT_40001ecc == '\0';
        DAT_40001ecc = DAT_40001ecc + -1;
        if (bVar1) {
          DAT_40001ecc = DAT_4000883b;
          if (DAT_40001e94 < (short)(DAT_4000883c ^ 0x8000)) {
            if (DAT_40001e94 <= (short)(DAT_4000883e ^ 0x8000)) {
              if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == '\0')) {
                if ((int)((uint)DAT_40008841 * -10) < (int)LEA_fuel_learn_lean_time_bank1) {
                  LEA_fuel_learn_lean_time_bank1 =
                       LEA_fuel_learn_lean_time_bank1 - (ushort)CAL_fuel_learn_time_step;
                }
              }
              else if ((int)((uint)DAT_40008841 * -10) < (int)(short)u16_time_us_40003d30) {
                u16_time_us_40003d30 = u16_time_us_40003d30 - CAL_fuel_learn_time_step;
              }
            }
          }
          else if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == '\0')) {
            if ((int)LEA_fuel_learn_lean_time_bank1 < (int)((uint)DAT_40008840 * 10)) {
              LEA_fuel_learn_lean_time_bank1 =
                   LEA_fuel_learn_lean_time_bank1 + (ushort)CAL_fuel_learn_time_step;
            }
          }
          else if ((int)(short)u16_time_us_40003d30 < (int)((uint)DAT_40008840 * 10)) {
            u16_time_us_40003d30 = u16_time_us_40003d30 + CAL_fuel_learn_time_step;
          }
        }
      }
      else if ((((obd_ii_maf_flow < u16_flow_10mg_s_4000882e) &&
                (u16_flow_10mg_s_40008830 < obd_ii_maf_flow)) &&
               ((int)(uint)u16_load_mg_stroke_40008834 < (int)load_mass_per_stroke_raw)) &&
              ((int)load_mass_per_stroke_raw < (int)(uint)u16_load_mg_stroke_40008832)) {
        if ((DAT_40001e88 & 0x1000) == 0) {
          DAT_40001ecc = DAT_4000883b + DAT_4000cb5a;
          DAT_40001ed9 = DAT_4000cb5a;
        }
        DAT_40001e88 = DAT_40001e88 & 0xd7ff | 0x1410;
        bVar1 = DAT_40001ecc == 0;
        DAT_40001ecc = DAT_40001ecc + -1;
        if (bVar1) {
          DAT_40001ecc = DAT_4000883b;
          if (DAT_40001e94 < (short)(DAT_4000883c ^ 0x8000)) {
            if ((DAT_40001e94 <= (short)(DAT_4000883e ^ 0x8000)) &&
               (DAT_40008843 < obd_ii_fuel_learn_zone_2_bank1)) {
              obd_ii_fuel_learn_zone_2_bank1 = obd_ii_fuel_learn_zone_2_bank1 - 1;
            }
          }
          else if (obd_ii_fuel_learn_zone_2_bank1 < DAT_40008842) {
            obd_ii_fuel_learn_zone_2_bank1 = obd_ii_fuel_learn_zone_2_bank1 + 1;
          }
        }
      }
      else if ((DAT_40008836 < obd_ii_maf_flow) &&
              ((int)(uint)DAT_40008838 < (int)load_mass_per_stroke_raw)) {
        if ((DAT_40001e88 & 0x2000) == 0) {
          DAT_40001ecc = DAT_4000883b + DAT_4000cb5b;
          DAT_40001eda = DAT_4000cb5b;
        }
        DAT_40001e88 = DAT_40001e88 & 0xe7ff | 0x2410;
        bVar1 = DAT_40001ecc == '\0';
        DAT_40001ecc = DAT_40001ecc + -1;
        if (bVar1) {
          DAT_40001ecc = DAT_4000883b;
          if (DAT_40001e94 < (short)(DAT_4000883c ^ 0x8000)) {
            if ((DAT_40001e94 <= (short)(DAT_4000883e ^ 0x8000)) &&
               (DAT_40008845 < obd_ii_fuel_learn_zone_3_bank1)) {
              obd_ii_fuel_learn_zone_3_bank1 = obd_ii_fuel_learn_zone_3_bank1 - 1;
            }
          }
          else if (obd_ii_fuel_learn_zone_3_bank1 < DAT_40008844) {
            obd_ii_fuel_learn_zone_3_bank1 = obd_ii_fuel_learn_zone_3_bank1 + 1;
          }
        }
      }
      else {
        DAT_40001e88 = DAT_40001e88 & 0xc7ff | 0x410;
        DAT_40001eda = '\0';
        DAT_40001ed9 = '\0';
        DAT_40001ed8 = '\0';
      }
    }
    else {
      DAT_40001e88 = DAT_40001e88 & 0xc3ff | 0x10;
      DAT_40001eda = '\0';
      DAT_40001ed9 = '\0';
      DAT_40001ed8 = '\0';
    }
    if ((DAT_40001e92 & 2) == 0) {
      DAT_40001e8a = DAT_40001e8a & 0xc3ef;
      DAT_40001edd = '\0';
      DAT_40001edc = '\0';
      DAT_40001edb = '\0';
    }
    else if (_obd_ii_commanded_evap_purge == 0) {
      if ((((obd_ii_maf_flow < u16_flow_10mg_s_4000882a) &&
           (engine_speed_2 < u16_rspeed_rpm_4000882c)) &&
          ((int)load_mass_per_stroke_raw < (int)(uint)DAT_4000885a)) &&
         ((((engine_operating_state_flags & 8) != 0 &&
           ((short)obd_ii_idle_speed_error___ < (short)(ushort)DAT_4000880a)) &&
          ((DAT_4000880b < current_gear_time && (DAT_400087a9 < u16_time_100ms_40001840)))))) {
        if ((DAT_40001e8a & 0x800) == 0) {
          DAT_40001ecd = DAT_4000883b + DAT_4000cb59;
          DAT_40001edb = DAT_4000cb59;
        }
        DAT_40001e8a = DAT_40001e8a & 0xcfff | 0xc10;
        bVar1 = DAT_40001ecd == '\0';
        DAT_40001ecd = DAT_40001ecd + -1;
        if (bVar1) {
          DAT_40001ecd = DAT_4000883b;
          if (DAT_40001e96 < (short)(DAT_4000883c ^ 0x8000)) {
            if (DAT_40001e96 <= (short)(DAT_4000883e ^ 0x8000)) {
              if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == '\0')) {
                if ((int)((uint)DAT_40008841 * -10) < (int)LEA_ltft_idle_b_adj) {
                  LEA_ltft_idle_b_adj = LEA_ltft_idle_b_adj - (ushort)CAL_fuel_learn_time_step;
                }
              }
              else if ((int)((uint)DAT_40008841 * -10) < (int)(short)u16_time_us_40003d32) {
                u16_time_us_40003d32 = u16_time_us_40003d32 - CAL_fuel_learn_time_step;
              }
            }
          }
          else if (((vvt_intake_mode_flags & 1) == 0) || (DAT_400025cc == '\0')) {
            if ((int)LEA_ltft_idle_b_adj < (int)((uint)DAT_40008840 * 10)) {
              LEA_ltft_idle_b_adj = LEA_ltft_idle_b_adj + (ushort)CAL_fuel_learn_time_step;
            }
          }
          else if ((int)(short)u16_time_us_40003d32 < (int)((uint)DAT_40008840 * 10)) {
            u16_time_us_40003d32 = u16_time_us_40003d32 + CAL_fuel_learn_time_step;
          }
        }
      }
      else if (((obd_ii_maf_flow < u16_flow_10mg_s_4000882e) &&
               (u16_flow_10mg_s_40008830 < obd_ii_maf_flow)) &&
              (((int)(uint)u16_load_mg_stroke_40008834 < (int)load_mass_per_stroke_raw &&
               ((int)load_mass_per_stroke_raw < (int)(uint)u16_load_mg_stroke_40008832)))) {
        if ((DAT_40001e8a & 0x1000) == 0) {
          DAT_40001ecd = DAT_4000883b + DAT_4000cb5a;
          DAT_40001edc = DAT_4000cb5a;
        }
        DAT_40001e8a = DAT_40001e8a & 0xd7ff | 0x1410;
        bVar1 = DAT_40001ecd == '\0';
        DAT_40001ecd = DAT_40001ecd + -1;
        if (bVar1) {
          DAT_40001ecd = DAT_4000883b;
          if (DAT_40001e96 < (short)(DAT_4000883c ^ 0x8000)) {
            if ((DAT_40001e96 <= (short)(DAT_4000883e ^ 0x8000)) &&
               (DAT_40008843 < obd_ii_fuel_learn_zone_2_bank2)) {
              obd_ii_fuel_learn_zone_2_bank2 = obd_ii_fuel_learn_zone_2_bank2 - 1;
            }
          }
          else if (obd_ii_fuel_learn_zone_2_bank2 < DAT_40008842) {
            obd_ii_fuel_learn_zone_2_bank2 = obd_ii_fuel_learn_zone_2_bank2 + 1;
          }
        }
      }
      else if ((DAT_40008836 < obd_ii_maf_flow) &&
              ((int)(uint)DAT_40008838 < (int)load_mass_per_stroke_raw)) {
        if ((DAT_40001e8a & 0x2000) == 0) {
          DAT_40001ecd = DAT_4000883b + DAT_4000cb5b;
          DAT_40001edd = DAT_4000cb5b;
        }
        DAT_40001e8a = DAT_40001e8a & 0xe7ff | 0x2410;
        bVar1 = DAT_40001ecd == '\0';
        DAT_40001ecd = DAT_40001ecd + -1;
        if (bVar1) {
          DAT_40001ecd = DAT_4000883b;
          if (DAT_40001e96 < (short)(DAT_4000883c ^ 0x8000)) {
            if ((DAT_40001e96 <= (short)(DAT_4000883e ^ 0x8000)) &&
               (DAT_40008845 < obd_ii_fuel_learn_zone_3_bank2)) {
              obd_ii_fuel_learn_zone_3_bank2 = obd_ii_fuel_learn_zone_3_bank2 - 1;
            }
          }
          else if (obd_ii_fuel_learn_zone_3_bank2 < DAT_40008844) {
            obd_ii_fuel_learn_zone_3_bank2 = obd_ii_fuel_learn_zone_3_bank2 + 1;
          }
        }
      }
      else {
        DAT_40001e8a = DAT_40001e8a & 0xc7ff | 0x410;
        DAT_40001edd = '\0';
        DAT_40001edc = '\0';
        DAT_40001edb = '\0';
      }
    }
    else {
      DAT_40001e8a = DAT_40001e8a & 0xc3ff | 0x10;
      DAT_40001edd = '\0';
      DAT_40001edc = '\0';
      DAT_40001edb = '\0';
    }
  }
  else {
    DAT_40001e88 = DAT_40001e88 & 0xc3ef;
    DAT_40001e8a = DAT_40001e8a & 0xc3ef;
    DAT_40001eda = '\0';
    DAT_40001ed9 = '\0';
    DAT_40001ed8 = '\0';
    DAT_40001edd = '\0';
    DAT_40001edc = '\0';
    DAT_40001edb = '\0';
  }
  if (((DAT_40001e88 & 0x800) == 0) || (DAT_40001ed8 != '\0')) {
    if (((((DAT_40001e88 & 0x1000) != 0) && (DAT_40001ed9 == '\0')) ||
        (((DAT_40001e88 & 0x2000) != 0 && (DAT_40001eda == '\0')))) && (DAT_40001ea6 != 0xffff)) {
      DAT_40001ea6 = DAT_40001ea6 + 1;
    }
  }
  else if (((DAT_40001ea2 < 0xffff) && ((vvt_intake_mode_flags & 1) != 0)) && (DAT_400025cc != '\0')
          ) {
    DAT_40001ea2 = DAT_40001ea2 + 1;
  }
  else if (DAT_40001e9e != 0xffff) {
    DAT_40001e9e = DAT_40001e9e + 1;
  }
  if (((DAT_40001e8a & 0x800) == 0) || (DAT_40001edb != '\0')) {
    if (((((DAT_40001e8a & 0x1000) != 0) && (DAT_40001edc == '\0')) ||
        (((DAT_40001e8a & 0x2000) != 0 && (DAT_40001edd == '\0')))) && (DAT_40001ea8 != 0xffff)) {
      DAT_40001ea8 = DAT_40001ea8 + 1;
    }
  }
  else if (((DAT_40001ea4 < 0xffff) && ((vvt_intake_mode_flags & 1) != 0)) && (DAT_400025cc != '\0')
          ) {
    DAT_40001ea4 = DAT_40001ea4 + 1;
  }
  else if (DAT_40001ea0 != 0xffff) {
    DAT_40001ea0 = DAT_40001ea0 + 1;
  }
  cVar4 = DAT_40001ed8 + -1;
  if (DAT_40001ed8 == '\0') {
    cVar4 = '\0';
  }
  DAT_40001ed8 = cVar4;
  cVar4 = DAT_40001edb + -1;
  if (DAT_40001edb == '\0') {
    cVar4 = '\0';
  }
  DAT_40001edb = cVar4;
  cVar4 = DAT_40001ed9 + -1;
  if (DAT_40001ed9 == '\0') {
    cVar4 = '\0';
  }
  DAT_40001ed9 = cVar4;
  cVar4 = DAT_40001edc + -1;
  if (DAT_40001edc == '\0') {
    cVar4 = '\0';
  }
  DAT_40001edc = cVar4;
  cVar4 = DAT_40001eda + -1;
  if (DAT_40001eda == '\0') {
    cVar4 = '\0';
  }
  DAT_40001eda = cVar4;
  cVar4 = DAT_40001edd + -1;
  if (DAT_40001edd == '\0') {
    cVar4 = '\0';
  }
  DAT_40001edd = cVar4;
  if ((evap_status_flags & 0x1000) == 0) {
    if (DAT_40001ee6 != 0x3f) {
      bVar5 = DAT_40001ee6 | 4;
      if (DAT_40001ea6 < DAT_4000cac2) {
        bVar5 = DAT_40001ee6;
      }
      bVar6 = bVar5 | 1;
      if (DAT_40001e9e < DAT_4000cac0) {
        bVar6 = bVar5;
      }
      bVar5 = bVar6 | 2;
      if (DAT_40001ea2 < DAT_4000cac0) {
        bVar5 = bVar6;
      }
      bVar6 = bVar5 | 0x20;
      if (DAT_40001ea8 < DAT_4000cac2) {
        bVar6 = bVar5;
      }
      bVar5 = bVar6 | 8;
      if (DAT_40001ea0 < DAT_4000cac0) {
        bVar5 = bVar6;
      }
      DAT_40001ee6 = bVar5 | 0x10;
      if (DAT_40001ea4 < DAT_4000cac0) {
        DAT_40001ee6 = bVar5;
      }
    }
  }
  else {
    DAT_40001ee6 = 0x3f;
  }
  uVar3 = DAT_40001ec0 * (0x100 - (uint)DAT_400086f7);
  DAT_40001ec0 = ((int)uVar3 >> 8) + (uint)((int)uVar3 < 0 && (uVar3 & 0xff) != 0) +
                 (int)stft_bank1 * (uint)DAT_400086f7;
  DAT_40001e94 = (short)(DAT_40001ec0 >> 8) +
                 (ushort)((int)DAT_40001ec0 < 0 && (DAT_40001ec0 & 0xff) != 0);
  uVar3 = DAT_40001ec4 * (0x100 - (uint)DAT_400086f7);
  DAT_40001ec4 = ((int)uVar3 >> 8) + (uint)((int)uVar3 < 0 && (uVar3 & 0xff) != 0) +
                 (int)stft_bank2 * (uint)DAT_400086f7;
  DAT_40001e96 = (short)(DAT_40001ec4 >> 8) +
                 (ushort)((int)DAT_40001ec4 < 0 && (DAT_40001ec4 & 0xff) != 0);
  return;
}



void obd_ii_evaluate_fuel_trim_monitors(void)

{
  byte bVar1;
  byte bVar2;
  
  if ((((((LEA_obd_ii_P0107_flags & 2) == 0) && ((LEA_obd_ii_P0108_flags & 2) == 0)) &&
       ((LEA_obd_ii_P0300_flags & 2) == 0)) &&
      ((((engine_state_failure_flags & 0x10) == 0 && ((LEA_obd_ii_P0111_flags & 2) == 0)) &&
       (((LEA_obd_ii_P0112_flags & 2) == 0 &&
        (((LEA_obd_ii_P0441_flags & 2) == 0 && ((LEA_obd_ii_P0444_flags & 2) == 0)))))))) &&
     (((LEA_obd_ii_P0445_flags & 2) == 0 &&
      (((LEA_obd_ii_P0113_flags & 2) == 0 && ((LEA_obd_ii_P0106_flags & 2) == 0)))))) {
    if ((DAT_40001e90 & ~(ushort)LEA_obd_ii_P0135_flags & ~(ushort)LEA_obd_ii_P0132_flags &
         ~(ushort)LEA_obd_ii_P0131_flags & ~(ushort)LEA_obd_ii_P0133_flags &
         ~(ushort)LEA_obd_ii_P0134_flags & ~(ushort)LEA_obd_ii_P0301_flags &
         ~(ushort)LEA_obd_ii_P0303_flags & ~(ushort)LEA_obd_ii_P0305_flags & 2) != 0) {
      if ((CAL_obd_ii_P0171 & 7) != 0) {
        if ((((DAT_4000ca22 < ltft_bank1) && ((DAT_40001ee6 & 4) != 0)) ||
            (((int)((uint)u8_time_10us_4000ca56 * 10) < (int)LEA_fuel_learn_lean_time_bank1 &&
             ((DAT_40001ee6 & 1) != 0)))) ||
           (((int)((uint)u8_time_10us_4000ca56 * 10) < (int)(short)u16_time_us_40003d30 &&
            ((DAT_40001ee6 & 2) != 0)))) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40000000;
          if ((DAT_40001ee0 != 0) && (DAT_40001ee0 = DAT_40001ee0 - 1, DAT_40001ee0 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0171,&LEA_obd_ii_P0171_flags,&DAT_40004cd0,&DAT_40004cd1,0x171,0
                      );
          }
        }
        else if ((((DAT_40001ee6 & 1) != 0) || ((DAT_40001ee6 & 2) != 0)) &&
                ((DAT_40001ee6 & 4) != 0)) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40000000;
          obd_ii_monitor_pass(&CAL_obd_ii_P0171,&LEA_obd_ii_P0171_flags);
          if (DAT_40001ee0 < DAT_4000d3f8) {
            DAT_40001ee0 = DAT_40001ee0 + 1;
          }
        }
      }
      if ((CAL_obd_ii_P0172 & 7) != 0) {
        if (((((int)ltft_bank1 < -(int)DAT_4000ca24) && ((DAT_40001ee6 & 4) != 0)) ||
            (((int)LEA_fuel_learn_lean_time_bank1 < (int)((uint)DAT_4000ca57 * -10) &&
             ((DAT_40001ee6 & 1) != 0)))) ||
           (((int)(short)u16_time_us_40003d30 < (int)((uint)DAT_4000ca57 * -10) &&
            ((DAT_40001ee6 & 2) != 0)))) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40000000;
          if ((DAT_40001ee1 != 0) && (DAT_40001ee1 = DAT_40001ee1 - 1, DAT_40001ee1 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0172,&LEA_obd_ii_P0172_flags,&DAT_40004cd3,&DAT_40004cd4,0x172,0
                      );
          }
        }
        else if ((((DAT_40001ee6 & 1) != 0) || ((DAT_40001ee6 & 2) != 0)) &&
                ((DAT_40001ee6 & 4) != 0)) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40000000;
          obd_ii_monitor_pass(&CAL_obd_ii_P0172,&LEA_obd_ii_P0172_flags);
          if (DAT_40001ee1 < DAT_4000d3f9) {
            DAT_40001ee1 = DAT_40001ee1 + 1;
          }
        }
      }
    }
    if (((((LEA_obd_ii_P0151_flags & 2) == 0) && ((LEA_obd_ii_P0155_flags & 2) == 0)) &&
        (((DAT_40001e92 & 2) != 0 &&
         (((LEA_obd_ii_P0152_flags & 2) == 0 && ((LEA_obd_ii_P0153_flags & 2) == 0)))))) &&
       (((LEA_obd_ii_P0154_flags & 2) == 0 &&
        ((((LEA_obd_ii_P0302_flags & 2) == 0 && ((LEA_obd_ii_P0304_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0306_flags & 2) == 0)))))) {
      if ((CAL_obd_ii_P0174 & 7) != 0) {
        if ((((DAT_4000ca22 < ltft_bank2) && ((DAT_40001ee6 & 0x20) != 0)) ||
            (((int)((uint)u8_time_10us_4000ca56 * 10) < (int)LEA_ltft_idle_b_adj &&
             ((DAT_40001ee6 & 8) != 0)))) ||
           (((int)((uint)u8_time_10us_4000ca56 * 10) < (int)(short)u16_time_us_40003d32 &&
            ((DAT_40001ee6 & 0x10) != 0)))) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x80000000;
          if ((DAT_40001ee2 != 0) && (DAT_40001ee2 = DAT_40001ee2 - 1, DAT_40001ee2 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0174,&LEA_obd_ii_P0174_flags,&DAT_40004cd6,&DAT_40004cd7,0x174,0
                      );
          }
        }
        else if ((((DAT_40001ee6 & 8) != 0) || ((DAT_40001ee6 & 0x10) != 0)) &&
                ((DAT_40001ee6 & 0x20) != 0)) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x80000000;
          obd_ii_monitor_pass(&CAL_obd_ii_P0174,&LEA_obd_ii_P0174_flags);
          if (DAT_40001ee2 < DAT_4000d430) {
            DAT_40001ee2 = DAT_40001ee2 + 1;
          }
        }
      }
      if ((CAL_obd_ii_P0175 & 7) != 0) {
        if (((((int)ltft_bank2 < -(int)DAT_4000ca24) && ((DAT_40001ee6 & 0x20) != 0)) ||
            (((int)LEA_ltft_idle_b_adj < (int)((uint)DAT_4000ca57 * -10) &&
             ((DAT_40001ee6 & 8) != 0)))) ||
           (((int)(short)u16_time_us_40003d32 < (int)((uint)DAT_4000ca57 * -10) &&
            ((DAT_40001ee6 & 0x10) != 0)))) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x80000000;
          if ((DAT_40001ee3 != 0) && (DAT_40001ee3 = DAT_40001ee3 - 1, DAT_40001ee3 == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0175,&LEA_obd_ii_P0175_flags,&DAT_40004cd9,&DAT_40004cda,0x175,0
                      );
          }
        }
        else if ((((DAT_40001ee6 & 8) != 0) || ((DAT_40001ee6 & 0x10) != 0)) &&
                ((DAT_40001ee6 & 0x20) != 0)) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x80000000;
          obd_ii_monitor_pass(&CAL_obd_ii_P0175,&LEA_obd_ii_P0175_flags);
          if (DAT_40001ee3 < DAT_4000d431) {
            DAT_40001ee3 = DAT_40001ee3 + 1;
          }
        }
      }
    }
    if ((obd_ii_MIL_flags_unknown & 0x80) != 0) {
      obd_ii_MIL_flags_unknown = obd_ii_MIL_flags_unknown & 0xff7f;
      if (((((LEA_obd_ii_P0131_flags & 2) == 0) && ((LEA_obd_ii_P0135_flags & 2) == 0)) &&
          (((coilpack_failure_flags & 0x15) == 0 &&
           (((LEA_obd_ii_P0132_flags & 2) == 0 && ((LEA_obd_ii_P0134_flags & 2) == 0)))))) &&
         (((LEA_obd_ii_P0301_flags & 2) == 0 &&
          ((((LEA_obd_ii_P0303_flags & 2) == 0 && ((LEA_obd_ii_P0305_flags & 2) == 0)) &&
           ((engine_state_failure_flags & 0x2002) == 0)))))) {
        if (((((CAL_obd_ii_P2191 & 7) == 0) || (coolant_temp <= DAT_4000883a)) ||
            ((engine_speed_2 == 0 ||
             (((trqlimit_external_request_flags___ & 0x1f) != 0 || ((inj_flags & 2) != 0)))))) ||
           ((load_mass_per_stroke <= DAT_4000cba6 || (DAT_4000cba2 <= afr_commanded)))) {
          DAT_40001f0d = DAT_4000cba4;
          DAT_40001f0b = DAT_4000cba5;
        }
        else if (obd_ii_o2_sensor1_voltage < CAL_sensor_o2_lean_voltage_threshold) {
          DAT_40001f0b = DAT_4000cba5;
          if (DAT_40001f0d == '\0') {
            DAT_40001f0d = DAT_4000cba4;
            if ((DAT_40001ee4 != 0) && (DAT_40001ee4 = DAT_40001ee4 - 1, DAT_40001ee4 == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P2191,&LEA_obd_ii_P2191_flags,&DAT_40004e71,&DAT_40004e72,
                         0x2191,0);
            }
          }
          else {
            DAT_40001f0d = DAT_40001f0d + -1;
          }
        }
        else {
          DAT_40001f0d = DAT_4000cba4;
          if (DAT_40001f0b == '\0') {
            DAT_40001f0b = DAT_4000cba5;
            if (DAT_40001ee4 < DAT_4000d45b) {
              DAT_40001ee4 = DAT_40001ee4 + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P2191,&LEA_obd_ii_P2191_flags);
            }
          }
          else {
            DAT_40001f0b = DAT_40001f0b + -1;
          }
        }
      }
      if ((((((((LEA_obd_ii_P0151_flags & 2) == 0) && ((LEA_obd_ii_P0155_flags & 2) == 0)) &&
             ((coilpack_failure_flags & 0x2a) == 0)) &&
            (((LEA_obd_ii_P0152_flags & 2) == 0 && ((LEA_obd_ii_P0154_flags & 2) == 0)))) &&
           ((LEA_obd_ii_P0302_flags & 2) == 0)) &&
          (((LEA_obd_ii_P0304_flags & 2) == 0 && ((LEA_obd_ii_P0306_flags & 2) == 0)))) &&
         ((engine_state_failure_flags & 0x2002) == 0)) {
        if (((((CAL_obd_ii_P2193 & 7) == 0) || (coolant_temp <= DAT_4000883a)) ||
            (engine_speed_2 == 0)) ||
           ((((trqlimit_external_request_flags___ & 0x1f) != 0 || ((inj_flags & 2) != 0)) ||
            ((load_mass_per_stroke <= DAT_4000cba6 || (DAT_4000cba2 <= afr_commanded)))))) {
          DAT_40001f0c = DAT_4000cba4;
          DAT_40001f0a = DAT_4000cba5;
        }
        else if (obd_ii_o2_sensor5_voltage < CAL_sensor_o2_lean_voltage_threshold) {
          DAT_40001f0a = DAT_4000cba5;
          if (DAT_40001f0c == '\0') {
            DAT_40001f0c = DAT_4000cba4;
            if ((DAT_40001ee5 != 0) && (DAT_40001ee5 = DAT_40001ee5 - 1, DAT_40001ee5 == 0)) {
              obd_ii_monitor_fail_transition
                        (&CAL_obd_ii_P2193,&LEA_obd_ii_P2193_flags,&DAT_40004e74,&DAT_40004e75,
                         0x2193,0);
            }
          }
          else {
            DAT_40001f0c = DAT_40001f0c + -1;
          }
        }
        else {
          DAT_40001f0c = DAT_4000cba4;
          if (DAT_40001f0a == '\0') {
            DAT_40001f0a = DAT_4000cba5;
            if (DAT_40001ee5 < DAT_4000d45c) {
              DAT_40001ee5 = DAT_40001ee5 + 1;
            }
            else {
              obd_ii_monitor_pass(&CAL_obd_ii_P2193,&LEA_obd_ii_P2193_flags);
            }
          }
          else {
            DAT_40001f0a = DAT_40001f0a + -1;
          }
        }
      }
    }
  }
  if ((CAL_obd_ii_P219A & 7) == 0) {
    DAT_40001f0f = DAT_40001f0f & 0xfe;
    LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags | 0x40;
  }
  else {
    if ((((((LEA_obd_ii_P0116_flags & 2) == 0) && ((LEA_obd_ii_P0117_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0118_flags & 2) == 0)) &&
        ((((LEA_obd_ii_P0101_flags & 2) == 0 && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
         (((LEA_obd_ii_P0103_flags & 2) == 0 &&
          (((LEA_obd_ii_P0335_flags & 2) == 0 && ((LEA_obd_ii_P0500_flags & 2) == 0)))))))) &&
       (((LEA_obd_ii_P0133_flags & 2) == 0 && ((DAT_40001e90 & 8) == 0)))) {
      LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags & 0xbf;
      if ((((((((int)(uint)DAT_4000cbd8 < (int)load_mass_per_stroke_raw) &&
              ((int)load_mass_per_stroke_raw < (int)(uint)DAT_4000cbda)) &&
             (DAT_4000cbdc < engine_speed_3)) &&
            ((engine_speed_3 < DAT_4000cbdd && (DAT_4000cbe4 < coolant_temp)))) &&
           ((DAT_40001ef0 == 0 &&
            ((DAT_4000cbde < obd_ii_maf_flow && (obd_ii_maf_flow < DAT_4000cbe0)))))) &&
          ((DAT_40001e90 & 2) != 0)) && (((DAT_40001f0f & 4) == 0 && ((DAT_40001f0f & 8) == 0)))) {
        DAT_40001f0f = DAT_40001f0f | 1;
      }
      else {
        DAT_40001f0f = DAT_40001f0f & 0xfe;
      }
    }
    else {
      DAT_40001f0f = DAT_40001f0f & 0xfe;
      LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags | 0x40;
    }
    if ((DAT_40001f0f & 2) != 0) {
      bVar2 = DAT_40001f0f & 0xfd;
      LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags | 0x20;
      bVar1 = DAT_40001f0f & 8;
      DAT_40001f0f = bVar2;
      if (bVar1 != 0) {
        obd_ii_monitor_pass(&CAL_obd_ii_P219A,&LEA_obd_ii_P219A_flags);
        DAT_40004bbc = DAT_40001f00;
      }
    }
    if (((((DAT_40001f0f & 4) != 0) && ((LEA_obd_ii_P219A_flags & 2) == 0)) &&
        ((LEA_obd_ii_P1301_flags & 2) != 0)) &&
       ((((LEA_obd_ii_P0301_flags & 2) != 0 || ((LEA_obd_ii_P0303_flags & 2) != 0)) ||
        ((LEA_obd_ii_P0305_flags & 2) != 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P219A,&LEA_obd_ii_P219A_flags,&DAT_40004e77,&DAT_40004e78,0x219a,0);
      DAT_40004bbc = DAT_40001f00;
    }
    if (((LEA_obd_ii_P219A_flags & 4) != 0) && ((CAL_obd_ii_P219A & 8) != 0)) {
      LEA_obd_ii_P219A_flags = LEA_obd_ii_P219A_flags & 0xfb;
      DAT_40001f0f = DAT_40001f0f & 0xf3;
      DAT_40001efe = 0;
      DAT_40001eff = 0;
    }
  }
  if ((CAL_obd_ii_P219B & 7) == 0) {
    DAT_40001f0e = DAT_40001f0e & 0xfe;
    LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags | 0x40;
  }
  else {
    if ((((((LEA_obd_ii_P0116_flags & 2) == 0) && ((LEA_obd_ii_P0117_flags & 2) == 0)) &&
         ((LEA_obd_ii_P0118_flags & 2) == 0)) &&
        ((((LEA_obd_ii_P0101_flags & 2) == 0 && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
         ((((LEA_obd_ii_P0103_flags & 2) == 0 &&
           (((LEA_obd_ii_P0335_flags & 2) == 0 && ((LEA_obd_ii_P0500_flags & 2) == 0)))) &&
          ((LEA_obd_ii_P0153_flags & 2) == 0)))))) && ((DAT_40001e92 & 8) == 0)) {
      LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags & 0xbf;
      if ((((((int)(uint)DAT_4000cbd8 < (int)load_mass_per_stroke_raw) &&
            ((int)load_mass_per_stroke_raw < (int)(uint)DAT_4000cbda)) &&
           (DAT_4000cbdc < engine_speed_3)) &&
          ((engine_speed_3 < DAT_4000cbdd && (DAT_4000cbe4 < coolant_temp)))) &&
         (((DAT_40001ef0 == 0 &&
           ((DAT_4000cbde < obd_ii_maf_flow && (obd_ii_maf_flow < DAT_4000cbe0)))) &&
          (((DAT_40001e92 & 2) != 0 && (((DAT_40001f0e & 4) == 0 && ((DAT_40001f0e & 8) == 0))))))))
      {
        DAT_40001f0e = DAT_40001f0e | 1;
      }
      else {
        DAT_40001f0e = DAT_40001f0e & 0xfe;
      }
    }
    else {
      DAT_40001f0e = DAT_40001f0e & 0xfe;
      LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags | 0x40;
    }
    if ((DAT_40001f0e & 2) != 0) {
      bVar2 = DAT_40001f0e & 0xfd;
      LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags | 0x20;
      bVar1 = DAT_40001f0e & 8;
      DAT_40001f0e = bVar2;
      if (bVar1 != 0) {
        obd_ii_monitor_pass(&CAL_obd_ii_P219B,&LEA_obd_ii_P219B_flags);
        DAT_40004bbe = DAT_40001ef4;
      }
    }
    if (((((DAT_40001f0e & 4) != 0) && ((LEA_obd_ii_P219B_flags & 2) == 0)) &&
        ((LEA_obd_ii_P1301_flags & 2) != 0)) &&
       ((((LEA_obd_ii_P0302_flags & 2) != 0 || ((LEA_obd_ii_P0304_flags & 2) != 0)) ||
        ((LEA_obd_ii_P0306_flags & 2) != 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P219B,&LEA_obd_ii_P219B_flags,&DAT_40004e7a,&DAT_40004e7b,0x219b,0);
      DAT_40004bbe = DAT_40001ef4;
    }
    if (((LEA_obd_ii_P219B_flags & 4) != 0) && ((CAL_obd_ii_P219B & 8) != 0)) {
      LEA_obd_ii_P219B_flags = LEA_obd_ii_P219B_flags & 0xfb;
      DAT_40001f0e = DAT_40001f0e & 0xf3;
      DAT_40001ef2 = 0;
      DAT_40001ef3 = 0;
    }
  }
  if ((((DAT_40001ee0 == 0) || (DAT_40001ee2 == 0)) || (DAT_40001ee4 == 0)) || (DAT_40001ee5 == 0))
  {
    engine_state_failure_flags = engine_state_failure_flags | 0x80000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfff7ffff;
  }
  return;
}



void obd_ii_mixture_tests(void)

{
  bool bVar1;
  longlong lVar2;
  
  lVar2 = libc_abs((ulonglong)DAT_40002198);
  if (((((int)(uint)DAT_4000cbe5 < (int)lVar2) || (DAT_40001d4f != '\0')) ||
      ((DAT_40001e90 & 4) != 0)) ||
     (lVar2 = libc_abs((longlong)(short)engine_speed_delta100ms),
     (int)(uint)DAT_4000cbe2 < (int)lVar2)) {
    DAT_40001ef0 = DAT_4000cbe6;
  }
  else {
    bVar1 = DAT_40001ef0 == 0;
    DAT_40001ef0 = DAT_40001ef0 + -1;
    if (bVar1) {
      DAT_40001ef0 = 0;
    }
  }
  bVar1 = DAT_40001eee == '\0';
  DAT_40001eee = DAT_40001eee + -1;
  if (bVar1) {
    DAT_40001eee = '\0';
  }
  if (DAT_40001eee == '\0') {
    DAT_40001eee = DAT_4000cbec;
    if (((DAT_40001f0f & 1) == 0) || ((LEA_obd_ii_P219A_flags & 4) != 0)) {
      u16_voltage_5_1023v_40001f08 = 0;
    }
    else {
      o2_imbalance_window_update
                ((u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x16] >> 4),
                 &u16_voltage_5_1023v_40001f08,&u16_afr_1_100_40001f04,&DAT_40001f02,&DAT_40001f00,
                 &DAT_40001f0f,&DAT_40001eff,&DAT_40001efe);
    }
    if (((DAT_40001f0e & 1) == 0) || ((LEA_obd_ii_P219B_flags & 4) != 0)) {
      u16_voltage_5_1023v_40001efc = 0;
    }
    else {
      o2_imbalance_window_update
                ((u16_voltage_5_1023v)((int)(uint)adc_dma_dest[0x17] >> 4),
                 &u16_voltage_5_1023v_40001efc,&u16_afr_1_100_40001ef8,&DAT_40001ef6,&DAT_40001ef4,
                 &DAT_40001f0e,&DAT_40001ef3,&DAT_40001ef2);
    }
  }
  return;
}



// Its part of the O2 sensor rationality/imbalance monitor. It compares the current upstream O2
// voltage delta to the previous sample, accumulates absolute differences over a window, computes a
// scaled average, and bumps pass/fail counters to set monitor flags.
// 

void o2_imbalance_window_update
               (u16_voltage_5_1023v volt_cur,u16_voltage_5_1023v *volt_last,u16_afr_1_100 *param_3,
               ushort *param_4,ushort *param_5,byte *flags,char *param_7,char *param_8)

{
  longlong _afr_difference_this_sample;
  
  if (*volt_last != 0) {
    afr_diag_current =
         lookup_2D_uint16_interpolated
                   (16,volt_cur,CAL_sensor_o2_afr_diag_scaling,
                    CAL_sensor_o2_afr_diag_scaling_X_voltage);
    afr_diag_last =
         lookup_2D_uint16_interpolated
                   (16,*volt_last,CAL_sensor_o2_afr_diag_scaling,
                    CAL_sensor_o2_afr_diag_scaling_X_voltage);
    _afr_difference_this_sample = libc_abs((ulonglong)afr_diag_current - (ulonglong)afr_diag_last);
    afr_delta_diag = (u16_afr_1_100)_afr_difference_this_sample;
    *(uint *)param_3 = *(int *)param_3 + (uint)afr_delta_diag;
    *param_4 = *param_4 + 1;
    if (*param_4 == DAT_4000cbe8) {
      *param_5 = (ushort)((uint)(*(int *)param_3 * 1000) / (uint)*param_4);
      *param_4 = 0;
      param_3[0] = 0;
      param_3[1] = 0;
      if (DAT_4000cbea < *param_5) {
        *param_8 = *param_8 + 1;
        if (*param_8 == DAT_4000cbd7) {
          *flags = *flags | 6;
        }
      }
      else {
        *param_7 = *param_7 + 1;
        if (*param_7 == DAT_4000cbd7) {
          *flags = *flags | 10;
        }
      }
    }
  }
  *volt_last = volt_cur;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00073c98(void)

{
  DAT_40001ee0 = DAT_4000d3f8;
  DAT_40001ee1 = DAT_4000d3f9;
  DAT_40001ee2 = DAT_4000d430;
  DAT_40001ee3 = DAT_4000d431;
  DAT_40001ee4 = DAT_4000d45b;
  DAT_40001ee5 = DAT_4000d45c;
  obdii_update_dtc_state(&CAL_obd_ii_P0171,&LEA_obd_ii_P0171_flags,0x171,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0172,&LEA_obd_ii_P0172_flags,0x172,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0174,&LEA_obd_ii_P0174_flags,0x174,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0175,&LEA_obd_ii_P0175_flags,0x175,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2191,&LEA_obd_ii_P2191_flags,0x2191,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2193,&LEA_obd_ii_P2193_flags,0x2193,0);
  obdii_update_dtc_state(&CAL_obd_ii_P219A,&LEA_obd_ii_P219A_flags,0x219a,0);
  obdii_update_dtc_state(&CAL_obd_ii_P219B,&LEA_obd_ii_P219B_flags,0x219b,0);
  DAT_40001f0c = DAT_4000cba4;
  DAT_40001f0d = DAT_4000cba4;
  DAT_40001f0a = DAT_4000cba5;
  DAT_40001f0b = DAT_4000cba5;
  DAT_40001ea0 = 0;
  DAT_40001e9e = 0;
  DAT_40001ea4 = 0;
  DAT_40001ea2 = 0;
  DAT_40001ea8 = 0;
  DAT_40001ea6 = 0;
  DAT_40001f0e = 0;
  DAT_40001f0f = 0;
  DAT_40001ee6 = 0;
  u8_time_100ms_40002330 = DAT_400087fe;
  evap_status_flags = evap_status_flags & 0b1110011111111111;
  u16_voltage_5_1023v_40001f08 = 0;
  _u16_afr_1_100_40001f04 = 0;
  DAT_40001f02 = 0;
  DAT_40001f00 = 0;
  DAT_40001eff = 0;
  DAT_40001efe = 0;
  u16_voltage_5_1023v_40001efc = 0;
  _u16_afr_1_100_40001ef8 = 0;
  DAT_40001ef6 = 0;
  DAT_40001ef4 = 0;
  DAT_40001ef3 = 0;
  DAT_40001ef2 = 0;
  return;
}



void FUN_00073f54(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0171,&LEA_obd_ii_P0171_flags,&DAT_40004cd0,&DAT_40004cd1,0x171,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0172,&LEA_obd_ii_P0172_flags,&DAT_40004cd3,&DAT_40004cd4,0x172,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0174,&LEA_obd_ii_P0174_flags,&DAT_40004cd6,&DAT_40004cd7,0x174,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0175,&LEA_obd_ii_P0175_flags,&DAT_40004cd9,&DAT_40004cda,0x175,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2191,&LEA_obd_ii_P2191_flags,&DAT_40004e71,&DAT_40004e72,0x2191,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2193,&LEA_obd_ii_P2193_flags,&DAT_40004e74,&DAT_40004e75,0x2193,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P219A,&LEA_obd_ii_P219A_flags,&DAT_40004e77,&DAT_40004e78,0x219a,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P219B,&LEA_obd_ii_P219B_flags,&DAT_40004e7a,&DAT_40004e7b,0x219b,0);
  return;
}



void FUN_00074190(void)

{
  uint32_t uVar1;
  int i;
  
  DAT_40001f10 = 0;
  init_esci_a();
  siu_pcr[0xc6] = 0x100;
  uVar1 = SIU_ECCR;
  SIU_ECCR = uVar1 & 0xffffc0ff | 0x200;
  siu_pcr[0xd6] = 0x2cc;
  siu_gpdo[0xd1] = '\x01';
  siu_pcr[0xd1] = 0x2cc;
  siu_gpdo[0xce] = '\0';
  siu_pcr[0xce] = 0x2cc;
  siu_gpdo[0x16] = '\0';
  siu_pcr[0x16] = 0x2cc;
  for (i = 0; i < 1000; i = i + 1) {
    watchdog_retrigger();
  }
  siu_gpdo[0xce] = '\x01';
  DAT_40001f20 = 0;
  DAT_40001f21 = 0;
  DAT_400050e8 = 0x25fe;
  return;
}



void FUN_00074278(void)

{
  siu_gpdo[0xce] = 0;
  return;
}



void FUN_00074288(void)

{
  siu_gpdo[0xce] = 1;
  return;
}



ulonglong calc_load_scale_unknown_tps___(void)

{
  return (ulonglong)(LZCOUNT(&UNK_ffff25ff + DAT_400050e8) << 32) >> 37;
}



void service_tick_unknown(void)

{
  if (timer_unknown5 == 0) {
    timer_unknown5 = 20;
    FUN_000be558();
    if (u8_time_5ms_400015b4 == 0) {
      if (DAT_40001f14 != -1) {
        DAT_40001f14 = DAT_40001f14 + 1;
      }
    }
    else if (((DAT_400050eb & 0b10000000) != 0) && (DAT_40001f12 != -1)) {
      DAT_40001f12 = DAT_40001f12 + 1;
    }
  }
  FUN_000be608();
  return;
}



// WARNING: Unable to use type for symbol _temp_engine_air

void idle(void)

{
  ushort uVar1;
  u16_rspeed_rpm uVar2;
  u8_rspeed_4rpm _idle_comp_pps;
  byte bVar9;
  u8_rspeed_4rpm _idle_comp_carspeed_raw;
  u16_rspeed_rpm idle_target_rpm;
  u16_rspeed_rpm idle_target_rpm_coolant_fallback;
  short _engine_speed_unknown;
  uint8_t uVar3;
  u16_rspeed_rpm uVar5;
  uint uVar6;
  uint32_t uVar7;
  uint16_t _idle_comp_baro2;
  uint16_t _idle_comp_ecu_v_unknown;
  u8_factor_1_255 _idle_comp_tps_while_cranking;
  uint16_t uVar8;
  longlong lVar4;
  ushort baro_ambient;
  int iVar10;
  uint uVar11;
  u8_temp_5_8_40c _temp_engine_air;
  
  iVar10 = 8;
  _idle_comp_pps =
       lookup_2D_uint8_interpolated
                 (8,(uint8_t)((short)accel_pedal_pos2 >> 2),CAL_idle_comp_accel_pedal_pos,
                  idle_comp_accel_pedal_pos_X_pps);
  idle_comp_accel_pedal_pos = _idle_comp_pps;
  if ((engine_state_failure_flags & 1) == 0) {
    idle_comp_iat =
         lookup_2D_uint8_interpolated(8,temp_engine_air,CAL_idle_comp_iat,CAL_idle_comp_iat_X_iat);
  }
  else {
    idle_comp_iat = 0;
  }
  _temp_engine_air = temp_engine_air;
  if ((((COD_base[1] >> 10 & 1) != 0) && ((engine_state_failure_flags & 0x40000000) == 0)) &&
     ((engine_state_failure_flags & 0x20000000) == 0)) {
    _temp_engine_air = air_temp_intake_unknown;
  }
  if ((((COD_base[0] >> 28 & 7) < 2) || (DAT_400028ac == 0)) || (DAT_400028a1 == 5)) {
    idle_comp_timer_carspeed = 0;
  }
  else if ((COD_base[0] >> 0xd & 7) == 1) {
    bVar9 = lookup_3D_uint8_interpolated
                      (8,8,(ushort)_temp_engine_air,(ushort)timer_above_min_carspeed,
                       s______ddd_____ddd_____ddd_____ddd_4000e378,s_sssssx_4000e368,s__4000e370);
    idle_comp_timer_carspeed = (ushort)bVar9 << 3;
  }
  else {
    bVar9 = lookup_3D_uint8_interpolated
                      (8,8,(ushort)_temp_engine_air,(ushort)timer_above_min_carspeed,
                       s_XXXXXdddXXXXXdddXXXXXdddXXXXXddd_40009f5a,s_sssssx_40009f4a,s__40009f52);
    idle_comp_timer_carspeed = (ushort)bVar9 << 3;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    _idle_comp_carspeed_raw =
         lookup_2D_uint8_interpolated
                   (8,car_speed_u8,CAL_idle_comp_carspeed_ips,CAL_idle_comp_carspeed_ips_X_carspeed)
    ;
  }
  else {
    _idle_comp_carspeed_raw =
         lookup_2D_uint8_interpolated
                   (8,car_speed_u8,CAL_idle_comp_carspeed_manual,
                    CAL_idle_comp_carspeed_manual_X_carspeed);
  }
  idle_comp_car_speed = (ushort)_idle_comp_carspeed_raw << 2;
  if ((short)u16_rspeed_rpm_40001f5c < (short)idle_comp_car_speed) {
    u16_rspeed_rpm_40001f5c = idle_comp_car_speed;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if ((ips_state_flags == 0) || (ips_state_flags == 9)) {
      bVar9 = lookup_2D_uint8_interpolated
                        (16,coolant_temp,CAL_idle_target_ips,CAL_idle_target_ips_X_coolant_temp);
      idle_target_rpm = (ushort)bVar9 * 4 + 500;
      bVar9 = lookup_2D_uint8_interpolated
                        (16,CAL_idle_coolant_fallback_temp___,CAL_idle_target_ips_coolant_fallback,
                         CAL_idle_target_ips_coolant_fallback_X_coolant_temp);
      idle_target_rpm_coolant_fallback = (ushort)bVar9 * 4 + 500;
      idle_target_mode___ = 2;
    }
    else {
      bVar9 = lookup_2D_uint8_interpolated
                        (16,coolant_temp,CAL_idle_target_ips_coolant_fallback,
                         CAL_idle_target_ips_coolant_fallback_X_coolant_temp);
      idle_target_rpm = (ushort)bVar9 * 4 + 500;
      bVar9 = lookup_2D_uint8_interpolated
                        (16,CAL_idle_coolant_fallback_temp___,CAL_idle_target_ips_coolant_fallback,
                         CAL_idle_target_ips_coolant_fallback_X_coolant_temp);
      idle_target_rpm_coolant_fallback = (ushort)bVar9 * 4 + 500;
      idle_target_mode___ = 1;
    }
  }
  else if ((vehicle_mode_flags & 0b00010000) == 0) {
    bVar9 = lookup_2D_uint8_interpolated
                      (16,coolant_temp,CAL_idle_target_manual_tour,
                       CAL_idle_target_manual_tour_X_coolant_temp);
    idle_target_rpm = (ushort)bVar9 * 4 + 500;
    bVar9 = lookup_2D_uint8_interpolated
                      (16,CAL_idle_coolant_fallback_temp___,CAL_idle_target_manual_tour,
                       CAL_idle_target_manual_tour_X_coolant_temp);
    idle_target_rpm_coolant_fallback = (ushort)bVar9 * 4 + 500;
    idle_target_mode___ = 3;
  }
  else {
    bVar9 = lookup_2D_uint8_interpolated
                      (16,coolant_temp,CAL_idle_target_manual_sport,
                       CAL_idle_target_manual_sport_X_coolant_temp);
    idle_target_rpm = (ushort)bVar9 * 4 + 500;
    bVar9 = lookup_2D_uint8_interpolated
                      (16,CAL_idle_coolant_fallback_temp___,CAL_idle_target_manual_sport,
                       CAL_idle_target_manual_sport_X_coolant_temp);
    idle_target_rpm_coolant_fallback = (ushort)bVar9 * 4 + 500;
    idle_target_mode___ = 4;
  }
  if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
    if (coolant_temp < u8_temp_5_8_40c_40008913) {
      uVar11 = (short)LEA_idle_cold_learning_coolant * 10;
    }
    else if ((coolant_temp < u8_temp_5_8_40c_40008914) && (u8_temp_5_8_40c_40008913 <= coolant_temp)
            ) {
      uVar11 = ((int)(short)LEA_idle_cold_learning_coolant +
               (int)(((int)uint16_t - (int)(short)LEA_idle_cold_learning_coolant) *
                    ((uint)coolant_temp - (uint)u8_temp_5_8_40c_40008913)) /
               (int)((uint)u8_temp_5_8_40c_40008914 - (uint)u8_temp_5_8_40c_40008913)) * 10;
    }
    else {
      uVar11 = uint16_t * 10;
    }
  }
  else if (coolant_temp < u8_temp_5_8_40c_40008913) {
    uVar11 = (short)LEA_idle_cold_learning_coolant_ac_on * 10;
  }
  else if ((coolant_temp < u8_temp_5_8_40c_40008914) && (u8_temp_5_8_40c_40008913 <= coolant_temp))
  {
    uVar11 = ((int)(short)LEA_idle_cold_learning_coolant_ac_on +
             (int)(((int)(short)LEA_idle_learn_ac_on -
                   (int)(short)LEA_idle_cold_learning_coolant_ac_on) *
                  ((uint)coolant_temp - (uint)u8_temp_5_8_40c_40008913)) /
             (int)((uint)u8_temp_5_8_40c_40008914 - (uint)u8_temp_5_8_40c_40008913)) * 10;
  }
  else {
    uVar11 = (short)LEA_idle_learn_ac_on * 10;
  }
  if (idle_comp_timer_carspeed == 0) {
    u16_rspeed_rpm_40001f7e = 0;
  }
  else {
    u16_rspeed_rpm_40001f7e = idle_comp_timer_carspeed - (idle_target_rpm + idle_comp_iat);
    if ((short)u16_rspeed_rpm_40001f7e < 1) {
      u16_rspeed_rpm_40001f7e = 0;
    }
  }
  uVar5 = u16_rspeed_rpm_40001f7e;
  if (idle_target_mode___ == DAT_40001f81) {
    uVar5 = u16_rspeed_rpm_40001f8a;
  }
  DAT_40001f81 = idle_target_mode___;
  obd_ii_idle_speed_target___ =
       uVar5 + u16_rspeed_rpm_40001f5c + u16_rspeed_rpm_40001f70 + idle_comp_iat + idle_target_rpm;
  idle_speed_target_tps_compensated =
       (ushort)idle_comp_accel_pedal_pos * 4 +
       uVar5 + u16_rspeed_rpm_40001f5c + u16_rspeed_rpm_40001f70 + idle_comp_iat + idle_target_rpm;
  u16_rspeed_rpm_40001f2c = (ushort)idle_comp_iat + uVar5 + idle_target_rpm_coolant_fallback;
  obd_ii_idle_speed_error___ = engine_speed_2 - obd_ii_idle_speed_target___;
  idle_speed_error_tps_compensated = engine_speed_2 - idle_speed_target_tps_compensated;
  u16_rspeed_rpm_ARRAY_40001f4c[0] = obd_ii_idle_speed_target___ + (ushort)DAT_400087c8 * 8;
  u16_rspeed_rpm_ARRAY_40001f4c[1] = obd_ii_idle_speed_target___ + (ushort)DAT_400087c7 * 8;
  u16_rspeed_rpm_ARRAY_40001f4c[2] = obd_ii_idle_speed_target___ + (ushort)DAT_40008765 * 8;
  u16_rspeed_rpm_ARRAY_40001f4c[3] = obd_ii_idle_speed_target___ + (ushort)DAT_40008764 * 8;
  u16_rspeed_rpm_40001f8a = uVar5;
  if (idle_target_mode___ - 3 < 2) {
    uVar8 = lookup_2D_uint16_interpolated
                      (16,obd_ii_idle_speed_target___,uint16_t_ARRAY_40009e6a,
                       (uint16_t *)&DAT_40009e4a);
    if ((vvt_intake_mode_flags & 1) == 0) {
      uVar6 = 0;
      if (DAT_40001f7a != '\0') {
        DAT_40001f7b = 1;
        DAT_40001f7a = '\0';
      }
    }
    else {
      DAT_40001f7a = '\x01';
      uVar6 = lookup_3D_uint32_interpolated
                        (8,8,(uint)DAT_400025cc,(uint)obd_ii_idle_speed_target___,
                         (uint16_t *)&DAT_4000cd34,(uint16_t *)&DAT_4000cd14,
                         (uint16_t *)&DAT_4000cd24);
    }
    DAT_40001f68 = uVar8;
    if ((uVar6 & 0xffff) < 0x9f7) {
      DAT_40001f74 = (ushort)uVar6;
    }
    else {
      DAT_40001f74 = 0x9f6;
    }
  }
  else if (idle_target_mode___ == 1) {
    DAT_40001f68 = lookup_2D_uint16_interpolated
                             (16,obd_ii_idle_speed_target___,(uint16_t *)&DAT_4000bfda,
                              (uint16_t *)&DAT_4000bfba);
    if (DAT_40001f7a != '\0') {
      DAT_40001f7b = 1;
      DAT_40001f7a = '\0';
    }
  }
  else if (idle_target_mode___ == 2) {
    DAT_40001f68 = lookup_2D_uint16_interpolated
                             (16,obd_ii_idle_speed_target___,(uint16_t *)&DAT_4000c74a,
                              (uint16_t *)&DAT_4000c72a);
    if (DAT_40001f7a != '\0') {
      DAT_40001f7b = 1;
      DAT_40001f7a = '\0';
    }
  }
  else {
    DAT_40001f68 = lookup_2D_uint16_interpolated
                             (16,obd_ii_idle_speed_target___,uint16_t_ARRAY_40009e6a,
                              (uint16_t *)&DAT_40009e4a);
  }
  if (0x9f6 < DAT_40001f68) {
    DAT_40001f68 = 0x9f6;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if (maf_accumulated2 < 0x400) {
      DAT_40001f6a = lookup_3D_uint8_interpolated
                               (16,8,(ushort)coolant_temp,
                                (ushort)((int)(uint)maf_accumulated2 >> 2) & 0xff,&DAT_4000e1a8,
                                s_0_P_p_4000e190,&DAT_4000e1a0);
    }
    else {
      DAT_40001f6a = lookup_3D_uint8_interpolated
                               (16,8,(ushort)coolant_temp,0xff,&DAT_4000e1a8,s_0_P_p_4000e190,
                                &DAT_4000e1a0);
    }
  }
  else if (maf_accumulated2 < 0x400) {
    DAT_40001f6a = lookup_3D_uint8_interpolated
                             (16,8,(ushort)coolant_temp,
                              (ushort)((int)(uint)maf_accumulated2 >> 2) & 0xff,&DAT_400091fa,
                              s_0_P_p_400091e2,&DAT_400091f2);
  }
  else {
    DAT_40001f6a = lookup_3D_uint8_interpolated
                             (16,8,(ushort)coolant_temp,0xff,&DAT_400091fa,s_0_P_p_400091e2,
                              &DAT_400091f2);
  }
  if (((engine_operating_state_flags & 1) != 0) &&
     (((COD_base[0] >> 0x19 & 7) == 0 || ((obd_ii_cruise_status & 2) == 0)))) {
    DAT_40001f6e = vacuum_mbar;
    if (0x3ff < vacuum_mbar) {
      DAT_40001f6e = 0x3ff;
    }
    DAT_40001f92 = manifold_pressure_ratio_mbar;
  }
  if (u16_rspeed_rpm_ARRAY_40001f4c[0] < engine_speed_2) {
    DAT_40001f8e = obd_ii_idle_air_output + flow_offset_car_moving;
  }
  else {
    DAT_40001f8e = obd_ii_idle_air_output;
    if (u16_rspeed_rpm_ARRAY_40001f4c[1] <= engine_speed_2) {
      DAT_40001f8e = obd_ii_idle_air_output +
                     (short)(((longlong)(int)(uint)flow_offset_car_moving *
                              (longlong)
                              (int)((uint)engine_speed_2 - (uint)u16_rspeed_rpm_ARRAY_40001f4c[1]) &
                             0xffffffffU) /
                            ((ulonglong)u16_rspeed_rpm_ARRAY_40001f4c[0] -
                             (ulonglong)u16_rspeed_rpm_ARRAY_40001f4c[1] & 0xffffffff));
    }
  }
  uVar7 = sqrt_integer((uint)DAT_40001f42 *
                       (int)(((longlong)
                              (((int)((uint)temp_engine_air * 4 + (uint)temp_engine_air) >> 3) +
                              0xe9) * (longlong)
                                      (int)((((uint)DAT_40001f42 * 0x3f5) /
                                            (uint)obd_ii_atmospheric_baro) * 0x3f5) & 0xffffffffU) /
                            ((ulonglong)obd_ii_atmospheric_baro * 0x12a)));
  DAT_40001f78 = 5100;
  if ((undefined *)(uVar7 & 0xffff) < &DAT_000013ec) {
    DAT_40001f78 = (ushort)uVar7;
  }
  uVar7 = lookup_3D_uint32_interpolated
                    (8,8,(uint)DAT_40001f78,(uint)DAT_40001f92,(uint16_t *)&PTR_DAT_400089ea,
                     (uint16_t *)&DAT_400089ca,(uint16_t *)&DAT_400089da);
  idle_tps_calculated = (u16_factor_1_1023)uVar7;
  _idle_comp_baro2 =
       lookup_2D_uint16_interpolated
                 (8,obd_ii_atmospheric_baro,(uint16_t *)CAL_idle_comp_baro2,
                  CAL_idle_comp_baro2_X_ambiant_baro);
  DAT_40001f66 = _idle_comp_baro2 ^ 0x8000;
  if ((short)DAT_40001f66 < -1280) {
    DAT_40001f66 = 0xfb00;
  }
  else if (0x500 < (short)DAT_40001f66) {
    DAT_40001f66 = 0x500;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    DAT_40001f5e = lookup_2D_uint16_interpolated
                             (8,car_speed_div100,USHORT_ARRAY_4000acc2,
                              u16_speed_1_100kph_ARRAY_4000acb2);
  }
  else {
    DAT_40001f5e = lookup_2D_uint16_interpolated
                             (8,car_speed_div100,USHORT_ARRAY_4000a952,
                              u16_speed_1_100kph_ARRAY_4000a942);
  }
  if (0x9f6 < DAT_40001f5e) {
    DAT_40001f5e = 0x9f6;
  }
  _idle_comp_ecu_v_unknown =
       lookup_2D_uint16_interpolated
                 (8,sensor_adc_ecu_voltage,(uint16_t *)CAL_idle_comp_ecu_v_unknown,
                  CAL_idle_comp_ecu_v_unknown_X_voltage);
  idle_comp_ecu_v_unknown = _idle_comp_ecu_v_unknown ^ 0x8000;
  if ((short)idle_comp_ecu_v_unknown < -1280) {
    idle_comp_ecu_v_unknown = 0xfb00;
  }
  else if (0x500 < (short)idle_comp_ecu_v_unknown) {
    idle_comp_ecu_v_unknown = 0x500;
  }
  baro_ambient = (ushort)((int)(uint)obd_ii_atmospheric_baro >> 2) & 0xff;
  if (1023 < obd_ii_atmospheric_baro) {
    baro_ambient = 255;
  }
  _idle_comp_tps_while_cranking =
       lookup_3D_uint8_interpolated
                 (4,16,baro_ambient,(ushort)coolant_temp,CAL_idle_comp_tps_while_cranking,
                  CAL_idle_comp_tps_while_cranking_X_baro,
                  CAL_idle_comp_tps_while_cranking_Y_coolant_temp);
  tps_request_idle_cranking___ = (ushort)_idle_comp_tps_while_cranking << 2;
  if (car_speed_u8 < CAL_idle_car_moving_threshold) {
    flow_offset_car_moving = 0;
  }
  else {
    flow_offset_car_moving =
         lookup_2D_uint16_interpolated
                   (16,engine_speed_2,CAL_idle_comp_while_moving,CAL_idle_comp_while_moving_X_rpm);
  }
  if (5100 < flow_offset_car_moving) {
    flow_offset_car_moving = 5100;
  }
  uVar8 = lookup_2D_uint16_interpolated
                    (16,obd_ii_idle_speed_error___ + 32768,CAL_idle_air_control_proportional,
                     CAL_idle_air_control_proportional_X_speed_error);
  idle_air_control_proportional_calc = uVar8 ^ 0x8000;
  if ((short)idle_air_control_proportional_calc < -0x500) {
    idle_air_control_proportional_calc = 0xfb00;
  }
  else if (0x500 < (short)idle_air_control_proportional_calc) {
    idle_air_control_proportional_calc = 0x500;
  }
  uVar8 = lookup_2D_uint16_interpolated
                    (16,obd_ii_idle_speed_error___ + 32768,CAL_idle_error_correction_unknown,
                     CAL_idle_error_correction_unknown_X_speed_error);
  DAT_40001f5a = uVar8 ^ 0x8000;
  if ((short)DAT_40001f5a < -0x9f6) {
    DAT_40001f5a = 0xf60a;
  }
  else if (0x9f6 < (short)DAT_40001f5a) {
    DAT_40001f5a = 0x9f6;
  }
  bVar9 = lookup_2D_uint8_interpolated('\b',engine_speed_3,&DAT_40009402,&DAT_400093fa);
  DAT_40001f90 = (ushort)bVar9 * 10;
  _engine_speed_unknown = u16_rspeed_rpm_40001f5c + DAT_4000872c + idle_target_rpm;
  if ((((((engine_operating_state_flags & 1) == 0) ||
        (runtime_since_start <= (uint)u8_time_50ms_400088f5 * 10)) ||
       ((int)(uint)engine_speed_2 <=
        (int)((int)(short)obd_ii_idle_speed_target___ + (uint)DAT_4000872c))) ||
      ((int)-(uint)DAT_4000872d <= DAT_400018e8)) &&
     (((engine_operating_state_flags & 0x10) == 0 || (u16_rspeed_rpm_40001f70 == 0)))) {
    engine_operating_state_flags = engine_operating_state_flags & 0xffef;
  }
  else {
    uVar2 = u16_rspeed_rpm_40001f70;
    if (((engine_operating_state_flags & 0x10) == 0) &&
       ((DAT_40001f4a = (ushort)DAT_4000872f * 10, uVar2 = DAT_40001f90,
        (int)(uint)engine_speed_2 <= (int)(short)DAT_40001f90 + (int)_engine_speed_unknown &&
        (engine_is_running != false)))) {
      if ((int)_engine_speed_unknown < (int)(uint)engine_speed_2) {
        uVar2 = engine_speed_2 - _engine_speed_unknown;
      }
      else {
        uVar2 = u16_rspeed_rpm_40001f70;
        if ((engine_operating_state_flags & 8) == 0) {
          uVar2 = (ushort)DAT_4000872c;
        }
      }
    }
    u16_rspeed_rpm_40001f70 = uVar2;
    engine_operating_state_flags = engine_operating_state_flags | 0x10;
  }
  if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
    DAT_40001f60 = 0;
  }
  else {
    DAT_40001f60 = lookup_2D_uint16_interpolated
                             (8,ac_load2____,(uint16_t *)&DAT_400092aa,(uint16_t *)&DAT_4000929a);
  }
  if (0x9f6 < DAT_40001f60) {
    DAT_40001f60 = 0x9f6;
  }
  if (cooling_fan1 == '\0') {
    DAT_40001f62 = 0;
  }
  else {
    DAT_40001f62 = lookup_2D_uint16_interpolated
                             (8,(ushort)cooling_fan1,(uint16_t *)&DAT_40009eea,
                              (uint16_t *)&DAT_40009eda);
  }
  if (0x9f6 < DAT_40001f62) {
    DAT_40001f62 = 0x9f6;
  }
  if (((COD_base[1] >> 0x1a & 1) == 0) || ((cooling_system_flags & 0x400) == 0)) {
    DAT_40001f64 = 0;
  }
  else {
    DAT_40001f64 = lookup_2D_uint16_interpolated
                             (8,(ushort)fan_engine_bay_timer____,(uint16_t *)u__400092ca,
                              (uint16_t *)&DAT_400092ba);
  }
  if (0x9f6 < DAT_40001f64) {
    DAT_40001f64 = 0x9f6;
  }
  if (((ign_flags_unknown & 1) == 0) || (DAT_400088e8 == '\0')) {
    DAT_40001f72 = 0;
  }
  else {
    DAT_40001f72 = lookup_2D_uint16_interpolated
                             (8,(ushort)(byte)ign_comp_startup,(uint16_t *)&DAT_4000944a,
                              (uint16_t *)&DAT_4000943a);
  }
  if (0x9f6 < DAT_40001f72) {
    DAT_40001f72 = 0x9f6;
  }
  if (trqlimit_failure_condition_count___ == '\0') {
    DAT_40001f76 = 0;
  }
  else {
    bVar9 = lookup_2D_uint8_interpolated
                      (8,trqlimit_failure_condition_count___,&DAT_4000c8fa,&DAT_4000c8f2);
    DAT_40001f76 = (ushort)bVar9 * 10;
  }
  if (car_speed_div100 < 0x9f7) {
    uVar6 = car_speed_div100 / 10 & 0xff;
  }
  else {
    uVar6 = 0xff;
  }
  if (((((COD_base[1] >> 0x15 & 3) == 2) && (uVar6 < CAL_idle_clutch_antistall_speed_threshold)) &&
      ((clutch_pos_sensor & 1) == 0)) && (CAL_idle_clutch_antistall_speed_threshold != '\0')) {
    if (((clutch_pos_sensor & 4) != 0) && (uVar6 < CAL_idle_clutch_antistall_speed_threshold)) {
      DAT_40001f80 = 1;
    }
  }
  else {
    DAT_40001f80 = '\0';
  }
  if (DAT_40001f80 == '\0') {
    DAT_40001f46 = 0;
  }
  else {
    bVar9 = lookup_2D_uint8_interpolated
                      (8,(uint8_t)((int)(uint)clutch_pos_voltage >> 2),&DAT_400094aa,&DAT_400094a2);
    DAT_40001f46 = (ushort)((int)((CAL_idle_clutch_antistall_speed_threshold - uVar6) * (uint)bVar9)
                           / (int)(uint)CAL_idle_clutch_antistall_speed_threshold);
  }
  lVar4 = libc_abs((longlong)(short)steering_angle);
  if ((int)lVar4 < 0x1fe1) {
    lVar4 = libc_abs((longlong)(short)steering_angle);
    uVar3 = (uint8_t)((int)lVar4 >> 5);
  }
  else {
    uVar3 = 0xff;
  }
                    // idle bump for steering angle !?
  bVar9 = lookup_2D_uint8_interpolated
                    ('\x04',uVar3,CAL_idle_comp_steering,CAL_idle_comp_steering_X_steering_load);
  idle_comp_steering___ = (ushort)bVar9;
  if (1 < DAT_4000894e) {
    iVar10 = (uint)DAT_4000894e << 3;
  }
  if (((((engine_operating_state_flags & 1) == 0) ||
       (((COD_base[0] >> 0x19 & 7) != 0 && ((obd_ii_cruise_status & 2) != 0)))) ||
      (u16_rspeed_rpm_ARRAY_40001f4c[1] <= engine_speed_2)) || (engine_is_running == false)) {
    if (((engine_speed_2 < u16_rspeed_rpm_ARRAY_40001f4c[1]) && (engine_is_running != false)) &&
       ((short)obd_ii_idle_speed_error___ < 0)) {
      idle_air_control_proportional_term = idle_air_control_proportional_calc;
      if (iVar10 < idle_air_control_integral_term) {
        if (((((COD_base[1] >> 0x15 & 3) != 2) || ((clutch_pos_sensor & 8) != 0)) ||
            (clutch_pos_voltage <= CAL_sensor_clutch_engaged_threshold)) ||
           (CAL_sensor_clutch_disengaged_threshold <= clutch_pos_voltage)) {
          idle_air_control_integral_term = idle_air_control_integral_term - iVar10;
        }
      }
      else {
        idle_air_control_integral_term = 0;
      }
      DAT_40001f56 = (ushort)DAT_400087c2;
      engine_operating_state_flags = engine_operating_state_flags & 0xfff7;
    }
    else {
      idle_air_control_proportional_term = 0;
      if (iVar10 < idle_air_control_integral_term) {
        if ((((COD_base[1] >> 0x15 & 3) != 2) || ((clutch_pos_sensor & 8) != 0)) ||
           ((clutch_pos_voltage <= CAL_sensor_clutch_engaged_threshold ||
            (CAL_sensor_clutch_disengaged_threshold <= clutch_pos_voltage)))) {
          idle_air_control_integral_term = idle_air_control_integral_term - iVar10;
        }
      }
      else {
        idle_air_control_integral_term = 0;
      }
      DAT_40001f56 = (ushort)DAT_400087c2;
      if ((((engine_operating_state_flags & 1) == 0) ||
          (((COD_base[0] >> 0x19 & 7) != 0 && ((obd_ii_cruise_status & 2) != 0)))) ||
         ((engine_speed_2 <= u16_rspeed_rpm_ARRAY_40001f4c[1] ||
          (((inj_flags & 1) == 0 || (ign_flags_unknown != '?')))))) {
        engine_operating_state_flags = engine_operating_state_flags & 0xfff5;
      }
      else {
        engine_operating_state_flags = engine_operating_state_flags & 0xfff7 | 2;
      }
    }
  }
  else {
    uVar1 = engine_operating_state_flags & 0xfffd;
    engine_operating_state_flags = uVar1 | 8;
    if (obd_ii_engine_speed >> 2 < u16_rspeed_rpm_ARRAY_40001f4c[3]) {
      engine_operating_state_flags = uVar1 | 0x28;
    }
    if ((car_speed_u8 < CAL_vehicle_moving_threshold_) || ((short)obd_ii_idle_speed_error___ < 0)) {
      idle_air_control_proportional_term = idle_air_control_proportional_calc;
    }
    else {
      idle_air_control_proportional_term = 0;
    }
    if (DAT_40001f56 == 0) {
      DAT_40001f56 = (ushort)DAT_400087c2;
      if ((((u16_rspeed_rpm_40001f5c == 0) && (u16_rspeed_rpm_40001f70 == 0)) ||
          ((short)obd_ii_idle_speed_error___ < 0)) &&
         ((0 < idle_air_control_integral_term || (-200 < (short)obd_ii_idle_speed_error___)))) {
        idle_air_control_integral_term = idle_air_control_integral_term + (short)DAT_40001f5a;
        if (idle_air_control_integral_term / 0x2800 < (int)(uint)DAT_400087c3) {
          if (idle_air_control_integral_term / 0x2800 <= (int)-(uint)DAT_400087c4) {
            idle_air_control_integral_term = (uint)DAT_400087c4 * -0x2800;
          }
        }
        else {
          idle_air_control_integral_term = (uint)DAT_400087c3 * 0x2800;
        }
        if ((maf_accumulated2 < DAT_40008816) || ((evap_status_flags & 2) != 0)) {
          engine_operating_state_flags = engine_operating_state_flags & 0xfffb;
        }
        else {
          engine_operating_state_flags = engine_operating_state_flags | 4;
          if ((int)(uint)DAT_400086c0 < idle_air_control_integral_term / 0x2800) {
            if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
              if ((DAT_40008912 < coolant_temp) && (coolant_temp < u8_temp_5_8_40c_40008913)) {
                if (((int)(((int)(short)LEA_idle_cold_learning_coolant >> 10) +
                          (uint)((short)LEA_idle_cold_learning_coolant < 0 &&
                                (LEA_idle_cold_learning_coolant & 0x3ff) != 0)) <
                     (int)(uint)DAT_400086c2) &&
                   (LEA_idle_cold_learning_coolant = LEA_idle_cold_learning_coolant + 1,
                   (short)DAT_40004970 < (short)LEA_idle_cold_learning_coolant)) {
                  DAT_40004970 = LEA_idle_cold_learning_coolant;
                }
              }
              else if (((u8_temp_5_8_40c_40008914 < coolant_temp) &&
                       ((int)(((int)uint16_t >> 10) +
                             (uint)(uint16_t < 0 && (uint16_t & 0x3ffU) != 0)) <
                        (int)(uint)DAT_400086c2)) &&
                      (uint16_t = uint16_t + 1, DAT_40004968 < uint16_t)) {
                DAT_40004968 = uint16_t;
              }
            }
            else if ((DAT_40008912 < coolant_temp) && (coolant_temp < u8_temp_5_8_40c_40008913)) {
              if (((int)(((int)(short)LEA_idle_cold_learning_coolant_ac_on >> 10) +
                        (uint)((short)LEA_idle_cold_learning_coolant_ac_on < 0 &&
                              (LEA_idle_cold_learning_coolant_ac_on & 0x3ff) != 0)) <
                   (int)(uint)DAT_400086c2) &&
                 (LEA_idle_cold_learning_coolant_ac_on = LEA_idle_cold_learning_coolant_ac_on + 1,
                 (short)DAT_4000496c < (short)LEA_idle_cold_learning_coolant_ac_on)) {
                DAT_4000496c = LEA_idle_cold_learning_coolant_ac_on;
              }
            }
            else if ((u8_temp_5_8_40c_40008914 < coolant_temp) &&
                    (((int)(((int)(short)LEA_idle_learn_ac_on >> 10) +
                           (uint)((short)LEA_idle_learn_ac_on < 0 &&
                                 (LEA_idle_learn_ac_on & 0x3ff) != 0)) < (int)(uint)DAT_400086c2 &&
                     (LEA_idle_learn_ac_on = LEA_idle_learn_ac_on + 1,
                     (short)DAT_40004964 < (short)LEA_idle_learn_ac_on)))) {
              DAT_40004964 = LEA_idle_learn_ac_on;
            }
          }
          if (idle_air_control_integral_term / 0x2800 < (int)-(uint)DAT_400086c1) {
            if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
              if ((DAT_40008912 < coolant_temp) && (coolant_temp < u8_temp_5_8_40c_40008913)) {
                if (((int)-(uint)DAT_400086c3 <
                     (int)(((int)(short)LEA_idle_cold_learning_coolant >> 10) +
                          (uint)((short)LEA_idle_cold_learning_coolant < 0 &&
                                (LEA_idle_cold_learning_coolant & 0x3ff) != 0))) &&
                   (LEA_idle_cold_learning_coolant = LEA_idle_cold_learning_coolant - 1,
                   (short)LEA_idle_cold_learning_coolant < (short)DAT_40004972)) {
                  DAT_40004972 = LEA_idle_cold_learning_coolant;
                }
              }
              else if (((u8_temp_5_8_40c_40008914 < coolant_temp) &&
                       ((int)-(uint)DAT_400086c3 <
                        (int)(((int)uint16_t >> 10) +
                             (uint)(uint16_t < 0 && (uint16_t & 0x3ffU) != 0)))) &&
                      (uint16_t = uint16_t + -1, uint16_t < DAT_4000496a)) {
                DAT_4000496a = uint16_t;
              }
            }
            else if ((DAT_40008912 < coolant_temp) && (coolant_temp < u8_temp_5_8_40c_40008913)) {
              if (((int)-(uint)DAT_400086c3 <
                   (int)(((int)(short)LEA_idle_cold_learning_coolant_ac_on >> 10) +
                        (uint)((short)LEA_idle_cold_learning_coolant_ac_on < 0 &&
                              (LEA_idle_cold_learning_coolant_ac_on & 0x3ff) != 0))) &&
                 (LEA_idle_cold_learning_coolant_ac_on = LEA_idle_cold_learning_coolant_ac_on - 1,
                 (short)LEA_idle_cold_learning_coolant_ac_on < (short)DAT_4000496e)) {
                DAT_4000496e = LEA_idle_cold_learning_coolant_ac_on;
              }
            }
            else if ((u8_temp_5_8_40c_40008914 < coolant_temp) &&
                    (((int)-(uint)DAT_400086c3 <
                      (int)(((int)(short)LEA_idle_learn_ac_on >> 10) +
                           (uint)((short)LEA_idle_learn_ac_on < 0 &&
                                 (LEA_idle_learn_ac_on & 0x3ff) != 0)) &&
                     (LEA_idle_learn_ac_on = LEA_idle_learn_ac_on - 1,
                     (short)LEA_idle_learn_ac_on < (short)DAT_40004966)))) {
              DAT_40004966 = LEA_idle_learn_ac_on;
            }
          }
        }
      }
      else if (iVar10 < idle_air_control_integral_term) {
        if (((((COD_base[1] >> 0x15 & 3) != 2) || ((clutch_pos_sensor & 8) != 0)) ||
            (clutch_pos_voltage <= CAL_sensor_clutch_engaged_threshold)) ||
           (CAL_sensor_clutch_disengaged_threshold <= clutch_pos_voltage)) {
          idle_air_control_integral_term = idle_air_control_integral_term - iVar10;
        }
      }
      else {
        idle_air_control_integral_term = 0;
      }
    }
  }
  if ((u16_rspeed_rpm_ARRAY_40001f4c[2] <= obd_ii_engine_speed >> 2) ||
     ((engine_operating_state_flags & 8) == 0)) {
    engine_operating_state_flags = engine_operating_state_flags & 0xffdf;
  }
  if ((engine_operating_state_flags & 8) == 0) {
    obd_ii_idle_status = 0;
  }
  else if (((engine_operating_state_flags & 8) == 0) || (maf_accumulated2 < DAT_40008816)) {
    obd_ii_idle_status = 1;
  }
  else if (((int)(uint)DAT_400086c0 < idle_air_control_integral_term / 0x2800) ||
          (idle_air_control_integral_term / 0x2800 < (int)-(uint)DAT_400086c1)) {
    obd_ii_idle_status = 2;
  }
  else {
    obd_ii_idle_status = 3;
    if (DAT_40001678 == 0) {
      obd_ii_idle_status = 4;
    }
  }
  iVar10 = (uint)DAT_40001f46 +
           (uint)DAT_40001f74 +
           (((int)(short)DAT_40001f66 +
             (uint)DAT_40001f62 +
             (idle_air_control_integral_term >> 10) +
             (uint)(idle_air_control_integral_term < 0 &&
                   (idle_air_control_integral_term & 0x3ffU) != 0) +
             (int)(short)idle_air_control_proportional_term + (int)(short)idle_comp_ecu_v_unknown +
            ((int)uVar11 >> 10) + (uint)((int)uVar11 < 0 && (uVar11 & 0x3ff) != 0) +
            (uint)DAT_40001f64 +
            (uint)DAT_40001f60 +
            (uint)DAT_40001f5e + ((int)((uint)DAT_40001f68 * (uint)DAT_40001f6a) >> 6)) -
           DAT_4000230e / 10) +
           (uint)(ushort)bVar9 + (uint)DAT_40001f76 + (uint)DAT_40001f72 + (uint)DAT_40001f4a;
  if (iVar10 < 0x13ed) {
    obd_ii_idle_air_output = (u16_flow_100mg_s)iVar10;
    if (iVar10 < 0) {
      obd_ii_idle_air_output = 0;
    }
  }
  else {
    obd_ii_idle_air_output = 5100;
  }
  if (engine_is_running == false) {
    idle_tps_requested = tps_request_idle_cranking___;
  }
  else if (idle_tps_calculated < CAL_idle_tps_requested_max___) {
    idle_tps_requested = idle_tps_calculated;
  }
  else {
    idle_tps_requested = CAL_idle_tps_requested_max___;
  }
  return;
}



void idle_control_unknown_1000hz(void)

{
  bool bVar1;
  byte bVar2;
  short sVar3;
  u16_rspeed_rpm uVar4;
  uint8_t uVar5;
  ushort uVar6;
  ushort uVar7;
  
  uVar7 = 1;
  uVar6 = 1;
  bVar2 = DAT_40008858;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    bVar2 = DAT_400088be;
  }
  idle_control_timer_10hz = idle_control_timer_10hz + 0xff;
  if (idle_control_timer_10hz == 0) {
    idle_control_timer_10hz = 100;
    if ((short)u16_rspeed_rpm_40001f8a < (short)u16_rspeed_rpm_40001f7e) {
      u16_rspeed_rpm_40001f8a = u16_rspeed_rpm_40001f8a + bVar2;
      if ((short)u16_rspeed_rpm_40001f7e < (short)u16_rspeed_rpm_40001f8a) {
        u16_rspeed_rpm_40001f8a = u16_rspeed_rpm_40001f7e;
      }
    }
    else if (((short)u16_rspeed_rpm_40001f7e < (short)u16_rspeed_rpm_40001f8a) &&
            (u16_rspeed_rpm_40001f8a = u16_rspeed_rpm_40001f8a - bVar2,
            (short)u16_rspeed_rpm_40001f8a < 0)) {
      u16_rspeed_rpm_40001f8a = 0;
    }
    if ((engine_operating_state_flags & 8) == 0) {
      DAT_40001f44 = 0;
    }
    else if (DAT_40001f44 != -1) {
      DAT_40001f44 = DAT_40001f44 + 1;
    }
    DAT_4000167b = DAT_4000167b + -1;
    if (DAT_4000167b == 0) {
      DAT_4000167b = 5;
      if (((engine_speed_2 == 0) || ((engine_operating_state_flags & 0b00001000) == 0)) ||
         (CAL_idle_low_car_speed_exit <= car_speed_u8)) {
        if ((CAL_idle_low_car_speed_enter < car_speed_u8) || (engine_speed_2 == 0)) {
          timer_above_min_carspeed = 0;
        }
      }
      else if (timer_above_min_carspeed != 0xff) {
        timer_above_min_carspeed = timer_above_min_carspeed + 1;
      }
    }
  }
  if (DAT_40001f42 < DAT_40001f8e) {
    DAT_40001f42 = 5100;
    if (DAT_40001f8e < 5100) {
      DAT_40001f42 = DAT_40001f8e;
    }
    DAT_40001f7b = 0;
  }
  else if (DAT_40001f83 == 0) {
    if (DAT_40001f7b == 0) {
      if ((ulonglong)DAT_40001f42 / 10 < 0x100) {
        uVar5 = (uint8_t)((ulonglong)DAT_40001f42 / 10);
      }
      else {
        uVar5 = 0xff;
      }
      DAT_40001f83 = lookup_2D_uint8_interpolated('\x05',uVar5,&DAT_40008d09,&DAT_40008d04);
    }
    else {
      DAT_40001f83 = DAT_40008889;
    }
    if (DAT_40001f8e < DAT_40001f42) {
      if (1 < DAT_400087a5) {
        uVar6 = (ushort)DAT_400087a5;
      }
      if (uVar6 < DAT_40001f42) {
        DAT_40001f42 = DAT_40001f42 - uVar6;
      }
      else {
        DAT_40001f42 = 0;
      }
    }
    else {
      DAT_40001f7b = 0;
    }
  }
  else if ((DAT_40001f7b == 0) || (DAT_40001f83 <= DAT_40008889)) {
    DAT_40001f83 = DAT_40001f83 - 1;
  }
  else {
    DAT_40001f83 = DAT_40008889;
  }
  sVar3 = DAT_40001f56 + -1;
  if (DAT_40001f56 == 0) {
    sVar3 = 0;
  }
  DAT_40001f56 = sVar3;
  if (obd_ii_idle_status == 3) {
    DAT_40001678 = DAT_40001678 + -1;
  }
  else {
    DAT_40001678 = 30000;
    if (obd_ii_idle_status == 4) {
      DAT_40001678 = 0;
    }
  }
  if (DAT_40001f82 == '\0') {
    if (((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) {
      u8_rspeed_rpm_40001f84 = u8_rspeed_rpm_4000880c;
      DAT_40001f82 = DAT_400087ef;
    }
    else {
      u8_rspeed_rpm_40001f84 = u8_rspeed_rpm_40008767;
      DAT_40001f82 = DAT_40008733;
    }
    if (((short)idle_comp_car_speed < (short)u16_rspeed_rpm_40001f5c) &&
       ((short)(ushort)u8_rspeed_rpm_40001f84 < (short)u16_rspeed_rpm_40001f5c)) {
      u16_rspeed_rpm_40001f5c = u16_rspeed_rpm_40001f5c - u8_rspeed_rpm_40001f84;
    }
    else {
      u16_rspeed_rpm_40001f5c = idle_comp_car_speed;
    }
    bVar1 = (short)(ushort)u8_rspeed_rpm_40001f84 < (short)u16_rspeed_rpm_40001f70;
    uVar4 = u16_rspeed_rpm_40001f70 - u8_rspeed_rpm_40001f84;
    u16_rspeed_rpm_40001f70 = 0;
    if (bVar1) {
      u16_rspeed_rpm_40001f70 = uVar4;
    }
    if (1 < DAT_400087a4) {
      uVar7 = (ushort)DAT_400087a4;
    }
    bVar1 = uVar7 < DAT_40001f4a;
    uVar7 = DAT_40001f4a - uVar7;
    DAT_40001f4a = 0;
    if (bVar1) {
      DAT_40001f4a = uVar7;
    }
  }
  DAT_40001f82 = DAT_40001f82 + -1;
  return;
}



void FUN_00076a10(void)

{
  if (((((engine_operating_state_flags & 8) == 0) || (DAT_4000ca42 <= sensor_adc_ecu_voltage)) ||
      (sensor_adc_ecu_voltage <= DAT_4000ca40)) ||
     ((!engine_is_running || ((engine_state_failure_flags & 0x400) != 0)))) {
    if (((engine_speed_2 == 0) ||
        ((car_speed_u8 != '\0' || ((engine_operating_state_flags & 1) == 0)))) ||
       ((engine_state_failure_flags & 0x400) != 0)) {
      DAT_40001f9f = 0;
      DAT_40001f9e = 0;
      DAT_40001f9c = 0;
      DAT_40001f9b = 0;
      DAT_40001f9d = 0;
    }
    else if (coolant_temp < DAT_4000ca5c) {
      if ((short)(ushort)DAT_400087c7 < (short)obd_ii_idle_speed_error___) {
        DAT_40001f9e = DAT_40001f9e + 1;
        if (((DAT_4000ca46 <= DAT_40001f9e) && (DAT_40001f9e = 0, DAT_40001f9a != 0)) &&
           (DAT_40001f9a = DAT_40001f9a - 1, DAT_40001f9a == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags,&DAT_40004dab,&DAT_40004dac,0x50a,0);
        }
      }
      else {
        DAT_40001f9e = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags);
        if (DAT_40001f9a < DAT_4000d451) {
          DAT_40001f9a = DAT_40001f9a + 1;
        }
      }
    }
    else if ((short)(ushort)DAT_400087c7 < (short)obd_ii_idle_speed_error___) {
      DAT_40001f9f = DAT_40001f9f + 1;
      if (((DAT_4000ca46 <= DAT_40001f9f) && (DAT_40001f9f = 0, DAT_40001f99 != 0)) &&
         (DAT_40001f99 = DAT_40001f99 - 1, DAT_40001f99 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags,&DAT_40004da8,&DAT_40004da9,0x507,0);
      }
    }
    else {
      DAT_40001f9f = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags);
      if (DAT_40001f99 < DAT_4000d409) {
        DAT_40001f99 = DAT_40001f99 + 1;
      }
    }
  }
  else if (coolant_temp < DAT_4000ca5c) {
    if ((CAL_obd_ii_P050A & 7) != 0) {
      if (((((((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) ||
            ((int)(((int)(short)LEA_idle_cold_learning_coolant_ac_on >> 10) +
                  (uint)((short)LEA_idle_cold_learning_coolant_ac_on < 0 &&
                        (LEA_idle_cold_learning_coolant_ac_on & 0x3ff) != 0)) <=
             (int)(uint)DAT_4000ca45)) &&
           (((1 < (COD_base[0] >> 0x1c & 7) && (DAT_400028ae != '\0')) ||
            ((int)(((int)(short)LEA_idle_cold_learning_coolant >> 10) +
                  (uint)((short)LEA_idle_cold_learning_coolant < 0 &&
                        (LEA_idle_cold_learning_coolant & 0x3ff) != 0)) <= (int)(uint)DAT_4000ca45))
           )) || ((int)((uint)DAT_4000ca68 * -2) <= (int)(short)obd_ii_idle_speed_error___)) &&
         ((((((COD_base[0] >> 0x1c & 7) < 2 || (DAT_400028ae == '\0')) ||
            ((int)-(uint)DAT_4000ca44 <=
             (int)(((int)(short)LEA_idle_cold_learning_coolant_ac_on >> 10) +
                  (uint)((short)LEA_idle_cold_learning_coolant_ac_on < 0 &&
                        (LEA_idle_cold_learning_coolant_ac_on & 0x3ff) != 0)))) &&
           (((1 < (COD_base[0] >> 0x1c & 7) && (DAT_400028ae != '\0')) ||
            ((int)-(uint)DAT_4000ca44 <=
             (int)(((int)(short)LEA_idle_cold_learning_coolant >> 10) +
                  (uint)((short)LEA_idle_cold_learning_coolant < 0 &&
                        (LEA_idle_cold_learning_coolant & 0x3ff) != 0)))))) ||
          ((int)(short)obd_ii_idle_speed_error___ <= (int)((uint)DAT_4000ca67 << 1))))) {
        DAT_40001f9d = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags);
        if (DAT_40001f9a < DAT_4000d451) {
          DAT_40001f9a = DAT_40001f9a + 1;
        }
      }
      else {
        DAT_40001f9d = DAT_40001f9d + 1;
        if (((DAT_4000ca46 <= DAT_40001f9d) && (DAT_40001f9d = 0, DAT_40001f9a != 0)) &&
           (DAT_40001f9a = DAT_40001f9a - 1, DAT_40001f9a == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags,&DAT_40004dab,&DAT_40004dac,0x50a,0);
        }
      }
    }
  }
  else {
    if ((CAL_obd_ii_P0506 & 7) != 0) {
      if ((((((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) ||
           ((int)(((int)(short)LEA_idle_learn_ac_on >> 10) +
                 (uint)((short)LEA_idle_learn_ac_on < 0 && (LEA_idle_learn_ac_on & 0x3ff) != 0)) <=
            (int)(uint)DAT_4000ca45)) &&
          (((1 < (COD_base[0] >> 0x1c & 7) && (DAT_400028ae != '\0')) ||
           ((int)(((int)uint16_t >> 10) + (uint)(uint16_t < 0 && (uint16_t & 0x3ffU) != 0)) <=
            (int)(uint)DAT_4000ca45)))) ||
         ((int)((uint)DAT_4000ca68 * -2) <= (int)(short)obd_ii_idle_speed_error___)) {
        DAT_40001f9b = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0506,&LEA_obd_ii_P0506_flags);
        if (DAT_40001f98 < DAT_4000d408) {
          DAT_40001f98 = DAT_40001f98 + 1;
        }
      }
      else {
        DAT_40001f9b = DAT_40001f9b + 1;
        if (((DAT_4000ca46 <= DAT_40001f9b) && (DAT_40001f9b = 0, DAT_40001f98 != 0)) &&
           (DAT_40001f98 = DAT_40001f98 - 1, DAT_40001f98 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0506,&LEA_obd_ii_P0506_flags,&DAT_40004da5,&DAT_40004da6,0x506,0);
        }
      }
    }
    if ((CAL_obd_ii_P0507 & 7) != 0) {
      if ((((((COD_base[0] >> 0x1c & 7) < 2) || (DAT_400028ae == '\0')) ||
           ((int)-(uint)DAT_4000ca44 <=
            (int)(((int)(short)LEA_idle_learn_ac_on >> 10) +
                 (uint)((short)LEA_idle_learn_ac_on < 0 && (LEA_idle_learn_ac_on & 0x3ff) != 0))))
          && (((1 < (COD_base[0] >> 0x1c & 7) && (DAT_400028ae != '\0')) ||
              ((int)-(uint)DAT_4000ca44 <=
               (int)(((int)uint16_t >> 10) + (uint)(uint16_t < 0 && (uint16_t & 0x3ffU) != 0))))))
         || ((int)(short)obd_ii_idle_speed_error___ <= (int)((uint)DAT_4000ca67 << 1))) {
        DAT_40001f9c = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags);
        if (DAT_40001f99 < DAT_4000d409) {
          DAT_40001f99 = DAT_40001f99 + 1;
        }
      }
      else {
        DAT_40001f9c = DAT_40001f9c + 1;
        if (((DAT_4000ca46 <= DAT_40001f9c) && (DAT_40001f9c = 0, DAT_40001f99 != 0)) &&
           (DAT_40001f99 = DAT_40001f99 - 1, DAT_40001f99 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags,&DAT_40004da8,&DAT_40004da9,0x507,0);
        }
      }
    }
  }
  return;
}



void FUN_000772e4(void)

{
  DAT_40001f98 = DAT_4000d408;
  DAT_40001f99 = DAT_4000d409;
  DAT_40001f9a = DAT_4000d451;
  obdii_update_dtc_state(&CAL_obd_ii_P0506,&LEA_obd_ii_P0506_flags,0x506,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags,0x507,0);
  obdii_update_dtc_state(&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags,0x50a,0);
  return;
}



void FUN_000773b4(void)

{
  if (((LEA_obd_ii_P0506_flags & 2) != 0) || ((LEA_obd_ii_P0507_flags & 2) != 0)) {
    if ((short)(ushort)DAT_4000ca45 < (short)LEA_idle_learn_ac_on >> 10) {
      LEA_idle_learn_ac_on = (ushort)DAT_4000ca45 << 9;
    }
    if ((short)(ushort)DAT_4000ca45 < uint16_t >> 10) {
      uint16_t = (ushort)DAT_4000ca45 << 9;
    }
    if ((int)(short)LEA_idle_learn_ac_on >> 10 < (int)-(uint)DAT_4000ca44) {
      LEA_idle_learn_ac_on = (ushort)DAT_4000ca44 * -0x200;
    }
    if ((int)uint16_t >> 10 < (int)-(uint)DAT_4000ca44) {
      uint16_t = (ushort)DAT_4000ca44 * -0x200;
    }
  }
  if ((LEA_obd_ii_P050A_flags & 2) != 0) {
    if ((short)(ushort)DAT_4000ca45 < (short)LEA_idle_cold_learning_coolant_ac_on >> 10) {
      LEA_idle_cold_learning_coolant_ac_on = (ushort)DAT_4000ca45 << 9;
    }
    if ((short)(ushort)DAT_4000ca45 < (short)LEA_idle_cold_learning_coolant >> 10) {
      LEA_idle_cold_learning_coolant = (ushort)DAT_4000ca45 << 9;
    }
    if ((int)(short)LEA_idle_cold_learning_coolant_ac_on >> 10 < (int)-(uint)DAT_4000ca44) {
      LEA_idle_cold_learning_coolant_ac_on = (ushort)DAT_4000ca44 * -0x200;
    }
    if ((int)(short)LEA_idle_cold_learning_coolant >> 10 < (int)-(uint)DAT_4000ca44) {
      LEA_idle_cold_learning_coolant = (ushort)DAT_4000ca44 * -0x200;
    }
  }
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0506,&LEA_obd_ii_P0506_flags,&DAT_40004da5,&DAT_40004da6,0x506,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0507,&LEA_obd_ii_P0507_flags,&DAT_40004da8,&DAT_40004da9,0x507,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P050A,&LEA_obd_ii_P050A_flags,&DAT_40004dab,&DAT_40004dac,0x50a,0);
  return;
}



void set_gpio_output_unknown(void)

{
  if (DAT_40001fd3 == 0) {
    siu_gpdo[0xd3] = 0;
  }
  else {
    siu_gpdo[0xd3] = 1;
  }
  if (DAT_40001fd2 == 0) {
    siu_gpdo[0xd4] = 0;
  }
  else {
    siu_gpdo[0xd4] = 1;
  }
  return;
}



void lea_reset3_unknown(void)

{
  byte k;
  byte j;
  byte i;
  
  for (i = 0; i < 8; i = i + 1) {
    for (j = 0; j < 8; j = j + 1) {
      for (k = 0; k < 6; k = k + 1) {
        USHORT_ARRAY_40003d38[(uint)k + (uint)j * 6 + (uint)i * 48] = 2000;
      }
    }
  }
  return;
}



void knock_setup_unknown(void)

{
  ushort uVar1;
  byte i;
  
  set_gpio_output_unknown();
  if (knock_sampling_active == false) {
                    // This may be the knock detection angle window
    knock_sampling_window_offset =
         lookup_3D_uint8_interpolated
                   (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                    CAL_knock_sampling_window,CAL_knock_sampling_window_X_rpm,
                    CAL_knock_sampling_window_Y_load);
    knock_buffer_size =
         lookup_3D_uint8_interpolated
                   (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_knock_buffer_size,
                    CAL_knock_buffer_size_X_engine_speed,CAL_knock_buffer_size_Y_load);
    if (knock_buffer_size < 64) {
      knock_buffer_size = 64;
    }
    else if (128 < knock_buffer_size) {
      knock_buffer_size = 128;
    }
  }
  for (i = 0; i < 6; i = i + 1) {
    uVar1 = (ushort)knock_sampling_window_offset + knock_window_offset_tdc[i] + 50;
    if (7200 < uVar1) {
      uVar1 = (ushort)knock_sampling_window_offset + knock_window_offset_tdc[i] + 58386;
    }
    knock_window_center_angle[i] = uVar1;
  }
  return;
}



void knock(void)

{
  u8_rspeed_125_4_500rpm knock_retard1_engine_speed_max;
  u8_rspeed_125_4_500rpm knock_retard1_engine_speed_min;
  u8_load_4mg_stroke knock_learning_disable_threshold;
  u8_load_4mg_stroke knock_detection_load_threshold;
  u8_load_4mg_stroke knock_learning_enable_threshold;
  u8_angle_1_4deg ign_retard_from_kc;
  byte cyl2;
  byte cyl;
  
  knock_sensitivity =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_knock_sensitivity,
                  CAL_knock_sensitivity_X_engine_speed,CAL_knock_sensitivity_Y_load);
  knock_peak_threshold =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_knock_peak_threshold,
                  CAL_knock_peak_threshold_X_engine_speed,CAL_knock_peak_threshold_Y_load);
  if ((((int)(short)tps_delta_rate < -(int)(short)CAL_knock_inhibit_tps_rate1) ||
      ((short)CAL_knock_inhibit_tps_rate1 < (short)tps_delta_rate)) &&
     (tps2 <= knock_inhibit_tps_max)) {
    knock_inhibit_timer_tps_rate = CAL_knock_inhibit_timer_tps_rate;
  }
  knock_detection_load_threshold =
       lookup_2D_uint8_interpolated
                 ('\b',engine_speed_3,CAL_knock_detection_load_threshold,
                  CAL_knock_detection_load_threshold_X_rpm);
  if (knock_detection_load_threshold < load_mass_per_stroke) {
    knock_flags = knock_flags | 0b00010000;
  }
  else {
                    // hysteresis/margin??
    if (CAL_knock_detection_load_margin_debounce < knock_detection_load_threshold) {
      cyl2 = knock_detection_load_threshold - CAL_knock_detection_load_margin_debounce;
    }
    else {
      cyl2 = 0;
    }
    if (load_mass_per_stroke < cyl2) {
      knock_flags = knock_flags & 0b11101111;
    }
  }
                    // check for knock retard application range
  if ((CAL_knock_detection_engine_speed_min < engine_speed_3) &&
     (engine_speed_3 < CAL_knock_detection_engine_speed_max)) {
    knock_flags = knock_flags | 0b00100000;
  }
  else {
                    // hysteresis / debounce for engine speed range
    if ((uint)CAL_knock_detection_engine_speed_max + (uint)CAL_knock_detection_engine_speed_margin <
        256) {
      knock_retard1_engine_speed_max =
           CAL_knock_detection_engine_speed_max + CAL_knock_detection_engine_speed_margin;
    }
    else {
      knock_retard1_engine_speed_max = 0xff;
    }
    if (CAL_knock_detection_engine_speed_margin < CAL_knock_detection_engine_speed_min) {
      knock_retard1_engine_speed_min =
           CAL_knock_detection_engine_speed_min - CAL_knock_detection_engine_speed_margin;
    }
    else {
      knock_retard1_engine_speed_min = 0;
    }
    if ((engine_speed_3 < knock_retard1_engine_speed_min) ||
       (knock_retard1_engine_speed_max < engine_speed_3)) {
      knock_flags = knock_flags & 0b11011111;
    }
  }
  knock_learning_enable_threshold =
       lookup_2D_uint8_interpolated
                 ('\b',engine_speed_3,CAL_knock_learning_load_threshold,
                  CAL_knock_learning_load_threshold_X_rpm);
  if (knock_learning_enable_threshold < load_mass_per_stroke) {
    knock_flags = knock_flags | 0b01000000;
  }
  else {
    if (CAL_knock_detection_load_margin_debounce < knock_learning_enable_threshold) {
      knock_learning_disable_threshold =
           knock_learning_enable_threshold - CAL_knock_detection_load_margin_debounce;
    }
    else {
      knock_learning_disable_threshold = 0;
    }
    if (load_mass_per_stroke < knock_learning_disable_threshold) {
      knock_flags = knock_flags & 0b10111111;
    }
  }
  if ((((((knock_flags & 0b00010000) == 0) || ((engine_state_failure_flags & 0x200) != 0)) ||
       ((vvt_bank_inhibit_flags & 1) != 0)) ||
      (((vvt_bank_inhibit_flags & 0b00000010) != 0 || ((vvt_bank_inhibit_flags & 0b00000100) != 0)))
      ) || (((vvt_bank_inhibit_flags & 0b00001000) != 0 ||
            (((engine_state_failure_flags & 0x20) != 0 || ((engine_state_failure_flags & 0x40) != 0)
             ))))) {
    knock_flags = knock_flags & 0b11111010;
  }
  else if (((knock_flags & 0b00100000) == 0) || (coolant_temp <= CAL_knock_corr_temp_threshold)) {
    knock_flags = knock_flags & 0b11111110 | 0b00000100;
  }
  else {
    knock_flags = knock_flags | 0b00000101;
  }
  if ((((knock_flags & 0b01000000) == 0) || ((knock_flags & 1) == 0)) ||
     (knock_inhibit_timer_tps_rate != 0)) {
    knock_flags = knock_flags & 0b11111101;
  }
  else {
    knock_flags = knock_flags | 0b00000010;
  }
  ign_adv_delta_to_knock_safe = 0;
  if (ign_knock_safe < ign_base) {
    ign_adv_delta_to_knock_safe = ign_base - ign_knock_safe;
  }
  octane_scaler_current_min = LEA_octane_scaler[0];
  for (cyl2 = 1; cyl2 < 6; cyl2 = cyl2 + 1) {
    if (octane_scaler_current_min < LEA_octane_scaler[cyl2]) {
      octane_scaler_current_min = LEA_octane_scaler[cyl2];
    }
  }
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    if ((knock_flags & 1) == 0) {
      LEA_ign_knock_retard[cyl] = 0;
    }
    else if (knock_count_per_cyl[cyl] != 0) {
      ign_retard_from_kc =
           lookup_2D_uint8_interpolated
                     ('\b',knock_count_per_cyl[cyl],CAL_knock_count_to_retard,
                      CAL_knock_count_to_retard_X_knock_count);
      knock_count_per_cyl[cyl] = 0;
      if ((uint)CAL_knock_corr_limit < (uint)LEA_ign_knock_retard[cyl] + (uint)ign_retard_from_kc) {
        LEA_ign_knock_retard[cyl] = CAL_knock_corr_limit;
      }
      else {
        LEA_ign_knock_retard[cyl] =
             (u8_angle_1_4deg)((uint)LEA_ign_knock_retard[cyl] + (uint)ign_retard_from_kc);
      }
    }
    if (((engine_state_failure_flags & 0x801273) == 0) &&
       ((vvt_bank_inhibit_flags & 0b00001111) == 0)) {
      if ((knock_flags & 0b00000100) == 0) {
        ign_retard_knock[cyl] = 0;
      }
      else {
        knock_octane_correction_per_cyl[cyl] =
             (uint16_t)
             ((ulonglong)
              ((longlong)(int)(uint)CAL_knock_corr_octane_base *
              (longlong)((int)(uint)octane_scaler_shortterm[cyl] >> 8)) >> 8);
        if (((knock_flags & 0b00100000) == 0) &&
           (CAL_knock_detection_engine_speed_min < engine_speed_3)) {
          ign_retard_knock[cyl] =
               (char)knock_octane_correction_per_cyl[cyl] +
               (char)((ulonglong)
                      ((longlong)(int)(uint)(ushort)ign_adv_delta_to_knock_safe *
                      (longlong)((int)(uint)octane_scaler_current_min >> 8)) >> 8);
        }
        else {
          ign_retard_knock[cyl] =
               (char)knock_octane_correction_per_cyl[cyl] +
               (char)((ulonglong)
                      ((longlong)(int)(uint)(ushort)ign_adv_delta_to_knock_safe *
                      (longlong)((int)(uint)LEA_octane_scaler[cyl] >> 8)) >> 8);
        }
      }
    }
    else {
      ign_retard_knock[cyl] = (u8_angle_1_4deg)ign_adv_delta_to_knock_safe;
    }
    if (cyl == 0) {
      knock_ign_retard_cyl0 = (u16_angle_1_4deg)ign_retard_knock[0];
    }
    else {
      knock_ign_retard_cyl0 = knock_ign_retard_cyl0 + ign_retard_knock[cyl];
    }
  }
  return;
}



void knock_update_unknown(byte cur_cyl,int param_2)

{
  bool bVar1;
  byte bVar2;
  byte cyl;
  
  engine_speed_div16 = (byte)((int)(uint)engine_speed_3 >> 5);
  load_div16 = (byte)((int)(uint)load_mass_per_stroke >> 5);
  if (knock_data_timer < 2000) {
    knock_data_timer = knock_data_timer + 1;
  }
  else {
    knock_data_timer = 0;
    knock_total_count_unknown = 0;
    for (cyl = 0; cyl < 6; cyl = cyl + 1) {
      knock_count_snapshot[cyl] = (byte)((int)(uint)knock_count_snapshot_raw[cyl] >> 1);
      knock_total_count_unknown = knock_total_count_unknown + (ushort)knock_count_snapshot[cyl];
      knock_count_snapshot_raw[cyl] = 0;
    }
  }
  knock_baseline_filter_unknown_per_cyl[cur_cyl] =
       (ushort)((ulonglong)
                ((longlong)(int)(0x100 - (uint)DAT_400086ef) *
                 (longlong)(int)(uint)knock_baseline_filter_unknown_per_cyl[cur_cyl] +
                (longlong)(int)(uint)DAT_400086ef *
                (longlong)
                (int)(uint)USHORT_ARRAY_40003d38
                           [(uint)cur_cyl + (uint)load_div16 * 6 + (uint)engine_speed_div16 * 0x30])
               >> 8);
  knock_threshold_unknown[cur_cyl] =
       (ushort)((param_2 * 10) / (int)(knock_baseline_filter_unknown_per_cyl[cur_cyl] + 1));
  if (cur_cyl == DAT_40001fce) {
    USHORT_ARRAY_4000514c[DAT_40001fd1] = knock_threshold_unknown[cur_cyl];
    USHORT_ARRAY_40005134[DAT_40001fd1] = knock_baseline_filter_unknown_per_cyl[cur_cyl];
    bVar1 = DAT_40001fd1 < 10;
    bVar2 = DAT_40001fd1 + 1;
    DAT_40001fd1 = 0;
    if (bVar1) {
      DAT_40001fd1 = bVar2;
    }
  }
  if ((ushort)knock_peak_threshold < knock_threshold_unknown[cur_cyl]) {
    knock_event_present = true;
    knock_count_snapshot_raw[cur_cyl] = knock_count_snapshot_raw[cur_cyl] + 1;
    if ((ushort)(knock_threshold_unknown[cur_cyl] - (ushort)knock_peak_threshold) < 0xff) {
      knock_count_per_cyl[cur_cyl] =
           (uint8_t)(knock_threshold_unknown[cur_cyl] - (ushort)knock_peak_threshold);
    }
    else {
      knock_count_per_cyl[cur_cyl] = 0xff;
    }
    knock_ign_retard_unknown[cur_cyl] = DAT_400086e7;
  }
  else {
    knock_event_present = false;
    knock_count_per_cyl[cur_cyl] = 0;
  }
  if ((knock_flags & 0b00100000) != 0) {
    if (knock_event_present == false) {
      USHORT_ARRAY_40003d38[(uint)cur_cyl + (uint)load_div16 * 6 + (uint)engine_speed_div16 * 0x30]
           = (ushort)((ulonglong)
                      ((longlong)param_2 * (longlong)(int)(uint)DAT_400086ef +
                      (longlong)(int)(0x100 - (uint)DAT_400086ef) *
                      (longlong)
                      (int)(uint)USHORT_ARRAY_40003d38
                                 [(uint)cur_cyl +
                                  (uint)load_div16 * 6 + (uint)engine_speed_div16 * 0x30]) >> 8);
    }
    if (USHORT_ARRAY_40003d38
        [(uint)cur_cyl + (uint)load_div16 * 6 + (uint)engine_speed_div16 * 0x30] <
        (ushort)CAL_knock_baseline_min_clamp) {
      USHORT_ARRAY_40003d38[(uint)cur_cyl + (uint)load_div16 * 6 + (uint)engine_speed_div16 * 0x30]
           = (ushort)CAL_knock_baseline_min_clamp;
    }
  }
  return;
}



// I'm thinking about this octane scaler pretty hard.
// 
// Looking at the T6 logic. I'm not sure that the octane scaler will ever stay zero. If I'm reading
// the code correctly. The LEA_octane_scaler update funtion only activates when knock_flags | 0x2
// != 0. I think this means that knock retard is active. So it will only increment/decrement when
// some cylinder is knocking. If that is true than all 6 cylinder cannot decrement at the same time.
// 
// If that is true than the values cannot all return to zero simultaneously.
// 

void octane_scaler_update(void)

{
  ulonglong octane_scaler_shortterm_new_val;
  byte cyl;
  
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    if (LEA_ign_knock_retard[cyl] == 0) {
      if ((ushort)CAL_knock_octane_scaler_shortterm_decrement < octane_scaler_shortterm[cyl]) {
        octane_scaler_shortterm[cyl] =
             octane_scaler_shortterm[cyl] - (ushort)CAL_knock_octane_scaler_shortterm_decrement;
      }
      else {
        octane_scaler_shortterm[cyl] = 0;
      }
    }
    else {
      octane_scaler_shortterm_new_val =
           (ulonglong)octane_scaler_shortterm[cyl] +
           (longlong)(int)(uint)LEA_ign_knock_retard[cyl] *
           (longlong)(int)(uint)CAL_knock_octane_scaler_shortterm_multiplier;
      if (octane_scaler_shortterm_new_val < 0x10000) {
        octane_scaler_shortterm[cyl] = (uint16_t)octane_scaler_shortterm_new_val;
      }
      else {
        octane_scaler_shortterm[cyl] = 0xffff;
      }
    }
  }
  octane_scaler_learn_update();
  return;
}



void octane_scaler_learn_update(void)

{
  byte cyl;
  
  for (cyl = 0; cyl < 6; cyl = cyl + 1) {
    if (octane_scaler_shortterm[cyl] == 0) {
      if ((ushort)CAL_knock_octane_scaler_decrement < LEA_octane_scaler[cyl]) {
        LEA_octane_scaler[cyl] = LEA_octane_scaler[cyl] - (ushort)CAL_knock_octane_scaler_decrement;
      }
      else {
        LEA_octane_scaler[cyl] = 0;
      }
    }
    else if ((ulonglong)CAL_knock_octane_scaler_increment + (ulonglong)LEA_octane_scaler[cyl] <
             0x10000) {
      LEA_octane_scaler[cyl] =
           (uint16_t)
           ((ulonglong)CAL_knock_octane_scaler_increment + (ulonglong)LEA_octane_scaler[cyl]);
    }
    else {
      LEA_octane_scaler[cyl] = 0xffff;
    }
  }
  return;
}



void knock_ign_retard_decay_200hz(void)

{
  u8_time_5ms timer_tmp1;
  byte cyl2;
  byte cyl;
  
  if (knock_ign_retard_delay_timer < 10) {
    knock_ign_retard_delay_timer = knock_ign_retard_delay_timer + 1;
  }
  else {
    knock_ign_retard_delay_timer = 0;
    timer_tmp1 = knock_inhibit_timer_tps_rate + 0xff;
    if (knock_inhibit_timer_tps_rate == 0) {
      timer_tmp1 = knock_inhibit_timer_tps_rate;
    }
    knock_inhibit_timer_tps_rate = timer_tmp1;
    for (cyl2 = 0; cyl2 < 6; cyl2 = cyl2 + 1) {
      if (knock_ign_retard_unknown[cyl2] != 0) {
        knock_ign_retard_unknown[cyl2] = knock_ign_retard_unknown[cyl2] - 1;
      }
    }
    if ((knock_flags & 0b00000010) != 0) {
      octane_scaler_update();
    }
  }
  if (knock_ign_retard_timer_unknown2 < 100) {
    knock_ign_retard_timer_unknown2 = knock_ign_retard_timer_unknown2 + 1;
  }
  else {
    knock_ign_retard_timer_unknown2 = 0;
    for (cyl = 0; cyl < 6; cyl = cyl + 1) {
      if (knock_ign_retard_unknown[cyl] == 0) {
        if (CAL_knock_ign_retard_decay_rate < LEA_ign_knock_retard[cyl]) {
          LEA_ign_knock_retard[cyl] = LEA_ign_knock_retard[cyl] - CAL_knock_ign_retard_decay_rate;
        }
        else {
          LEA_ign_knock_retard[cyl] = 0;
        }
      }
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void evap_canister_unknown(void)

{
  bool bVar1;
  uint16_t uVar2;
  uint uVar3;
  uint uVar4;
  short sVar5;
  byte bVar6;
  int iVar7;
  
  if ((((((LEA_obd_ii_P0455_flags & 2) != 0) || ((LEA_obd_ii_P0441_flags & 2) != 0)) ||
       ((LEA_obd_ii_P0444_flags & 2) != 0)) ||
      ((((LEA_obd_ii_P0445_flags & 2) != 0 || ((LEA_obd_ii_P0446_flags & 2) != 0)) ||
       (((LEA_obd_ii_P0447_flags & 2) != 0 ||
        (((LEA_obd_ii_P0448_flags & 2) != 0 || ((LEA_obd_ii_P0451_flags & 2) != 0)))))))) ||
     ((((LEA_obd_ii_P0452_flags & 2) != 0 ||
       ((((((((LEA_obd_ii_P0453_flags & 2) != 0 || ((LEA_obd_ii_P0461_flags & 2) != 0)) ||
            ((LEA_obd_ii_P0462_flags & 2) != 0)) ||
           (((LEA_obd_ii_P0463_flags & 2) != 0 || ((LEA_obd_ii_P0500_flags & 2) != 0)))) ||
          (((LEA_obd_ii_P0122_flags & 2) != 0 ||
           (((LEA_obd_ii_P0171_flags & 2) != 0 || ((LEA_obd_ii_P0172_flags & 2) != 0)))))) ||
         ((LEA_obd_ii_P0174_flags & 2) != 0)) ||
        ((((LEA_obd_ii_P0175_flags & 2) != 0 || ((engine_state_failure_flags & 0x40000000) != 0)) ||
         (DAT_40001e90 == 8)))))) || (DAT_40001e92 == 8)))) {
    flags_unknown = flags_unknown | 6;
  }
  if ((((CAL_obd_ii_P0456 & 7) == 0) || ((LEA_obd_ii_P0442_flags & 2) != 0)) ||
     (((LEA_obd_ii_P0456_flags & 4) != 0 || (engine_air_temp2 < DAT_4000caf1)))) {
    flags_unknown = flags_unknown | 2;
  }
  if (((flags_unknown & 4) == 0) && ((CAL_obd_ii_P0456 & 7) != 0)) {
    LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags & 0xbf;
  }
  else {
    LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags | 0x40;
  }
  if ((((((((flags_unknown & 2) == 0) && ((int)DAT_4000cb1a < (int)(uint)obd_ii_atmospheric_baro))
         && (DAT_40002004 == 0)) &&
        ((((LEA_obd_ii_P0442_flags & 4) == 0 && ((evap_status_flags & 0x200) == 0)) ||
         (DAT_40002002 == 0)))) &&
       ((((fuel_level < DAT_4000cb07 && ((DAT_4000cb06 < fuel_level || (obd_ii_diag_override)))) &&
         (DAT_4000caef < coolant_temp)) &&
        ((temp_engine_air < DAT_4000caf0 &&
         ((flags_unknown & 0x30000) == 0 && (flags_unknown & 0x2000) == 0)))))) ||
      ((flags_unknown & 1) != 0)) &&
     ((((car_speed_u8 == '\0' && ((DAT_40001e90 & 2) != 0)) && ((DAT_40001e92 & 2) != 0)) &&
      (((engine_operating_state_flags & 8) != 0 && ((ignition_on_flags & 1) != 0)))))) {
    flags_unknown = flags_unknown | 8;
    uVar2 = obd_ii_monitor_status_this_drive_cycle;
  }
  else {
    flags_unknown = flags_unknown & 0xfffffff7;
    uVar2 = obd_ii_monitor_status_this_drive_cycle & 0xfbff;
    if ((int)DAT_4000cb1a < (int)(uint)obd_ii_atmospheric_baro) {
      uVar2 = obd_ii_monitor_status_this_drive_cycle;
    }
  }
  obd_ii_monitor_status_this_drive_cycle = uVar2;
  bVar1 = DAT_40002004 == 0;
  DAT_40002004 = DAT_40002004 + -1;
  if (bVar1) {
    DAT_40002004 = 0;
  }
  if ((car_speed_u8 == '\0') && ((engine_operating_state_flags & 8) != 0)) {
    if (obd_ii_system_leak_status < 3) {
      bVar1 = DAT_40001ff8 == '\0';
      DAT_40001ff8 = DAT_40001ff8 + -1;
      if (bVar1) {
        DAT_40001ff8 = '\0';
      }
    }
    else {
      DAT_40001ff8 = DAT_4000cb0a;
    }
    if (DAT_40002002 != 0) {
      DAT_40002002 = DAT_40002002 + -1;
    }
  }
  else {
    DAT_40001ff8 = DAT_4000cb0a;
    if (((LEA_obd_ii_P0442_flags & 4) != 0) || ((evap_status_flags & 0x200) != 0)) {
      DAT_40002002 = DAT_4000cb1e;
    }
  }
  if (((flags_unknown & 8) == 0) || ((flags_unknown & 0x10) == 0)) {
    if (((obd_ii_mode2f_flags_enabled & 0x4000000) == 0) &&
       ((((ulonglong)DAT_400020f0 - 0x4000000 & 0xffffffff) != 0 &&
        (CAL_obd_ii_standards_supported != '\x06')))) {
      if ((flags_unknown & 0x800000) == 0) {
        evap_canister_close_command = 0;
        siu_gpdo[0xc3] = '\0';
      }
    }
    else if ((obd_ii_mode2f_flags_state & 0x4000000) == 0) {
      evap_canister_close_command = 0;
      siu_gpdo[0xc3] = '\0';
    }
    else {
      evap_canister_close_command = 1;
      siu_gpdo[0xc3] = '\x01';
    }
    obd_ii_system_leak_status = 0;
    uVar3 = flags_unknown & 0xffffff9f | 1;
    if (DAT_4000cb1c == '\0') {
      uVar3 = flags_unknown & 0xffffff9f;
    }
    DAT_40001fee = 0xff;
  }
  else {
    uVar3 = flags_unknown | 0x20;
    if (obd_ii_system_leak_status == 0) {
      if (DAT_40001ff8 == '\0') {
        evap_canister_close_command = 1;
        siu_gpdo[0xc3] = '\x01';
        DAT_40001ff9 = DAT_4000cb0b;
        obd_ii_system_leak_status = 1;
      }
    }
    else if (obd_ii_system_leak_status == 1) {
      if (DAT_40001ff9 == '\0') {
        uVar4 = (uint)evap_purge_pressure_voltage * (uint)CAL_evap_purge_pressure_scaling;
        DAT_400019f4 = ((short)((int)uVar4 >> 10) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3ff) != 0)
                       ) - CAL_evap_purge_pressure_offset;
        DAT_40001ff2 = 0;
        DAT_40001ff0 = 0;
        DAT_40001ffa = DAT_4000cb0c;
        obd_ii_system_leak_status = 2;
      }
      else {
        DAT_40001ff9 = DAT_40001ff9 + -1;
      }
    }
    else if (obd_ii_system_leak_status == 2) {
      if (DAT_40001ffa == 0) {
        flags_unknown = uVar3;
        bVar6 = lookup_3D_uint8_interpolated
                          ('\b','\x10',DAT_40001fec & 0xff,(ushort)fuel_level,&DAT_4000df58,
                           &DAT_4000df40,&DAT_4000df48);
        DAT_40001ffe = DAT_40001ff0 - bVar6;
        DAT_40002008 = (ushort)DAT_4000caf3;
        DAT_4000200a = 0;
        obd_ii_system_leak_status = obd_ii_system_leak_status + 1;
        flags_unknown = flags_unknown & 0xffffefff;
      }
      else {
        DAT_40001ffa = DAT_40001ffa - 1;
        flags_unknown = uVar3;
      }
      if ((short)DAT_40001ff2 < (short)obd_ii_evap_purge_pressure) {
        DAT_40001ff2 = obd_ii_evap_purge_pressure;
      }
      if ((short)obd_ii_evap_purge_pressure < (short)DAT_40001ff0) {
        DAT_40001ff0 = obd_ii_evap_purge_pressure;
      }
      DAT_40001fec = DAT_40001ff2 - DAT_40001ff0;
      if ((short)DAT_40001ff2 < (short)DAT_40001ff0) {
        DAT_40001fec = 0;
      }
      uVar3 = flags_unknown;
      if ((int)(short)DAT_40001ff0 < -(int)DAT_4000cafa) {
        uVar3 = flags_unknown | 0x1000000;
      }
    }
    else if (obd_ii_system_leak_status == 3) {
      uVar3 = flags_unknown | 0x60;
      if (DAT_40001ffe < (short)obd_ii_evap_purge_pressure) {
        if ((int)DAT_40001ffe + (int)DAT_40001688 < (int)(short)obd_ii_evap_purge_pressure) {
          DAT_40002006 = DAT_4000230c;
          DAT_40001fee = 0xff;
        }
        else {
          iVar7 = (int)((uint)DAT_40002006 *
                       ((int)(short)obd_ii_evap_purge_pressure - (int)DAT_40001ffe)) /
                  (int)DAT_40001688 + ((int)(uint)DAT_4000200a >> 2);
          if (iVar7 < 2) {
            DAT_40001fee = 2;
          }
          else {
            DAT_40001fee = (undefined1)iVar7;
            if (0xff < iVar7) {
              DAT_40001fee = 0xff;
            }
          }
          if (DAT_4000200a != 0xff) {
            DAT_4000200a = DAT_4000200a + 1;
          }
        }
        if (DAT_40002008 == 0) {
          if ((((flags_unknown & 0x1000) == 0) && (DAT_4000cb10 < _obd_ii_commanded_evap_purge)) ||
             (DAT_4000cb12 < _obd_ii_commanded_evap_purge)) {
            uVar3 = flags_unknown | 0x2160;
          }
          flags_unknown = uVar3;
          uVar3 = flags_unknown & 0xfffffffe;
          if (DAT_4000cb04 < (short)obd_ii_evap_purge_pressure) {
            uVar3 = flags_unknown & 0xfffffffe | 0x200;
          }
          DAT_40001ff4 = obd_ii_evap_purge_pressure;
        }
        else {
          DAT_40002008 = DAT_40002008 - 1;
          if ((int)(short)obd_ii_evap_purge_pressure < -(int)DAT_4000cb08) {
            uVar3 = flags_unknown | 0x1060;
          }
        }
      }
      else {
        DAT_40001ff4 = obd_ii_evap_purge_pressure;
        DAT_40001ff9 = DAT_4000cb0b;
        obd_ii_system_leak_status = 4;
        uVar3 = uVar3 & 0xfffffebf | 0x80;
      }
    }
    else if (obd_ii_system_leak_status == 4) {
      if (DAT_4000230c == 0) {
        if (DAT_40001ff9 == '\0') {
          stft_bank1 = 0;
          stft_bank2 = 0;
          DAT_40001ff6 = obd_ii_evap_purge_pressure;
          DAT_40001ffb = DAT_4000cb0d;
          DAT_40001ffc = DAT_4000cb0e;
          flags_unknown = uVar3;
          DAT_40001fea = lookup_3D_uint8_interpolated
                                   ('\x04','\n',(ushort)air_temp_intake_unknown,(ushort)fuel_level,
                                    &DAT_4000e106,&DAT_4000e0f8,&DAT_4000e0fc);
          DAT_40001feb = lookup_2D_uint8_interpolated('\x10',fuel_level,&DAT_4000df30,&DAT_4000df20)
          ;
          obd_ii_system_leak_status = obd_ii_system_leak_status + 1;
          uVar3 = flags_unknown;
        }
        else {
          DAT_40001ff9 = DAT_40001ff9 + -1;
        }
      }
    }
    else if (obd_ii_system_leak_status == 5) {
      DAT_40001fe6 = (obd_ii_evap_purge_pressure - DAT_40001ff6) -
                     (short)(((int)(short)DAT_40001fec * (int)(short)(DAT_4000cb0e - DAT_40001ffc))
                            / (int)(uint)DAT_4000cb0c);
      sVar5 = DAT_40001ffc + -1;
      if (DAT_40001ffc == 0) {
        sVar5 = DAT_40001ffc;
      }
      DAT_40001ffc = sVar5;
      if (DAT_40001ffb == '\0') {
        flags_unknown = uVar3;
        obd_ii_monitor_pass(&CAL_obd_ii_P0442,&LEA_obd_ii_P0442_flags);
        if (DAT_40002001 < DAT_4000d40b) {
          DAT_40002001 = DAT_40002001 + 1;
        }
        if (DAT_40001ffc == 0) {
          obd_ii_monitor_pass(&CAL_obd_ii_P0456,&LEA_obd_ii_P0456_flags);
          if (DAT_40002000 < DAT_4000d41a) {
            DAT_40002000 = DAT_40002000 + 1;
          }
          if (((int)(uint)uint16_t_ARRAY_40004a28[0] < (int)(short)DAT_40001fe6) &&
             (0 < (short)DAT_40001fe6)) {
            uint16_t_ARRAY_40004a28[0] = DAT_40001fe6;
            sort_array10(uint16_t_ARRAY_40004a28);
          }
          flags_unknown = flags_unknown & 0xfffffffe;
        }
        else if (((((short)(ushort)DAT_40001fea < (short)DAT_40001fe6) &&
                  ((DAT_4000cb1c == '\0' || (DAT_40001ffc == 0)))) && (DAT_40002000 != 0)) &&
                (DAT_40002000 = DAT_40002000 - 1, DAT_40002000 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0456,&LEA_obd_ii_P0456_flags,&DAT_40004d90,&DAT_40004d91,0x456,0);
          flags_unknown = flags_unknown & 0xfffffffe;
        }
      }
      else {
        DAT_40001ffb = DAT_40001ffb + -1;
        flags_unknown = uVar3;
        obd_ii_eval_leak_check_result = DAT_40001fe6;
        if ((((short)(ushort)DAT_40001feb < (short)DAT_40001fe6) &&
            (((DAT_4000cb1c == '\0' || (DAT_40001ffb == '\0')) && (DAT_40002001 != 0)))) &&
           (DAT_40002001 = DAT_40002001 - 1, DAT_40002001 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0442,&LEA_obd_ii_P0442_flags,&DAT_40004d72,&DAT_40004d73,0x442,0);
          flags_unknown = flags_unknown & 0xfffffffe;
        }
      }
      if ((LEA_obd_ii_P0442_flags & 4) != 0) {
        if ((LEA_obd_ii_P0442_flags & 2) != 0) {
          LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags | 0x20;
        }
        DAT_40004b52 = obd_ii_eval_leak_check_result;
        DAT_40004b56 = DAT_40001feb;
      }
      uVar3 = flags_unknown;
      if ((LEA_obd_ii_P0456_flags & 4) != 0) {
        LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags | 0x20;
        DAT_40004b54 = DAT_40001fe6;
        DAT_40004b57 = DAT_40001fea;
      }
    }
  }
  flags_unknown = uVar3;
  if ((CAL_obd_ii_P0455 & 7) != 0) {
    if ((flags_unknown & 0x80000) == 0) {
      if (((((flags_unknown & 0x80) != 0) || ((flags_unknown & 0x8000) != 0)) ||
          ((flags_unknown & 0x200) != 0)) && ((LEA_obd_ii_P0455_flags & 4) == 0)) {
        uVar3 = obd_ii_status_unknokwn & 0xffff0fff;
        if (((flags_unknown & 0x80) == 0) && ((flags_unknown & 0x200) == 0)) {
          obd_ii_status_unknokwn = uVar3;
          if ((flags_unknown & 0x8000) != 0) {
            obd_ii_status_unknokwn = uVar3 | 0x4000;
            DAT_40004c0a = DAT_40001e6a;
            if ((flags_unknown & 0x100) != 0) {
              obd_ii_status_unknokwn = uVar3 | 0x5000;
              DAT_40004c0c = DAT_40001ff4;
              DAT_40004c0e = DAT_40001ffe;
            }
          }
        }
        else {
          DAT_40004c0c = DAT_40001ff4;
          DAT_40004c0e = DAT_40001ffe;
          obd_ii_status_unknokwn = uVar3 | 0x1000;
          if ((flags_unknown & 0x200) != 0) {
            obd_ii_status_unknokwn = uVar3 | 0x3000;
          }
        }
        obd_ii_monitor_pass(&CAL_obd_ii_P0455,&LEA_obd_ii_P0455_flags);
      }
    }
    else if ((LEA_obd_ii_P0455_flags & 2) == 0) {
      uVar3 = obd_ii_status_unknokwn & 0xffff0fff;
      obd_ii_status_unknokwn = uVar3 | 0xc000;
      DAT_40004c0a = DAT_40001e6a;
      DAT_40004c10 = DAT_40001e6c;
      if ((flags_unknown & 0x100) != 0) {
        obd_ii_status_unknokwn = uVar3 | 0xd000;
        DAT_40004c0c = DAT_40001ff4;
        DAT_40004c0e = DAT_40001ffe;
      }
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0455,&LEA_obd_ii_P0455_flags,&DAT_40004d8d,&DAT_40004d8e,0x455,0);
    }
  }
  if ((((LEA_obd_ii_P0456_flags & 4) != 0) && ((LEA_obd_ii_P0456_flags & 2) == 0)) ||
     (((LEA_obd_ii_P0456_flags & 1) != 0 && ((LEA_obd_ii_P0456_flags & 2) != 0)))) {
    obd_ii_engine_tests_completeness = obd_ii_engine_tests_completeness & 0xfb;
    obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xfffb;
  }
  if ((((((LEA_obd_ii_P0442_flags & 4) != 0) && ((LEA_obd_ii_P0455_flags & 4) != 0)) &&
       ((LEA_obd_ii_P0456_flags & 4) != 0)) &&
      (((CAL_obd_ii_P0442 & 8) != 0 && ((CAL_obd_ii_P0455 & 8) != 0)))) &&
     ((CAL_obd_ii_P0456 & 8) != 0)) {
    LEA_obd_ii_P0442_flags = LEA_obd_ii_P0442_flags & 0xfb;
    LEA_obd_ii_P0455_flags = LEA_obd_ii_P0455_flags & 0xfb;
    LEA_obd_ii_P0456_flags = LEA_obd_ii_P0456_flags & 0xfb;
    flags_unknown = flags_unknown & 0xfffffdff;
    DAT_40002004 = (ushort)DAT_4000caee << 4;
  }
  return;
}



void FUN_00079bd0(void)

{
  DAT_40002001 = DAT_4000d40b;
  DAT_40002000 = DAT_4000d41a;
  obdii_update_dtc_state(&CAL_obd_ii_P0442,&LEA_obd_ii_P0442_flags,0x442,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0455,&LEA_obd_ii_P0455_flags,0x455,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0456,&LEA_obd_ii_P0456_flags,0x456,0);
  DAT_40001ff8 = DAT_4000cb0a;
  DAT_40002002 = 0;
  flags_unknown = 0;
  DAT_40001ff6 = 0;
  DAT_40001ff4 = 0;
  DAT_40001ff2 = 0;
  DAT_40001ff0 = 0;
  obd_ii_system_leak_status = 0;
  return;
}



void FUN_00079ccc(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0442,&LEA_obd_ii_P0442_flags,&DAT_40004d72,&DAT_40004d73,0x442,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0455,&LEA_obd_ii_P0455_flags,&DAT_40004d8d,&DAT_40004d8e,0x455,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0456,&LEA_obd_ii_P0456_flags,&DAT_40004d90,&DAT_40004d91,0x456,0);
  return;
}



void obd_ii_module_coding_vin_monitors_update(void)

{
  byte i;
  ushort _cod_flag_old;
  
  if ((CAL_obd_ii_P0601 & 7) != 0) {
    if ((main_diagnostic_flags & 1) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0601,&LEA_obd_ii_P0601_flags);
    }
    else {
      main_diagnostic_flags = main_diagnostic_flags & 0xfffe;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0601,&LEA_obd_ii_P0601_flags,&DAT_40004dd2,&DAT_40004dd3,0x601,0);
    }
  }
  if ((CAL_obd_ii_P0606 & 7) != 0) {
    if ((main_diagnostic_flags & 2) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0606,&LEA_obd_ii_P0606_flags);
    }
    else {
      main_diagnostic_flags = main_diagnostic_flags & 0xfffd;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0606,&LEA_obd_ii_P0606_flags,&DAT_40004dd5,&DAT_40004dd6,0x606,0);
    }
  }
  for (i = 0xb; i < 0x11; i = i + 1) {
    if (COD_VIN[i] == -1) {
      main_diagnostic_flags = main_diagnostic_flags | 4;
    }
  }
  if ((CAL_obd_ii_P0630 & 7) != 0) {
    if ((main_diagnostic_flags & 4) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0630,&LEA_obd_ii_P0630_flags);
    }
    else {
      main_diagnostic_flags = main_diagnostic_flags & 0xfffb;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0630,&LEA_obd_ii_P0630_flags,&DAT_40004de1,&DAT_40004de2,0x630,0);
    }
  }
  code_blank_byte_count = 0;
  for (i = 0; i < 8; i = i + 1) {
    if (*(char *)((int)COD_base + (uint)i) == -1) {
      code_blank_byte_count = code_blank_byte_count + 1;
    }
    _cod_flag_old = main_diagnostic_flags | 0b00011000;
    main_diagnostic_flags = main_diagnostic_flags & 0b1111111111101111;
    if (code_blank_byte_count == 8) {
      main_diagnostic_flags = _cod_flag_old;
    }
  }
  if ((CAL_obd_ii_P0610 & 0b00000111) != 0) {
    if ((main_diagnostic_flags & 0b00001000) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0610,&LEA_obd_ii_P0610_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0610,&LEA_obd_ii_P0610_flags,&DAT_40004dd8,&DAT_40004dd9,0x610,0);
    }
  }
  if (((COD_base[0] >> 0xd & 7) == 1) && ((CAL_obd_ii_P0700 & 7) != 0)) {
    if ((main_diagnostic_flags & 0x20) == 0) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0700,&LEA_obd_ii_P0700_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0700,&LEA_obd_ii_P0700_flags,&DAT_40004df0,&DAT_40004df1,0x700,0);
    }
  }
  return;
}



void obd_ii_knock_threshold_per_clyinder_100ms(void)

{
  if (((CAL_obd_ii_P050B & 7) != 0) && ((ign_flags_unknown & 2) != 0)) {
                    // should be coldstart only
    if ((ign_adv_target2 < ign_adv_min) ||
       ((((obd_ii_ign_adv_per_cylinder[0] <= ign_adv_target2 &&
          (obd_ii_ign_adv_per_cylinder[1] <= ign_adv_target2)) &&
         (obd_ii_ign_adv_per_cylinder[2] <= ign_adv_target2)) &&
        (((obd_ii_ign_adv_per_cylinder[3] <= ign_adv_target2 &&
          (obd_ii_ign_adv_per_cylinder[4] <= ign_adv_target2)) &&
         (obd_ii_ign_adv_per_cylinder[5] <= ign_adv_target2)))))) {
      DAT_40002012 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P050B,&LEA_obd_ii_P050B_flags);
      if (DAT_40002014 < DAT_4000d453) {
        DAT_40002014 = DAT_40002014 + 1;
      }
    }
    else {
      DAT_40002012 = DAT_40002012 + 1;
      if (((DAT_4000c9d9 < DAT_40002012) && (DAT_40002012 = 0, DAT_40002014 != 0)) &&
         (DAT_40002014 = DAT_40002014 - 1, DAT_40002014 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P050B,&LEA_obd_ii_P050B_flags,&DAT_40004dae,&DAT_40004daf,0x50b,0);
      }
    }
  }
  if ((knock_flags & 0b00000010) == 0) {
    knock_flags = knock_flags & 0b11110111;
  }
  else {
    if (DAT_4000202e != 0xffff) {
      DAT_4000202e = DAT_4000202e + 1;
    }
    if (DAT_4000cbf6 < DAT_4000202e) {
      knock_flags = knock_flags | 0b00001000;
    }
  }
  if ((CAL_knock_threshold_obd_ii_check_enable_engine_speed < engine_speed_2) &&
     (CAL_knock_threshold_obd_ii_check_enable_load < load_pct)) {
    knock_flags = knock_flags | 0b10000000;
  }
  else {
    knock_flags = knock_flags & 0b01111111;
  }
  if ((CAL_obd_ii_P2336 & 7) != 0) {
    if ((knock_flags & 0b10000000) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[0]) || (LEA_ign_knock_retard[0] == 0)) {
        if (DAT_40002015 == 0) {
          if (DAT_40002016 < DAT_4000d45e) {
            DAT_40002016 = DAT_40002016 + 1;
          }
        }
        else {
          DAT_40002015 = DAT_40002015 - 1;
        }
      }
      else {
        DAT_40002015 = DAT_40002015 + 1;
        if ((DAT_4000cbf5 < DAT_40002015) && (DAT_40002015 = 0, DAT_40002016 != 0)) {
          DAT_40002016 = DAT_40002016 - 1;
        }
      }
    }
    if ((knock_flags & 0b00001000) != 0) {
      if ((LEA_octane_scaler[0] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[0])) {
        DAT_40002021 = DAT_40002021 + 1;
        if ((DAT_4000cbfd < DAT_40002021) && (DAT_40002021 = 0, DAT_40002022 != 0)) {
          DAT_40002022 = DAT_40002022 - 1;
        }
      }
      else if (DAT_40002021 == 0) {
        if (DAT_40002022 < DAT_4000d45e) {
          DAT_40002022 = DAT_40002022 + 1;
        }
      }
      else {
        DAT_40002021 = DAT_40002021 - 1;
      }
    }
    if ((DAT_40002016 == 0) || (DAT_40002022 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2336,&LEA_obd_ii_P2336_flags,&DAT_40004e7d,&DAT_40004e7e,0x2336,0);
    }
    else if (((DAT_40002016 == DAT_4000d45e) && (DAT_40002022 == DAT_4000d45e)) &&
            ((knock_flags & 8) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2336,&LEA_obd_ii_P2336_flags);
    }
  }
  if ((CAL_obd_ii_P2337 & 7) != 0) {
    if ((knock_flags & 0b10000000) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[1]) || (LEA_ign_knock_retard[1] == 0)) {
        if (DAT_40002017 == 0) {
          if (DAT_40002018 < DAT_4000d45f) {
            DAT_40002018 = DAT_40002018 + 1;
          }
        }
        else {
          DAT_40002017 = DAT_40002017 - 1;
        }
      }
      else {
        DAT_40002017 = DAT_40002017 + 1;
        if ((DAT_4000cbf5 < DAT_40002017) && (DAT_40002017 = 0, DAT_40002018 != 0)) {
          DAT_40002018 = DAT_40002018 - 1;
        }
      }
    }
    if ((knock_flags & 0b00001000) != 0) {
      if ((LEA_octane_scaler[1] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[1])) {
        DAT_40002023 = DAT_40002023 + 1;
        if ((DAT_4000cbfd < DAT_40002023) && (DAT_40002023 = 0, DAT_40002024 != 0)) {
          DAT_40002024 = DAT_40002024 - 1;
        }
      }
      else if (DAT_40002023 == 0) {
        if (DAT_40002024 < DAT_4000d45f) {
          DAT_40002024 = DAT_40002024 + 1;
        }
      }
      else {
        DAT_40002023 = DAT_40002023 - 1;
      }
    }
    if ((DAT_40002018 == 0) || (DAT_40002024 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2337,&LEA_obd_ii_P2337_flags,&DAT_40004e80,&DAT_40004e81,0x2337,0);
    }
    else if (((DAT_40002018 == DAT_4000d45f) && (DAT_40002024 == DAT_4000d45f)) &&
            ((knock_flags & 0b00001000) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2337,&LEA_obd_ii_P2337_flags);
    }
  }
  if ((CAL_obd_ii_P2338 & 7) != 0) {
    if ((knock_flags & 0b10000000) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[2]) || (LEA_ign_knock_retard[2] == 0)) {
        if (DAT_40002019 == 0) {
          if (DAT_4000201a < DAT_4000d460) {
            DAT_4000201a = DAT_4000201a + 1;
          }
        }
        else {
          DAT_40002019 = DAT_40002019 - 1;
        }
      }
      else {
        DAT_40002019 = DAT_40002019 + 1;
        if ((DAT_4000cbf5 < DAT_40002019) && (DAT_40002019 = 0, DAT_4000201a != 0)) {
          DAT_4000201a = DAT_4000201a - 1;
        }
      }
    }
    if ((knock_flags & 0b00001000) != 0) {
      if ((LEA_octane_scaler[2] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[2])) {
        DAT_40002025 = DAT_40002025 + 1;
        if ((DAT_4000cbfd < DAT_40002025) && (DAT_40002025 = 0, DAT_40002026 != 0)) {
          DAT_40002026 = DAT_40002026 - 1;
        }
      }
      else if (DAT_40002025 == 0) {
        if (DAT_40002026 < DAT_4000d460) {
          DAT_40002026 = DAT_40002026 + 1;
        }
      }
      else {
        DAT_40002025 = DAT_40002025 - 1;
      }
    }
    if ((DAT_4000201a == 0) || (DAT_40002026 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2338,&LEA_obd_ii_P2338_flags,&DAT_40004e83,&DAT_40004e84,0x2338,0);
    }
    else if (((DAT_4000201a == DAT_4000d460) && (DAT_40002026 == DAT_4000d460)) &&
            ((knock_flags & 0b00001000) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2338,&LEA_obd_ii_P2338_flags);
    }
  }
  if ((CAL_obd_ii_P2339 & 7) != 0) {
    if ((knock_flags & 0x80) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[3]) || (LEA_ign_knock_retard[3] == 0)) {
        if (DAT_4000201b == 0) {
          if (DAT_4000201c < DAT_4000d461) {
            DAT_4000201c = DAT_4000201c + 1;
          }
        }
        else {
          DAT_4000201b = DAT_4000201b - 1;
        }
      }
      else {
        DAT_4000201b = DAT_4000201b + 1;
        if ((DAT_4000cbf5 < DAT_4000201b) && (DAT_4000201b = 0, DAT_4000201c != 0)) {
          DAT_4000201c = DAT_4000201c - 1;
        }
      }
    }
    if ((knock_flags & 8) != 0) {
      if ((LEA_octane_scaler[3] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[3])) {
        DAT_40002027 = DAT_40002027 + 1;
        if ((DAT_4000cbfd < DAT_40002027) && (DAT_40002027 = 0, DAT_40002028 != 0)) {
          DAT_40002028 = DAT_40002028 - 1;
        }
      }
      else if (DAT_40002027 == 0) {
        if (DAT_40002028 < DAT_4000d461) {
          DAT_40002028 = DAT_40002028 + 1;
        }
      }
      else {
        DAT_40002027 = DAT_40002027 - 1;
      }
    }
    if ((DAT_4000201c == 0) || (DAT_40002028 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2339,&LEA_obd_ii_P2339_flags,&DAT_40004e86,&DAT_40004e87,0x2339,0);
    }
    else if (((DAT_4000201c == DAT_4000d461) && (DAT_40002028 == DAT_4000d461)) &&
            ((knock_flags & 8) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2339,&LEA_obd_ii_P2339_flags);
    }
  }
  if ((CAL_obd_ii_P2340 & 7) != 0) {
    if ((knock_flags & 0x80) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[4]) || (LEA_ign_knock_retard[4] == 0)) {
        if (DAT_4000201d == 0) {
          if (DAT_4000201e < DAT_4000d462) {
            DAT_4000201e = DAT_4000201e + 1;
          }
        }
        else {
          DAT_4000201d = DAT_4000201d - 1;
        }
      }
      else {
        DAT_4000201d = DAT_4000201d + 1;
        if ((DAT_4000cbf5 < DAT_4000201d) && (DAT_4000201d = 0, DAT_4000201e != 0)) {
          DAT_4000201e = DAT_4000201e - 1;
        }
      }
    }
    if ((knock_flags & 8) != 0) {
      if ((LEA_octane_scaler[4] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[4])) {
        DAT_40002029 = DAT_40002029 + 1;
        if ((DAT_4000cbfd < DAT_40002029) && (DAT_40002029 = 0, DAT_4000202a != 0)) {
          DAT_4000202a = DAT_4000202a - 1;
        }
      }
      else if (DAT_40002029 == 0) {
        if (DAT_4000202a < DAT_4000d462) {
          DAT_4000202a = DAT_4000202a + 1;
        }
      }
      else {
        DAT_40002029 = DAT_40002029 - 1;
      }
    }
    if ((DAT_4000201e == 0) || (DAT_4000202a == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2340,&LEA_obd_ii_P2340_flags,&DAT_40004e89,&DAT_40004e8a,0x2340,0);
    }
    else if (((DAT_4000201e == DAT_4000d462) && (DAT_4000202a == DAT_4000d462)) &&
            ((knock_flags & 8) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2340,&LEA_obd_ii_P2340_flags);
    }
  }
  if ((CAL_obd_ii_P2341 & 7) != 0) {
    if ((knock_flags & 0x80) != 0) {
      if ((ign_adv_min < obd_ii_ign_adv_per_cylinder[5]) || (LEA_ign_knock_retard[5] == 0)) {
        if (DAT_4000201f == 0) {
          if (DAT_40002020 < DAT_4000d463) {
            DAT_40002020 = DAT_40002020 + 1;
          }
        }
        else {
          DAT_4000201f = DAT_4000201f - 1;
        }
      }
      else {
        DAT_4000201f = DAT_4000201f + 1;
        if ((DAT_4000cbf5 < DAT_4000201f) && (DAT_4000201f = 0, DAT_40002020 != 0)) {
          DAT_40002020 = DAT_40002020 - 1;
        }
      }
    }
    if ((knock_flags & 8) != 0) {
      if ((LEA_octane_scaler[5] == 0xffff) && (DAT_4000cbf8 < octane_scaler_shortterm[5])) {
        DAT_4000202b = DAT_4000202b + 1;
        if ((DAT_4000cbfd < DAT_4000202b) && (DAT_4000202b = 0, DAT_4000202c != 0)) {
          DAT_4000202c = DAT_4000202c - 1;
        }
      }
      else if (DAT_4000202b == 0) {
        if (DAT_4000202c < DAT_4000d463) {
          DAT_4000202c = DAT_4000202c + 1;
        }
      }
      else {
        DAT_4000202b = DAT_4000202b - 1;
      }
    }
    if ((DAT_40002020 == 0) || (DAT_4000202c == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2341,&LEA_obd_ii_P2341_flags,&DAT_40004e8c,&DAT_40004e8d,0x2341,0);
    }
    else if (((DAT_40002020 == DAT_4000d463) && (DAT_4000202c == DAT_4000d463)) &&
            ((knock_flags & 8) != 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2341,&LEA_obd_ii_P2341_flags);
    }
  }
  if ((((DAT_40002016 == 0) || (DAT_40002018 == 0)) ||
      ((DAT_4000201a == 0 || ((DAT_4000201c == 0 || (DAT_4000201e == 0)))))) ||
     ((DAT_40002020 == 0 ||
      (((((DAT_40002022 == 0 || (DAT_40002024 == 0)) || (DAT_40002026 == 0)) ||
        ((DAT_40002028 == 0 || (DAT_4000202a == 0)))) || (DAT_4000202c == 0)))))) {
    engine_state_failure_flags = engine_state_failure_flags | 0x400000;
  }
  return;
}



void FUN_0007b3b0(void)

{
  obdii_update_dtc_state(&CAL_obd_ii_P050B,&LEA_obd_ii_P050B_flags,0x50b,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0601,&LEA_obd_ii_P0601_flags,0x601,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0606,&LEA_obd_ii_P0606_flags,0x606,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0610,&LEA_obd_ii_P0610_flags,0x610,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0630,&LEA_obd_ii_P0630_flags,0x630,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0700,&LEA_obd_ii_P0700_flags,0x700,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2336,&LEA_obd_ii_P2336_flags,0x2336,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2337,&LEA_obd_ii_P2337_flags,0x2337,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2338,&LEA_obd_ii_P2338_flags,0x2338,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2339,&LEA_obd_ii_P2339_flags,0x2339,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2340,&LEA_obd_ii_P2340_flags,0x2340,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2341,&LEA_obd_ii_P2341_flags,0x2341,0);
  DAT_40002014 = DAT_4000d453;
  DAT_40002022 = DAT_4000d45e;
  DAT_40002016 = DAT_4000d45e;
  DAT_40002024 = DAT_4000d45f;
  DAT_40002018 = DAT_4000d45f;
  DAT_40002026 = DAT_4000d460;
  DAT_4000201a = DAT_4000d460;
  DAT_40002028 = DAT_4000d461;
  DAT_4000201c = DAT_4000d461;
  DAT_4000202a = DAT_4000d462;
  DAT_4000201e = DAT_4000d462;
  DAT_4000202c = DAT_4000d463;
  DAT_40002020 = DAT_4000d463;
  DAT_4000201f = 0;
  DAT_4000201d = 0;
  DAT_4000201b = 0;
  DAT_40002019 = 0;
  DAT_40002017 = 0;
  DAT_40002015 = 0;
  DAT_4000202b = 0;
  DAT_40002029 = 0;
  DAT_40002027 = 0;
  DAT_40002025 = 0;
  DAT_40002023 = 0;
  DAT_40002021 = 0;
  return;
}



void FUN_0007b69c(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P050B,&LEA_obd_ii_P050B_flags,&DAT_40004dae,&DAT_40004daf,0x50b,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0601,&LEA_obd_ii_P0601_flags,&DAT_40004dd2,&DAT_40004dd3,0x601,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0606,&LEA_obd_ii_P0606_flags,&DAT_40004dd5,&DAT_40004dd6,0x606,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0610,&LEA_obd_ii_P0610_flags,&DAT_40004dd8,&DAT_40004dd9,0x610,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0630,&LEA_obd_ii_P0630_flags,&DAT_40004de1,&DAT_40004de2,0x630,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0700,&LEA_obd_ii_P0700_flags,&DAT_40004df0,&DAT_40004df1,0x700,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2336,&LEA_obd_ii_P2336_flags,&DAT_40004e7d,&DAT_40004e7e,0x2336,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2337,&LEA_obd_ii_P2337_flags,&DAT_40004e80,&DAT_40004e81,0x2337,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2338,&LEA_obd_ii_P2338_flags,&DAT_40004e83,&DAT_40004e84,0x2338,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2339,&LEA_obd_ii_P2339_flags,&DAT_40004e86,&DAT_40004e87,0x2339,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2340,&LEA_obd_ii_P2340_flags,&DAT_40004e89,&DAT_40004e8a,0x2340,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2341,&LEA_obd_ii_P2341_flags,&DAT_40004e8c,&DAT_40004e8d,0x2341,0);
  return;
}



void FUN_0007b9e8(void)

{
  byte i;
  ushort j;
  
  for (i = 0; i < 6; i = i + 1) {
    for (j = 0; j < 64; j = j + 1) {
      (&DAT_400051b8)[(uint)i * 0x40 + (uint)j] =
           (int)(short)(&DAT_40003624)[(uint)j + (uint)i * 0x40] << 8;
    }
  }
  for (j = 0; j < 153; j = j + 1) {
    watchdog_retrigger();
    (&DAT_40005dbc)[j] = ((byte)(&DAT_40003928)[j] - 0x80) * 0x100;
    (&DAT_40005c88)[j] = ((byte)(&DAT_400039c2)[j] - 0x80) * 0x100;
    (&DAT_40005b54)[j] = ((byte)(&DAT_40003a5c)[j] - 0x80) * 0x100;
    (&DAT_40005a20)[j] = ((byte)(&DAT_40003af6)[j] - 0x80) * 0x100;
    (&DAT_400058ec)[j] = ((byte)(&DAT_40003b90)[j] - 0x80) * 0x100;
    (&DAT_400057b8)[j] = ((byte)(&DAT_40003c2a)[j] - 0x80) * 0x100;
  }
  return;
}



void init_lea_unknown(void)

{
  byte i;
  byte j;
  
  DAT_40004b8c = DAT_4000ca66;
  if (DAT_4000ca66 == '\x01') {
    for (i = 0; i < 0x40; i = i + 1) {
      for (j = 0; j < 6; j = j + 1) {
        (&DAT_40003624)[(uint)i + (uint)j * 0x40] =
             (short)(&DAT_000d40a0)[(uint)j * 0x40 + (uint)i] >> 4;
      }
    }
  }
  else {
    for (i = 0; i < 0x40; i = i + 1) {
      for (j = 0; j < 6; j = j + 1) {
        (&DAT_40003624)[(uint)i + (uint)j * 0x40] =
             (short)(&DAT_000d43a0)[(uint)j * 0x40 + (uint)i] >> 4;
      }
    }
  }
  if (DAT_4000ca66 == '\x01') {
    for (i = 0; i < 153; i = i + 1) {
      (&DAT_40003928)[i] = (&DAT_000d46a0)[i];
      (&DAT_400039c2)[i] = (&DAT_000d4739)[i];
      (&DAT_40003a5c)[i] = (&DAT_000d47d2)[i];
      (&DAT_40003af6)[i] = (&DAT_000d486b)[i];
      (&DAT_40003b90)[i] = (&DAT_000d4904)[i];
      (&DAT_40003c2a)[i] = (&DAT_000d499d)[i];
    }
  }
  else {
    for (i = 0; i < 0x99; i = i + 1) {
      (&DAT_40003928)[i] = (&DAT_000d4a38)[i];
      (&DAT_400039c2)[i] = (&DAT_000d4ad1)[i];
      (&DAT_40003a5c)[i] = (&DAT_000d4b6a)[i];
      (&DAT_40003af6)[i] = (&DAT_000d4c03)[i];
      (&DAT_40003b90)[i] = (&DAT_000d4c9c)[i];
      (&DAT_40003c2a)[i] = (&DAT_000d4d35)[i];
    }
  }
  for (i = 0; i < 0x11; i = i + 1) {
    (&DAT_40003cc4)[i] = 10;
    (&DAT_40003cd6)[i] = 10;
    (&DAT_40003ce8)[i] = 10;
    (&DAT_40003cfa)[i] = 10;
    (&DAT_40003d0c)[i] = 10;
    (&DAT_40003d1e)[i] = 10;
  }
  return;
}



void FUN_0007bffc(undefined4 param_1,byte param_2)

{
  *(undefined4 *)(&DAT_40005ef0 + (uint)param_2 * 4) =
       *(undefined4 *)(&DAT_40005f08 + (uint)param_2 * 4);
  *(undefined4 *)(&DAT_40005f08 + (uint)param_2 * 4) = param_1;
  DAT_40002086 = param_2;
  return;
}



void misfire_preignition_detection_200hz__(byte param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  char cVar4;
  short sVar6;
  uint uVar5;
  longlong lVar7;
  ulonglong uVar8;
  uint uVar9;
  ulonglong uVar10;
  longlong lVar11;
  int iVar12;
  ushort uVar13;
  ulonglong uVar14;
  
  iVar3 = (int)(uint)engine_speed_3 >> 2;
  uVar10 = (ulonglong)(uint)((int)(engine_speed_3 - 144) >> 2) & 0xff;
  if (67 < (byte)(engine_speed_3 + 112)) {
    uVar10 = 0xff;
  }
  uVar5 = (uint)(byte)(load_mass_per_stroke - 32);
  if ((uVar5 < 144) && (uVar5 = inj_flags & 1, (inj_flags & 1) == 0)) {
    uVar5 = (int)(load_mass_per_stroke - 32) >> 4;
    uVar8 = (ulonglong)uVar5 & 0xff;
  }
  else {
    uVar8 = 0xff;
  }
  if ((uVar10 == 0xff) || (uVar8 == 0xff)) {
    lVar7 = 0xff;
    if ((engine_speed_3 < 0x90) || ((load_mass_per_stroke < 0x20 || ((inj_flags & 1) != 0)))) {
      lVar11 = 0xff;
    }
    else {
      if (0xd3 < engine_speed_3) {
        uVar10 = 0x10;
      }
      if (0xaf < load_mass_per_stroke) {
        uVar8 = 8;
        lVar7 = uVar10 + 0x88;
      }
      lVar11 = uVar10 + uVar8 * 0x11;
    }
  }
  else {
    lVar7 = uVar10 + uVar8 * 0x11;
    lVar11 = lVar7;
  }
  while (DAT_40002040 != param_1) {
    puVar1 = (&PTR_DAT_000d5698)[DAT_40002040];
    puVar2 = (&PTR_DAT_000d5680)[DAT_40002040];
    if ((lVar11 == 0xff) || (DAT_4000c9e5 == '\0')) {
      uVar13 = 0x80;
    }
    else {
      uVar13 = (ushort)(byte)puVar1[(int)lVar11];
    }
    uVar8 = (ulonglong)DAT_40002040 - 1 & 0xff;
    if (DAT_40002040 == 0) {
      uVar8 = 5;
    }
    if (((*(int *)(&DAT_40005f08 + (uint)DAT_40002040 * 4) != 0) &&
        (*(int *)(&DAT_40005ef0 + (uint)DAT_40002040 * 4) != 0)) &&
       (*(int *)(&DAT_40005f08 + (int)(uVar8 << 2)) != 0)) {
      uVar14 = (longlong)
               (*(int *)(&DAT_40005f08 + (uint)DAT_40002040 * 4) -
               *(int *)(&DAT_40005ef0 + (uint)DAT_40002040 * 4)) / 6 +
               ((longlong)
                (*(int *)(&DAT_40005f08 + (uint)DAT_40002040 * 4) -
                *(int *)(&DAT_40005ef0 + (uint)DAT_40002040 * 4)) >> 0x3f) & 0xffffffff;
      sVar6 = ((short)*(undefined4 *)(&DAT_40005f08 + (uint)DAT_40002040 * 4) -
              ((short)uVar14 - ((short)(uVar14 >> 0x10) >> 0xf))) -
              (short)*(undefined4 *)(&DAT_40005f08 + (int)(uVar8 << 2));
      uVar5 = (uint)sVar6;
      *(short *)(&DAT_400051ac + (uint)DAT_40002040 * 2) = sVar6;
      *(short *)(&DAT_400051a0 + (uint)DAT_40002040 * 2) =
           sVar6 - (&DAT_40003624)[iVar3 + (uint)DAT_40002040 * 0x40];
      *(ushort *)(&DAT_40005f38 + (uint)DAT_40002040 * 2) =
           *(short *)(&DAT_400051a0 + (uint)DAT_40002040 * 2) - (uVar13 - 0x80);
    }
    cVar4 = DAT_4000203a;
    if ((misfire_condition_flags & 2) != 0) {
      obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40;
      if ((((DAT_40002040 & 1) == 0) && ((misfire_condition_flags & 0x20) == 0)) ||
         (((DAT_40002040 & 1) == 1 && ((misfire_condition_flags & 0x40) == 0)))) {
        if (misfire_unknown1 < *(short *)(&DAT_40005f38 + (uint)DAT_40002040 * 2)) {
          if ((&DAT_40000678)[DAT_40002040] != 0) {
            (&DAT_40000678)[DAT_40002040] = (&DAT_40000678)[DAT_40002040] + -1;
            DAT_4000203a = '\x03';
          }
        }
        else {
          (&DAT_40000678)[DAT_40002040] = 100;
        }
        if ((misfire_condition_flags & 8) == 0) {
          if (DAT_40002096 < *(short *)(&DAT_40005f38 + (uint)DAT_40002040 * 2)) {
            misfires_per_cyl[DAT_40002040] = misfires_per_cyl[DAT_40002040] + 1;
            (&DAT_40005f20)[DAT_40002040] = (&DAT_40005f20)[DAT_40002040] + 1;
            if (int16_t_ARRAY_40004bf8[DAT_40002040] != -1) {
              int16_t_ARRAY_40004bf8[DAT_40002040] = int16_t_ARRAY_40004bf8[DAT_40002040] + 1;
            }
            (&DAT_40002044)[DAT_40002040] = 1;
            DAT_4000203a = '\x03';
          }
          else {
            (&DAT_40002044)[DAT_40002040] = 0;
          }
        }
      }
      if (DAT_4000203e < 600) {
        DAT_4000203e = DAT_4000203e + 1;
      }
      else {
        DAT_4000203e = 0;
        misfire_condition_flags = misfire_condition_flags | 0x200;
      }
      if (DAT_4000203c < 3000) {
        DAT_4000203c = DAT_4000203c + 1;
        cVar4 = DAT_4000203a;
      }
      else {
        DAT_4000203c = 0;
        misfire_condition_flags = misfire_condition_flags | 0x400;
        cVar4 = DAT_4000203a + -1;
        if (DAT_4000203a == '\0') {
          cVar4 = DAT_4000203a;
        }
      }
    }
    DAT_4000203a = cVar4;
    if ((((misfire_condition_flags & 0x80000) == 0) && ((misfire_condition_flags & 0x10) == 0)) &&
       (((misfire_condition_flags & 0x1000) == 0 &&
        (((misfire_condition_flags & 0x2000) == 0 && ((&DAT_40002044)[DAT_40002040] == '\0')))))) {
      DAT_4000204c = (&PTR_DAT_000d5668)[DAT_40002040];
      iVar12 = (int)uVar10;
      if (((inj_flags & 1) != 0) && (car_speed_u8 != '\0')) {
        uVar9 = (&DAT_400051b8)[(uint)DAT_40002040 * 0x40 + iVar3] * 0xfc;
        (&DAT_400051b8)[(uint)DAT_40002040 * 0x40 + iVar3] =
             (short)uVar5 * 4 + ((int)uVar9 >> 8) + (uint)((int)uVar9 < 0 && (uVar9 & 0xff) != 0);
        uVar9 = (&DAT_400051b8)[(uint)DAT_40002040 * 0x40 + iVar3];
        (&DAT_40003624)[iVar3 + (uint)DAT_40002040 * 0x40] =
             (short)(uVar9 >> 8) + (ushort)((int)uVar9 < 0 && (uVar9 & 0xff) != 0);
        uVar9 = *(int *)(&DAT_40005188 + (uint)DAT_40002040 * 4) * 0xfc;
        *(uint *)(&DAT_40005188 + (uint)DAT_40002040 * 4) =
             ((int)uVar9 >> 8) + (uint)((int)uVar9 < 0 && (uVar9 & 0xff) != 0) +
             *(short *)(&DAT_40005f38 + (uint)DAT_40002040 * 2) * 4;
        uVar9 = *(uint *)(&DAT_40005188 + (uint)DAT_40002040 * 4);
        *(uint *)(&DAT_40005170 + (uint)DAT_40002040 * 4) =
             ((int)uVar9 >> 8) + (uint)((int)uVar9 < 0 && (uVar9 & 0xff) != 0);
        if (uVar10 != 0xff) {
          if ((*(int *)(&DAT_40005170 + (uint)DAT_40002040 * 4) < 3) &&
             (-3 < *(int *)(&DAT_40005170 + (uint)DAT_40002040 * 4))) {
            if (DAT_4000204c[iVar12] != '\0') {
              DAT_4000204c[iVar12] = DAT_4000204c[iVar12] + -1;
            }
          }
          else if (DAT_4000204c[iVar12] != '\0') {
            DAT_4000204c[iVar12] = 10;
          }
        }
      }
      if (((DAT_4000203a == '\0') && (lVar7 != 0xff)) && (DAT_4000204c[iVar12] == '\0')) {
        if (*(short *)(&DAT_400051a0 + (uint)DAT_40002040 * 2) < 0x80) {
          if (*(short *)(&DAT_400051a0 + (uint)DAT_40002040 * 2) < -0x80) {
            sVar6 = -0x80;
          }
          else {
            sVar6 = *(short *)(&DAT_400051a0 + (uint)DAT_40002040 * 2);
          }
        }
        else {
          sVar6 = 0x7f;
        }
        uVar9 = *(short *)(puVar2 + (int)(lVar7 << 1)) * 0xfc;
        iVar12 = sVar6 * 4 + ((int)uVar9 >> 8) + (uint)((int)uVar9 < 0 && (uVar9 & 0xff) != 0);
        if (iVar12 < 0x8000) {
          if (iVar12 < -0x8000) {
            *(undefined2 *)(puVar2 + (int)(lVar7 << 1)) = 0x8000;
          }
          else {
            *(short *)(puVar2 + (int)(lVar7 << 1)) = (short)iVar12;
          }
        }
        else {
          *(undefined2 *)(puVar2 + (int)(lVar7 << 1)) = 0x7fff;
        }
        uVar13 = *(ushort *)(puVar2 + (int)(lVar7 << 1));
        puVar1[(int)lVar7] =
             (char)(uVar13 >> 8) + ((short)uVar13 < 0 && (uVar13 & 0xff) != 0) + -0x80;
      }
    }
    iVar12 = DAT_40002040 + 1;
    DAT_40002040 = (char)iVar12 +
                   ((char)((ulonglong)(longlong)iVar12 / 6) + (char)(iVar12 >> 7)) * -6;
  }
  return;
}



void misfire_calc_unknown(void)

{
  int iVar1;
  char cVar2;
  uint32_t uVar3;
  uint32_t uVar4;
  byte misfire_unknown2;
  uint j;
  byte i;
  char cVar5;
  char cVar6;
  char cVar7;
  char cVar8;
  char cVar9;
  uint local_20 [8];
  
  if (((misfire_condition_flags & 0b00100000) == 0) && ((misfire_condition_flags & 0b01000000) == 0)
     ) {
    j = 0xff;
    if ((COD_base[0] >> 0xd & 7) == 1) {
      uVar3 = lookup_3D_uint32_interpolated
                        (8,8,(uint)engine_speed_2,load_mass_per_stroke_raw & 0xffff,
                         CAL_misfire_ips_unknown1,CAL_misfire_ips_unknown1_X_rpm,
                         CAL_misfire_ips_unknown1_Y_load);
      misfire_unknown1 = (undefined2)uVar3;
    }
    else {
      uVar3 = lookup_3D_uint32_interpolated
                        (8,8,(uint)engine_speed_2,load_mass_per_stroke_raw & 0xffff,
                         CAL_misfire_manual_unknown1,CAL_misfire_manual_unknown1_X_rpm,
                         CAL_misfire_manual_unknown1_Y_load);
      misfire_unknown1 = (undefined2)uVar3;
    }
  }
  else {
    j = (uint)DAT_4000ca3a;
    misfire_unknown1 = 0;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    uVar3 = lookup_3D_uint32_interpolated
                      (4,5,(uint)coolant_temp_engine_stopped,(uint)maf_accumulated2,
                       (uint16_t *)&DAT_4000d5ec,(uint16_t *)s__4000d5da,u16_mass_mg_ARRAY_4000d5e2)
    ;
    uVar4 = lookup_3D_uint32_interpolated
                      (16,16,(uint)engine_speed_2,load_mass_per_stroke_raw & 0xffff,
                       (uint16_t *)&DAT_4000dce0,u16_rspeed_rpm_ARRAY_4000dca0,
                       u16_load_mg_stroke_ARRAY_4000dcc0);
    iVar1 = (uVar3 & 0xffff) * ((j * (uVar4 & 0xffff ^ 0x8000)) / 0xff);
  }
  else {
    uVar3 = lookup_3D_uint32_interpolated
                      (4,5,(uint)coolant_temp_engine_stopped,(uint)maf_accumulated2,
                       (uint16_t *)&DAT_4000d5b2,(uint16_t *)&DAT_4000d5a0,(uint16_t *)&DAT_4000d5a8
                      );
    uVar4 = lookup_3D_uint32_interpolated
                      (0x10,0x10,(uint)engine_speed_2,load_mass_per_stroke_raw & 0xffff,
                       (uint16_t *)&DAT_4000da50,(uint16_t *)&DAT_4000da10,(uint16_t *)&DAT_4000da30
                      );
    iVar1 = (uVar3 & 0xffff) * ((j * (uVar4 & 0xffff ^ 0x8000)) / 0xff);
  }
  iVar1 = iVar1 / 100;
  if (iVar1 < 0x8000) {
    DAT_40002096 = (undefined2)iVar1;
    if (iVar1 < -0x8000) {
      DAT_40002096 = 0x8000;
    }
  }
  else {
    DAT_40002096 = 0x7fff;
  }
  misfire_unknown2 =
       lookup_3D_uint8_interpolated
                 (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_misfire_unknown2,
                  CAL_misfire_unknown2_X_rpm,CAL_misfire_unknown2_Y_load);
  DAT_40002032 = (ushort)misfire_unknown2 << 1;
  DAT_40002098 = DAT_4000cad8;
  DAT_40002035 = lookup_2D_uint8_interpolated
                           ('\b',engine_speed_3,CAL_misfire_unknown3,CAL_misfire_unknown3_X_rpm);
  if ((((LEA_obd_ii_P0101_flags & 2) == 0) && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
     ((LEA_obd_ii_P0103_flags & 2) == 0)) {
    misfire_condition_flags = misfire_condition_flags & 0xfffffff7;
  }
  else {
    misfire_condition_flags = misfire_condition_flags | 8;
  }
  if ((misfire_condition_flags & 0x4000) == 0) {
                    // not above wheelspeed_threshold
    if (timer_unknown2 == 0) {
      misfire_condition_flags = misfire_condition_flags & 0xfff7ffff;
    }
  }
  else {
                    // Above wheel speed threshold
    timer_unknown2 = DAT_4000ca8e;
    misfire_condition_flags = misfire_condition_flags & 0xffffbfff | 0x80000;
  }
  if ((coolant_temp < CAL_misfire_unknown_coolant_range_high) ||
     (CAL_misfire_unknown_coolant_range_low < coolant_temp)) {
    misfire_condition_flags = misfire_condition_flags | 0x8000;
  }
  else {
    misfire_condition_flags = misfire_condition_flags & 0xffff7fff;
  }
  if (((engine_speed_3 < CAL_misfire_unknown_rpm_range_low) ||
      (CAL_misfire_unknown_rpm_range_high < engine_speed_3)) || (revlimit_final_ < engine_speed_2))
  {
    misfire_condition_flags = misfire_condition_flags | 0x10000;
  }
  else {
    misfire_condition_flags = misfire_condition_flags & 0xfffeffff;
  }
  if ((engine_is_running == false) ||
     ((((short)(ushort)DAT_40002035 <= (short)torque_net_engine_combustion &&
       ((ign_flags_unknown & 4) == 0)) || ((engine_operating_state_flags & 0x20) != 0)))) {
    misfire_condition_flags = misfire_condition_flags & 0xfffdffff;
  }
  else {
    misfire_condition_flags = misfire_condition_flags | 0x20000;
  }
  if (((BYTE_ARRAY_400015c8[0] == 0) || (BYTE_ARRAY_400015c8[1] == 0)) ||
     (((BYTE_ARRAY_400015c8[2] == 0 ||
       ((BYTE_ARRAY_400015c8[3] == 0 || (BYTE_ARRAY_400015c8[4] == 0)))) ||
      (BYTE_ARRAY_400015c8[5] == 0)))) {
    misfire_condition_flags = misfire_condition_flags | 0x40000;
  }
  else {
    misfire_condition_flags = misfire_condition_flags & 0xfffbffff;
  }
  if (((((((misfire_condition_flags & 0x800) != 0) || ((misfire_condition_flags & 0x8000) != 0)) ||
        ((misfire_condition_flags & 0x10000) != 0)) ||
       (((misfire_condition_flags & 0x20000) != 0 && ((misfire_condition_flags & 8) == 0)))) ||
      ((misfire_condition_flags & 0x40000) != 0)) || ((inj_flags & 1) != 0)) {
    timer_unknown1 = DAT_4000ca4e;
  }
  if ((((car_current_gear == NO_GEAR) ||
       ((((COD_base[1] >> 0x15 & 3) == 2 && ((clutch_pos_sensor & 8) == 0)) &&
        (((clutch_pos_sensor & 4) != 0 || ((clutch_pos_sensor & 2) != 0)))))) &&
      ((short)(ushort)DAT_4000c9d2 < (short)tps_delta_rate)) ||
     (((short)(ushort)DAT_4000c9d3 < (short)tps_delta_rate ||
      ((int)(short)tps_delta_rate < (int)-(uint)DAT_4000c9d4)))) {
    timer_unknown2 = DAT_4000ca4c;
    misfire_condition_flags = misfire_condition_flags | 0x10;
  }
  else if (timer_unknown2 == 0) {
    misfire_condition_flags = misfire_condition_flags & 0xffffffef;
  }
  if ((((timer_unknown1 == 0) && (timer_unknown2 == 0)) && (timer_unknown2 == 0)) &&
     ((ignition_on_flags & 1) != 0)) {
    misfire_condition_flags = misfire_condition_flags | 2;
  }
  else {
    misfire_condition_flags = misfire_condition_flags & 0xfffffffd;
  }
  if (engine_is_running == false) {
    DAT_40002030 = '\x01';
    DAT_40002031 = '\x01';
    misfire_condition_flags = misfire_condition_flags & 0xfffffe7f;
  }
  if ((misfire_condition_flags & 0x200) != 0) {
    misfire_condition_flags = misfire_condition_flags & 0xfffffdff;
    for (i = 0; i < 2; i = i + 1) {
      local_20[i] = 0;
      (&DAT_40002088)[i] = 0;
      for (j = 0; j < 5; j = j + 2 & 0xff) {
        local_20[i] = local_20[i] + (uint)(ushort)(&DAT_40005f20)[j + i];
        if ((&DAT_40000678)[j + i] == 0) {
          (&DAT_40002088)[i] = (&DAT_40002088)[i] + 0x14d;
        }
      }
      (&DAT_40002080)[i] = (short)((ulonglong)(local_20[i] * 10) / 3);
    }
    for (i = 0; i < 2; i = i + 1) {
      if ((ushort)(&DAT_40002088)[i] < (ushort)(&DAT_40002080)[i]) {
        obd_ii_misfires_unknown_cat_damage[i] = (&DAT_40002080)[i];
        for (j = 0; j < 6; j = j + 2 & 0xff) {
          if (local_20[i] == 0) {
            coil_pack_diag_reading_unknown[j + i] = 0;
          }
          else {
            coil_pack_diag_reading_unknown[j + i] =
                 (uint16_t)
                 (((ulonglong)(ushort)(&DAT_40005f20)[j + i] * 1000) / (ulonglong)local_20[i]);
          }
        }
      }
      else {
        obd_ii_misfires_unknown_cat_damage[i] = (&DAT_40002088)[i];
        for (j = 0; j < 6; j = j + 2 & 0xff) {
          if (((&DAT_40002088)[i] == 0) || ((&DAT_40000678)[j + i] != 0)) {
            coil_pack_diag_reading_unknown[j + i] = 0;
          }
          else {
            coil_pack_diag_reading_unknown[j + i] = (uint16_t)(0x514c8 / (ushort)(&DAT_40002088)[i])
            ;
          }
        }
      }
    }
    if ((CAL_obd_ii_P1302 & 7) != 0) {
      obd_ii_status_unknokwn = obd_ii_status_unknokwn | 4;
      DAT_40004b62 = DAT_40002032;
      if ((DAT_40002032 < obd_ii_misfires_unknown_cat_damage[0]) ||
         (DAT_40002032 < obd_ii_misfires_unknown_cat_damage[1])) {
        cVar2 = DAT_40002031 + -1;
        if (DAT_40002031 == '\0') {
          cVar2 = DAT_40002031;
        }
        DAT_40002031 = cVar2;
        if (cVar2 == '\0') {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P1302,&LEA_obd_ii_P1302_flags,&DAT_40004d66,&DAT_40004d67,0x1302,0)
          ;
          if (((DAT_40002032 < obd_ii_misfires_unknown_cat_damage[0]) ||
              ((misfire_condition_flags & 0x1000) != 0)) &&
             ((DAT_40002032 < obd_ii_misfires_unknown_cat_damage[1] ||
              ((misfire_condition_flags & 0x2000) != 0)))) {
            misfire_condition_flags = misfire_condition_flags & 0xffffff9f | 0x3800;
            engine_state_failure_flags = engine_state_failure_flags & 0xfffdffff;
            coilpack_failure_set(2);
          }
          else if (DAT_40002032 < obd_ii_misfires_unknown_cat_damage[0]) {
            misfire_condition_flags = misfire_condition_flags | 0x1020;
            engine_state_failure_flags = engine_state_failure_flags | 0x20000;
            coilpack_failure_set(0);
            for (j = 0; j < 6; j = j + 2 & 0xff) {
              (&DAT_40000678)[j] = 100;
            }
          }
          else if (DAT_40002032 < obd_ii_misfires_unknown_cat_damage[1]) {
            misfire_condition_flags = misfire_condition_flags | 0x2040;
            engine_state_failure_flags = engine_state_failure_flags | 0x20000;
            coilpack_failure_set(1);
            for (j = 1; j < 6; j = j + 2 & 0xff) {
              (&DAT_40000678)[j] = 100;
            }
          }
        }
        obd_ii_set_misfire_codes(0x200);
      }
      else {
        obd_ii_monitor_pass(&CAL_obd_ii_P1302,&LEA_obd_ii_P1302_flags);
        if ((misfire_condition_flags & 0x100) == 0) {
          DAT_40002031 = DAT_4000d3fb;
          misfire_condition_flags = misfire_condition_flags | 0x100;
        }
      }
      if (DAT_40002032 < obd_ii_misfires_unknown_cat_damage[0]) {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn | 8;
      }
      else {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfffffff7;
      }
      if (DAT_40002032 < obd_ii_misfires_unknown_cat_damage[1]) {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x10;
      }
      else {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xffffffef;
      }
    }
    for (i = 0; i < 6; i = i + 1) {
      (&DAT_40005f20)[i] = 0;
    }
  }
  j = obd_ii_status_unknokwn;
  if ((misfire_condition_flags & 0x400) != 0) {
    misfire_condition_flags = misfire_condition_flags & 0xfffffbff;
    local_20[0] = 0;
    for (i = 0; i < 6; i = i + 1) {
      local_20[0] = local_20[0] + misfires_per_cyl[i];
    }
    DAT_40002084 = (uint16_t)((ulonglong)local_20[0] / 3);
    for (i = 0; i < 6; i = i + 1) {
      if (local_20[0] == 0) {
        (&DAT_40004b64)[i] = 0;
      }
      else {
        (&DAT_40004b64)[i] =
             (short)(((ulonglong)misfires_per_cyl[i] * 1000) / (ulonglong)local_20[0]);
      }
      misfires_per_cyl[i] = 0;
    }
    if (DAT_40002084 == 0) {
      obd_ii_max_misfire_results_emissions = 0;
    }
    else {
      obd_ii_max_misfire_results_emissions = DAT_40002084;
    }
    if (uint16_t_ARRAY_40004a14[0] < obd_ii_max_misfire_results_emissions) {
      uint16_t_ARRAY_40004a14[0] = obd_ii_max_misfire_results_emissions;
      sort_array10(uint16_t_ARRAY_40004a14);
    }
    j = obd_ii_status_unknokwn | 1;
    if ((CAL_obd_ii_P1301 & 7) != 0) {
      if (DAT_40002098 < obd_ii_max_misfire_results_emissions) {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn | 3;
        if ((DAT_40002030 != '\0') && (DAT_40002030 = DAT_40002030 + -1, DAT_40002030 == '\0')) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P1301,&LEA_obd_ii_P1301_flags,&DAT_40004d63,&DAT_40004d64,0x1301,0)
          ;
        }
      }
      else {
        obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfffffffd | 1;
        obd_ii_monitor_pass(&CAL_obd_ii_P1301,&LEA_obd_ii_P1301_flags);
        if ((misfire_condition_flags & 0x80) == 0) {
          DAT_40002030 = DAT_4000d3fa;
          misfire_condition_flags = misfire_condition_flags | 0x80;
        }
      }
      obd_ii_set_misfire_codes(0x400);
      j = obd_ii_status_unknokwn;
    }
  }
  obd_ii_status_unknokwn = j;
  if ((((misfire_condition_flags & 0x20) == 0) && ((misfire_condition_flags & 0x40) == 0)) &&
     ((coilpack_failure_flags & 0x3f) == 0)) {
    trqlimit_failure_condition_count___ = 0;
  }
  else {
    cVar2 = 0;
    if (((coilpack_failure_flags & 1) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
      cVar2 = 1;
    }
    cVar5 = 0;
    if (((coilpack_failure_flags & 2) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
      cVar5 = 1;
    }
    cVar6 = 0;
    if (((coilpack_failure_flags & 4) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
      cVar6 = 1;
    }
    cVar7 = 0;
    if (((coilpack_failure_flags & 8) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
      cVar7 = 1;
    }
    cVar8 = 0;
    if (((coilpack_failure_flags & 0x10) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
      cVar8 = 1;
    }
    cVar9 = '\0';
    if (((coilpack_failure_flags & 0x20) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
      cVar9 = 1;
    }
    trqlimit_failure_condition_count___ = cVar2 + cVar5 + cVar6 + cVar7 + cVar8 + cVar9;
  }
  if (6 < trqlimit_failure_condition_count___) {
    trqlimit_failure_condition_count___ = 6;
  }
  return;
}



void obd_ii_set_misfire_codes(int param_1)

{
  DAT_40002034 = 0;
  if ((CAL_obd_ii_P0301 & 7) != 0) {
    if ((((DAT_40004b64 < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       (((coil_pack_diag_reading_unknown[0] < 0x65 && (DAT_40000678 != 0)) ||
        ((DAT_40002031 != '\0' || (param_1 != 0x200)))))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0301,&LEA_obd_ii_P0301_flags);
    }
    else {
      DAT_40002034 = 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0301,&LEA_obd_ii_P0301_flags,&DAT_40004d24,&DAT_40004d25,0x301,0);
    }
  }
  if ((CAL_obd_ii_P0302 & 7) != 0) {
    if ((((DAT_40004b66 < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       ((((coil_pack_diag_reading_unknown[1] < 0x65 && (DAT_4000067a != 0)) ||
         (DAT_40002031 != '\0')) || (param_1 != 0x200)))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags);
    }
    else {
      DAT_40002034 = DAT_40002034 + 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,&DAT_40004d27,&DAT_40004d28,0x302,0);
    }
  }
  if ((CAL_obd_ii_P0303 & 7) != 0) {
    if ((((DAT_40004b68 < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       (((coil_pack_diag_reading_unknown[2] < 0x65 && (DAT_4000067c != 0)) ||
        ((DAT_40002031 != '\0' || (param_1 != 0x200)))))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0303,&LEA_obd_ii_P0303_flags);
    }
    else {
      DAT_40002034 = DAT_40002034 + 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0303,&LEA_obd_ii_P0303_flags,&DAT_40004d2a,&DAT_40004d2b,0x303,0);
    }
  }
  if ((CAL_obd_ii_P0304 & 7) != 0) {
    if ((((DAT_40004b6a < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       (((coil_pack_diag_reading_unknown[3] < 0x65 && (DAT_4000067e != 0)) ||
        ((DAT_40002031 != '\0' || (param_1 != 0x200)))))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0304,&LEA_obd_ii_P0304_flags);
    }
    else {
      DAT_40002034 = DAT_40002034 + 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0304,&LEA_obd_ii_P0304_flags,&DAT_40004d2d,&DAT_40004d2e,0x304,0);
    }
  }
  if ((CAL_obd_ii_P0305 & 7) != 0) {
    if ((((DAT_40004b6c < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       ((((coil_pack_diag_reading_unknown[4] < 0x65 && (DAT_40000680 != 0)) ||
         (DAT_40002031 != '\0')) || (param_1 != 0x200)))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0305,&LEA_obd_ii_P0305_flags);
    }
    else {
      DAT_40002034 = DAT_40002034 + 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0305,&LEA_obd_ii_P0305_flags,&DAT_40004d30,&DAT_40004d31,0x305,0);
    }
  }
  if ((CAL_obd_ii_P0306 & 7) != 0) {
    if ((((DAT_40004b6e < 0x65) || (DAT_40002030 != '\0')) || (param_1 != 0x400)) &&
       (((coil_pack_diag_reading_unknown[5] < 0x65 && (DAT_40000682 != 0)) ||
        ((DAT_40002031 != '\0' || (param_1 != 0x200)))))) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0306,&LEA_obd_ii_P0306_flags);
    }
    else {
      DAT_40002034 = DAT_40002034 + 1;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0306,&LEA_obd_ii_P0306_flags,&DAT_40004d33,&DAT_40004d34,0x306,0);
    }
  }
  if ((CAL_obd_ii_P0300 & 7) != 0) {
    if (DAT_40002034 < 2) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0300,&LEA_obd_ii_P0300_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0300,&LEA_obd_ii_P0300_flags,&DAT_40004d21,&DAT_40004d22,0x300,0);
    }
  }
  return;
}



void FUN_0007e258(void)

{
  DAT_40002030 = 1;
  DAT_40002031 = 1;
  obdii_update_dtc_state(&CAL_obd_ii_P0300,&LEA_obd_ii_P0300_flags,0x300,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0301,&LEA_obd_ii_P0301_flags,0x301,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,0x302,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0303,&LEA_obd_ii_P0303_flags,0x303,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0304,&LEA_obd_ii_P0304_flags,0x304,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0305,&LEA_obd_ii_P0305_flags,0x305,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0306,&LEA_obd_ii_P0306_flags,0x306,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1301,&LEA_obd_ii_P1301_flags,0x1301,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1302,&LEA_obd_ii_P1302_flags,0x1302,0);
  return;
}



void FUN_0007e410(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0300,&LEA_obd_ii_P0300_flags,&DAT_40004d21,&DAT_40004d22,0x300,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0301,&LEA_obd_ii_P0301_flags,&DAT_40004d24,&DAT_40004d25,0x301,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,&DAT_40004d27,&DAT_40004d28,0x302,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0303,&LEA_obd_ii_P0303_flags,&DAT_40004d2a,&DAT_40004d2b,0x303,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0304,&LEA_obd_ii_P0304_flags,&DAT_40004d2d,&DAT_40004d2e,0x304,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0305,&LEA_obd_ii_P0305_flags,&DAT_40004d30,&DAT_40004d31,0x305,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0306,&LEA_obd_ii_P0306_flags,&DAT_40004d33,&DAT_40004d34,0x306,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1301,&LEA_obd_ii_P1301_flags,&DAT_40004d63,&DAT_40004d64,0x1301,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1302,&LEA_obd_ii_P1302_flags,&DAT_40004d66,&DAT_40004d67,0x1302,0);
  return;
}



void engine_stop_reset(void)

{
  byte i;
  
  obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x20;
  for (i = 0; i < 6; i = i + 1) {
    (&DAT_40004be0)[i] =
         (int)(((ulonglong)(ushort)int16_t_ARRAY_40004bf8[i] * 0x100 +
                ((ulonglong)(uint)(&DAT_40004be0)[i] & 0x1fffffff) * 8 +
                (ulonglong)(uint)(&DAT_40004be0)[i] & 0xffffffff) / 10);
  }
  return;
}



void timer_decrement1_200hz(void)

{
  bool timer_is_zero;
  
  timer_is_zero = timer_unknown1 == 0;
  timer_unknown1 = timer_unknown1 - 1;
  if (timer_is_zero) {
    timer_unknown1 = 0;
  }
  timer_is_zero = timer_unknown2 == 0;
  timer_unknown2 = timer_unknown2 - 1;
  if (timer_is_zero) {
    timer_unknown2 = 0;
  }
  timer_is_zero = timer_unknown2 == 0;
  timer_unknown2 = timer_unknown2 - 1;
  if (timer_is_zero) {
    timer_unknown2 = 0;
  }
  misfire_preignition_detection_200hz__(DAT_40002086);
  wheelspeed_detect_implausible_rates_200hz___();
  return;
}



void wheelspeed_detect_implausible_rates_200hz___(void)

{
  uint uVar1;
  longlong wheel_speed_rate_abs;
  longlong lVar2;
  
  uVar1 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheel_speeds_smooth[0];
  wheel_speeds_smooth[0] =
       ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
       (uint)CAL_wheel_speed_smoothing * (uint)(ushort)wheel_speeds.LF;
  wheel_speeds_smooth2[0] =
       ((int)wheel_speeds_smooth[0] >> 8) +
       (uint)((int)wheel_speeds_smooth[0] < 0 && (wheel_speeds_smooth[0] & 0xff) != 0);
  uVar1 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheel_speeds_smooth[1];
  wheel_speeds_smooth[1] =
       ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
       (uint)CAL_wheel_speed_smoothing * (uint)(ushort)wheel_speeds.RF;
  wheel_speeds_smooth2[1] =
       ((int)wheel_speeds_smooth[1] >> 8) +
       (uint)((int)wheel_speeds_smooth[1] < 0 && (wheel_speeds_smooth[1] & 0xff) != 0);
  uVar1 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheel_speeds_smooth[2];
  wheel_speeds_smooth[2] =
       ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
       (uint)CAL_wheel_speed_smoothing * (uint)(ushort)wheel_speeds.LR;
  wheel_speeds_smooth2[2] =
       ((int)wheel_speeds_smooth[2] >> 8) +
       (uint)((int)wheel_speeds_smooth[2] < 0 && (wheel_speeds_smooth[2] & 0xff) != 0);
  uVar1 = (0x100 - (uint)CAL_wheel_speed_smoothing) * wheel_speeds_smooth[3];
  wheel_speeds_smooth[3] =
       ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
       (uint)CAL_wheel_speed_smoothing * (uint)(ushort)wheel_speeds.RR;
  wheel_speeds_smooth2[3] =
       ((int)wheel_speeds_smooth[3] >> 8) +
       (uint)((int)wheel_speeds_smooth[3] < 0 && (wheel_speeds_smooth[3] & 0xff) != 0);
  wheel_speed_rate[0] = (ushort)wheel_speeds.LF - wheel_speeds_smooth2[0];
  wheel_speed_rate[1] = (ushort)wheel_speeds.RF - wheel_speeds_smooth2[1];
  wheel_speed_rate[2] = (ushort)wheel_speeds.LR - wheel_speeds_smooth2[2];
  wheel_speed_rate[3] = (ushort)wheel_speeds.RR - wheel_speeds_smooth2[3];
  wheel_speed_rate_abs = libc_abs((ulonglong)wheel_speed_rate[0]);
  if ((((((int)(short)CAL_wheel_speed_rate_min < (int)wheel_speed_rate_abs) &&
        (CAL_wheel_speed_min < (ushort)wheel_speeds.LF)) ||
       ((lVar2 = libc_abs((ulonglong)wheel_speed_rate[1]),
        (int)(short)CAL_wheel_speed_rate_min < (int)lVar2 &&
        (CAL_wheel_speed_min < (ushort)wheel_speeds.RF)))) ||
      ((lVar2 = libc_abs((ulonglong)wheel_speed_rate[2]),
       (int)(short)CAL_wheel_speed_rate_min < (int)lVar2 &&
       (CAL_wheel_speed_min < (ushort)wheel_speeds.LR)))) ||
     ((lVar2 = libc_abs((ulonglong)wheel_speed_rate[3]),
      (int)(short)CAL_wheel_speed_rate_min < (int)lVar2 &&
      (CAL_wheel_speed_min < (ushort)wheel_speeds.RR)))) {
    misfire_condition_flags = misfire_condition_flags | 0b0100000000000000;
  }
                    // All wheels and rates are above threshold
  return;
}



void coilpack_failure_set(uint8_t bank)

{
  if ((bank == 0) || (bank == 2)) {
    if (600 < coil_pack_diag_reading_unknown[0]) {
      coilpack_failure_flags = coilpack_failure_flags | 1;
    }
    if (600 < coil_pack_diag_reading_unknown[2]) {
      coilpack_failure_flags = coilpack_failure_flags | 4;
    }
    if (600 < coil_pack_diag_reading_unknown[4]) {
      coilpack_failure_flags = coilpack_failure_flags | 0x10;
    }
  }
  if ((byte)(bank - 1) < 2) {
    if (600 < coil_pack_diag_reading_unknown[1]) {
      coilpack_failure_flags = coilpack_failure_flags | 2;
    }
    if (600 < coil_pack_diag_reading_unknown[3]) {
      coilpack_failure_flags = coilpack_failure_flags | 8;
    }
    if (600 < coil_pack_diag_reading_unknown[5]) {
      coilpack_failure_flags = coilpack_failure_flags | 0x20;
    }
  }
  return;
}



void obd_ii_mode11_processing(void)

{
  obd_ii_response[0] = 0x51;
  obd_ii_response_length = 1;
  lea_reset3();
  lea_reset2();
  lea_reset1();
  flexcan_a_obd_send_messages();
  return;
}



void obd_ii_set_mode22_supported_pids(void)

{
  obd_ii_mode22_supported_pids_0_20[0] = 0xbf;
  obd_ii_mode22_supported_pids_0_20[1] = 0x7f;
  obd_ii_mode22_supported_pids_0_20[2] = 0xf3;
  obd_ii_mode22_supported_pids_0_20[3] = 0xff;
  obd_ii_mode22_supported_pids_20_40[0] = 0xf7;
  obd_ii_mode22_supported_pids_20_40[1] = 0xfe;
  obd_ii_mode22_supported_pids_20_40[2] = 0xff;
  obd_ii_mode22_supported_pids_20_40[3] = 0xff;
  obd_ii_mode22_supported_pids_40_60[0] = 0x9f;
  obd_ii_mode22_supported_pids_40_60[1] = 0xbf;
  obd_ii_mode22_supported_pids_40_60[2] = 0xff;
  obd_ii_mode22_supported_pids_40_60[3] = 0xff;
  obd_ii_mode22_supported_pids_60_80[1] = 0xf7;
  obd_ii_mode22_supported_pids_60_80[2] = 0x48;
  obd_ii_mode22_supported_pids_60_80[3] = 1;
  obd_ii_mode22_supported_pids_80_a0[0] = 0;
  obd_ii_mode22_supported_pids_80_a0[1] = 0;
  obd_ii_mode22_supported_pids_80_a0[2] = 0;
  obd_ii_mode22_supported_pids_80_a0[3] = 1;
  obd_ii_mode22_supported_pids_a0_c0[0] = 0;
  obd_ii_mode22_supported_pids_a0_c0[1] = 0;
  obd_ii_mode22_supported_pids_a0_c0[2] = 0;
  obd_ii_mode22_supported_pids_a0_c0[3] = 1;
  obd_ii_mode22_supported_pids_c0_e0[1] = 0xe6;
  obd_ii_mode22_supported_pids_c0_e0[2] = 0;
  obd_ii_mode22_supported_pids_c0_e0[3] = 0;
  obd_ii_mode22_supported_pids_100_120[0] = 0xff;
  obd_ii_mode22_supported_pids_100_120[1] = 0xff;
  obd_ii_mode22_supported_pids_100_120[2] = 0xff;
  obd_ii_mode22_supported_pids_100_120[3] = 0x7f;
  obd_ii_mode22_supported_pids_120_40[0] = 0xff;
  obd_ii_mode22_supported_pids_120_40[1] = 0xf7;
  obd_ii_mode22_supported_pids_120_40[2] = 0xff;
  obd_ii_mode22_supported_pids_120_40[3] = 0xff;
  obd_ii_mode22_supported_pids_140_160[0] = 0xff;
  obd_ii_mode22_supported_pids_140_160[1] = 0xff;
  obd_ii_mode22_supported_pids_140_160[2] = 0xff;
  obd_ii_mode22_supported_pids_140_160[3] = 0xff;
  obd_mode_22_supported_pids_160_180[0] = 0x80;
  obd_mode_22_supported_pids_160_180[1] = 0;
  obd_mode_22_supported_pids_160_180[2] = 0;
  obd_mode_22_supported_pids_160_180[3] = 0;
  obd_ii_mode22_supported_pids_60_80[0] = 0xb1;
  if (1 < (COD_base[0] >> 0x1c & 7)) {
    obd_ii_mode22_supported_pids_60_80[0] = 0xf1;
  }
  if ((COD_base[0] >> 0xd & 7) != 1) {
    obd_ii_mode22_supported_pids_60_80[1] = 0xf6;
    obd_ii_mode22_supported_pids_60_80[2] = 0x40;
  }
  if ((COD_base[1] >> 0x1e & 1) == 0) {
    obd_ii_mode22_supported_pids_60_80[1] = obd_ii_mode22_supported_pids_60_80[1] & 0xfb;
  }
  obd_ii_mode22_supported_pids_c0_e0[0] = 0xff;
  if ((COD_base[1] >> 0x13 & 1) == 0) {
    obd_ii_mode22_supported_pids_c0_e0[0] = 0xfd;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void obd_ii_mode22_processing(void)

{
  uint uVar1;
  uint8_t uVar2;
  byte bVar4;
  short sVar3;
  ushort uVar5;
  byte bVar7;
  longlong lVar6;
  byte bVar8;
  
  obd_ii_response[0] = 0x62;
  obd_ii_response[1] = obd_ii_request[2];
  uVar5 = 3;
  obd_ii_response[2] = obd_ii_request[3];
  switch((ushort)obd_ii_request[2] * 0x100 + (ushort)obd_ii_request[3]) {
  case 0x200:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_0_20[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_0_20[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_0_20[2],obd_ii_mode22_supported_pids_0_20[3]);
    break;
  case 0x201:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_system_leak_status;
    break;
  case 0x203:
    obd_ii_response[3] = (byte)((ushort)uint16_t >> 8);
    obd_ii_response[4] = (byte)uint16_t;
    uVar5 = 5;
    break;
  case 0x204:
    if (obd_ii_idle_air_output < 2551) {
      obd_ii_response[3] = (byte)(obd_ii_idle_air_output / 10);
    }
    else {
      obd_ii_response[3] = 255;
    }
    uVar5 = 4;
    break;
  case 0x205:
    obd_ii_response[3] = (byte)(obd_ii_injector_pulse_time_bank1_us >> 0x18);
    obd_ii_response[4] = (byte)(obd_ii_injector_pulse_time_bank1_us >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)obd_ii_injector_pulse_time_bank1_us;
    break;
  case 0x206:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_idle_status;
    break;
  case 0x207:
    obd_ii_response[3] = (byte)(vvt_inlet_target_bank1 >> 8);
    obd_ii_response[4] = (byte)vvt_inlet_target_bank1;
    uVar5 = 5;
    break;
  case 0x208:
    obd_ii_response[3] = (byte)(obd_ii_vvt_inlet_position_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_inlet_position_bank1;
    uVar5 = 5;
    break;
  case 0x20a:
    obd_ii_response[3] = (byte)((ushort)maf_comp1_learned >> 8);
    obd_ii_response[4] = (byte)maf_comp1_learned;
    uVar5 = 5;
    break;
  case 0x20b:
    obd_ii_response[3] = (byte)((ushort)maf_comp_unknown >> 8);
    obd_ii_response[4] = (byte)maf_comp_unknown;
    uVar5 = 5;
    break;
  case 0x20c:
    uVar5 = 4;
    obd_ii_response[3] = car_current_gear;
    break;
  case 0x20d:
    uVar1 = ((short)obd_ii_idle_speed_target___ + -600) / 5 & 0xffff;
    if (uVar1 < 0x100) {
      obd_ii_response[3] = (byte)uVar1;
      uVar5 = 4;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 0xff;
    }
    break;
  case 0x20e:
    obd_ii_response[3] = ECU_serial_number[0];
    obd_ii_response[4] = ECU_serial_number[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(ECU_serial_number[2],ECU_serial_number[3]);
    break;
  case 0x20f:
    obd_ii_response[3] = hardware_number[0];
    obd_ii_response[4] = hardware_number[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(hardware_number[4],hardware_number[5]);
    break;
  case 0x210:
    obd_ii_response[3] = crypto_flags[0];
    obd_ii_response[4] = crypto_flags[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(crypto_flags[2],crypto_flags[3]);
    break;
  case 0x211:
    obd_ii_response[3] = ECU_type[0];
    obd_ii_response[4] = ECU_type[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(ECU_type[2],ECU_type[3]);
    break;
  case 0x212:
    obd_ii_response[3] = (byte)(obd_ii_evap_purge_pressure >> 8);
    obd_ii_response[4] = (byte)obd_ii_evap_purge_pressure;
    uVar5 = 5;
    break;
  case 0x213:
    obd_ii_response[3] = (byte)(afr_target2 >> 8);
    obd_ii_response[4] = (byte)afr_target2;
    uVar5 = 5;
    break;
  case 0x214:
    bVar7 = 0x10;
    if (obd_ii_ac_clutch_relay == 0) {
      bVar7 = 0;
    }
    bVar8 = 0b10000000;
    if ((obd_ii_relay_status & 0b00010000) == 0) {
      bVar8 = 0;
    }
    bVar4 = 0b00000010;
    if (recirculation_pump_state_____or_acis == 0) {
      bVar4 = 0;
    }
    obd_ii_response[3] = bVar4 | bVar8 | bVar7;
    uVar5 = 4;
    break;
  case 0x217:
    obd_ii_response[3] = (byte)(obd_ii_injector_pulse_time_bank2_us >> 0x18);
    obd_ii_response[4] = (byte)(obd_ii_injector_pulse_time_bank2_us >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)obd_ii_injector_pulse_time_bank2_us;
    break;
  case 0x218:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[0] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[0];
    uVar5 = 5;
    break;
  case 0x219:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[1] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[1];
    uVar5 = 5;
    break;
  case 0x21a:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[2] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[2];
    uVar5 = 5;
    break;
  case 0x21b:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[3] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[3];
    uVar5 = 5;
    break;
  case 0x21c:
    obd_ii_response[3] = CAL_prog_version[0];
    obd_ii_response[4] = CAL_prog_version[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[2],CAL_prog_version[3]);
    break;
  case 0x21d:
    obd_ii_response[3] = CAL_prog_version[4];
    obd_ii_response[4] = CAL_prog_version[5];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[6],CAL_prog_version[7]);
    break;
  case 0x21e:
    obd_ii_response[3] = CAL_prog_version[8];
    obd_ii_response[4] = CAL_prog_version[9];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[10],CAL_prog_version[0xb]);
    break;
  case 0x21f:
    obd_ii_response[3] = CAL_prog_version[0xc];
    obd_ii_response[4] = CAL_prog_version[0xd];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[0xe],CAL_prog_version[0xf]);
    break;
  case 0x220:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_20_40[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_20_40[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_20_40[2],obd_ii_mode22_supported_pids_20_40[3]);
    break;
  case 0x221:
    obd_ii_response[3] = CAL_prog_version[0x10];
    obd_ii_response[4] = CAL_prog_version[0x11];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[0x12],CAL_prog_version[0x13]);
    break;
  case 0x222:
    obd_ii_response[3] = CAL_prog_version[0x14];
    obd_ii_response[4] = CAL_prog_version[0x15];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[0x16],CAL_prog_version[0x17]);
    break;
  case 0x223:
    obd_ii_response[3] = CAL_prog_version[0x18];
    obd_ii_response[4] = CAL_prog_version[0x19];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[0x1a],CAL_prog_version[0x1b]);
    break;
  case 0x224:
    obd_ii_response[3] = CAL_prog_version[0x1c];
    obd_ii_response[4] = CAL_prog_version[0x1d];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(CAL_prog_version[0x1e],CAL_prog_version[0x1f]);
    break;
  case 0x226:
    uVar5 = 4;
    obd_ii_response[3] = load_mass_per_stroke;
    break;
  case 0x227:
    uVar5 = 4;
    obd_ii_response[3] = coolant_temp_engine_stopped;
    break;
  case 0x228:
    obd_ii_response[3] = (byte)(obd_ii_accumulated_mass_air >> 0x18);
    obd_ii_response[4] = (byte)(obd_ii_accumulated_mass_air >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)obd_ii_accumulated_mass_air;
    break;
  case 0x229:
    obd_ii_response[3] = (byte)(ecu_shutdown_timer >> 0x18);
    obd_ii_response[4] = (byte)(ecu_shutdown_timer >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)ecu_shutdown_timer;
    break;
  case 0x22a:
    uVar5 = 4;
    obd_ii_response[3] = load_pct;
    break;
  case 0x22b:
    obd_ii_response[3] = (byte)(obd_ii_vvt_inlet_angle_error_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_inlet_angle_error_bank1;
    uVar5 = 5;
    break;
  case 0x22c:
    obd_ii_response[3] = (byte)(obd_ii_idle_speed_error___ >> 8);
    obd_ii_response[4] = (byte)obd_ii_idle_speed_error___;
    uVar5 = 5;
    break;
  case 0x22d:
    obd_ii_response[3] = (byte)(ecu_run_timer >> 8);
    obd_ii_response[4] = (byte)ecu_run_timer;
    uVar5 = 5;
    break;
  case 0x22e:
    obd_ii_response[3] = (byte)((ushort)LEA_fuel_learn_lean_time_bank1 >> 8);
    obd_ii_response[4] = (byte)LEA_fuel_learn_lean_time_bank1;
    uVar5 = 5;
    break;
  case 0x22f:
    obd_ii_response[3] = (byte)(obd_ii_vapor_concentration >> 8);
    obd_ii_response[4] = (byte)obd_ii_vapor_concentration;
    uVar5 = 5;
    break;
  case 0x231:
    obd_ii_response[3] = LEA_ign_knock_retard[0];
    obd_ii_response[4] = LEA_ign_knock_retard[1];
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(LEA_ign_knock_retard[2],LEA_ign_knock_retard[3]);
    break;
  case 0x232:
                    // idle air control proportional term
    sVar3 = (idle_air_control_proportional_term / 10 + (idle_air_control_proportional_term >> 0xf))
            - ((short)((short)((int)idle_air_control_proportional_term / 0xa0000) +
                      (idle_air_control_proportional_term >> 0xf)) >> 0xf);
    obd_ii_response[3] = (byte)((ushort)sVar3 >> 8);
    obd_ii_response[4] = (byte)sVar3;
    uVar5 = 5;
    break;
  case 0x233:
    lVar6 = (longlong)
            (idle_air_control_integral_term / 10 + (idle_air_control_integral_term >> 0x1f)) +
            (ulonglong)((uint)idle_air_control_integral_term >> 0x1f);
    obd_ii_response[3] = (byte)((ulonglong)lVar6 >> 0x18);
    obd_ii_response[4] = (byte)((ulonglong)lVar6 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)lVar6;
    break;
  case 0x234:
    obd_ii_response[3] = (byte)(misfires_per_cyl[0] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[0];
    uVar5 = 5;
    break;
  case 0x235:
    obd_ii_response[3] = (byte)(misfires_per_cyl[2] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[2];
    uVar5 = 5;
    break;
  case 0x236:
    obd_ii_response[3] = (byte)(misfires_per_cyl[3] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[3];
    uVar5 = 5;
    break;
  case 0x237:
    obd_ii_response[3] = (byte)(misfires_per_cyl[1] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[1];
    uVar5 = 5;
    break;
  case 0x238:
    obd_ii_response[3] = (byte)(obd_ii_max_misfire_results_emissions >> 8);
    obd_ii_response[4] = (byte)obd_ii_max_misfire_results_emissions;
    uVar5 = 5;
    break;
  case 0x239:
    if (obd_ii_misfires_unknown_cat_damage[1] < obd_ii_misfires_unknown_cat_damage[0]) {
      obd_ii_response[3] = (byte)(obd_ii_misfires_unknown_cat_damage[0] >> 8);
      obd_ii_response[4] = (byte)obd_ii_misfires_unknown_cat_damage[0];
      uVar5 = 5;
    }
    else {
      obd_ii_response[3] = (byte)(obd_ii_misfires_unknown_cat_damage[1] >> 8);
      obd_ii_response[4] = (byte)obd_ii_misfires_unknown_cat_damage[1];
      uVar5 = 5;
    }
    break;
  case 0x23a:
    obd_ii_response[3] = (byte)(fuel_learn_timer >> 8);
    obd_ii_response[4] = (byte)fuel_learn_timer;
    uVar5 = 5;
    break;
  case 0x23b:
    obd_ii_response[3] = (byte)((short)obd_ii_commanded_throttle_actuator >> 10);
    obd_ii_response[4] = (byte)((short)obd_ii_commanded_throttle_actuator >> 2);
    uVar5 = 5;
    break;
  case 0x23c:
    obd_ii_response[3] = (byte)(LEA_idle_learn_ac_on >> 8);
    obd_ii_response[4] = (byte)LEA_idle_learn_ac_on;
    uVar5 = 5;
    break;
  case 0x23d:
    obd_ii_response[3] = (byte)((ushort)wheel_speeds.LR >> 8);
    obd_ii_response[4] = (byte)wheel_speeds.LR;
    uVar5 = 5;
    break;
  case 0x23e:
    obd_ii_response[3] = (byte)((ushort)wheel_speeds.RR >> 8);
    obd_ii_response[4] = (byte)wheel_speeds.RR;
    uVar5 = 5;
    break;
  case 0x23f:
    obd_ii_response[3] = (byte)((ushort)wheel_speeds.LF >> 8);
    obd_ii_response[4] = (byte)wheel_speeds.LF;
    uVar5 = 5;
    break;
  case 0x240:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_40_60[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_40_60[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_40_60[2],obd_ii_mode22_supported_pids_40_60[3]);
    break;
  case 0x241:
    obd_ii_response[3] = (byte)((ushort)wheel_speeds.RF >> 8);
    obd_ii_response[4] = (byte)wheel_speeds.RF;
    uVar5 = 5;
    break;
  case 0x244:
    obd_ii_response[3] = (byte)(obd_ii_o2_precat_diag_timer_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_o2_precat_diag_timer_bank1;
    uVar5 = 5;
    break;
  case 0x245:
    obd_ii_response[3] = (byte)((int)(uint)tps_u16 >> 10);
    obd_ii_response[4] = (byte)((int)(uint)tps_u16 >> 2);
    uVar5 = 5;
    break;
  case 0x246:
    obd_ii_response[3] = (byte)(accel_pedal_pos >> 8);
    obd_ii_response[4] = (byte)accel_pedal_pos;
    uVar5 = 5;
    break;
  case 0x247:
    obd_ii_response[3] = (byte)(obd_ii_eval_leak_check_result >> 8);
    obd_ii_response[4] = (byte)obd_ii_eval_leak_check_result;
    uVar5 = 5;
    break;
  case 0x248:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_fuel_learn_zone_2_bank1;
    break;
  case 0x249:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_fuel_learn_zone_3_bank1;
    break;
  case 0x24b:
    obd_ii_response[3] = (byte)(obd_ii_vvt_inlet_angle_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_inlet_angle_bank2;
    uVar5 = 5;
    break;
  case 0x24c:
    obd_ii_response[3] = (byte)(obd_ii_o2_precat_sw_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_o2_precat_sw_bank2;
    uVar5 = 5;
    break;
  case 0x24d:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[4] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[4];
    uVar5 = 5;
    break;
  case 0x24e:
    obd_ii_response[3] = (byte)(LEA_octane_scaler[5] >> 8);
    obd_ii_response[4] = (byte)LEA_octane_scaler[5];
    uVar5 = 5;
    break;
  case 0x24f:
    obd_ii_response[3] = (byte)(obd_ii_vvt_inlet_angle_error_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_inlet_angle_error_bank2;
    uVar5 = 5;
    break;
  case 0x250:
    obd_ii_response[3] = (byte)(obd_ii_vvt_exhaust_position_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_exhaust_position_bank1;
    uVar5 = 5;
    break;
  case 0x251:
    obd_ii_response[3] = (byte)(obd_ii_vvt_exhaust_position_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_exhaust_position_bank2;
    uVar5 = 5;
    break;
  case 0x252:
    obd_ii_response[3] = (byte)(obd_ii_vvt_exhaust_target_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_exhaust_target_bank1;
    uVar5 = 5;
    break;
  case 0x253:
    obd_ii_response[3] = (byte)(obd_ii_vvt_exhaust_error_bank1 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_exhaust_error_bank1;
    uVar5 = 5;
    break;
  case 0x254:
    obd_ii_response[3] = (byte)(obd_ii_vvt_exhaust_error_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_vvt_exhaust_error_bank2;
    uVar5 = 5;
    break;
  case 0x255:
    obd_ii_response[3] = (byte)((ushort)LEA_ltft_idle_b_adj >> 8);
    obd_ii_response[4] = (byte)LEA_ltft_idle_b_adj;
    uVar5 = 5;
    break;
  case 0x256:
    obd_ii_response[3] = LEA_ign_knock_retard[4];
    uVar5 = 5;
    obd_ii_response[4] = LEA_ign_knock_retard[5];
    break;
  case 599:
    obd_ii_response[3] = (byte)(misfires_per_cyl[4] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[4];
    uVar5 = 5;
    break;
  case 600:
    obd_ii_response[3] = (byte)(misfires_per_cyl[5] >> 8);
    obd_ii_response[4] = (byte)misfires_per_cyl[5];
    uVar5 = 5;
    break;
  case 0x259:
    obd_ii_response[3] = (byte)(obd_ii_o2_precat_diag_timer_bank2 >> 8);
    obd_ii_response[4] = (byte)obd_ii_o2_precat_diag_timer_bank2;
    uVar5 = 5;
    break;
  case 0x25a:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_fuel_learn_zone_2_bank2;
    break;
  case 0x25b:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_fuel_learn_zone_3_bank2;
    break;
  case 0x25c:
    if ((COD_base[1] >> 0x18 & 1) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 3;
    }
    else if ((driver_input_flags[1] & 0b01000000) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x25d:
    if ((COD_base[1] >> 0x17 & 1) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 3;
    }
    else if (sport_button_pressed == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x25e:
    if ((clutch_pos_sensor & 1) == 0) {
      if ((clutch_pos_sensor & 2) == 0) {
        if ((clutch_pos_sensor & 4) == 0) {
          uVar5 = 4;
          obd_ii_response[3] = 3;
        }
        else {
          uVar5 = 4;
          obd_ii_response[3] = 2;
        }
      }
      else {
        uVar5 = 4;
        obd_ii_response[3] = 1;
      }
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    break;
  case 0x25f:
    if ((brake_switch & 0x20) == 0) {
      if ((brake_switch & 0x10) == 0) {
        uVar5 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar5 = 4;
        obd_ii_response[3] = 1;
      }
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 2;
    }
    break;
  case 0x260:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_60_80[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_60_80[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_60_80[2],obd_ii_mode22_supported_pids_60_80[3]);
    break;
  case 0x261:
    if ((COD_base[0] >> 0x19 & 7) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 4;
    }
    else if ((obd_ii_cruise_status & 2) == 0) {
      if ((obd_ii_cruise_status & 1) == 0) {
        if ((obd_ii_cruise_status & 32768) == 0) {
          uVar5 = 4;
          obd_ii_response[3] = 0;
        }
        else {
          uVar5 = 4;
          obd_ii_response[3] = 3;
        }
      }
      else {
        uVar5 = 4;
        obd_ii_response[3] = 2;
      }
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x262:
    if ((short)ac_evap_temp < 0) {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else if (ac_evap_temp < 256) {
      obd_ii_response[3] = (byte)ac_evap_temp;
      uVar5 = 4;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 0xff;
    }
    break;
  case 0x263:
    obd_ii_response[3] = (byte)COD_base[1];
    obd_ii_response[4] = COD_base[1]._2_1_;
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(COD_base[1]._1_1_,COD_base[1]._0_1_);
    break;
  case 0x264:
    obd_ii_response[3] = (byte)COD_base[0];
    obd_ii_response[4] = COD_base[0]._2_1_;
    uVar5 = 7;
    obd_ii_response._5_2_ = CONCAT11(COD_base[0]._1_1_,COD_base[0]._0_1_);
    break;
  case 0x268:
    uVar2 = siu_gpdo[0x7d];
    bVar7 = 2;
    if (uVar2 == 0) {
      bVar7 = 0;
    }
    uVar2 = siu_gpdo[0x7c];
    bVar8 = 4;
    if (uVar2 == 0) {
      bVar8 = 0;
    }
    obd_ii_response[3] =
         (byte)(-((ulonglong)obd_ii_relay_status & 0x40) >> 0x18) >> 7 | bVar8 | bVar7;
    uVar5 = 4;
    break;
  case 0x269:
    obd_ii_response[3] = (byte)(clutch_pos_voltage >> 8);
    obd_ii_response[4] = (byte)clutch_pos_voltage;
    uVar5 = 5;
    break;
  case 0x26a:
    obd_ii_response[3] = (byte)(torque_net_engine_combustion >> 8);
    obd_ii_response[4] = (byte)torque_net_engine_combustion;
    uVar5 = 5;
    break;
  case 0x26b:
    obd_ii_response[3] = (byte)(LEA_idle_cold_learning_coolant >> 8);
    obd_ii_response[4] = (byte)LEA_idle_cold_learning_coolant;
    uVar5 = 5;
    break;
  case 0x26c:
    obd_ii_response[3] = (byte)(LEA_idle_cold_learning_coolant_ac_on >> 8);
    obd_ii_response[4] = (byte)LEA_idle_cold_learning_coolant_ac_on;
    uVar5 = 5;
    break;
  case 0x26e:
    if ((COD_base[1] >> 0x1e & 1) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 3;
    }
    else if (exahust_override_switch_status == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x26f:
    uVar5 = 4;
    obd_ii_response[3] = vehicle_mode;
    break;
  case 0x270:
    if ((COD_base[0] >> 0xd & 7) == 1) {
      obd_ii_response[3] = (byte)((ushort)paddle_shift_sensor_raw >> 8);
      obd_ii_response[4] = (byte)paddle_shift_sensor_raw;
      uVar5 = 5;
    }
    break;
  case 0x272:
    uVar5 = 4;
    obd_ii_response[3] = obd_ii_manifold_temp;
    break;
  case 0x275:
    if ((COD_base[0] >> 0xd & 7) == 1) {
      uVar5 = 4;
      obd_ii_response[3] = obd_ii_oil_temp_ips;
    }
    break;
  case 0x280:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_80_a0[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_80_a0[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_80_a0[2],obd_ii_mode22_supported_pids_80_a0[3]);
    break;
  case 0x2a0:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_a0_c0[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_a0_c0[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_a0_c0[2],obd_ii_mode22_supported_pids_a0_c0[3]);
    break;
  case 0x2c0:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_c0_e0[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_c0_e0[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_c0_e0[2],obd_ii_mode22_supported_pids_c0_e0[3]);
    break;
  case 0x2c1:
    obd_ii_response[3] = (byte)((ushort)fuel_system_diagnostic2__ >> 8);
    obd_ii_response[4] = (byte)fuel_system_diagnostic2__;
    uVar5 = 5;
    break;
  case 0x2c2:
    obd_ii_response[3] = (byte)((ushort)aux_coolant_pump_state_and_diag_ >> 8) & 1;
    obd_ii_response[4] = (byte)aux_coolant_pump_state_and_diag_;
    uVar5 = 5;
    break;
  case 0x2c3:
    uVar5 = 4;
    obd_ii_response[3] = fuel_system_diagnostic__;
    break;
  case 0x2c4:
    uVar5 = 4;
    obd_ii_response[3] = fuel_pump_state__;
    break;
  case 0x2c5:
    if ((COD_base[1] >> 0x14 & 1) == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 3;
    }
    else if (DAT_400031e2 == 0) {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x2c6:
    if (((((COD_base[1] >> 0x17 & 1) == 0) || (-1 < (int)COD_base[1])) ||
        ((COD_base[1] >> 7 & 1) == 0)) || ((COD_base[1] >> 0x18 & 1) != 0)) {
      uVar5 = 4;
      obd_ii_response[3] = 3;
    }
    else if (race_button_pressed___ == '\0') {
      uVar5 = 4;
      obd_ii_response[3] = 0;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 1;
    }
    break;
  case 0x2c7:
    uVar5 = 4;
    obd_ii_response[3] = trans_fluid_temp_u8;
    break;
  case 0x2c8:
    uVar5 = 4;
    obd_ii_response[3] = cooling_fan1;
    break;
  case 0x2c9:
    uVar5 = 4;
    obd_ii_response[3] = cc_pump_dutycycle__;
    break;
  case 0x2ca:
    if (fuel_pump_dutycycle_commanded < 0x2711) {
      obd_ii_response[3] =
           (byte)((int)((uint)fuel_pump_dutycycle_commanded * 0x100 -
                       (uint)fuel_pump_dutycycle_commanded) / 10000);
      uVar5 = 4;
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 0xff;
    }
    break;
  case 0x2cb:
    if (fuel_pressure_error__ < 0x1389) {
      if (fuel_pressure_error__ < -5000) {
        uVar5 = 4;
        obd_ii_response[3] = 0x80;
      }
      else {
        obd_ii_response[3] =
             (byte)((fuel_pressure_error__ * 0x100 - (int)fuel_pressure_error__) / 10000);
        uVar5 = 4;
      }
    }
    else {
      uVar5 = 4;
      obd_ii_response[3] = 0x7f;
    }
    break;
  case 0x2ce:
    obd_ii_response[3] = (byte)((ushort)fuel_diag_airflow_unknown1 >> 8);
    obd_ii_response[4] = (byte)fuel_diag_airflow_unknown1;
    uVar5 = 5;
    break;
  case 0x2cf:
    obd_ii_response[3] = (byte)((ushort)fuel_diag_airflow_unknown2 >> 8);
    obd_ii_response[4] = (byte)fuel_diag_airflow_unknown2;
    uVar5 = 5;
    break;
  case 0x300:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_100_120[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_100_120[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_100_120[2],obd_ii_mode22_supported_pids_100_120[3]);
    break;
  case 0x301:
    obd_ii_response[3] = (byte)(time_at_tps[0] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[0] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[0];
    break;
  case 0x302:
    obd_ii_response[3] = (byte)(time_at_tps[1] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[1] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[1];
    break;
  case 0x303:
    obd_ii_response[3] = (byte)(time_at_tps[2] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[2] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[2];
    break;
  case 0x304:
    obd_ii_response[3] = (byte)(time_at_tps[3] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[3] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[3];
    break;
  case 0x305:
    obd_ii_response[3] = (byte)(time_at_tps[4] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[4] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[4];
    break;
  case 0x306:
    obd_ii_response[3] = (byte)(time_at_tps[5] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[5] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[5];
    break;
  case 0x307:
    obd_ii_response[3] = (byte)(time_at_tps[6] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[6] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[6];
    break;
  case 0x308:
    obd_ii_response[3] = (byte)(time_at_tps[7] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_tps[7] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_tps[7];
    break;
  case 0x309:
    obd_ii_response[3] = (byte)(time_at_rpm[0] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[0] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[0];
    break;
  case 0x30a:
    obd_ii_response[3] = (byte)(time_at_rpm[1] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[1] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[1];
    break;
  case 0x30b:
    obd_ii_response[3] = (byte)(time_at_rpm[2] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[2] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[2];
    break;
  case 0x30c:
    obd_ii_response[3] = (byte)(time_at_rpm[3] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[3] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[3];
    break;
  case 0x30d:
    obd_ii_response[3] = (byte)(time_at_rpm[4] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[4] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[4];
    break;
  case 0x30e:
    obd_ii_response[3] = (byte)(time_at_rpm[5] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[5] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[5];
    break;
  case 0x30f:
    obd_ii_response[3] = (byte)(time_at_rpm[6] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[6] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[6];
    break;
  case 0x310:
    obd_ii_response[3] = (byte)(time_at_rpm[7] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_rpm[7] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_rpm[7];
    break;
  case 0x311:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[0] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[0] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[0];
    break;
  case 0x312:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[1] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[1] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[1];
    break;
  case 0x313:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[2] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[2] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[2];
    break;
  case 0x314:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[3] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[3] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[3];
    break;
  case 0x315:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[4] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[4] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[4];
    break;
  case 0x316:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[5] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[5] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[5];
    break;
  case 0x317:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[6] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[6] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[6];
    break;
  case 0x318:
    obd_ii_response[3] = (byte)(time_at_speed_range_kmh[7] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_speed_range_kmh[7] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_speed_range_kmh[7];
    break;
  case 0x31a:
    obd_ii_response[3] = (byte)(time_at_coolant_temp[0] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_coolant_temp[0] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_coolant_temp[0];
    break;
  case 0x31b:
    obd_ii_response[3] = (byte)(time_at_coolant_temp[1] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_coolant_temp[1] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_coolant_temp[1];
    break;
  case 0x31c:
    obd_ii_response[3] = (byte)(time_at_coolant_temp[2] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_coolant_temp[2] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_coolant_temp[2];
    break;
  case 0x31d:
    obd_ii_response[3] = (byte)(time_at_coolant_temp[3] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_coolant_temp[3] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_coolant_temp[3];
    break;
  case 0x31e:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = max_engine_speed5;
    break;
  case 799:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = nax_engine_speed_4_coolant._0_2_;
    break;
  case 800:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_120_40[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_120_40[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_120_40[2],obd_ii_mode22_supported_pids_120_40[3]);
    break;
  case 0x321:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = max_engine_speed3;
    break;
  case 0x322:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = max_engine_speed2;
    break;
  case 0x323:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = max_engine_speed1;
    break;
  case 0x324:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = ZEXT12(max_engine_speed_5_coolant);
    break;
  case 0x325:
    obd_ii_response[3] = (byte)(u32_time_100ms_400040c0 >> 0x18);
    obd_ii_response[4] = (byte)(u32_time_100ms_400040c0 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)u32_time_100ms_400040c0;
    break;
  case 0x326:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = ZEXT12(nax_engine_speed_4_coolant._2_1_);
    break;
  case 0x327:
    obd_ii_response[3] = (byte)(max_engine_speed4 >> 0x18);
    obd_ii_response[4] = (byte)(max_engine_speed4 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)max_engine_speed4;
    break;
  case 0x328:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = ZEXT12(max_engine_speed_3_coolant);
    break;
  case 0x329:
    obd_ii_response[3] = (byte)(max_engine_speed3 >> 0x18);
    obd_ii_response[4] = (byte)(max_engine_speed3 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)max_engine_speed3;
    break;
  case 0x32a:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = ZEXT12(max_engine_speed_2_coolant);
    break;
  case 0x32b:
    obd_ii_response[3] = (byte)((uint)max_engine_speed2 >> 0x18);
    obd_ii_response[4] = (byte)((uint)max_engine_speed2 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)max_engine_speed2;
    break;
  case 0x32c:
    obd_ii_response[3] = 0;
    obd_ii_response[4] = 0;
    uVar5 = 7;
    obd_ii_response._5_2_ = ZEXT12(max_enginee_speed_1_coolant);
    break;
  case 0x32e:
    obd_ii_response[3] = (byte)(max_engine_speed1 >> 0x18);
    obd_ii_response[4] = (byte)(max_engine_speed1 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)max_engine_speed1;
    break;
  case 0x32f:
    obd_ii_response[3] = (byte)(max_vehicle_speed[0] >> 8);
    obd_ii_response[4] = (byte)max_vehicle_speed[0];
    uVar5 = 5;
    break;
  case 0x330:
    obd_ii_response[3] = (byte)(max_vehicle_speed[1] >> 8);
    obd_ii_response[4] = (byte)max_vehicle_speed[1];
    uVar5 = 5;
    break;
  case 0x331:
    obd_ii_response[3] = (byte)(max_vehicle_speed[2] >> 8);
    obd_ii_response[4] = (byte)max_vehicle_speed[2];
    uVar5 = 5;
    break;
  case 0x332:
    obd_ii_response[3] = (byte)(max_vehicle_speed[3] >> 8);
    obd_ii_response[4] = (byte)max_vehicle_speed[3];
    uVar5 = 5;
    break;
  case 0x333:
    obd_ii_response[3] = (byte)(max_vehicle_speed[4] >> 8);
    obd_ii_response[4] = (byte)max_vehicle_speed[4];
    uVar5 = 5;
    break;
  case 0x334:
    uVar5 = 4;
    obd_ii_response[3] = standing_start_fastest[0];
    break;
  case 0x335:
    uVar5 = 4;
    obd_ii_response[3] = standing_start_fastest[1];
    break;
  case 0x336:
    uVar5 = 4;
    obd_ii_response[3] = standing_start_last[0];
    break;
  case 0x337:
    uVar5 = 4;
    obd_ii_response[3] = standing_start_last[1];
    break;
  case 0x338:
    obd_ii_response[3] = (byte)(engine_run_timer_total >> 24);
    obd_ii_response[4] = (byte)(engine_run_timer_total >> 16);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)engine_run_timer_total;
    break;
  case 0x339:
    obd_ii_response[3] = (byte)(standing_start_num >> 8);
    obd_ii_response[4] = (byte)standing_start_num;
    uVar5 = 5;
    break;
  case 0x33a:
    obd_ii_response[3] = obd_ii_request[0];
    obd_ii_response[4] = 0;
    obd_ii_response._5_2_ =
         CONCAT11((char)(uint32_t_40004268 / 0x27100000),
                  (char)((ulonglong)uint32_t_40004268 / 10000 >> 8));
    obd_ii_response[7] = (byte)((ulonglong)uint32_t_40004268 / 10000);
    uVar5 = 8;
    break;
  case 0x33b:
    obd_ii_response[3] = (byte)(time_at_lateral_g[0] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_lateral_g[0] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_lateral_g[0];
    break;
  case 0x33c:
    obd_ii_response[3] = (byte)(time_at_lateral_g[1] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_lateral_g[1] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_lateral_g[1];
    break;
  case 0x33d:
    obd_ii_response[3] = (byte)(time_at_lateral_g[2] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_lateral_g[2] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_lateral_g[2];
    break;
  case 0x33e:
    obd_ii_response[3] = (byte)(time_at_lateral_g[3] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_lateral_g[3] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_lateral_g[3];
    break;
  case 0x33f:
    obd_ii_response[3] = (byte)(time_at_lateral_g[4] >> 0x18);
    obd_ii_response[4] = (byte)(time_at_lateral_g[4] >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)time_at_lateral_g[4];
    break;
  case 0x340:
    obd_ii_response[3] = obd_ii_mode22_supported_pids_140_160[0];
    obd_ii_response[4] = obd_ii_mode22_supported_pids_140_160[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_ii_mode22_supported_pids_140_160[2],obd_ii_mode22_supported_pids_140_160[3]);
    break;
  case 0x341:
    obd_ii_response[3] = (byte)(vehicle_distance_travelled_total >> 0x18);
    obd_ii_response[4] = (byte)(vehicle_distance_travelled_total >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)vehicle_distance_travelled_total;
    break;
  case 0x342:
    uVar5 = 4;
    obd_ii_response[3] = DAT_4000421c;
    break;
  case 0x343:
    uVar5 = 4;
    obd_ii_response[3] = DAT_4000421d;
    break;
  case 0x344:
    obd_ii_response[3] = (byte)((ushort)_DAT_4000421e >> 8);
    obd_ii_response[4] = (byte)_DAT_4000421e;
    uVar5 = 5;
    break;
  case 0x345:
    obd_ii_response[3] = (byte)((ushort)DAT_40004220._0_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_40004220._0_2_;
    uVar5 = 5;
    break;
  case 0x346:
    obd_ii_response[3] = (byte)((uint)DAT_40004224 >> 0x18);
    obd_ii_response[4] = (byte)((uint)DAT_40004224 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)DAT_40004224;
    break;
  case 0x347:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004228._0_1_;
    break;
  case 0x348:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004228._1_1_;
    break;
  case 0x349:
    obd_ii_response[3] = (byte)((ushort)DAT_40004228._2_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_40004228._2_2_;
    uVar5 = 5;
    break;
  case 0x34a:
    obd_ii_response[3] = (byte)((ushort)DAT_4000422c._0_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_4000422c._0_2_;
    uVar5 = 5;
    break;
  case 0x34b:
    obd_ii_response[3] = (byte)((uint)DAT_40004230 >> 0x18);
    obd_ii_response[4] = (byte)((uint)DAT_40004230 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)DAT_40004230;
    break;
  case 0x34c:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004234;
    break;
  case 0x34d:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004235;
    break;
  case 0x34e:
    obd_ii_response[3] = (byte)((ushort)DAT_40004236 >> 8);
    obd_ii_response[4] = (byte)DAT_40004236;
    uVar5 = 5;
    break;
  case 0x34f:
    obd_ii_response[3] = (byte)((ushort)DAT_40004238 >> 8);
    obd_ii_response[4] = (byte)DAT_40004238;
    uVar5 = 5;
    break;
  case 0x350:
    obd_ii_response[3] = (byte)((uint)DAT_4000423c >> 0x18);
    obd_ii_response[4] = (byte)((uint)DAT_4000423c >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)DAT_4000423c;
    break;
  case 0x351:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004240;
    break;
  case 0x352:
    uVar5 = 4;
    obd_ii_response[3] = u8_speed_kph_40004241;
    break;
  case 0x353:
    obd_ii_response[3] = (byte)(u16_rspeed_rpm_40004242 >> 8);
    obd_ii_response[4] = (byte)u16_rspeed_rpm_40004242;
    uVar5 = 5;
    break;
  case 0x354:
    obd_ii_response[3] = (byte)((ushort)DAT_40004244._0_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_40004244._0_2_;
    uVar5 = 5;
    break;
  case 0x355:
    obd_ii_response[3] = (byte)(u32_time_100ms_40004248 >> 0x18);
    obd_ii_response[4] = (byte)(u32_time_100ms_40004248 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)u32_time_100ms_40004248;
    break;
  case 0x356:
    uVar5 = 4;
    obd_ii_response[3] = DAT_4000424c._0_1_;
    break;
  case 0x357:
    uVar5 = 4;
    obd_ii_response[3] = DAT_4000424c._1_1_;
    break;
  case 0x358:
    obd_ii_response[3] = (byte)((ushort)DAT_4000424c._2_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_4000424c._2_2_;
    uVar5 = 5;
    break;
  case 0x359:
    obd_ii_response[3] = (byte)((ushort)DAT_40004250._0_2_ >> 8);
    obd_ii_response[4] = (byte)DAT_40004250._0_2_;
    uVar5 = 5;
    break;
  case 0x35a:
    obd_ii_response[3] = (byte)((uint)DAT_40004254 >> 0x18);
    obd_ii_response[4] = (byte)((uint)DAT_40004254 >> 0x10);
    uVar5 = 7;
    obd_ii_response._5_2_ = (undefined2)DAT_40004254;
    break;
  case 0x35b:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004258;
    break;
  case 0x35c:
    uVar5 = 4;
    obd_ii_response[3] = DAT_40004259;
    break;
  case 0x35d:
    obd_ii_response[3] = (byte)((ushort)DAT_4000425a >> 8);
    obd_ii_response[4] = (byte)DAT_4000425a;
    uVar5 = 5;
    break;
  case 0x35e:
    obd_ii_response[3] = (byte)((ushort)DAT_4000425c >> 8);
    obd_ii_response[4] = (byte)DAT_4000425c;
    uVar5 = 5;
    break;
  case 0x35f:
    obd_ii_response[3] = (byte)((uint)DAT_40004260 >> 0x18);
    obd_ii_response[4] = (byte)((uint)DAT_40004260 >> 0x10);
    obd_ii_response._5_2_ = (undefined2)DAT_40004260;
    uVar5 = 7;
    break;
  case 0x360:
    obd_ii_response[3] = obd_mode_22_supported_pids_160_180[0];
    obd_ii_response[4] = obd_mode_22_supported_pids_160_180[1];
    uVar5 = 7;
    obd_ii_response._5_2_ =
         CONCAT11(obd_mode_22_supported_pids_160_180[2],obd_mode_22_supported_pids_160_180[3]);
    break;
  case 0x361:
    uVar5 = 4;
    obd_ii_response[3] = total_num_low_oil_pres_events;
  }
  if (uVar5 < 4) {
    obd_ii_defer_send = true;
    uVar5 = obd_ii_response._5_2_;
  }
  else {
    obd_ii_response_length = uVar5;
    flexcan_a_obd_send_messages();
    uVar5 = obd_ii_response._5_2_;
  }
  obd_ii_response[5] = (byte)(uVar5 >> 8);
  obd_ii_response[6] = (byte)uVar5;
  return;
}



void obd_ii_mode04_proccesing(void)

{
  obd_ii_response[0] = 0x44;
  obd_ii_response_length = 1;
  obd_clear_DTC_and_stored();
  flexcan_a_obd_send_messages();
  return;
}



void obd_clear_DTC_and_stored(void)

{
  byte i;
  
  clear_obd_dtc_and_ff();
  FUN_000ad070();
  DAT_40001de8 = 0;
  obd_ii_montior_passes_bitfield = 0;
  obd_DTC_pending_count = 0;
  obd_ii_mode08_supported_pids___[7] = 0;
  obd_DTC_count = 0;
  for (i = 0; i < 128; i = i + 1) {
    obd_ii_dtc_pending[i] = 0;
    obd_ii_dtc_unknown[i] = 0;
    obd_ii_dtc_current[i] = 0;
  }
  engine_state_failure_flags = engine_state_failure_flags & 0xfffffffd;
  obd_ii_dtc_state = 1;
  obd_set_dtc_processing();
  if (obd_ii_diag_override != false) {
    obd_ii_zero_perm_dtc();
  }
  zero_counters_unknown1();
  return;
}



void obd_ii_set_mode06_supported_pids(void)

{
  obd_ii_mode06_supported_pids[0][0] = 0xcc;
  obd_ii_mode06_supported_pids[0][1] = 0;
  obd_ii_mode06_supported_pids[0][2] = 0;
  obd_ii_mode06_supported_pids[0][3] = 1;
  obd_ii_mode06_supported_pids[1][0] = 0xc0;
  obd_ii_mode06_supported_pids[1][1] = 0;
  obd_ii_mode06_supported_pids[1][2] = 0xc;
  obd_ii_mode06_supported_pids[1][3] = 0xb9;
  obd_ii_mode06_supported_pids[2][0] = 0;
  obd_ii_mode06_supported_pids[2][1] = 0;
  obd_ii_mode06_supported_pids[2][2] = 0;
  obd_ii_mode06_supported_pids[2][3] = 1;
  obd_ii_mode06_supported_pids[3][0] = 0;
  obd_ii_mode06_supported_pids[3][1] = 0;
  obd_ii_mode06_supported_pids[3][2] = 0;
  obd_ii_mode06_supported_pids[3][3] = 1;
  obd_ii_mode06_supported_pids[4][0] = 0xc0;
  obd_ii_mode06_supported_pids[4][1] = 0;
  obd_ii_mode06_supported_pids[4][2] = 0;
  obd_ii_mode06_supported_pids[4][3] = 1;
  obd_ii_mode06_supported_pids[5][0] = 0xfe;
  obd_ii_mode06_supported_pids[5][1] = 0;
  obd_ii_mode06_supported_pids[5][2] = 0;
  obd_ii_mode06_supported_pids[5][3] = 0;
  return;
}



// WARNING: Removing unreachable block (ram,0x00084d98)

void obd_ii_mode06_processing(void)

{
  ulonglong uVar1;
  undefined2 uVar3;
  uint uVar2;
  short sVar4;
  short sVar5;
  undefined2 uVar7;
  short sVar8;
  uint32_t uVar6;
  undefined2 uVar9;
  undefined2 uVar10;
  byte bVar11;
  i16_time_us iVar12;
  undefined2 uVar13;
  undefined2 uVar14;
  short sVar15;
  short sVar16;
  undefined2 uVar17;
  byte bVar18;
  undefined2 uVar19;
  short sVar20;
  short sVar21;
  short sVar23;
  ulonglong uVar22;
  byte bVar24;
  uint uVar25;
  byte obd_mode6_pid;
  
  bVar24 = 1;
  obd_ii_response[0] = 0x46;
  for (uVar25 = 2; (uVar25 & 0xff) < obd_ii_request[0] + 1; uVar25 = uVar25 + 1) {
    obd_mode6_pid = obd_ii_request[uVar25 & 0xff];
    if (obd_mode6_pid != 0x3a) {
      if (obd_mode6_pid < 0x3a) {
        if (obd_mode6_pid == 0x20) {
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[1][0];
          obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[1][1];
          bVar11 = bVar24 + 4;
          obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[1][2];
          bVar24 = bVar24 + 5;
          obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[1][3];
        }
        else if (obd_mode6_pid < 0x20) {
          if (obd_mode6_pid == 2) {
            uVar22 = (ulonglong)CAL_sensor_o2_threshold_unknown * 0x28 & 0xffff;
            uVar1 = (ulonglong)DAT_4000cad2 * 0x28 & 0xffff;
            if ((obd_ii_status_unknokwn & 0x100000) == 0) {
              sVar4 = 0;
              uVar9 = 0;
            }
            else {
              uVar9 = (undefined2)
                      (((uint)DAT_40004b42 * 4 + (uint)DAT_40004b42) / (uint)DAT_4000ca5f);
              sVar4 = DAT_4000ca64 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x200000) == 0) {
              sVar15 = 0;
              uVar10 = 0;
            }
            else {
              uVar10 = (undefined2)
                       (((uint)DAT_40004b40 * 4 + (uint)DAT_40004b40) / (uint)DAT_4000ca5f);
              sVar15 = DAT_4000ca62 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x400000) == 0) {
              sVar5 = 0;
              sVar16 = 0;
            }
            else {
              sVar16 = (DAT_4000cad6 - DAT_40004b48) * 5;
              sVar5 = DAT_4000cad6 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x800000) == 0) {
              sVar8 = 0;
              sVar20 = 0;
            }
            else {
              sVar20 = (DAT_4000caf4 - DAT_40004b4a) * 5;
              sVar8 = DAT_4000caf4 * 5 + -1;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 3;
            obd_ii_response[(byte)(bVar24 + 2)] = 10;
            bVar18 = (byte)(uVar22 >> 8);
            obd_ii_response[(byte)(bVar24 + 3)] = bVar18;
            bVar11 = (byte)uVar22;
            obd_ii_response[(byte)(bVar24 + 4)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 5)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 6)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 8)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 10)] = 4;
            obd_ii_response[(byte)(bVar24 + 0xb)] = 10;
            bVar18 = (byte)(uVar1 >> 8);
            obd_ii_response[(byte)(bVar24 + 0xc)] = bVar18;
            bVar11 = (byte)uVar1;
            obd_ii_response[(byte)(bVar24 + 0xd)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0xe)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0xf)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0x11)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x13)] = 5;
            obd_ii_response[(byte)(bVar24 + 0x14)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar9 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar9;
            obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x1c)] = 6;
            obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar10 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar10;
            obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)sVar15 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x23)] = (byte)sVar15;
            obd_ii_response[(byte)(bVar24 + 0x24)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x25)] = 0x92;
            obd_ii_response[(byte)(bVar24 + 0x26)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x27)] = (byte)((ushort)sVar16 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x28)] = (byte)sVar16;
            obd_ii_response[(byte)(bVar24 + 0x29)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2a)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2b)] = (byte)((ushort)sVar5 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x2c)] = (byte)sVar5;
            obd_ii_response[(byte)(bVar24 + 0x2d)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x2e)] = 0x93;
            obd_ii_response[(byte)(bVar24 + 0x2f)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x30)] = (byte)((ushort)sVar20 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x31)] = (byte)sVar20;
            obd_ii_response[(byte)(bVar24 + 0x32)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x33)] = 0;
            bVar11 = bVar24 + 0x35;
            obd_ii_response[(byte)(bVar24 + 0x34)] = (byte)((ushort)sVar8 >> 8);
            bVar24 = bVar24 + 0x36;
            obd_ii_response[bVar11] = (byte)sVar8;
          }
          else if (obd_mode6_pid < 2) {
            if (obd_mode6_pid == 0) {
              obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[0][0];
              obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[0][1];
              bVar11 = bVar24 + 4;
              obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[0][2];
              bVar24 = bVar24 + 5;
              obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[0][3];
            }
            else {
              uVar22 = (ulonglong)CAL_sensor_o2_rich_voltage_threshold * 0x28 & 0xffff;
              uVar1 = (ulonglong)CAL_sensor_o2_lean_voltage_threshold * 0x28 & 0xffff;
              if ((obd_ii_status_unknokwn & 0x10000) == 0) {
                uVar10 = 0;
                uVar9 = 0;
                uVar3 = 0;
                uVar14 = 0;
              }
              else {
                uVar9 = (undefined2)((uint)DAT_40004b1c * 5);
                if (0xffff < (uint)DAT_40004b1c * 5) {
                  uVar9 = 0xffff;
                }
                uVar10 = (undefined2)((uint)DAT_40004b1a * 5);
                uVar3 = DAT_40004b22;
                uVar14 = DAT_40004b20;
                if (0xffff < (uint)DAT_40004b1a * 5) {
                  uVar10 = 0xffff;
                }
              }
              if ((obd_ii_status_unknokwn & 0x20000) == 0) {
                uVar7 = 0;
                uVar19 = 0;
                uVar17 = 0;
                uVar13 = 0;
              }
              else {
                uVar13 = (undefined2)((uint)DAT_40004b26 * 5);
                if (0xffff < (uint)DAT_40004b26 * 5) {
                  uVar13 = 0xffff;
                }
                uVar17 = (undefined2)((uint)DAT_4000c9d0 * 5);
                if (0xffff < (uint)DAT_4000c9d0 * 5) {
                  uVar17 = 0xffff;
                }
                uVar19 = (undefined2)((uint)DAT_40004b24 * 5);
                if (0xffff < (uint)DAT_40004b24 * 5) {
                  uVar19 = 0xffff;
                }
                uVar7 = (undefined2)((ulonglong)DAT_4000c9ce * 5);
                if (0xffff < (ulonglong)DAT_4000c9ce * 5) {
                  uVar7 = 0xffff;
                }
              }
              obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 1)] = 3;
              obd_ii_response[(byte)(bVar24 + 2)] = 10;
              bVar18 = (byte)(uVar22 >> 8);
              obd_ii_response[(byte)(bVar24 + 3)] = bVar18;
              bVar11 = (byte)uVar22;
              obd_ii_response[(byte)(bVar24 + 4)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 5)] = bVar18;
              obd_ii_response[(byte)(bVar24 + 6)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
              obd_ii_response[(byte)(bVar24 + 8)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 10)] = 4;
              obd_ii_response[(byte)(bVar24 + 0xb)] = 10;
              bVar18 = (byte)(uVar1 >> 8);
              obd_ii_response[(byte)(bVar24 + 0xc)] = bVar18;
              bVar11 = (byte)uVar1;
              obd_ii_response[(byte)(bVar24 + 0xd)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 0xe)] = bVar18;
              obd_ii_response[(byte)(bVar24 + 0xf)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
              obd_ii_response[(byte)(bVar24 + 0x11)] = bVar11;
              obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 0x13)] = 5;
              obd_ii_response[(byte)(bVar24 + 0x14)] = 0x10;
              obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar9 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar9;
              obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)uVar3 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)uVar3;
              obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 0x1c)] = 6;
              obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x10;
              obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar10 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar10;
              obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar14 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x23)] = (byte)uVar14;
              obd_ii_response[(byte)(bVar24 + 0x24)] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 0x25)] = 0x86;
              obd_ii_response[(byte)(bVar24 + 0x26)] = 0x10;
              obd_ii_response[(byte)(bVar24 + 0x27)] = (byte)((ushort)uVar13 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x28)] = (byte)uVar13;
              obd_ii_response[(byte)(bVar24 + 0x29)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x2a)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x2b)] = (byte)((ushort)uVar17 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x2c)] = (byte)uVar17;
              obd_ii_response[(byte)(bVar24 + 0x2d)] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 0x2e)] = 0x87;
              obd_ii_response[(byte)(bVar24 + 0x2f)] = 0x10;
              obd_ii_response[(byte)(bVar24 + 0x30)] = (byte)((ushort)uVar19 >> 8);
              obd_ii_response[(byte)(bVar24 + 0x31)] = (byte)uVar19;
              obd_ii_response[(byte)(bVar24 + 0x32)] = 0;
              obd_ii_response[(byte)(bVar24 + 0x33)] = 0;
              bVar11 = bVar24 + 0x35;
              obd_ii_response[(byte)(bVar24 + 0x34)] = (byte)((ushort)uVar7 >> 8);
              bVar24 = bVar24 + 0x36;
              obd_ii_response[bVar11] = (byte)uVar7;
            }
          }
          else if (obd_mode6_pid == 6) {
            uVar22 = (ulonglong)CAL_sensor_o2_threshold_unknown * 0x28 & 0xffff;
            uVar1 = (ulonglong)DAT_4000cad2 * 0x28 & 0xffff;
            if ((obd_ii_status_unknokwn & 0x1000000) == 0) {
              sVar4 = 0;
              uVar9 = 0;
            }
            else {
              uVar9 = (undefined2)
                      (((uint)DAT_40004b46 * 4 + (uint)DAT_40004b46) / (uint)DAT_4000ca5f);
              sVar4 = DAT_4000ca64 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x2000000) == 0) {
              sVar15 = 0;
              uVar10 = 0;
            }
            else {
              uVar10 = (undefined2)
                       (((uint)DAT_40004b44 * 4 + (uint)DAT_40004b44) / (uint)DAT_4000ca5f);
              sVar15 = DAT_4000ca62 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x4000000) == 0) {
              sVar5 = 0;
              sVar16 = 0;
            }
            else {
              sVar16 = (DAT_4000cad6 - DAT_40004b4c) * 5;
              sVar5 = DAT_4000cad6 * 5 + -1;
            }
            if ((obd_ii_status_unknokwn & 0x8000000) == 0) {
              sVar8 = 0;
              sVar20 = 0;
            }
            else {
              sVar20 = (DAT_4000caf4 - DAT_40004b4e) * 5;
              sVar8 = DAT_4000caf4 * 5 + -1;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 3;
            obd_ii_response[(byte)(bVar24 + 2)] = 10;
            bVar18 = (byte)(uVar22 >> 8);
            obd_ii_response[(byte)(bVar24 + 3)] = bVar18;
            bVar11 = (byte)uVar22;
            obd_ii_response[(byte)(bVar24 + 4)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 5)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 6)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 8)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 10)] = 4;
            obd_ii_response[(byte)(bVar24 + 0xb)] = 10;
            bVar18 = (byte)(uVar1 >> 8);
            obd_ii_response[(byte)(bVar24 + 0xc)] = bVar18;
            bVar11 = (byte)uVar1;
            obd_ii_response[(byte)(bVar24 + 0xd)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0xe)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0xf)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0x11)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x13)] = 5;
            obd_ii_response[(byte)(bVar24 + 0x14)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar9 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar9;
            obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x1c)] = 6;
            obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar10 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar10;
            obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)sVar15 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x23)] = (byte)sVar15;
            obd_ii_response[(byte)(bVar24 + 0x24)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x25)] = 0x92;
            obd_ii_response[(byte)(bVar24 + 0x26)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x27)] = (byte)((ushort)sVar16 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x28)] = (byte)sVar16;
            obd_ii_response[(byte)(bVar24 + 0x29)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2a)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2b)] = (byte)((ushort)sVar5 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x2c)] = (byte)sVar5;
            obd_ii_response[(byte)(bVar24 + 0x2d)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x2e)] = 0x93;
            obd_ii_response[(byte)(bVar24 + 0x2f)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x30)] = (byte)((ushort)sVar20 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x31)] = (byte)sVar20;
            obd_ii_response[(byte)(bVar24 + 0x32)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x33)] = 0;
            bVar11 = bVar24 + 0x35;
            obd_ii_response[(byte)(bVar24 + 0x34)] = (byte)((ushort)sVar8 >> 8);
            bVar24 = bVar24 + 0x36;
            obd_ii_response[bVar11] = (byte)sVar8;
          }
          else if ((obd_mode6_pid < 6) && (4 < obd_mode6_pid)) {
            uVar22 = (ulonglong)CAL_sensor_o2_rich_voltage_threshold * 0x28 & 0xffff;
            uVar1 = (ulonglong)CAL_sensor_o2_lean_voltage_threshold * 0x28 & 0xffff;
            if ((obd_ii_status_unknokwn & 0x40000) == 0) {
              uVar10 = 0;
              uVar9 = 0;
              uVar3 = 0;
              uVar14 = 0;
            }
            else {
              uVar9 = (undefined2)((uint)DAT_40004b34 * 5);
              if (0xffff < (uint)DAT_40004b34 * 5) {
                uVar9 = 0xffff;
              }
              uVar10 = (undefined2)((uint)DAT_40004b32 * 5);
              uVar3 = DAT_40004b38;
              uVar14 = DAT_40004b36;
              if (0xffff < (uint)DAT_40004b32 * 5) {
                uVar10 = 0xffff;
              }
            }
            if ((obd_ii_status_unknokwn & 0x80000) == 0) {
              uVar7 = 0;
              uVar19 = 0;
              uVar17 = 0;
              uVar13 = 0;
            }
            else {
              uVar13 = (undefined2)((uint)DAT_40004b2a * 5);
              if (0xffff < (uint)DAT_40004b2a * 5) {
                uVar13 = 0xffff;
              }
              uVar17 = (undefined2)((uint)DAT_4000c9d0 * 5);
              if (0xffff < (uint)DAT_4000c9d0 * 5) {
                uVar17 = 0xffff;
              }
              uVar19 = (undefined2)((uint)DAT_40004b28 * 5);
              if (0xffff < (uint)DAT_40004b28 * 5) {
                uVar19 = 0xffff;
              }
              uVar7 = (undefined2)((ulonglong)DAT_4000c9ce * 5);
              if (0xffff < (ulonglong)DAT_4000c9ce * 5) {
                uVar7 = 0xffff;
              }
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 3;
            obd_ii_response[(byte)(bVar24 + 2)] = 10;
            bVar18 = (byte)(uVar22 >> 8);
            obd_ii_response[(byte)(bVar24 + 3)] = bVar18;
            bVar11 = (byte)uVar22;
            obd_ii_response[(byte)(bVar24 + 4)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 5)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 6)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 8)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 10)] = 4;
            obd_ii_response[(byte)(bVar24 + 0xb)] = 10;
            bVar18 = (byte)(uVar1 >> 8);
            obd_ii_response[(byte)(bVar24 + 0xc)] = bVar18;
            bVar11 = (byte)uVar1;
            obd_ii_response[(byte)(bVar24 + 0xd)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0xe)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0xf)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0x11)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x13)] = 5;
            obd_ii_response[(byte)(bVar24 + 0x14)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar9 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar9;
            obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)uVar3 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)uVar3;
            obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x1c)] = 6;
            obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar10 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar10;
            obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar14 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x23)] = (byte)uVar14;
            obd_ii_response[(byte)(bVar24 + 0x24)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x25)] = 0x86;
            obd_ii_response[(byte)(bVar24 + 0x26)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x27)] = (byte)((ushort)uVar13 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x28)] = (byte)uVar13;
            obd_ii_response[(byte)(bVar24 + 0x29)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2a)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x2b)] = (byte)((ushort)uVar17 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x2c)] = (byte)uVar17;
            obd_ii_response[(byte)(bVar24 + 0x2d)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x2e)] = 0x87;
            obd_ii_response[(byte)(bVar24 + 0x2f)] = 0x10;
            obd_ii_response[(byte)(bVar24 + 0x30)] = (byte)((ushort)uVar19 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x31)] = (byte)uVar19;
            obd_ii_response[(byte)(bVar24 + 0x32)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x33)] = 0;
            bVar11 = bVar24 + 0x35;
            obd_ii_response[(byte)(bVar24 + 0x34)] = (byte)((ushort)uVar7 >> 8);
            bVar24 = bVar24 + 0x36;
            obd_ii_response[bVar11] = (byte)uVar7;
          }
        }
        else if (obd_mode6_pid == 0x35) {
          if ((obd_ii_status_unknokwn & 0x10000000) == 0) {
            sVar5 = 0;
            sVar16 = 0;
            sVar15 = 0;
            sVar4 = 0;
            uVar9 = 0;
            uVar10 = 0;
            uVar3 = 0;
            uVar14 = 0;
          }
          else {
            sVar4 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f6;
            sVar15 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3f7;
            sVar16 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3a6;
            sVar5 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3aa;
            uVar9 = DAT_40004b7c;
            uVar10 = DAT_40004b7e;
            uVar3 = DAT_40004b84;
            uVar14 = DAT_40004b86;
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0x88;
          obd_ii_response[(byte)(bVar24 + 2)] = 0x11;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)uVar9 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)uVar9;
          obd_ii_response[(byte)(bVar24 + 5)] = 0;
          obd_ii_response[(byte)(bVar24 + 6)] = 0;
          obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar4;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0x89;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0x11;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)uVar10 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)uVar10;
          obd_ii_response[(byte)(bVar24 + 0xe)] = 0;
          obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x10)] = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x90;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0x11;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar3 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar3;
          obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar16 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x91;
          obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x11;
          obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar14 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar14;
          obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
          bVar11 = bVar24 + 0x23;
          obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)sVar5 >> 8);
          bVar24 = bVar24 + 0x24;
          obd_ii_response[bVar11] = (byte)sVar5;
        }
        else if (obd_mode6_pid < 0x35) {
          if (obd_mode6_pid == 0x22) {
            sVar4 = DAT_40004b3e;
            uVar9 = DAT_4000ca1e;
            if (DAT_40004b3e == 0) {
              sVar4 = 0;
              uVar9 = 0;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 0x80;
            obd_ii_response[(byte)(bVar24 + 2)] = 4;
            obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 5)] = 0;
            obd_ii_response[(byte)(bVar24 + 6)] = 0;
            bVar11 = bVar24 + 8;
            obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)uVar9 >> 8);
            bVar24 = bVar24 + 9;
            obd_ii_response[bVar11] = (byte)uVar9;
          }
          else if (obd_mode6_pid < 0x22) {
            sVar4 = DAT_40004b30;
            uVar9 = DAT_4000ca1e;
            if (DAT_40004b30 == 0) {
              sVar4 = 0;
              uVar9 = 0;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 0x80;
            obd_ii_response[(byte)(bVar24 + 2)] = 4;
            obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 5)] = 0;
            obd_ii_response[(byte)(bVar24 + 6)] = 0;
            bVar11 = bVar24 + 8;
            obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)uVar9 >> 8);
            bVar24 = bVar24 + 9;
            obd_ii_response[bVar11] = (byte)uVar9;
          }
        }
        else if (obd_mode6_pid < 0x39) {
          if (obd_mode6_pid < 0x37) {
            if ((obd_ii_status_unknokwn & 0x20000000) == 0) {
              sVar5 = 0;
              sVar16 = 0;
              sVar15 = 0;
              sVar4 = 0;
              uVar9 = 0;
              uVar10 = 0;
              uVar3 = 0;
              uVar14 = 0;
            }
            else {
              sVar4 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42e;
              sVar15 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d42f;
              sVar16 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3ae;
              sVar5 = (ushort)DAT_4000ca49 * (ushort)DAT_4000d3b2;
              uVar9 = DAT_40004b80;
              uVar10 = DAT_40004b82;
              uVar3 = DAT_40004b88;
              uVar14 = DAT_40004b8a;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 0x88;
            obd_ii_response[(byte)(bVar24 + 2)] = 0x11;
            obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)uVar9 >> 8);
            obd_ii_response[(byte)(bVar24 + 4)] = (byte)uVar9;
            obd_ii_response[(byte)(bVar24 + 5)] = 0;
            obd_ii_response[(byte)(bVar24 + 6)] = 0;
            obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 10)] = 0x89;
            obd_ii_response[(byte)(bVar24 + 0xb)] = 0x11;
            obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)uVar10 >> 8);
            obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)uVar10;
            obd_ii_response[(byte)(bVar24 + 0xe)] = 0;
            obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x10)] = (byte)((ushort)sVar15 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar15;
            obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x13)] = 0x90;
            obd_ii_response[(byte)(bVar24 + 0x14)] = 0x11;
            obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)uVar3 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)uVar3;
            obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar16 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar16;
            obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x91;
            obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x11;
            obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)uVar14 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)uVar14;
            obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
            bVar11 = bVar24 + 0x23;
            obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)sVar5 >> 8);
            bVar24 = bVar24 + 0x24;
            obd_ii_response[bVar11] = (byte)sVar5;
          }
        }
        else {
          if ((obd_ii_status_unknokwn & 0x1000) == 0) {
            sVar16 = 0;
            sVar15 = 0;
            sVar4 = 0;
          }
          else {
            sVar4 = DAT_40004c0c * 10;
            if ((obd_ii_status_unknokwn & 0x2000) == 0) {
              if (((obd_ii_status_unknokwn & 0x4000) == 0) ||
                 ((obd_ii_status_unknokwn & 0x8000) != 0)) {
                sVar15 = -0x8000;
                sVar16 = DAT_40004c0e * 10;
              }
              else {
                sVar15 = -0x8000;
                sVar16 = 0x7fff;
              }
            }
            else {
              sVar15 = DAT_4000cb04 * 10;
              sVar16 = 0x7fff;
            }
          }
          if ((obd_ii_status_unknokwn & 0x4000) == 0) {
            sVar20 = 0;
            bVar11 = 0;
            sVar5 = 0;
          }
          else {
            sVar5 = DAT_40004c0a * 10;
            bVar11 = 0x80;
            sVar20 = DAT_4000cafa * -10;
          }
          if ((obd_ii_status_unknokwn & 0x8000) == 0) {
            sVar21 = 0;
            bVar18 = 0;
            sVar8 = 0;
          }
          else {
            sVar8 = DAT_40004c10 * 10;
            bVar18 = 0x80;
            sVar21 = DAT_4000caf8 * -10;
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0x8b;
          obd_ii_response[(byte)(bVar24 + 2)] = 0xfd;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
          obd_ii_response[(byte)(bVar24 + 5)] = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 6)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar16 >> 8);
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0x8c;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0xfd;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)sVar5 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)sVar5;
          obd_ii_response[(byte)(bVar24 + 0xe)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x10)] = (byte)((ushort)sVar20 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar20;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x8d;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0xfd;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)sVar8 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)sVar8;
          obd_ii_response[(byte)(bVar24 + 0x17)] = bVar18;
          obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
          bVar11 = bVar24 + 0x1a;
          obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar21 >> 8);
          bVar24 = bVar24 + 0x1b;
          obd_ii_response[bVar11] = (byte)sVar21;
        }
      }
      else if (obd_mode6_pid == 0x80) {
        obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
        obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[4][0];
        obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[4][1];
        bVar11 = bVar24 + 4;
        obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[4][2];
        bVar24 = bVar24 + 5;
        obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[4][3];
      }
      else if (obd_mode6_pid < 0x80) {
        if (obd_mode6_pid == 0x40) {
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[2][0];
          obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[2][1];
          bVar11 = bVar24 + 4;
          obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[2][2];
          bVar24 = bVar24 + 5;
          obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[2][3];
        }
        else if (obd_mode6_pid < 0x40) {
          if (obd_mode6_pid == 0x3d) {
            if ((obd_ii_status_unknokwn & 0x80) == 0) {
              uVar9 = 0;
              sVar15 = 0;
              sVar4 = 0;
            }
            else {
              sVar4 = DAT_40004c04 * 10;
              sVar15 = DAT_4000cafa * -10;
              uVar9 = 0x7fff;
            }
            if ((obd_ii_status_unknokwn & 0x100) == 0) {
              sVar5 = 0;
              bVar11 = 0;
              sVar16 = 0;
            }
            else {
              sVar16 = DAT_40004c06 * 10;
              bVar11 = 0x80;
              if (((obd_ii_status_unknokwn & 0x200) == 0) || ((obd_ii_status_unknokwn & 0x800) != 0)
                 ) {
                sVar5 = DAT_40004c08 * 10;
              }
              else {
                sVar5 = 0x7fff;
              }
            }
            if ((obd_ii_status_unknokwn & 0x200) == 0) {
              sVar8 = 0;
              bVar18 = 0;
              sVar20 = 0;
            }
            else {
              sVar20 = DAT_40004c04 * 10;
              bVar18 = 0x80;
              sVar8 = DAT_4000cb08 * -10;
            }
            if ((obd_ii_status_unknokwn & 0x400) == 0) {
              uVar10 = 0;
              sVar23 = 0;
              sVar21 = 0;
            }
            else {
              sVar21 = DAT_40004c04 * 10;
              sVar23 = (ushort)DAT_4000c9e3 * -10;
              uVar10 = 0x7fff;
            }
            obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 1)] = 0x83;
            obd_ii_response[(byte)(bVar24 + 2)] = 0xfd;
            obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
            obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
            obd_ii_response[(byte)(bVar24 + 5)] = (byte)((ushort)sVar15 >> 8);
            obd_ii_response[(byte)(bVar24 + 6)] = (byte)sVar15;
            obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)uVar9 >> 8);
            obd_ii_response[(byte)(bVar24 + 8)] = (byte)uVar9;
            obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 10)] = 0x8b;
            obd_ii_response[(byte)(bVar24 + 0xb)] = 0xfd;
            obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)sVar16 >> 8);
            obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)sVar16;
            obd_ii_response[(byte)(bVar24 + 0xe)] = bVar11;
            obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x10)] = (byte)((ushort)sVar5 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar5;
            obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x13)] = 0x8c;
            obd_ii_response[(byte)(bVar24 + 0x14)] = 0xfd;
            obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)sVar20 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)sVar20;
            obd_ii_response[(byte)(bVar24 + 0x17)] = bVar18;
            obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
            obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar8 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar8;
            obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
            obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x8e;
            obd_ii_response[(byte)(bVar24 + 0x1d)] = 0xfd;
            obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)sVar21 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)sVar21;
            obd_ii_response[(byte)(bVar24 + 0x20)] = (byte)((ushort)sVar23 >> 8);
            obd_ii_response[(byte)(bVar24 + 0x21)] = (byte)sVar23;
            bVar11 = bVar24 + 0x23;
            obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar10 >> 8);
            bVar24 = bVar24 + 0x24;
            obd_ii_response[bVar11] = (byte)uVar10;
          }
          else if (obd_mode6_pid < 0x3d) {
            if (obd_mode6_pid < 0x3c) {
              obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 1)] = 0x82;
              obd_ii_response[(byte)(bVar24 + 2)] = 0xfe;
              if (DAT_40004b52 == 0x7fff) {
                sVar15 = 0;
                sVar4 = 0;
              }
              else {
                if (DAT_40004b52 < 0) {
                  sVar4 = 0;
                }
                else {
                  sVar4 = DAT_40004b52 * 0x28;
                }
                sVar15 = (ushort)DAT_40004b56 * 0x28;
              }
              obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
              obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
              obd_ii_response[(byte)(bVar24 + 5)] = 0;
              obd_ii_response[(byte)(bVar24 + 6)] = 0;
              bVar11 = bVar24 + 8;
              obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar15 >> 8);
              bVar24 = bVar24 + 9;
              obd_ii_response[bVar11] = (byte)sVar15;
            }
            else {
              obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
              obd_ii_response[(byte)(bVar24 + 1)] = 0x82;
              obd_ii_response[(byte)(bVar24 + 2)] = 0xfe;
              if (DAT_40004b54 == 0x7fff) {
                sVar15 = 0;
                sVar4 = 0;
              }
              else {
                if (DAT_40004b54 < 0) {
                  sVar4 = 0;
                }
                else {
                  sVar4 = DAT_40004b54 * 0x28;
                }
                sVar15 = (ushort)DAT_40004b57 * 0x28;
              }
              obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
              obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
              obd_ii_response[(byte)(bVar24 + 5)] = 0;
              obd_ii_response[(byte)(bVar24 + 6)] = 0;
              bVar11 = bVar24 + 8;
              obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar15 >> 8);
              bVar24 = bVar24 + 9;
              obd_ii_response[bVar11] = (byte)sVar15;
            }
          }
        }
        else if (obd_mode6_pid == 0x60) {
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[3][0];
          obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[3][1];
          bVar11 = bVar24 + 4;
          obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[3][2];
          bVar24 = bVar24 + 5;
          obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[3][3];
        }
      }
      else if (obd_mode6_pid == 0xa0) {
        obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
        obd_ii_response[(byte)(bVar24 + 1)] = obd_ii_mode06_supported_pids[5][0];
        obd_ii_response[(byte)(bVar24 + 2)] = obd_ii_mode06_supported_pids[5][1];
        bVar11 = bVar24 + 4;
        obd_ii_response[(byte)(bVar24 + 3)] = obd_ii_mode06_supported_pids[5][2];
        bVar24 = bVar24 + 5;
        obd_ii_response[bVar11] = obd_ii_mode06_supported_pids[5][3];
      }
      else if (obd_mode6_pid < 0xa0) {
        if (obd_mode6_pid == 0x82) {
          if ((obd_ii_status_unknokwn & 0x80000000) == 0) {
            sVar8 = 0;
            sVar20 = 0;
            sVar5 = 0;
            sVar16 = 0;
            sVar15 = 0;
            sVar4 = 0;
            iVar12 = 0;
          }
          else {
            uVar2 = (char)(obd_ii_fuel_learn_zone_2_bank2 ^ 0x80) * 500;
            sVar4 = ((short)((int)uVar2 >> 7) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                    10;
            sVar15 = DAT_4000ca24 * -10;
            sVar16 = DAT_4000ca22 * 10;
            uVar2 = (char)(obd_ii_fuel_learn_zone_3_bank2 ^ 0x80) * 500;
            sVar5 = ((short)((int)uVar2 >> 7) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                    10;
            sVar20 = (ushort)DAT_4000ca57 * -10;
            sVar8 = (ushort)u8_time_10us_4000ca56 * 10;
            iVar12 = LEA_ltft_idle_b_adj;
          }
          sVar21 = DAT_40004bbe;
          uVar9 = DAT_4000cbea;
          if (DAT_40004bbe == 0) {
            sVar21 = 0;
            uVar9 = 0;
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0x84;
          obd_ii_response[(byte)(bVar24 + 2)] = 0xaf;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
          bVar11 = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 5)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 6)] = (byte)sVar15;
          bVar18 = (byte)((ushort)sVar16 >> 8);
          obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0x98;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0xaf;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)sVar5 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)sVar5;
          obd_ii_response[(byte)(bVar24 + 0xe)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 0xf)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x99;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0x8f;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)iVar12 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)iVar12;
          obd_ii_response[(byte)(bVar24 + 0x17)] = (byte)((ushort)sVar20 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x18)] = (byte)sVar20;
          obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar8 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar8;
          obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x8a;
          obd_ii_response[(byte)(bVar24 + 0x1d)] = 3;
          obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)sVar21 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)sVar21;
          obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
          bVar11 = bVar24 + 0x23;
          obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar9 >> 8);
          bVar24 = bVar24 + 0x24;
          obd_ii_response[bVar11] = (byte)uVar9;
        }
        else if (obd_mode6_pid < 0x82) {
          if ((obd_ii_status_unknokwn & 0x40000000) == 0) {
            sVar8 = 0;
            sVar20 = 0;
            sVar5 = 0;
            sVar16 = 0;
            sVar15 = 0;
            sVar4 = 0;
            iVar12 = 0;
          }
          else {
            uVar2 = (char)(obd_ii_fuel_learn_zone_2_bank1 ^ 0x80) * 500;
            sVar4 = ((short)((int)uVar2 >> 7) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                    10;
            sVar15 = DAT_4000ca24 * -10;
            sVar16 = DAT_4000ca22 * 10;
            uVar2 = (char)(obd_ii_fuel_learn_zone_3_bank1 ^ 0x80) * 500;
            sVar5 = ((short)((int)uVar2 >> 7) + (ushort)((int)uVar2 < 0 && (uVar2 & 0x7f) != 0)) *
                    10;
            sVar20 = (ushort)DAT_4000ca57 * -10;
            sVar8 = (ushort)u8_time_10us_4000ca56 * 10;
            iVar12 = LEA_fuel_learn_lean_time_bank1;
          }
          sVar21 = DAT_40004bbc;
          uVar9 = DAT_4000cbea;
          if (DAT_40004bbc == 0) {
            sVar21 = 0;
            uVar9 = 0;
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0x84;
          obd_ii_response[(byte)(bVar24 + 2)] = 0xaf;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
          bVar11 = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 5)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 6)] = (byte)sVar15;
          bVar18 = (byte)((ushort)sVar16 >> 8);
          obd_ii_response[(byte)(bVar24 + 7)] = bVar18;
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0x98;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0xaf;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)sVar5 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)sVar5;
          obd_ii_response[(byte)(bVar24 + 0xe)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 0xf)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 0x10)] = bVar18;
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x99;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0x8f;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)iVar12 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)iVar12;
          obd_ii_response[(byte)(bVar24 + 0x17)] = (byte)((ushort)sVar20 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x18)] = (byte)sVar20;
          obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)sVar8 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)sVar8;
          obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x8a;
          obd_ii_response[(byte)(bVar24 + 0x1d)] = 3;
          obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)sVar21 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)sVar21;
          obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
          bVar11 = bVar24 + 0x23;
          obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar9 >> 8);
          bVar24 = bVar24 + 0x24;
          obd_ii_response[bVar11] = (byte)uVar9;
        }
      }
      else if (obd_mode6_pid < 0xa8) {
        if (obd_mode6_pid < 0xa2) {
          if ((obd_ii_status_unknokwn & 1) == 0) {
            sVar15 = 0;
            sVar4 = 0;
          }
          else {
            sVar4 = obd_ii_max_misfire_results_emissions * 10;
            sVar15 = (ushort)DAT_40002098 * 10;
          }
          if ((obd_ii_status_unknokwn & 4) == 0) {
            sVar20 = 0;
            sVar5 = 0;
            sVar16 = 0;
          }
          else {
            sVar16 = obd_ii_misfires_unknown_cat_damage[0] * 10;
            sVar5 = obd_ii_misfires_unknown_cat_damage[1] * 10;
            sVar20 = DAT_40004b62 * 10;
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0x85;
          obd_ii_response[(byte)(bVar24 + 2)] = 0x2f;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)sVar4;
          obd_ii_response[(byte)(bVar24 + 5)] = 0;
          obd_ii_response[(byte)(bVar24 + 6)] = 0;
          obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0x94;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0x2f;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)sVar16 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)sVar16;
          obd_ii_response[(byte)(bVar24 + 0xe)] = 0;
          obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
          bVar11 = (byte)((ushort)sVar20 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x10)] = bVar11;
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)sVar20;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x95;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0x2f;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)sVar5 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)sVar5;
          obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
          bVar18 = bVar24 + 0x1a;
          obd_ii_response[(byte)(bVar24 + 0x19)] = bVar11;
          bVar24 = bVar24 + 0x1b;
          obd_ii_response[bVar18] = (byte)sVar20;
        }
        else {
          uVar22 = 0;
          for (bVar11 = 0xa2; (bVar11 < 0xa8 && (bVar11 != obd_ii_request[uVar25 & 0xff]));
              bVar11 = bVar11 + 1) {
            uVar22 = uVar22 + 1;
          }
          if ((obd_ii_status_unknokwn & 0x20) == 0) {
            uVar10 = 0;
            uVar9 = 0;
          }
          else {
            uVar6 = div_round_nearest(*(uint32_t *)
                                       ((int)&DAT_40004be0 + (int)((uVar22 & 0xff) << 2)),0x100);
            if (0xffff < uVar6) {
              uVar6 = 0xffff;
            }
            uVar9 = (undefined2)uVar6;
            uVar10 = 0xffff;
          }
          if ((obd_ii_status_unknokwn & 0x40) == 0) {
            uVar14 = 0;
            uVar3 = 0;
          }
          else {
            uVar3 = *(undefined2 *)((int)int16_t_ARRAY_40004bf8 + (int)((uVar22 & 0xff) << 1));
            uVar14 = 0xffff;
          }
          if ((obd_ii_status_unknokwn & 1) == 0) {
            uVar13 = 0;
            sVar4 = 0;
          }
          else {
            sVar4 = *(short *)((int)&DAT_40004b64 + (int)((uVar22 & 0xff) << 1)) * 10;
            uVar13 = 1000;
            if ((obd_ii_status_unknokwn & 2) == 0) {
              uVar13 = 10000;
            }
          }
          if ((obd_ii_status_unknokwn & 4) == 0) {
            uVar17 = 0;
            sVar15 = 0;
          }
          else {
            sVar15 = *(short *)((int)coil_pack_diag_reading_unknown + (int)((uVar22 & 0xff) << 1)) *
                     10;
            if ((((obd_ii_status_unknokwn & 8) == 0) || ((uVar22 & 1) != 0)) &&
               (((obd_ii_status_unknokwn & 0x10) == 0 || ((uVar22 & 1) == 0)))) {
              uVar17 = 10000;
            }
            else {
              uVar17 = 1000;
            }
          }
          obd_ii_response[bVar24] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 1)] = 0xb;
          obd_ii_response[(byte)(bVar24 + 2)] = 0x24;
          obd_ii_response[(byte)(bVar24 + 3)] = (byte)((ushort)uVar9 >> 8);
          obd_ii_response[(byte)(bVar24 + 4)] = (byte)uVar9;
          obd_ii_response[(byte)(bVar24 + 5)] = 0;
          obd_ii_response[(byte)(bVar24 + 6)] = 0;
          obd_ii_response[(byte)(bVar24 + 7)] = (byte)((ushort)uVar10 >> 8);
          obd_ii_response[(byte)(bVar24 + 8)] = (byte)uVar10;
          obd_ii_response[(byte)(bVar24 + 9)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 10)] = 0xc;
          obd_ii_response[(byte)(bVar24 + 0xb)] = 0x24;
          obd_ii_response[(byte)(bVar24 + 0xc)] = (byte)((ushort)uVar3 >> 8);
          obd_ii_response[(byte)(bVar24 + 0xd)] = (byte)uVar3;
          obd_ii_response[(byte)(bVar24 + 0xe)] = 0;
          obd_ii_response[(byte)(bVar24 + 0xf)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x10)] = (byte)((ushort)uVar14 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x11)] = (byte)uVar14;
          obd_ii_response[(byte)(bVar24 + 0x12)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x13)] = 0x96;
          obd_ii_response[(byte)(bVar24 + 0x14)] = 0x2f;
          obd_ii_response[(byte)(bVar24 + 0x15)] = (byte)((ushort)sVar4 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x16)] = (byte)sVar4;
          obd_ii_response[(byte)(bVar24 + 0x17)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x18)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x19)] = (byte)((ushort)uVar13 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1a)] = (byte)uVar13;
          obd_ii_response[(byte)(bVar24 + 0x1b)] = obd_ii_request[uVar25 & 0xff];
          obd_ii_response[(byte)(bVar24 + 0x1c)] = 0x97;
          obd_ii_response[(byte)(bVar24 + 0x1d)] = 0x2f;
          obd_ii_response[(byte)(bVar24 + 0x1e)] = (byte)((ushort)sVar15 >> 8);
          obd_ii_response[(byte)(bVar24 + 0x1f)] = (byte)sVar15;
          obd_ii_response[(byte)(bVar24 + 0x20)] = 0;
          obd_ii_response[(byte)(bVar24 + 0x21)] = 0;
          bVar11 = bVar24 + 0x23;
          obd_ii_response[(byte)(bVar24 + 0x22)] = (byte)((ushort)uVar17 >> 8);
          bVar24 = bVar24 + 0x24;
          obd_ii_response[bVar11] = (byte)uVar17;
        }
      }
    }
  }
  if (bVar24 < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = (ushort)bVar24;
    flexcan_a_obd_send_messages();
  }
  return;
}



uint32_t div_round_nearest(uint32_t dividend,uint16_t divisor)

{
  uint uVar1;
  
  uVar1 = (uint)(short)divisor;
  if (divisor != 0) {
    if (dividend -
        (int)((ulonglong)dividend / ((ulonglong)uVar1 & 0xffff)) * (int)((ulonglong)uVar1 & 0xffff)
        < (uint)((int)(uint)divisor >> 1)) {
      dividend = (uint32_t)((ulonglong)dividend / ((ulonglong)uVar1 & 0xffff));
    }
    else {
      dividend = (int)((ulonglong)dividend / ((ulonglong)uVar1 & 0xffff)) + 1;
    }
  }
  return dividend;
}



void obd_ii_mode07_processing(void)

{
  byte i;
  uint uVar1;
  uint uVar2;
  
  obd_ii_response[0] = 0x47;
  obd_ii_response[1] = obd_DTC_pending_count;
  uVar2 = 2;
  for (i = 0; i < obd_DTC_pending_count; i = i + 1) {
    uVar1 = uVar2 + 1;
    obd_ii_response[uVar2 & 0xff] = (byte)(obd_ii_dtc_pending[i] >> 8);
    uVar2 = uVar2 + 2;
    obd_ii_response[uVar1 & 0xff] = (byte)obd_ii_dtc_pending[i];
  }
  obd_ii_response_length = (ushort)uVar2 & 0xff;
  flexcan_a_obd_send_messages();
  return;
}



void obd_ii_dtc_pending_update_unknown(short param_1)

{
  if (obd_DTC_pending_count < 127) {
    obd_ii_dtc_pending[obd_DTC_pending_count] = param_1;
    obd_DTC_pending_count = obd_DTC_pending_count + 1;
  }
  return;
}



void set_obd_ii_set_mode08_flags(void)

{
  obd_ii_mode08_supported_pids___[0] = 0x80;
  obd_ii_mode08_supported_pids___[1] = 0;
  obd_ii_mode08_supported_pids___[2] = 0;
  obd_ii_mode08_supported_pids___[3] = 0;
  return;
}



void obd_ii_mode08_processing(void)

{
  byte bVar1;
  byte cur;
  uint i;
  
  cur = 1;
  obd_ii_response[0] = 0x48;
  obd_ii_response_length = obd_ii_response_length + 1;
  for (i = 2; (i & 0xff) < obd_ii_request[0] + 1; i = i + 1) {
    if (obd_ii_request[i & 0xff] == 0) {
      obd_ii_response[cur] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(cur + 1)] = obd_ii_mode08_supported_pids___[0];
      obd_ii_response[(byte)(cur + 2)] = obd_ii_mode08_supported_pids___[1];
      bVar1 = cur + 4;
      obd_ii_response[(byte)(cur + 3)] = obd_ii_mode08_supported_pids___[2];
      cur = cur + 5;
      obd_ii_response[bVar1] = obd_ii_mode08_supported_pids___[3];
    }
    else if (obd_ii_request[i & 0xff] == 1) {
      if ((obd_ii_engine_speed == 0) && (uint16_t_4000ca98 != 0)) {
        obd_ii_response[cur] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(cur + 1)] = 0;
        obd_ii_response[(byte)(cur + 2)] = 0;
        obd_ii_response[(byte)(cur + 3)] = 0;
        bVar1 = cur + 5;
        obd_ii_response[(byte)(cur + 4)] = 0;
        cur = cur + 6;
        obd_ii_response[bVar1] = 0;
        DAT_400020f0 = 0;
        obd_ii_mode08_supported_pids___[5] = uint16_t_4000ca98._0_1_;
        obd_ii_mode08_supported_pids___[6] = (undefined1)uint16_t_4000ca98;
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x4000000;
      }
      else {
        obd_ii_response[0] = 0x7f;
        obd_ii_response[1] = obd_ii_request[1];
        obd_ii_response[2] = 0x22;
        obd_ii_response_length = 3;
        flexcan_a_obd_send_messages();
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xfbffffff;
        DAT_400020f0 = 0;
      }
    }
  }
  if (cur < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = (ushort)cur;
    flexcan_a_obd_send_messages();
  }
  return;
}



void evap_canister_200hz(void)

{
  short sVar1;
  
  sVar1 = obd_ii_mode08_supported_pids___._5_2_ + -1;
  if (obd_ii_mode08_supported_pids___._5_2_ == 0) {
    sVar1 = 0;
  }
  obd_ii_mode08_supported_pids___[5] = (char)((ushort)sVar1 >> 8);
  obd_ii_mode08_supported_pids___[6] = (char)sVar1;
  if (DAT_400020f0 != 0) {
    if (((ulonglong)DAT_400020f0 - 0x4000000 & 0xffffffff) == 0) {
      if (sVar1 == 0) {
        DAT_400020f0 = 0;
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xfbffffff;
      }
    }
    else {
      DAT_400020f0 = 0;
    }
  }
  return;
}



// 
// Service 0x13 here is a custom report DTCs broadcast. When requested, it sends back:
// 
// - All current DTCs (mode 03 equivalent), then
// - Any DTCs recorded via the mode 08 path (using obd_ii_dtc_mode08_unknown).
// 
// 

void obd_ii_mode13_processing(void)

{
  obd_ii_mode13_requested = true;
  return;
}



void obd_ii_mode13_200hz(void)

{
  byte i;
  byte j;
  
  if (obd_ii_mode13_requested) {
    if ((obd_ii_request[0] == 1) ||
       (((obd_ii_request[0] == 3 && (obd_ii_request[2] == 0xff)) && (obd_ii_request[3] == 0)))) {
      obd_ii_response[0] = 0x53;
      i = 0;
      for (j = 1; (i < obd_DTC_count && (j < 128)); j = j + 2) {
        obd_ii_response[j] = (byte)(obd_ii_dtc_current[i] >> 8);
        obd_ii_response[(byte)(j + 1)] = (byte)obd_ii_dtc_current[i];
        i = i + 1;
      }
      i = 0;
      for (; (i < obd_ii_mode08_supported_pids___[7] && (j < 0x80)); j = j + 2) {
        obd_ii_response[j] = (byte)(obd_ii_dtc_unknown[i] >> 8);
        obd_ii_response[(byte)(j + 1)] = (byte)obd_ii_dtc_unknown[i];
        i = i + 1;
      }
      obd_ii_response_length = (ushort)j;
      flexcan_a_obd_send_messages();
    }
    obd_ii_mode13_requested = false;
  }
  return;
}



void obd_ii_dtc_mode08_unknown(uint16_t param_1)

{
  if (obd_ii_mode08_supported_pids___[7] < 127) {
    obd_ii_dtc_unknown[obd_ii_mode08_supported_pids___[7]] = param_1;
    obd_ii_mode08_supported_pids___[7] = obd_ii_mode08_supported_pids___[7] + 1;
  }
  return;
}



void set_obd_ii_set_mode09_flags(void)

{
  obd_ii_mode09_flags[0] = 0x55;
  obd_ii_mode09_flags[1] = 0x40;
  obd_ii_mode09_flags[2] = 0x27;
  obd_ii_mode09_flags[3] = 0x80;
  return;
}



void obd_ii_mode09_processing(void)

{
  uint i;
  byte bVar1;
  byte j;
  
  bVar1 = 1;
  obd_ii_response[0] = 0x49;
  obd_ii_response_length = obd_ii_response_length + 1;
  for (i = 2; (i & 0xff) < obd_ii_request[0] + 1; i = i + 1) {
    switch(obd_ii_request[i & 0xff]) {
    case 0:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = obd_ii_mode09_flags[0];
      obd_ii_response[(byte)(bVar1 + 2)] = obd_ii_mode09_flags[1];
      j = bVar1 + 4;
      obd_ii_response[(byte)(bVar1 + 3)] = obd_ii_mode09_flags[2];
      bVar1 = bVar1 + 5;
      obd_ii_response[j] = obd_ii_mode09_flags[3];
      break;
    case 2:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      bVar1 = bVar1 + 2;
      for (j = 0; j < 17; j = j + 1) {
        obd_ii_response[bVar1] = COD_VIN[j];
        bVar1 = bVar1 + 1;
      }
      break;
    case 4:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      bVar1 = bVar1 + 2;
      for (j = 0; j < 16; j = j + 1) {
        obd_ii_response[bVar1] = CAL_misc_calid[j];
        bVar1 = bVar1 + 1;
      }
      break;
    case 6:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = 0;
      obd_ii_response[(byte)(bVar1 + 3)] = 0;
      j = bVar1 + 5;
      obd_ii_response[(byte)(bVar1 + 4)] = (byte)(calibration_verification_number >> 8);
      bVar1 = bVar1 + 6;
      obd_ii_response[j] = (byte)calibration_verification_number;
      break;
    case 8:
                    // in-use performance tracking
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 0x1c;
      obd_ii_response[(byte)(bVar1 + 2)] = (byte)(uint16_t_40004912 >> 8);
      obd_ii_response[(byte)(bVar1 + 3)] = (byte)uint16_t_40004912;
      obd_ii_response[(byte)(bVar1 + 4)] = (byte)(uint16_t_40004910 >> 8);
      obd_ii_response[(byte)(bVar1 + 5)] = (byte)uint16_t_40004910;
      obd_ii_response[(byte)(bVar1 + 6)] = (byte)((ushort)DAT_40006184 >> 8);
      obd_ii_response[(byte)(bVar1 + 7)] = (byte)DAT_40006184;
      obd_ii_response[(byte)(bVar1 + 8)] = (byte)((ushort)DAT_40006182 >> 8);
      obd_ii_response[(byte)(bVar1 + 9)] = (byte)DAT_40006182;
      obd_ii_response[(byte)(bVar1 + 10)] = (byte)((ushort)DAT_4000618c >> 8);
      obd_ii_response[(byte)(bVar1 + 0xb)] = (byte)DAT_4000618c;
      obd_ii_response[(byte)(bVar1 + 0xc)] = (byte)((ushort)DAT_4000618a >> 8);
      obd_ii_response[(byte)(bVar1 + 0xd)] = (byte)DAT_4000618a;
      obd_ii_response[(byte)(bVar1 + 0xe)] = (byte)((ushort)DAT_40006174 >> 8);
      obd_ii_response[(byte)(bVar1 + 0xf)] = (byte)DAT_40006174;
      obd_ii_response[(byte)(bVar1 + 0x10)] = (byte)((ushort)DAT_40006172 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x11)] = (byte)DAT_40006172;
      obd_ii_response[(byte)(bVar1 + 0x12)] = (byte)((ushort)DAT_4000617c >> 8);
      obd_ii_response[(byte)(bVar1 + 0x13)] = (byte)DAT_4000617c;
      obd_ii_response[(byte)(bVar1 + 0x14)] = (byte)((ushort)DAT_4000617a >> 8);
      obd_ii_response[(byte)(bVar1 + 0x15)] = (byte)DAT_4000617a;
      obd_ii_response[(byte)(bVar1 + 0x16)] = (byte)((ushort)DAT_40006194 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x17)] = (byte)DAT_40006194;
      obd_ii_response[(byte)(bVar1 + 0x18)] = (byte)((ushort)DAT_40006192 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x19)] = (byte)DAT_40006192;
      obd_ii_response[(byte)(bVar1 + 0x1a)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x1b)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x1c)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x1d)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x1e)] = (byte)((ushort)DAT_4000619c >> 8);
      obd_ii_response[(byte)(bVar1 + 0x1f)] = (byte)DAT_4000619c;
      obd_ii_response[(byte)(bVar1 + 0x20)] = (byte)((ushort)DAT_4000619a >> 8);
      obd_ii_response[(byte)(bVar1 + 0x21)] = (byte)DAT_4000619a;
      obd_ii_response[(byte)(bVar1 + 0x22)] = (byte)((ushort)DAT_400061a4 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x23)] = (byte)DAT_400061a4;
      obd_ii_response[(byte)(bVar1 + 0x24)] = (byte)((ushort)DAT_400061a2 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x25)] = (byte)DAT_400061a2;
      obd_ii_response[(byte)(bVar1 + 0x26)] = (byte)((ushort)DAT_400061ac >> 8);
      obd_ii_response[(byte)(bVar1 + 0x27)] = (byte)DAT_400061ac;
      obd_ii_response[(byte)(bVar1 + 0x28)] = (byte)((ushort)DAT_400061aa >> 8);
      obd_ii_response[(byte)(bVar1 + 0x29)] = (byte)DAT_400061aa;
      obd_ii_response[(byte)(bVar1 + 0x2a)] = (byte)((ushort)DAT_400061b4 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x2b)] = (byte)DAT_400061b4;
      obd_ii_response[(byte)(bVar1 + 0x2c)] = (byte)((ushort)DAT_400061b2 >> 8);
      obd_ii_response[(byte)(bVar1 + 0x2d)] = (byte)DAT_400061b2;
      obd_ii_response[(byte)(bVar1 + 0x2e)] = (byte)((ushort)DAT_400061bc >> 8);
      obd_ii_response[(byte)(bVar1 + 0x2f)] = (byte)DAT_400061bc;
      obd_ii_response[(byte)(bVar1 + 0x30)] = (byte)((ushort)DAT_400061ba >> 8);
      obd_ii_response[(byte)(bVar1 + 0x31)] = (byte)DAT_400061ba;
      obd_ii_response[(byte)(bVar1 + 0x32)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x33)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x34)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x35)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x36)] = 0;
      obd_ii_response[(byte)(bVar1 + 0x37)] = 0;
      j = bVar1 + 0x39;
      obd_ii_response[(byte)(bVar1 + 0x38)] = 0;
      bVar1 = bVar1 + 0x3a;
      obd_ii_response[j] = 0;
      break;
    case 10:
                    // ecu name (ascii)
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = '\x01';
      obd_ii_response[(byte)(bVar1 + 2)] = 'E';
      obd_ii_response[(byte)(bVar1 + 3)] = 'C';
      obd_ii_response[(byte)(bVar1 + 4)] = 'M';
      obd_ii_response[(byte)(bVar1 + 5)] = '\0';
      obd_ii_response[(byte)(bVar1 + 6)] = '-';
      obd_ii_response[(byte)(bVar1 + 7)] = 'E';
      obd_ii_response[(byte)(bVar1 + 8)] = 'n';
      obd_ii_response[(byte)(bVar1 + 9)] = 'g';
      obd_ii_response[(byte)(bVar1 + 10)] = 'i';
      obd_ii_response[(byte)(bVar1 + 0xb)] = 'n';
      obd_ii_response[(byte)(bVar1 + 0xc)] = 'e';
      obd_ii_response[(byte)(bVar1 + 0xd)] = 'C';
      obd_ii_response[(byte)(bVar1 + 0xe)] = 'o';
      obd_ii_response[(byte)(bVar1 + 0xf)] = 'n';
      obd_ii_response[(byte)(bVar1 + 0x10)] = 't';
      obd_ii_response[(byte)(bVar1 + 0x11)] = 'r';
      obd_ii_response[(byte)(bVar1 + 0x12)] = 'o';
      obd_ii_response[(byte)(bVar1 + 0x13)] = 'l';
      j = bVar1 + 0x15;
      obd_ii_response[(byte)(bVar1 + 0x14)] = 0;
      bVar1 = bVar1 + 0x16;
      obd_ii_response[j] = 0;
      break;
    case 0x13:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = 'M';
      obd_ii_response[(byte)(bVar1 + 3)] = 'L';
      obd_ii_response[(byte)(bVar1 + 4)] = 'T';
      obd_ii_response[(byte)(bVar1 + 5)] = 'X';
      obd_ii_response[(byte)(bVar1 + 6)] = 'V';
      obd_ii_response[(byte)(bVar1 + 7)] = '0';
      obd_ii_response[(byte)(bVar1 + 8)] = '3';
      obd_ii_response[(byte)(bVar1 + 9)] = '.';
      obd_ii_response[(byte)(bVar1 + 10)] = '5';
      obd_ii_response[(byte)(bVar1 + 0xb)] = 'J';
      j = bVar1 + 0xd;
      obd_ii_response[(byte)(bVar1 + 0xc)] = 'H';
      bVar1 = bVar1 + 0xe;
      obd_ii_response[j] = 0x42;
      break;
    case 0x16:
                    // drive cycle counters
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = (byte)(drive_cycle_counters_unknown[0] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 3)] = (byte)(drive_cycle_counters_unknown[0] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 4)] = (byte)(drive_cycle_counters_unknown[0] >> 8);
      obd_ii_response[(byte)(bVar1 + 5)] = (byte)drive_cycle_counters_unknown[0];
      obd_ii_response[(byte)(bVar1 + 6)] = (byte)(drive_cycle_counters_unknown[1] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 7)] = (byte)(drive_cycle_counters_unknown[1] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 8)] = (byte)(drive_cycle_counters_unknown[1] >> 8);
      obd_ii_response[(byte)(bVar1 + 9)] = (byte)drive_cycle_counters_unknown[1];
      obd_ii_response[(byte)(bVar1 + 10)] = (byte)(drive_cycle_counters_unknown[2] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xb)] = (byte)(drive_cycle_counters_unknown[2] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0xc)] = (byte)(drive_cycle_counters_unknown[2] >> 8);
      obd_ii_response[(byte)(bVar1 + 0xd)] = (byte)drive_cycle_counters_unknown[2];
      obd_ii_response[(byte)(bVar1 + 0xe)] = (byte)(drive_cycle_counters_unknown[3] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xf)] = (byte)(drive_cycle_counters_unknown[3] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x10)] = (byte)(drive_cycle_counters_unknown[3] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x11)] = (byte)drive_cycle_counters_unknown[3];
      obd_ii_response[(byte)(bVar1 + 0x12)] = (byte)(drive_cycle_counters_unknown[4] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x13)] = (byte)(drive_cycle_counters_unknown[4] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x14)] = (byte)(drive_cycle_counters_unknown[4] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x15)] = (byte)drive_cycle_counters_unknown[4];
      obd_ii_response[(byte)(bVar1 + 0x16)] = (byte)(drive_cycle_counters_unknown[5] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x17)] = (byte)(drive_cycle_counters_unknown[5] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x18)] = (byte)(drive_cycle_counters_unknown[5] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x19)] = (byte)drive_cycle_counters_unknown[5];
      obd_ii_response[(byte)(bVar1 + 0x1a)] = (byte)(drive_cycle_counters_unknown[6] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x1b)] = (byte)(drive_cycle_counters_unknown[6] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x1c)] = (byte)(drive_cycle_counters_unknown[6] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x1d)] = (byte)drive_cycle_counters_unknown[6];
      obd_ii_response[(byte)(bVar1 + 0x1e)] = (byte)(drive_cycle_counters_unknown[7] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x1f)] = (byte)(drive_cycle_counters_unknown[7] >> 0x10);
      j = bVar1 + 0x21;
      obd_ii_response[(byte)(bVar1 + 0x20)] = (byte)(drive_cycle_counters_unknown[7] >> 8);
      bVar1 = bVar1 + 0x22;
      obd_ii_response[j] = (byte)drive_cycle_counters_unknown[7];
      break;
    case 0x17:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = 0;
      obd_ii_response[(byte)(bVar1 + 3)] = 0;
      obd_ii_response[(byte)(bVar1 + 4)] = 0;
      obd_ii_response[(byte)(bVar1 + 5)] = 0;
      obd_ii_response[(byte)(bVar1 + 6)] = 0;
      obd_ii_response[(byte)(bVar1 + 7)] = 0;
      obd_ii_response[(byte)(bVar1 + 8)] = 0;
      obd_ii_response[(byte)(bVar1 + 9)] = 0;
      obd_ii_response[(byte)(bVar1 + 10)] = (byte)(fuel_used_unknown[0] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xb)] = (byte)(fuel_used_unknown[0] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0xc)] = (byte)(fuel_used_unknown[0] >> 8);
      obd_ii_response[(byte)(bVar1 + 0xd)] = (byte)fuel_used_unknown[0];
      obd_ii_response[(byte)(bVar1 + 0xe)] = (byte)(fuel_used_unknown[1] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xf)] = (byte)(fuel_used_unknown[1] >> 0x10);
      j = bVar1 + 0x11;
      obd_ii_response[(byte)(bVar1 + 0x10)] = (byte)(fuel_used_unknown[1] >> 8);
      bVar1 = bVar1 + 0x12;
      obd_ii_response[j] = (byte)fuel_used_unknown[1];
      break;
    case 0x18:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = (byte)((uint)accel_intensity_out_short >> 0x18);
      obd_ii_response[(byte)(bVar1 + 3)] = (byte)((uint)accel_intensity_out_short >> 0x10);
      obd_ii_response[(byte)(bVar1 + 4)] = (byte)((uint)accel_intensity_out_short >> 8);
      obd_ii_response[(byte)(bVar1 + 5)] = (byte)accel_intensity_out_short;
      obd_ii_response[(byte)(bVar1 + 6)] = (byte)((uint)accel_intensity_out_long >> 0x18);
      obd_ii_response[(byte)(bVar1 + 7)] = (byte)((uint)accel_intensity_out_long >> 0x10);
      obd_ii_response[(byte)(bVar1 + 8)] = (byte)((uint)accel_intensity_out_long >> 8);
      obd_ii_response[(byte)(bVar1 + 9)] = (byte)accel_intensity_out_long;
      obd_ii_response[(byte)(bVar1 + 10)] = (byte)((uint)engine_work_cumulative_a >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xb)] = (byte)((uint)engine_work_cumulative_a >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0xc)] = (byte)((uint)engine_work_cumulative_a >> 8);
      obd_ii_response[(byte)(bVar1 + 0xd)] = (byte)engine_work_cumulative_a;
      obd_ii_response[(byte)(bVar1 + 0xe)] = (byte)((uint)engine_work_cumulative_b >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xf)] = (byte)((uint)engine_work_cumulative_b >> 0x10);
      j = bVar1 + 0x11;
      obd_ii_response[(byte)(bVar1 + 0x10)] = (byte)((uint)engine_work_cumulative_b >> 8);
      bVar1 = bVar1 + 0x12;
      obd_ii_response[j] = (byte)engine_work_cumulative_b;
      break;
    case 0x19:
      obd_ii_response[bVar1] = obd_ii_request[i & 0xff];
      obd_ii_response[(byte)(bVar1 + 1)] = 1;
      obd_ii_response[(byte)(bVar1 + 2)] = (byte)(engine_speed_state_timer_unknown[0] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 3)] = (byte)(engine_speed_state_timer_unknown[0] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 4)] = (byte)(engine_speed_state_timer_unknown[0] >> 8);
      obd_ii_response[(byte)(bVar1 + 5)] = (byte)engine_speed_state_timer_unknown[0];
      obd_ii_response[(byte)(bVar1 + 6)] = (byte)(engine_speed_state_timer_unknown[1] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 7)] = (byte)(engine_speed_state_timer_unknown[1] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 8)] = (byte)(engine_speed_state_timer_unknown[1] >> 8);
      obd_ii_response[(byte)(bVar1 + 9)] = (byte)engine_speed_state_timer_unknown[1];
      obd_ii_response[(byte)(bVar1 + 10)] = (byte)(engine_speed_state_timer_unknown[2] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xb)] = (byte)(engine_speed_state_timer_unknown[2] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0xc)] = (byte)(engine_speed_state_timer_unknown[2] >> 8);
      obd_ii_response[(byte)(bVar1 + 0xd)] = (byte)engine_speed_state_timer_unknown[2];
      obd_ii_response[(byte)(bVar1 + 0xe)] = (byte)(engine_speed_state_timer_unknown[3] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0xf)] = (byte)(engine_speed_state_timer_unknown[3] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x10)] = (byte)(engine_speed_state_timer_unknown[3] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x11)] = (byte)engine_speed_state_timer_unknown[3];
      obd_ii_response[(byte)(bVar1 + 0x12)] = (byte)(engine_speed_state_timer_unknown[4] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x13)] = (byte)(engine_speed_state_timer_unknown[4] >> 0x10);
      obd_ii_response[(byte)(bVar1 + 0x14)] = (byte)(engine_speed_state_timer_unknown[4] >> 8);
      obd_ii_response[(byte)(bVar1 + 0x15)] = (byte)engine_speed_state_timer_unknown[4];
      obd_ii_response[(byte)(bVar1 + 0x16)] = (byte)(engine_speed_state_timer_unknown[5] >> 0x18);
      obd_ii_response[(byte)(bVar1 + 0x17)] = (byte)(engine_speed_state_timer_unknown[5] >> 0x10);
      j = bVar1 + 0x19;
      obd_ii_response[(byte)(bVar1 + 0x18)] = (byte)(engine_speed_state_timer_unknown[5] >> 8);
      bVar1 = bVar1 + 0x1a;
      obd_ii_response[j] = (byte)engine_speed_state_timer_unknown[5];
    }
  }
  if (bVar1 < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = (ushort)bVar1;
    flexcan_a_obd_send_messages();
  }
  return;
}



void obd_ii_update_drive_cycle_counters_rpm_and_speed(void)

{
  if ((short)u16_rspeed_rpm_40001f2c + -150 < (int)(uint)engine_speed_2) {
    if (DAT_40001690 == 0) {
      if ((DAT_40002106 & 1) == 0) {
        if (drive_cycle_counters_unknown[0] != 0xffffffff) {
          drive_cycle_counters_unknown[0] = drive_cycle_counters_unknown[0] + 1;
        }
        if (drive_cycle_counters_unknown[1] != 0xffffffff) {
          drive_cycle_counters_unknown[1] = drive_cycle_counters_unknown[1] + 1;
        }
        DAT_40002106 = DAT_40002106 | 1;
      }
    }
    else {
      DAT_40001690 = DAT_40001690 + -1;
    }
    if (drive_cycle_counters_unknown[4] != 0xffffffff) {
      drive_cycle_counters_unknown[4] = drive_cycle_counters_unknown[4] + 1;
    }
    if (drive_cycle_counters_unknown[5] != 0xffffffff) {
      drive_cycle_counters_unknown[5] = drive_cycle_counters_unknown[5] + 1;
    }
    if ((((engine_operating_state_flags & 1) != 0) && (car_speed_div100 < 161)) &&
       ((engine_state_failure_flags & 0x400) == 0)) {
      if (drive_cycle_counters_unknown[6] != 0xffffffff) {
        drive_cycle_counters_unknown[6] = drive_cycle_counters_unknown[6] + 1;
      }
      if (drive_cycle_counters_unknown[7] != 0xffffffff) {
        drive_cycle_counters_unknown[7] = drive_cycle_counters_unknown[7] + 1;
      }
    }
  }
  else {
    DAT_40001690 = 2;
  }
  if (engine_speed_2 == 0) {
    DAT_40001691 = 2;
  }
  else if (DAT_40001691 == 0) {
    if ((DAT_40002106 & 2) == 0) {
      if (drive_cycle_counters_unknown[2] != 0xffffffff) {
        drive_cycle_counters_unknown[2] = drive_cycle_counters_unknown[2] + 1;
      }
      if (drive_cycle_counters_unknown[3] != 0xffffffff) {
        drive_cycle_counters_unknown[3] = drive_cycle_counters_unknown[3] + 1;
      }
      DAT_40002106 = DAT_40002106 | 2;
    }
  }
  else {
    DAT_40001691 = DAT_40001691 + -1;
  }
  return;
}



void accumulated_fuel_used_estimate(void)

{
  ulonglong uVar1;
  
  uVar1 = (ulonglong)(fuel_usage_instantaneous + DAT_40002108) / 1000;
  DAT_40002108 = (fuel_usage_instantaneous + DAT_40002108) % 1000;
  if ((ulonglong)fuel_used_unknown[0] < (-uVar1 - 1 & 0xffffffff)) {
    fuel_used_unknown[0] = fuel_used_unknown[0] + (int)uVar1;
  }
  else {
    fuel_used_unknown[0] = 0xffffffff;
  }
  if ((ulonglong)fuel_used_unknown[1] < (-uVar1 - 1 & 0xffffffff)) {
    fuel_used_unknown[1] = fuel_used_unknown[1] + (int)uVar1;
  }
  else {
    fuel_used_unknown[1] = 0xffffffff;
  }
  return;
}



// the units are unclear here because it doesn't include the mass of the vehicle.

void acceleration_intensity_estimate(void)

{
  int _estimate;
  
  if (accel_intensity_carspeed_last < car_speed_u8) {
    _estimate = (uint)car_speed_u8 * (uint)car_speed_u8 -
                (uint)accel_intensity_carspeed_last * (uint)accel_intensity_carspeed_last;
    if (accel_intensity_short < -_estimate - 1U) {
      accel_intensity_short = accel_intensity_short + _estimate;
    }
    else {
      accel_intensity_short = 0xffffffff;
    }
    if (accel_intensity_long < 0xffffffffU - _estimate) {
      accel_intensity_long = accel_intensity_long + _estimate;
    }
    else {
      accel_intensity_long = 0xffffffff;
    }
  }
  if (0xfffffffe < accel_intensity_timer_a) {
    accel_intensity_timer_a = 0xffffffff;
  }
  if (0xfffffffe < accel_intensity_timer_b) {
    accel_intensity_timer_b = 0xffffffff;
  }
  if (accel_intensity_timer_a / 3600 == 0) {
    accel_intensity_out_short = 0;
  }
  else {
    accel_intensity_out_short = accel_intensity_short / (accel_intensity_timer_a / 3600);
  }
  if (accel_intensity_timer_b / 3600 == 0) {
    accel_intensity_out_long = 0;
  }
  else {
    accel_intensity_out_long = accel_intensity_long / (accel_intensity_timer_b / 3600);
  }
  accel_intensity_carspeed_last = car_speed_u8;
  return;
}



void engine_work_estimate(void)

{
  ulonglong uVar1;
  int iVar2;
  int iVar3;
  longlong lVar4;
  uint actual_engine_torque_nm;
  uint engine_friction_torque_pct;
  uint16_t reference_torque_nm;
  ulonglong _engine_work;
  
  actual_engine_torque_nm = get_actual_engine_torque();
  engine_friction_torque_pct = get_engine_friction_torque_pct();
  reference_torque_nm = get_engine_reference_torque();
  _engine_work = ((longlong)(int)(uint)engine_speed_2 *
                  (longlong)
                  (int)(((longlong)(int)(uint)reference_torque_nm *
                         (longlong)
                         (int)(((actual_engine_torque_nm & 0xff) -
                               (engine_friction_torque_pct & 0xff)) * 6284) & 0xffffffffU) / 6000) &
                 0xffffffffU) / 1000;
  engine_work = (int)_engine_work;
  uVar1 = (_engine_work + engine_work_accumulated & 0xffffffff) * 0x74d3b7bb >> 0x20;
  lVar4 = (((_engine_work + engine_work_accumulated) - uVar1 << 0x20) >> 0x21) + uVar1;
  uVar1 = (ulonglong)(lVar4 << 0x20) >> 0x32;
                    // this is integer division by 360_000
                    // 
  iVar3 = (int)((_engine_work + engine_work_accumulated & 0xffffffff) * 0x74d3b7bb >> 0x20);
  iVar2 = (int)(_engine_work + engine_work_accumulated);
  engine_work_accumulated = iVar2 + (((uint)(iVar2 - iVar3) >> 1) + iVar3 >> 0x12) * -360000;
  engine_friction_torque_pct = (uint)lVar4 >> 0x12;
  if ((ulonglong)engine_work_cumulative_a < (-uVar1 - 1 & 0xffffffff)) {
    engine_work_cumulative_a = engine_work_cumulative_a + engine_friction_torque_pct;
  }
  else {
    engine_work_cumulative_a = -1;
  }
  if ((ulonglong)engine_work_cumulative_b < (-uVar1 - 1 & 0xffffffff)) {
    engine_work_cumulative_b = engine_work_cumulative_b + engine_friction_torque_pct;
  }
  else {
    engine_work_cumulative_b = -1;
  }
  return;
}



void engine_speed_state_counter_update(void)

{
  if ((ignition_on_flags & 1) != 0) {
    if ((engine_speed_state_timer_unknown[0] != 0xffffffff) &&
       (engine_speed_state_timer_unknown[0] = engine_speed_state_timer_unknown[0] + 1,
       179999 < engine_speed_state_timer_unknown[0])) {
      zero_counters_unknown1();
    }
    if (engine_speed_state_timer_unknown[1] != 0xffffffff) {
      engine_speed_state_timer_unknown[1] = engine_speed_state_timer_unknown[1] + 1;
    }
    if ((((engine_operating_state_flags & 1) != 0) && (car_speed_div100 < 161)) &&
       ((engine_state_failure_flags & 0x400) == 0)) {
      if (engine_speed_state_timer_unknown[2] != 0xffffffff) {
        engine_speed_state_timer_unknown[2] = engine_speed_state_timer_unknown[2] + 1;
      }
      if (engine_speed_state_timer_unknown[3] != 0xffffffff) {
        engine_speed_state_timer_unknown[3] = engine_speed_state_timer_unknown[3] + 1;
      }
    }
    if (((ushort)(car_speed_div100 - 161) < 5840) && ((engine_state_failure_flags & 0x400) == 0)) {
      if (engine_speed_state_timer_unknown[4] != 0xffffffff) {
        engine_speed_state_timer_unknown[4] = engine_speed_state_timer_unknown[4] + 1;
      }
      if (engine_speed_state_timer_unknown[5] != 0xffffffff) {
        engine_speed_state_timer_unknown[5] = engine_speed_state_timer_unknown[5] + 1;
      }
    }
  }
  return;
}



void obd_ii_update_mode09_stats(void)

{
  DAT_40002118 = DAT_40002118 + -1;
  if (DAT_40002118 == 0) {
    DAT_40002118 = 10;
    obd_ii_update_drive_cycle_counters_rpm_and_speed();
    accumulated_fuel_used_estimate();
    acceleration_intensity_estimate();
    engine_work_estimate();
    engine_speed_state_counter_update();
  }
  return;
}



void zero_counters_unknown1(void)

{
  drive_cycle_counters_unknown[0] = 0;
  drive_cycle_counters_unknown[2] = 0;
  drive_cycle_counters_unknown[4] = 0;
  drive_cycle_counters_unknown[6] = 0;
  fuel_used_unknown[0] = 0;
  accel_intensity_short = 0;
  accel_intensity_timer_a = 0;
  engine_work_cumulative_a = 0;
  engine_speed_state_timer_unknown[0] = 0;
  engine_speed_state_timer_unknown[2] = 0;
  engine_speed_state_timer_unknown[4] = 0;
  return;
}



void zero_counters_unknown2(void)

{
  drive_cycle_counters_unknown[1] = 0;
  drive_cycle_counters_unknown[3] = 0;
  drive_cycle_counters_unknown[5] = 0;
  drive_cycle_counters_unknown[7] = 0;
  fuel_used_unknown[1] = 0;
  accel_intensity_long = 0;
  accel_intensity_timer_b = 0;
  engine_work_cumulative_b = 0;
  engine_speed_state_timer_unknown[1] = 0;
  engine_speed_state_timer_unknown[3] = 0;
  engine_speed_state_timer_unknown[5] = 0;
  return;
}



// param 5 looks like a counter with cal_val_unknown being the default value.

void o2_sensor_range_check_unknown
               (u16_voltage_5_1023v o2_sensor1_voltage,u16_voltage_5_1023v obd_ii_o2_sensor2_voltage
               ,u16_voltage_5_1023v *param_3,u16_voltage_5_1023v *param_4,char *param_5,
               byte *o2_sensor_flags_unknown,byte cal_value_unknown)

{
  longlong lVar1;
  
  lVar1 = libc_abs((ulonglong)*param_4 - (ulonglong)*param_3);
  if (((int)(uint)DAT_4000c9fc < (int)lVar1) || ((*o2_sensor_flags_unknown & 0x20) == 0)) {
    *o2_sensor_flags_unknown = *o2_sensor_flags_unknown | 0x20;
    *param_5 = cal_value_unknown;
    *param_4 = o2_sensor1_voltage;
    *param_3 = o2_sensor1_voltage;
  }
  else {
    if (*param_4 < o2_sensor1_voltage) {
      *param_4 = o2_sensor1_voltage;
    }
    if (o2_sensor1_voltage < *param_3) {
      *param_3 = o2_sensor1_voltage;
    }
    if (*param_5 != '\0') {
      *param_5 = *param_5 + -1;
    }
    if ((*param_5 == '\0') &&
       ((((CAL_sensor_o2_rich_voltage_threshold < o2_sensor1_voltage &&
          (o2_sensor1_voltage < CAL_sensor_o2_lean_voltage_threshold)) ||
         ((CAL_sensor_o2_lean_voltage_threshold <= o2_sensor1_voltage &&
          (obd_ii_o2_sensor2_voltage < CAL_sensor_o2_threshold_unknown)))) ||
        ((o2_sensor1_voltage <= CAL_sensor_o2_rich_voltage_threshold &&
         (DAT_4000cad2 < obd_ii_o2_sensor2_voltage)))))) {
      *o2_sensor_flags_unknown = *o2_sensor_flags_unknown & 0xfc;
      *o2_sensor_flags_unknown = *o2_sensor_flags_unknown | 0b00010000;
    }
  }
  return;
}



void obd_ii_o2_no_activity_monitor(void)

{
  byte bVar1;
  byte bVar2;
  
  if ((CAL_obd_ii_P0134 & 7) == 0) {
    LEA_obd_ii_P0134_flags = LEA_obd_ii_P0134_flags | 0x40;
  }
  else if (((engine_state_failure_flags & 0x400) == 0) && ((DAT_40001e90 & 8) == 0)) {
    bVar2 = LEA_obd_ii_P0134_flags & 0xbf;
    bVar1 = LEA_obd_ii_P0134_flags & 0x20;
    LEA_obd_ii_P0134_flags = bVar2;
    if (bVar1 == 0) {
      if (((((DAT_40001e90 & 2) == 0) || ((engine_operating_state_flags & 8) == 0)) ||
          (car_speed_u8 != 0)) || (runtime_since_start < CAL_inj_closedloop_activate_timer_o2_check)
         ) {
        if (DAT_4000213c != 0) {
          DAT_4000213c = DAT_4000ca3e;
        }
      }
      else if (DAT_4000213c == 0) {
        if (DAT_4000cac4 <= DAT_40002128) {
          LEA_obd_ii_P0134_flags = bVar2 | 0x20;
        }
      }
      else {
        DAT_4000213c = DAT_4000213c - 1;
      }
    }
  }
  else {
    DAT_4000213c = DAT_4000ca3e;
    LEA_obd_ii_P0134_flags = LEA_obd_ii_P0134_flags | 0x40;
  }
  if ((CAL_obd_ii_P0154 & 7) == 0) {
    LEA_obd_ii_P0154_flags = LEA_obd_ii_P0154_flags | 0x40;
  }
  else if (((engine_state_failure_flags & 0x400) == 0) && ((DAT_40001e92 & 8) == 0)) {
    bVar2 = LEA_obd_ii_P0154_flags & 0xbf;
    bVar1 = LEA_obd_ii_P0154_flags & 0x20;
    LEA_obd_ii_P0154_flags = bVar2;
    if (bVar1 == 0) {
      if ((((DAT_40001e92 & 2) == 0) || ((engine_operating_state_flags & 8) == 0)) ||
         ((car_speed_u8 != '\0' ||
          (runtime_since_start < CAL_inj_closedloop_activate_timer_o2_check)))) {
        if (DAT_4000213d != 0) {
          DAT_4000213d = DAT_4000ca3e;
        }
      }
      else if (DAT_4000213d == 0) {
        if (DAT_4000cac4 <= DAT_4000212a) {
          LEA_obd_ii_P0154_flags = bVar2 | 0x20;
        }
      }
      else {
        DAT_4000213d = DAT_4000213d - 1;
      }
    }
  }
  else {
    DAT_4000213d = DAT_4000ca3e;
    LEA_obd_ii_P0154_flags = LEA_obd_ii_P0154_flags | 0x40;
  }
  if (runtime_since_start < CAL_inj_closedloop_activate_timer_o2_check) {
    DAT_40001e88 = DAT_40001e88 & 0xfff5;
    DAT_40001e8a = DAT_40001e8a & 0xfff5;
    o2_sensor_flags_unknown = o2_sensor_flags_unknown & 0xdc;
    DAT_4000214b = DAT_4000214b & 0xdc;
    DAT_4000212a = 0;
    DAT_40002128 = 0;
    DAT_4000212e = 0;
    DAT_4000212c = 0;
    DAT_4000213f = 0;
    DAT_4000213e = 0;
  }
  else {
    if ((obd_ii_o2_sensor1_voltage < CAL_sensor_o2_lean_voltage_threshold) &&
       (CAL_sensor_o2_rich_voltage_threshold < obd_ii_o2_sensor1_voltage)) {
      o2_sensor_range_check_unknown
                (obd_ii_o2_sensor1_voltage,obd_ii_o2_sensor2_voltage,&u16_voltage_5_1023v_40002132,
                 &u16_voltage_5_1023v_40002134,&DAT_4000213a,&o2_sensor_flags_unknown,DAT_4000c9fd);
    }
    else if (((DAT_40001e90 & 2) == 0) ||
            ((((engine_operating_state_flags & 8) == 0 || (car_speed_u8 != '\0')) ||
             ((engine_state_failure_flags & 0x400) != 0)))) {
      o2_sensor_flags_unknown = o2_sensor_flags_unknown & 0xdf;
    }
    else {
      o2_sensor_range_check_unknown
                (obd_ii_o2_sensor1_voltage,obd_ii_o2_sensor2_voltage,&u16_voltage_5_1023v_40002132,
                 &u16_voltage_5_1023v_40002134,&DAT_4000213a,&o2_sensor_flags_unknown,DAT_4000ca3e);
    }
    if ((obd_ii_o2_sensor5_voltage < CAL_sensor_o2_lean_voltage_threshold) &&
       (CAL_sensor_o2_rich_voltage_threshold < obd_ii_o2_sensor5_voltage)) {
      o2_sensor_range_check_unknown
                (obd_ii_o2_sensor5_voltage,obd_ii_o2_sensor6_voltage,&DAT_40002136,&DAT_40002138,
                 &DAT_4000213b,&DAT_4000214b,DAT_4000c9fd);
    }
    else if ((((DAT_40001e92 & 2) == 0) ||
             (((engine_operating_state_flags & 8) == 0 || (car_speed_u8 != '\0')))) ||
            ((engine_state_failure_flags & 0x400) != 0)) {
      DAT_4000214b = DAT_4000214b & 0xdf;
    }
    else {
      o2_sensor_range_check_unknown
                (obd_ii_o2_sensor5_voltage,obd_ii_o2_sensor6_voltage,&DAT_40002136,&DAT_40002138,
                 &DAT_4000213b,&DAT_4000214b,DAT_4000ca3e);
    }
    if (((o2_sensor_flags_unknown & 8) == 0) && ((DAT_4000214b & 8) == 0)) {
      if ((uint)closedloop_activate_time + (uint)CAL_inj_closedloop_activate_timer_o2_check <
          runtime_since_start) {
        if ((DAT_40001e88 & 1) == 0) {
          o2_sensor_flags_unknown = o2_sensor_flags_unknown | 0b00000100;
        }
        if ((DAT_40001e8a & 1) == 0) {
          DAT_4000214b = DAT_4000214b | 4;
        }
        o2_sensor_flags_unknown = o2_sensor_flags_unknown | 0b00001000;
        DAT_4000214b = DAT_4000214b | 8;
      }
      else {
        o2_sensor_flags_unknown = o2_sensor_flags_unknown & 0xfb;
        DAT_4000214b = DAT_4000214b & 0xfb;
      }
    }
    if (((DAT_40002128 < DAT_4000cac4) && ((o2_sensor_flags_unknown & 0x10) == 0)) &&
       ((o2_sensor_flags_unknown & 4) == 0)) {
      if (DAT_4000cad0 < runtime_since_start) {
        if (obd_ii_o2_sensor1_voltage < CAL_sensor_o2_rich_voltage_threshold) {
          o2_sensor_flags_unknown = o2_sensor_flags_unknown | 2;
        }
        if (CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor1_voltage) {
          o2_sensor_flags_unknown = o2_sensor_flags_unknown | 1;
        }
        if (((o2_sensor_flags_unknown & 2) != 0) && ((o2_sensor_flags_unknown & 1) != 0)) {
          DAT_40001e88 = DAT_40001e88 | 2;
        }
      }
    }
    else if (((CAL_obd_ii_P0134 & 7) != 0) && ((LEA_obd_ii_P0134_flags & 2) == 0)) {
      if (((DAT_40001e88 & 2) == 0) ||
         (((o2_sensor_flags_unknown & 0x10) != 0 || ((o2_sensor_flags_unknown & 4) != 0)))) {
        DAT_4000213e = DAT_4000213e + 1;
        if ((DAT_4000c9d9 <= DAT_4000213e) &&
           ((DAT_4000213e = 0, DAT_400021ea != 0 &&
            (DAT_400021ea = DAT_400021ea - 1, DAT_400021ea == 0)))) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0134,&LEA_obd_ii_P0134_flags,&DAT_40004c9d,&DAT_40004c9e,0x134,0);
        }
      }
      else {
        DAT_4000213e = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0134,&LEA_obd_ii_P0134_flags);
        if (DAT_400021ea < DAT_4000d3fd) {
          DAT_400021ea = DAT_400021ea + 1;
        }
      }
    }
    if (((DAT_4000212a < DAT_4000cac4) && ((DAT_4000214b & 0x10) == 0)) && ((DAT_4000214b & 4) == 0)
       ) {
      if (DAT_4000cad0 < runtime_since_start) {
        if (obd_ii_o2_sensor5_voltage < CAL_sensor_o2_rich_voltage_threshold) {
          DAT_4000214b = DAT_4000214b | 2;
        }
        if (CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor5_voltage) {
          DAT_4000214b = DAT_4000214b | 1;
        }
        if (((DAT_4000214b & 2) != 0) && ((DAT_4000214b & 1) != 0)) {
          DAT_40001e8a = DAT_40001e8a | 2;
        }
      }
    }
    else if (((CAL_obd_ii_P0154 & 7) != 0) && ((LEA_obd_ii_P0154_flags & 2) == 0)) {
      if (((DAT_40001e8a & 2) == 0) || (((DAT_4000214b & 0x10) != 0 || ((DAT_4000214b & 4) != 0))))
      {
        DAT_4000213f = DAT_4000213f + 1;
        if ((DAT_4000c9d9 <= DAT_4000213f) &&
           ((DAT_4000213f = 0, DAT_400021e8 != 0 &&
            (DAT_400021e8 = DAT_400021e8 - 1, DAT_400021e8 == 0)))) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0154,&LEA_obd_ii_P0154_flags,&DAT_40004cbb,&DAT_40004cbc,0x154,0);
        }
      }
      else {
        DAT_4000213f = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0154,&LEA_obd_ii_P0154_flags);
        if (DAT_400021e8 < DAT_4000d433) {
          DAT_400021e8 = DAT_400021e8 + 1;
        }
      }
    }
    if (DAT_4000212c < DAT_4000cac6) {
      if ((DAT_40001e88 & 4) != 0) {
        DAT_40001e88 = DAT_40001e88 | 8;
      }
    }
    else if ((CAL_obd_ii_P0140 & 7) != 0) {
      LEA_obd_ii_P0140_flags = LEA_obd_ii_P0140_flags | 0x20;
      if ((DAT_40001e88 & 8) == 0) {
        if (DAT_40002140 < DAT_4000c9d9) {
          DAT_40002140 = DAT_40002140 + 1;
        }
        else {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0140,&LEA_obd_ii_P0140_flags,&DAT_40004cac,&DAT_40004cad,0x140,0);
        }
      }
      else {
        obd_ii_monitor_pass(&CAL_obd_ii_P0140,&LEA_obd_ii_P0140_flags);
      }
    }
    if (DAT_4000212e < DAT_4000cac6) {
      if ((DAT_40001e8a & 4) != 0) {
        DAT_40001e8a = DAT_40001e8a | 8;
      }
    }
    else if ((CAL_obd_ii_P0160 & 7) != 0) {
      LEA_obd_ii_P0160_flags = LEA_obd_ii_P0160_flags | 0x20;
      if ((DAT_40001e8a & 8) == 0) {
        if (DAT_40002141 < DAT_4000c9d9) {
          DAT_40002141 = DAT_40002141 + 1;
        }
        else {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0160,&LEA_obd_ii_P0160_flags,&DAT_40004cca,&DAT_40004ccb,0x160,0);
        }
      }
      else {
        obd_ii_monitor_pass(&CAL_obd_ii_P0160,&LEA_obd_ii_P0160_flags);
      }
    }
  }
  return;
}



void obd_ii_o2_slow_response_monitor(void)

{
  uint uVar1;
  byte bVar2;
  ushort uVar3;
  ushort uVar4;
  byte bVar5;
  
  if (DAT_400021a4 != -1) {
    DAT_400021a4 = (short)((ulonglong)runtime_since_start / 200);
  }
  if ((((((CAL_obd_ii_P0133 & 7) == 0) || ((LEA_obd_ii_P0116_flags & 2) != 0)) ||
       ((LEA_obd_ii_P0117_flags & 2) != 0)) ||
      (((LEA_obd_ii_P0118_flags & 2) != 0 || ((LEA_obd_ii_P0101_flags & 2) != 0)))) ||
     (((((LEA_obd_ii_P0102_flags & 2) != 0 ||
        (((LEA_obd_ii_P0103_flags & 2) != 0 || ((LEA_obd_ii_P0335_flags & 2) != 0)))) ||
       ((LEA_obd_ii_P0500_flags & 2) != 0)) || ((DAT_40001e90 & 8) != 0)))) {
    LEA_obd_ii_P0133_flags = LEA_obd_ii_P0133_flags | 0x40;
    DAT_400021d4 = DAT_400021d4 & 0xfffc;
  }
  else {
    LEA_obd_ii_P0133_flags = LEA_obd_ii_P0133_flags & 0xbf;
    if (((((car_speed_u8 < s__4000ca26[0]) || (s__4000ca26[1] <= car_speed_u8)) ||
         ((int)load_mass_per_stroke_raw <= (int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[0])) ||
        ((((int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[1] <= (int)load_mass_per_stroke_raw ||
          (engine_speed_3 <= s_h_4000ca76[0])) ||
         ((s_h_4000ca76[1] <= engine_speed_3 ||
          ((runtime_since_start <= u16_time_5ms_4000cac8 ||
           (coolant_temp <= u8_temp_5_8_40c_4000ca69)))))))) ||
       ((DAT_40002130 != '\0' ||
        (((int)(uint)DAT_400087ca <= DAT_40002198 || ((DAT_40001e90 & 2) == 0)))))) {
      DAT_400021d4 = DAT_400021d4 & 0xfffe;
    }
    else {
      DAT_400021d4 = DAT_400021d4 | 1;
    }
    if ((((((int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[0] < (int)load_mass_per_stroke_raw) &&
          (s_h_4000ca76[0] < engine_speed_3)) && (engine_speed_3 < s_h_4000ca76[1])) &&
        ((((u16_time_5ms_4000cac8 < runtime_since_start && (u8_temp_5_8_40c_4000ca69 < coolant_temp)
           ) && ((DAT_40002130 == '\0' &&
                 ((DAT_40002188 == 0 && (u16_flow_10mg_s_ARRAY_4000cbba[0] < obd_ii_maf_flow))))))
         && (obd_ii_maf_flow < DAT_4000cbc8)))) && ((DAT_40001e90 & 2) != 0)) {
      DAT_400021d4 = DAT_400021d4 | 0x10;
    }
    else {
      DAT_400021d4 = DAT_400021d4 & 0xffef;
      DAT_4000218a = DAT_4000cbca;
    }
    if ((DAT_400021d4 & 2) != 0) {
      uVar4 = DAT_400021d4 & 0xfffd | 4;
      if ((DAT_400021d4 & 0x1000) == 0) {
        DAT_40002156 = (ushort)(DAT_400021dc / DAT_400021b9);
        DAT_400021d4 = uVar4;
        if (uint16_t_ARRAY_40004974[0] < DAT_40002156) {
          uint16_t_ARRAY_40004974[0] = DAT_40002156;
          sort_array10(uint16_t_ARRAY_40004974);
        }
        DAT_40002158 = (ushort)(DAT_400021e4 / DAT_400021b7);
        if (DAT_40004988 < DAT_40002158) {
          DAT_40004988 = DAT_40002158;
          sort_array10(&DAT_40004988);
        }
        if ((DAT_40002158 == 0) || (DAT_40002156 == 0)) {
          DAT_4000215a = 0;
        }
        else {
          uVar1 = ((uint)DAT_40002158 * 100) / (uint)DAT_40002156;
          DAT_4000215a = (byte)uVar1;
          if (0xff < uVar1) {
            DAT_4000215a = 0xff;
          }
          if (DAT_4000499c < DAT_4000215a) {
            DAT_4000499c = (ushort)DAT_4000215a;
            sort_array10(&DAT_4000499c);
          }
        }
      }
      else {
        DAT_40002156 = 0xffff;
        DAT_40002158 = 0xffff;
        DAT_4000215a = 0xff;
        DAT_400021d4 = uVar4;
      }
      if ((((DAT_4000ca2d < DAT_40002158) && (DAT_4000ca2b < DAT_40002156)) ||
          ((DAT_4000ca60 < DAT_40002158 && (DAT_4000ca78 < DAT_4000215a)))) ||
         (((DAT_4000ca61 < DAT_40002156 && (DAT_4000215a < DAT_4000ca79)) ||
          ((DAT_400021d4 & 0x1000) != 0)))) {
        DAT_400021d4 = DAT_400021d4 | 8;
      }
      if (DAT_4000ca78 < DAT_4000215a) {
        DAT_4000215e = (ushort)DAT_4000ca60 * 4 + (ushort)DAT_4000ca60;
      }
      else if (DAT_4000ca2b < DAT_40002156) {
        DAT_4000215e = (ushort)DAT_4000ca2d * 4 + (ushort)DAT_4000ca2d;
      }
      else {
        DAT_4000215e = -1;
      }
      if (DAT_4000215a < DAT_4000ca79) {
        DAT_4000215c = (ushort)DAT_4000ca61 * 4 + (ushort)DAT_4000ca61;
      }
      else if (DAT_4000ca2d < DAT_40002158) {
        DAT_4000215c = (ushort)DAT_4000ca2b * 4 + (ushort)DAT_4000ca2b;
      }
      else {
        DAT_4000215c = -1;
      }
    }
    if ((DAT_400021d4 & 0x20) != 0) {
      uVar4 = DAT_400021d4 & 0xffdf;
      if ((DAT_400021d4 & 0x2000) == 0) {
        DAT_4000218e = (ushort)(DAT_40002170 / DAT_4000217d);
        DAT_40002190 = (ushort)(DAT_4000216c / DAT_4000217c);
      }
      else {
        DAT_40002190 = 0xffff;
        DAT_4000218e = 0xffff;
      }
      if (((DAT_4000c9ce < DAT_4000218e) || (DAT_4000c9d0 < DAT_40002190)) ||
         (uVar3 = DAT_400021d4 & 0x2000, DAT_400021d4 = uVar4 | 0x40, uVar3 != 0)) {
        DAT_400021d4 = uVar4 | 0xc0;
      }
    }
    if ((LEA_obd_ii_P0133_flags & 4) == 0) {
      if (((DAT_400021d4 & 0x80) == 0) && ((DAT_400021d4 & 8) == 0)) {
        if (((((DAT_400021d4 & 0x40) != 0) && ((DAT_400021d4 & 0x80) == 0)) &&
            ((DAT_400021d4 & 4) != 0)) && ((DAT_400021d4 & 8) == 0)) {
          obd_ii_monitor_pass(&CAL_obd_ii_P0133,&LEA_obd_ii_P0133_flags);
        }
      }
      else {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0133,&LEA_obd_ii_P0133_flags,&DAT_40004c9a,&DAT_40004c9b,0x133,0);
        DAT_400021eb = 0;
      }
      if ((LEA_obd_ii_P0133_flags & 4) != 0) {
        if ((DAT_400021d4 & 0x40) == 0) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfffdffff;
          DAT_40004b26 = 0;
          DAT_40004b24 = 0;
        }
        else {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x20000;
          DAT_40004b24 = DAT_4000218e;
          DAT_40004b26 = DAT_40002190;
        }
        if ((DAT_400021d4 & 4) == 0) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfffeffff;
          DAT_40004b1c = 0;
          DAT_40004b1a = 0;
          DAT_40004b22 = 0;
          DAT_40004b20 = 0;
        }
        else {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x10000;
          DAT_40004b1a = DAT_40002156;
          DAT_40004b1c = DAT_40002158;
          DAT_40004b20 = DAT_4000215c;
          DAT_40004b22 = DAT_4000215e;
        }
      }
    }
  }
  if (((((CAL_obd_ii_P0153 & 7) == 0) || ((LEA_obd_ii_P0116_flags & 2) != 0)) ||
      (((LEA_obd_ii_P0117_flags & 2) != 0 ||
       (((LEA_obd_ii_P0118_flags & 2) != 0 || ((LEA_obd_ii_P0101_flags & 2) != 0)))))) ||
     (((LEA_obd_ii_P0102_flags & 2) != 0 ||
      (((((LEA_obd_ii_P0103_flags & 2) != 0 || ((LEA_obd_ii_P0335_flags & 2) != 0)) ||
        ((LEA_obd_ii_P0500_flags & 2) != 0)) || ((DAT_40001e92 & 8) != 0)))))) {
    LEA_obd_ii_P0153_flags = LEA_obd_ii_P0153_flags | 0x40;
    DAT_400021d2 = DAT_400021d2 & 0xfffc;
  }
  else {
    LEA_obd_ii_P0153_flags = LEA_obd_ii_P0153_flags & 0xbf;
    if ((((car_speed_u8 < s__4000ca26[0]) || (s__4000ca26[1] <= car_speed_u8)) ||
        ((((int)load_mass_per_stroke_raw <= (int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[0] ||
          (((int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[1] <= (int)load_mass_per_stroke_raw ||
           (engine_speed_3 <= s_h_4000ca76[0])))) ||
         ((s_h_4000ca76[1] <= engine_speed_3 ||
          (((runtime_since_start <= u16_time_5ms_4000cac8 ||
            (coolant_temp <= u8_temp_5_8_40c_4000ca69)) || (DAT_40002130 != '\0')))))))) ||
       (((int)(uint)DAT_400087ca <= DAT_40002198 || ((DAT_40001e92 & 2) == 0)))) {
      DAT_400021d2 = DAT_400021d2 & 0xfffe;
    }
    else {
      DAT_400021d2 = DAT_400021d2 | 1;
    }
    if ((((int)(uint)u16_load_mg_stroke_ARRAY_4000ca72[0] < (int)load_mass_per_stroke_raw) &&
        (s_h_4000ca76[0] < engine_speed_3)) &&
       ((engine_speed_3 < s_h_4000ca76[1] &&
        ((((((u16_time_5ms_4000cac8 < runtime_since_start &&
             (u8_temp_5_8_40c_4000ca69 < coolant_temp)) && (DAT_40002130 == '\0')) &&
           ((DAT_40002188 == 0 && (u16_flow_10mg_s_ARRAY_4000cbba[0] < obd_ii_maf_flow)))) &&
          (obd_ii_maf_flow < DAT_4000cbc8)) && ((DAT_40001e92 & 2) != 0)))))) {
      DAT_400021d2 = DAT_400021d2 | 0x10;
    }
    else {
      DAT_400021d2 = DAT_400021d2 & 0xffef;
      DAT_4000218c = DAT_4000cbca;
    }
    if ((DAT_400021d2 & 2) != 0) {
      uVar4 = DAT_400021d2 & 0xfffd | 4;
      if ((DAT_400021d2 & 0x1000) == 0) {
        DAT_40002160 = (ushort)(DAT_400021d8 / DAT_400021b8);
        DAT_400021d2 = uVar4;
        if (DAT_400049b0 < DAT_40002160) {
          DAT_400049b0 = DAT_40002160;
          sort_array10(&DAT_400049b0);
        }
        DAT_40002162 = (ushort)(DAT_400021e0 / DAT_400021b6);
        if (DAT_400049c4 < DAT_40002162) {
          DAT_400049c4 = DAT_40002162;
          sort_array10(&DAT_400049c4);
        }
        if ((DAT_40002162 == 0) || (DAT_40002160 == 0)) {
          DAT_40002164 = 0;
        }
        else {
          uVar1 = ((uint)DAT_40002162 * 100) / (uint)DAT_40002160;
          DAT_40002164 = (byte)uVar1;
          if (0xff < uVar1) {
            DAT_40002164 = 0xff;
          }
          if (DAT_400049d8 < DAT_40002164) {
            DAT_400049d8 = (ushort)DAT_40002164;
            sort_array10(&DAT_400049d8);
          }
        }
      }
      else {
        DAT_40002160 = 0xffff;
        DAT_40002162 = 0xffff;
        DAT_40002164 = 0xff;
        DAT_400021d2 = uVar4;
      }
      if ((((DAT_4000ca2d < DAT_40002162) && (DAT_4000ca2b < DAT_40002160)) ||
          ((DAT_4000ca60 < DAT_40002162 && (DAT_4000ca78 < DAT_40002164)))) ||
         (((DAT_4000ca61 < DAT_40002160 && (DAT_40002164 < DAT_4000ca79)) ||
          ((DAT_400021d2 & 0x1000) != 0)))) {
        DAT_400021d2 = DAT_400021d2 | 8;
      }
      if (DAT_4000ca78 < DAT_40002164) {
        DAT_40002168 = (ushort)DAT_4000ca60 * 4 + (ushort)DAT_4000ca60;
      }
      else if (DAT_4000ca2b < DAT_40002160) {
        DAT_40002168 = (ushort)DAT_4000ca2d * 4 + (ushort)DAT_4000ca2d;
      }
      else {
        DAT_40002168 = -1;
      }
      if (DAT_40002164 < DAT_4000ca79) {
        DAT_40002166 = (ushort)DAT_4000ca61 * 4 + (ushort)DAT_4000ca61;
      }
      else if (DAT_4000ca2d < DAT_40002162) {
        DAT_40002166 = (ushort)DAT_4000ca2b * 4 + (ushort)DAT_4000ca2b;
      }
      else {
        DAT_40002166 = -1;
      }
    }
    if ((DAT_400021d2 & 0x20) != 0) {
      uVar4 = DAT_400021d2 & 0xffdf;
      if ((DAT_400021d2 & 0x2000) == 0) {
        DAT_40002192 = (ushort)(DAT_40002178 / DAT_4000217f);
        DAT_40002194 = (ushort)(DAT_40002174 / DAT_4000217e);
      }
      else {
        DAT_40002194 = 0xffff;
        DAT_40002192 = 0xffff;
      }
      if (((DAT_4000c9ce < DAT_40002192) || (DAT_4000c9d0 < DAT_40002194)) ||
         (uVar3 = DAT_400021d2 & 0x2000, DAT_400021d2 = uVar4 | 0x40, uVar3 != 0)) {
        DAT_400021d2 = uVar4 | 0xc0;
      }
    }
    if ((LEA_obd_ii_P0153_flags & 4) == 0) {
      if (((DAT_400021d2 & 0x80) == 0) && ((DAT_400021d2 & 8) == 0)) {
        if (((((DAT_400021d2 & 0x40) != 0) && ((DAT_400021d2 & 0x80) == 0)) &&
            ((DAT_400021d2 & 4) != 0)) && ((DAT_400021d2 & 8) == 0)) {
          obd_ii_monitor_pass(&CAL_obd_ii_P0153,&LEA_obd_ii_P0153_flags);
        }
      }
      else {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0153,&LEA_obd_ii_P0153_flags,&DAT_40004cb8,&DAT_40004cb9,0x153,0);
        DAT_400021e9 = 0;
      }
      if ((LEA_obd_ii_P0153_flags & 4) != 0) {
        if ((DAT_400021d2 & 0x40) == 0) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfff7ffff;
          DAT_40004b2a = 0;
          DAT_40004b28 = 0;
        }
        else {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x80000;
          DAT_40004b28 = DAT_40002192;
          DAT_40004b2a = DAT_40002194;
        }
        if ((DAT_400021d2 & 4) == 0) {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfffbffff;
          DAT_40004b34 = 0;
          DAT_40004b32 = 0;
          DAT_40004b38 = 0;
          DAT_40004b36 = 0;
        }
        else {
          obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x40000;
          DAT_40004b32 = DAT_40002160;
          DAT_40004b34 = DAT_40002162;
          DAT_40004b36 = DAT_40002166;
          DAT_40004b38 = DAT_40002168;
        }
      }
    }
  }
  if (((((((((LEA_obd_ii_P0133_flags & 4) != 0) && ((LEA_obd_ii_P0133_flags & 2) == 0)) &&
          (((LEA_obd_ii_P0134_flags & 4) != 0 &&
           (((LEA_obd_ii_P0134_flags & 2) == 0 && ((LEA_obd_ii_P0153_flags & 4) != 0)))))) &&
         (((LEA_obd_ii_P0153_flags & 2) == 0 &&
          (((LEA_obd_ii_P0154_flags & 4) != 0 && ((LEA_obd_ii_P0154_flags & 2) == 0)))))) ||
        (((LEA_obd_ii_P0133_flags & 1) != 0 && ((LEA_obd_ii_P0133_flags & 2) != 0)))) ||
       (((LEA_obd_ii_P0134_flags & 1) != 0 && ((LEA_obd_ii_P0134_flags & 2) != 0)))) ||
      (((LEA_obd_ii_P0153_flags & 1) != 0 && ((LEA_obd_ii_P0153_flags & 2) != 0)))) ||
     (((LEA_obd_ii_P0154_flags & 1) != 0 && ((LEA_obd_ii_P0154_flags & 2) != 0)))) {
    obd_ii_engine_tests_completeness = obd_ii_engine_tests_completeness & 0xdf;
    obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xffdf;
  }
  if (((DAT_400021d4 & 0x400) != 0) && ((DAT_400021d4 & 0x800) != 0)) {
    LEA_obd_ii_P0133_flags = LEA_obd_ii_P0133_flags | 0x20;
  }
  if (((DAT_400021d2 & 0x400) != 0) && ((DAT_400021d2 & 0x800) != 0)) {
    LEA_obd_ii_P0153_flags = LEA_obd_ii_P0153_flags | 0x20;
  }
  if (((LEA_obd_ii_P0133_flags & 4) != 0) && ((CAL_obd_ii_P0133 & 8) != 0)) {
    LEA_obd_ii_P0133_flags = LEA_obd_ii_P0133_flags & 0xfb;
    obd_ii_o2_precat_diag_timer_bank1 = CAL_obd_ii_o2_precat_diag_timer;
    DAT_400021b0 = u16_flow_10mg_s_ARRAY_4000cbba[1];
    DAT_400021d4 = DAT_400021d4 & 0xf33 | 0x300;
    DAT_4000217c = 0;
    DAT_4000217d = 0;
    DAT_400021b7 = 0;
    DAT_400021b9 = 0;
    DAT_4000216c = 0;
    DAT_40002170 = 0;
    DAT_400021e4 = 0;
    DAT_400021dc = 0;
  }
  if (((LEA_obd_ii_P0153_flags & 4) != 0) && ((CAL_obd_ii_P0153 & 8) != 0)) {
    LEA_obd_ii_P0153_flags = LEA_obd_ii_P0153_flags & 0xfb;
    obd_ii_o2_precat_diag_timer_bank2 = CAL_obd_ii_o2_precat_diag_timer;
    DAT_400021ae = u16_flow_10mg_s_ARRAY_4000cbba[1];
    DAT_400021d2 = DAT_400021d2 & 0xf33 | 0x300;
    DAT_4000217e = 0;
    DAT_4000217f = 0;
    DAT_400021b6 = 0;
    DAT_400021b8 = 0;
    DAT_40002174 = 0;
    DAT_40002178 = 0;
    DAT_400021e0 = 0;
    DAT_400021d8 = 0;
  }
  if ((((LEA_obd_ii_P0101_flags & 2) == 0) && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
     ((LEA_obd_ii_P0103_flags & 2) == 0)) {
    if (((((CAL_obd_ii_P0139 & 7) == 0) || ((LEA_obd_ii_P0137_flags & 2) != 0)) ||
        (((LEA_obd_ii_P0138_flags & 2) != 0 ||
         (((LEA_obd_ii_P0140_flags & 2) != 0 || ((LEA_obd_ii_P0141_flags & 2) != 0)))))) ||
       (((LEA_obd_ii_P0301_flags & 2) != 0 ||
        (((((LEA_obd_ii_P0303_flags & 2) != 0 || ((LEA_obd_ii_P0305_flags & 2) != 0)) ||
          ((DAT_40001e90 & 8) != 0)) || ((LEA_obd_ii_P0133_flags & 2) != 0)))))) {
      LEA_obd_ii_P0139_flags = LEA_obd_ii_P0139_flags | 0x40;
      DAT_400021d0 = DAT_400021d0 & 0xfffe;
    }
    else {
      bVar5 = LEA_obd_ii_P0139_flags & 0xbf;
      if (u16_time_5ms_4000cac8 < runtime_since_start) {
        uVar4 = DAT_400021d0 | 1;
        bVar2 = LEA_obd_ii_P0139_flags & 4;
        LEA_obd_ii_P0139_flags = bVar5;
        if (bVar2 == 0) {
          if ((((DAT_400021d0 & 4) == 0) && ((DAT_400021d0 & 8) == 0)) &&
             (((DAT_400021d0 & 0x10) == 0 && ((DAT_400021d0 & 0x20) == 0)))) {
            if ((((DAT_400021d0 & 0x100) != 0) && ((DAT_400021d0 & 0x200) != 0)) &&
               (((DAT_400021d0 & 0x40) != 0 && ((DAT_400021d0 & 0x80) != 0)))) {
              DAT_400021d0 = uVar4;
              obd_ii_monitor_pass(&CAL_obd_ii_P0139,&LEA_obd_ii_P0139_flags);
              uVar4 = DAT_400021d0;
            }
          }
          else {
            DAT_400021d0 = uVar4;
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0139,&LEA_obd_ii_P0139_flags,&DAT_40004ca9,&DAT_40004caa,0x139,0
                      );
            uVar4 = DAT_400021d0;
          }
          DAT_400021d0 = uVar4;
          uVar4 = DAT_400021d0;
          if ((LEA_obd_ii_P0139_flags & 4) != 0) {
            if (((DAT_400021d0 & 4) == 0) && ((DAT_400021d0 & 0x100) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xffefffff;
              DAT_40004b42 = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x100000;
              DAT_40004b42 = DAT_400021c0;
            }
            if (((DAT_400021d0 & 8) == 0) && ((DAT_400021d0 & 0x200) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xffdfffff;
              DAT_40004b40 = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x200000;
              DAT_40004b40 = DAT_400021c4;
            }
            if (((DAT_400021d0 & 0x10) == 0) && ((DAT_400021d0 & 0x40) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xffbfffff;
              DAT_40004b48 = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x400000;
              DAT_40004b48 = DAT_400021ac;
            }
            if (((DAT_400021d0 & 0x20) == 0) && ((DAT_400021d0 & 0x80) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xff7fffff;
              DAT_40004b4a = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x800000;
              DAT_40004b4a = DAT_400021a8;
            }
          }
        }
        DAT_400021d0 = uVar4;
        if (((((DAT_400021d0 & 0x104) != 0) && ((DAT_400021d0 & 0x208) != 0)) &&
            ((DAT_400021d0 & 0x800) != 0)) && ((DAT_400021d0 & 0x400) != 0)) {
          LEA_obd_ii_P0139_flags = LEA_obd_ii_P0139_flags | 0x20;
        }
      }
      else {
        DAT_400021d0 = DAT_400021d0 & 0xfffe;
        LEA_obd_ii_P0139_flags = bVar5;
      }
    }
    if ((((((CAL_obd_ii_P0159 & 7) == 0) || ((LEA_obd_ii_P0157_flags & 2) != 0)) ||
         (((LEA_obd_ii_P0158_flags & 2) != 0 ||
          (((LEA_obd_ii_P0160_flags & 2) != 0 || ((LEA_obd_ii_P0161_flags & 2) != 0)))))) ||
        ((LEA_obd_ii_P0302_flags & 2) != 0)) ||
       (((((LEA_obd_ii_P0304_flags & 2) != 0 || ((LEA_obd_ii_P0306_flags & 2) != 0)) ||
         ((DAT_40001e92 & 8) != 0)) || ((LEA_obd_ii_P0153_flags & 2) != 0)))) {
      LEA_obd_ii_P0159_flags = LEA_obd_ii_P0159_flags | 0x40;
      DAT_400021ce = DAT_400021ce & 0xfffe;
    }
    else {
      bVar5 = LEA_obd_ii_P0159_flags & 0xbf;
      if (u16_time_5ms_4000cac8 < runtime_since_start) {
        uVar4 = DAT_400021ce | 1;
        bVar2 = LEA_obd_ii_P0159_flags & 4;
        LEA_obd_ii_P0159_flags = bVar5;
        if (bVar2 == 0) {
          if ((((DAT_400021ce & 4) == 0) && ((DAT_400021ce & 8) == 0)) &&
             (((DAT_400021ce & 0x10) == 0 && ((DAT_400021ce & 0x20) == 0)))) {
            if ((((DAT_400021ce & 0x100) != 0) && ((DAT_400021ce & 0x200) != 0)) &&
               (((DAT_400021ce & 0x40) != 0 && ((DAT_400021ce & 0x80) != 0)))) {
              DAT_400021ce = uVar4;
              obd_ii_monitor_pass(&CAL_obd_ii_P0159,&LEA_obd_ii_P0159_flags);
              uVar4 = DAT_400021ce;
            }
          }
          else {
            DAT_400021ce = uVar4;
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0159,&LEA_obd_ii_P0159_flags,&DAT_40004cc7,&DAT_40004cc8,0x159,0
                      );
            uVar4 = DAT_400021ce;
          }
          DAT_400021ce = uVar4;
          uVar4 = DAT_400021ce;
          if ((LEA_obd_ii_P0159_flags & 4) != 0) {
            if (((DAT_400021ce & 4) == 0) && ((DAT_400021ce & 0x100) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfeffffff;
              DAT_40004b46 = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x1000000;
              DAT_40004b46 = DAT_400021be;
            }
            if (((DAT_400021ce & 8) == 0) && ((DAT_400021ce & 0x200) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfdffffff;
              DAT_40004b44 = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x2000000;
              DAT_40004b44 = DAT_400021c2;
            }
            if (((DAT_400021ce & 0x10) == 0) && ((DAT_400021ce & 0x40) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xfbffffff;
              DAT_40004b4c = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x4000000;
              DAT_40004b4c = DAT_400021aa;
            }
            if (((DAT_400021ce & 0x20) == 0) && ((DAT_400021ce & 0x80) == 0)) {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn & 0xf7ffffff;
              DAT_40004b4e = 0;
            }
            else {
              obd_ii_status_unknokwn = obd_ii_status_unknokwn | 0x8000000;
              DAT_40004b4e = DAT_400021a6;
            }
          }
        }
        DAT_400021ce = uVar4;
        if (((((DAT_400021ce & 0x104) != 0) && ((DAT_400021ce & 0x208) != 0)) &&
            ((DAT_400021ce & 0x800) != 0)) && ((DAT_400021ce & 0x400) != 0)) {
          LEA_obd_ii_P0159_flags = LEA_obd_ii_P0159_flags | 0x20;
        }
      }
      else {
        DAT_400021ce = DAT_400021ce & 0xfffe;
        LEA_obd_ii_P0159_flags = bVar5;
      }
    }
  }
  else {
    LEA_obd_ii_P0139_flags = LEA_obd_ii_P0139_flags | 0x40;
    LEA_obd_ii_P0159_flags = LEA_obd_ii_P0159_flags | 0x40;
    DAT_400021d0 = DAT_400021d0 & 0xfffe;
    DAT_400021ce = DAT_400021ce & 0xfffe;
  }
  if (runtime_since_start < u16_time_5ms_4000cac8) {
    if ((DAT_40001e88 & 4) != 0) {
      if (DAT_4000cad2 < obd_ii_o2_sensor2_voltage) {
        DAT_400021d0 = DAT_400021d0 | 0x80;
      }
      if (obd_ii_o2_sensor2_voltage < CAL_sensor_o2_threshold_unknown) {
        DAT_400021d0 = DAT_400021d0 | 0x40;
      }
    }
    if ((DAT_40001e8a & 4) != 0) {
      if (DAT_4000cad2 < obd_ii_o2_sensor6_voltage) {
        DAT_400021ce = DAT_400021ce | 0x80;
      }
      if (obd_ii_o2_sensor6_voltage < CAL_sensor_o2_threshold_unknown) {
        DAT_400021ce = DAT_400021ce | 0x40;
      }
    }
  }
  if (((LEA_obd_ii_P0139_flags & 4) != 0) && ((CAL_obd_ii_P0139 & 8) != 0)) {
    LEA_obd_ii_P0139_flags = LEA_obd_ii_P0139_flags & 0xfb;
    DAT_400021d0 = DAT_400021d0 & 0xfc3f;
  }
  if (((LEA_obd_ii_P0159_flags & 4) != 0) && ((CAL_obd_ii_P0159 & 8) != 0)) {
    LEA_obd_ii_P0159_flags = LEA_obd_ii_P0159_flags & 0xfb;
    DAT_400021ce = DAT_400021ce & 0xfc3f;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void obd_ii_cat_check_unknown(void)

{
  bool bVar1;
  ushort uVar2;
  longlong lVar3;
  byte i;
  
  o2_leanrich_detect(obd_ii_o2_sensor1_voltage,&DAT_4000214c);
  o2_leanrich_detect(obd_ii_o2_sensor5_voltage,&DAT_4000214d);
  FUN_00091aec(&DAT_400021d4,&DAT_400021b0,&DAT_4000216c,&DAT_40002170,&DAT_4000217c,&DAT_4000217d,
               &DAT_4000214c,(ushort *)&DAT_40002182,(ushort *)&DAT_40002180,&DAT_40001698,
               &DAT_4000169a,&DAT_4000218a);
  FUN_00091aec(&DAT_400021d2,&DAT_400021ae,&DAT_40002174,&DAT_40002178,&DAT_4000217e,&DAT_4000217f,
               &DAT_4000214d,(ushort *)&DAT_40002186,(ushort *)&DAT_40002184,&DAT_4000169c,
               &DAT_4000169e,&DAT_4000218c);
  FUN_00091fe0(obd_ii_o2_sensor1_voltage,&DAT_400021d4,(short *)&obd_ii_o2_precat_diag_timer_bank1,
               &DAT_40004b2c,&DAT_40004b2e,&DAT_400021e4,&DAT_400021dc,&DAT_400021b7,&DAT_400021b9,
               &DAT_4000214c,&DAT_40002144,&DAT_40002142);
  FUN_00091fe0(obd_ii_o2_sensor5_voltage,&DAT_400021d2,(short *)&obd_ii_o2_precat_diag_timer_bank2,
               &DAT_40004b3a,&DAT_40004b3c,&DAT_400021e0,&DAT_400021d8,&DAT_400021b6,&DAT_400021b8,
               &DAT_4000214d,&DAT_40002145,&DAT_40002143);
  if (DAT_40001d4f == '\0') {
    bVar1 = DAT_40002130 == '\0';
    DAT_40002130 = DAT_40002130 + -1;
    if (bVar1) {
      DAT_40002130 = '\0';
    }
  }
  else {
    DAT_40002130 = DAT_400087cb;
  }
  lVar3 = libc_abs((longlong)(short)tps_delta_rate);
  if ((int)(uint)DAT_4000cbc2 < (int)lVar3) {
    DAT_40002188 = DAT_4000cbc0;
  }
  else {
    bVar1 = DAT_40002188 == 0;
    DAT_40002188 = DAT_40002188 + -1;
    if (bVar1) {
      DAT_40002188 = 0;
    }
  }
  if (DAT_40002196 == '\0') {
    for (i = 9; i != 0; i = i - 1) {
      (&DAT_40006148)[i] = (&DAT_40006148)[i - 1];
    }
    DAT_40006148 = load_mass_per_stroke_raw;
    DAT_40002196 = '\x04';
  }
  else {
    DAT_40002196 = DAT_40002196 + -1;
  }
  if (DAT_4000616c < (int)DAT_40006148) {
    DAT_40002198 = DAT_40006148 - DAT_4000616c;
  }
  else {
    DAT_40002198 = DAT_4000616c - DAT_40006148;
  }
  if (DAT_4000cad0 < runtime_since_start) {
    if ((DAT_40002128 < DAT_4000cac4) && (DAT_40002128 = DAT_40002128 + 1, (DAT_40001e90 & 2) == 0))
    {
      DAT_40002128 = 0;
    }
    if ((DAT_4000212a < DAT_4000cac4) && (DAT_4000212a = DAT_4000212a + 1, (DAT_40001e92 & 2) == 0))
    {
      DAT_4000212a = 0;
    }
    if (runtime_since_start < closedloop_activate_time) {
      DAT_4000212e = 0;
      DAT_4000212c = 0;
    }
    else {
      if (DAT_4000212c < DAT_4000cac6) {
        DAT_4000212c = DAT_4000212c + 1;
      }
      if (DAT_4000212e < DAT_4000cac6) {
        DAT_4000212e = DAT_4000212e + 1;
      }
    }
  }
  if ((DAT_400021d0 & 1) == 0) {
    if ((DAT_400021d0 & 0xa0) == 0) {
      DAT_400021a8 = DAT_4000caf4;
    }
    if ((DAT_400021d0 & 0x50) == 0) {
      DAT_400021ac = DAT_4000cad6;
    }
    DAT_4000219e = DAT_4000ca0a;
    if (DAT_4000214e != 0) {
      DAT_4000214e = DAT_4000caf4;
    }
    if (DAT_40002150 != 0) {
      DAT_40002150 = DAT_4000cad6;
    }
  }
  else {
    if ((CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor1_voltage) &&
       ((ushort)((ushort)DAT_4000c9c9 * 0x32) < obd_ii_maf_flow)) {
      if (DAT_4000214e == 0) {
        DAT_400021d0 = DAT_400021d0 | 0x800;
      }
      else {
        DAT_4000214e = DAT_4000214e + -1;
      }
      if ((DAT_400021d0 & 0xa0) == 0) {
        if (DAT_4000cad2 < obd_ii_o2_sensor2_voltage) {
          DAT_400021d0 = DAT_400021d0 | 0x80;
        }
        else if (DAT_400021a8 == 0) {
          DAT_400021d0 = DAT_400021d0 | 0x20;
        }
        else {
          DAT_400021a8 = DAT_400021a8 + -1;
        }
      }
    }
    else {
      if ((DAT_400021d0 & 0xa0) == 0) {
        DAT_400021a8 = DAT_4000caf4;
      }
      if (DAT_4000214e != 0) {
        DAT_4000214e = DAT_4000caf4;
      }
    }
    if (((obd_ii_o2_sensor1_voltage < CAL_sensor_o2_rich_voltage_threshold) &&
        ((inj_flags & 1) != 0)) && (ign_flags_unknown == '?')) {
      if (DAT_40002150 == 0) {
        DAT_400021d0 = DAT_400021d0 | 0x400;
      }
      else {
        DAT_40002150 = DAT_40002150 + -1;
      }
      if ((DAT_400021d0 & 0x50) == 0) {
        if (obd_ii_o2_sensor2_voltage < CAL_sensor_o2_threshold_unknown) {
          DAT_400021d0 = DAT_400021d0 | 0x40;
        }
        else if (DAT_400021ac == 0) {
          DAT_400021d0 = DAT_400021d0 | 0x10;
        }
        else {
          DAT_400021ac = DAT_400021ac + -1;
        }
      }
    }
    else {
      if ((DAT_400021d0 & 0x50) == 0) {
        DAT_400021ac = DAT_4000cad6;
      }
      if (DAT_40002150 != 0) {
        DAT_40002150 = DAT_4000cad6;
      }
    }
    if (((DAT_400021d0 & 0x200) == 0) && ((DAT_400021d0 & 8) == 0)) {
      if (DAT_400021a3 == '\0') {
        if (((obd_ii_o2_sensor2_voltage <= CAL_sensor_o2_threshold_unknown) &&
            (CAL_sensor_o2_lean_voltage_threshold <= obd_ii_o2_sensor1_voltage)) &&
           ((ushort)((ushort)DAT_4000c9c9 * 0x32) < obd_ii_maf_flow)) {
          DAT_400021a3 = '\x01';
          DAT_400021cc = 0;
          DAT_40002146 = 0;
        }
      }
      else if (DAT_400021a3 == '\x01') {
        if ((obd_ii_o2_sensor1_voltage < CAL_sensor_o2_lean_voltage_threshold) ||
           (obd_ii_maf_flow < (ushort)((ushort)DAT_4000c9c9 * 0x32))) {
          DAT_400021a3 = '\0';
        }
        if (CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor2_voltage) {
          if ((CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor2_voltage) &&
             (obd_ii_o2_sensor2_voltage < DAT_4000cad2)) {
            if (DAT_400021cc < DAT_4000ca62) {
              DAT_400021cc = DAT_400021cc + 1;
              DAT_40002146 = DAT_40002146 + 1;
            }
            else {
              DAT_400021a3 = DAT_400021a3 + '\x01';
            }
          }
          else {
            DAT_400021a3 = DAT_400021a3 + '\x01';
          }
        }
        else {
          DAT_400021cc = 0;
        }
      }
      else if (DAT_400021a3 == '\x02') {
        if (DAT_40002146 < (ushort)((ushort)DAT_4000ca29 * 5)) {
          if (CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor1_voltage) {
            DAT_40002146 = DAT_40002146 + 1;
          }
          else {
            DAT_400021a3 = '\0';
          }
        }
        else {
          DAT_400021a3 = '\x03';
        }
      }
      else if (DAT_400021a3 == '\x03') {
        if (DAT_400021bd == 0) {
          DAT_400021c4 = 0;
        }
        DAT_400021bd = DAT_400021bd + 1;
        DAT_400021c4 = DAT_400021c4 + DAT_400021cc;
        if (DAT_4000ca5f <= DAT_400021bd) {
          DAT_400021bd = 0;
          uVar2 = DAT_400021d0 | 0x200;
          DAT_400021d0 = DAT_400021d0 | 8;
          if ((uint)DAT_400021c4 < (uint)DAT_4000ca62 * (uint)DAT_4000ca5f) {
            DAT_400021d0 = uVar2;
          }
          if (uint16_t_ARRAY_40004928[0] < DAT_400021c4) {
            uint16_t_ARRAY_40004928[0] = DAT_400021c4;
            sort_array10(uint16_t_ARRAY_40004928);
          }
        }
        DAT_400021a3 = '\0';
        DAT_400021cc = 0;
      }
    }
    if (((DAT_400021d0 & 0x100) == 0) && ((DAT_400021d0 & 4) == 0)) {
      if (DAT_400021a1 == '\0') {
        if (DAT_4000219e == 0) {
          DAT_400021a1 = '\x01';
          DAT_4000219e = DAT_4000ca0a;
        }
        else if (DAT_4000cad2 < obd_ii_o2_sensor2_voltage) {
          DAT_4000219e = DAT_4000219e + -1;
        }
        else {
          DAT_4000219e = DAT_4000ca0a;
        }
      }
      else if (DAT_400021a1 == '\x01') {
        if (DAT_4000cad2 < obd_ii_o2_sensor2_voltage) {
          if ((inj_flags & 1) != 0) {
            DAT_400021a1 = '\x02';
          }
        }
        else {
          DAT_400021c8 = 0;
          DAT_400021a1 = '\0';
        }
      }
      else if (DAT_400021a1 == '\x02') {
        if ((inj_flags & 1) == 0) {
          DAT_400021c8 = 0;
          DAT_400021a1 = '\0';
        }
        else if ((CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor2_voltage) &&
                (obd_ii_o2_sensor2_voltage < DAT_4000cad2)) {
          if (DAT_400021c8 < DAT_4000ca64) {
            DAT_400021c8 = DAT_400021c8 + 1;
          }
          else {
            DAT_400021a1 = '\x03';
          }
        }
        else if (obd_ii_o2_sensor2_voltage < CAL_sensor_o2_threshold_unknown) {
          DAT_400021a1 = '\x03';
        }
      }
      else if (DAT_400021a1 == '\x03') {
        if (DAT_400021bb == 0) {
          DAT_400021c0 = 0;
        }
        DAT_400021bb = DAT_400021bb + 1;
        DAT_400021c0 = DAT_400021c0 + DAT_400021c8;
        if (DAT_4000ca5f <= DAT_400021bb) {
          DAT_400021bb = 0;
          uVar2 = DAT_400021d0 | 0x100;
          DAT_400021d0 = DAT_400021d0 | 4;
          if ((uint)DAT_400021c0 < (uint)DAT_4000ca64 * (uint)DAT_4000ca5f) {
            DAT_400021d0 = uVar2;
          }
          if (_DAT_40004914 < DAT_400021c0) {
            _DAT_40004914 = DAT_400021c0;
            sort_array10((uint16_t *)&DAT_40004914);
          }
        }
        DAT_400021a1 = '\0';
        DAT_400021c8 = 0;
      }
    }
  }
  if ((DAT_400021ce & 1) == 0) {
    if ((DAT_400021ce & 0xa0) == 0) {
      DAT_400021a6 = DAT_4000caf4;
    }
    if ((DAT_400021ce & 0x50) == 0) {
      DAT_400021aa = DAT_4000cad6;
    }
    DAT_4000219c = DAT_4000ca0a;
    if (DAT_40002152 != 0) {
      DAT_40002152 = DAT_4000caf4;
    }
    if (DAT_40002154 != 0) {
      DAT_40002154 = DAT_4000cad6;
    }
  }
  else {
    if ((CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor5_voltage) &&
       ((ushort)((ushort)DAT_4000c9c9 * 0x32) < obd_ii_maf_flow)) {
      if (DAT_40002152 == 0) {
        DAT_400021ce = DAT_400021ce | 0x800;
      }
      else {
        DAT_40002152 = DAT_40002152 + -1;
      }
      if ((DAT_400021ce & 0xa0) == 0) {
        if (DAT_4000cad2 < obd_ii_o2_sensor6_voltage) {
          DAT_400021ce = DAT_400021ce | 0x80;
        }
        else if (DAT_400021a6 == 0) {
          DAT_400021ce = DAT_400021ce | 0x20;
        }
        else {
          DAT_400021a6 = DAT_400021a6 + -1;
        }
      }
    }
    else {
      if ((DAT_400021ce & 0xa0) == 0) {
        DAT_400021a6 = DAT_4000caf4;
      }
      if (DAT_40002152 != 0) {
        DAT_40002152 = DAT_4000caf4;
      }
    }
    if (((obd_ii_o2_sensor5_voltage < CAL_sensor_o2_rich_voltage_threshold) &&
        ((inj_flags & 1) != 0)) && (ign_flags_unknown == '?')) {
      if (DAT_40002154 == 0) {
        DAT_400021ce = DAT_400021ce | 0x400;
      }
      else {
        DAT_40002154 = DAT_40002154 + -1;
      }
      if ((DAT_400021ce & 0x50) == 0) {
        if (obd_ii_o2_sensor6_voltage < CAL_sensor_o2_threshold_unknown) {
          DAT_400021ce = DAT_400021ce | 0x40;
        }
        else if (DAT_400021aa == 0) {
          DAT_400021ce = DAT_400021ce | 0x10;
        }
        else {
          DAT_400021aa = DAT_400021aa + -1;
        }
      }
    }
    else {
      if ((DAT_400021ce & 0x50) == 0) {
        DAT_400021aa = DAT_4000cad6;
      }
      if (DAT_40002154 != 0) {
        DAT_40002154 = DAT_4000cad6;
      }
    }
    if (((DAT_400021ce & 0x200) == 0) && ((DAT_400021ce & 8) == 0)) {
      if (DAT_400021a2 == '\0') {
        if (((obd_ii_o2_sensor6_voltage <= CAL_sensor_o2_threshold_unknown) &&
            (CAL_sensor_o2_lean_voltage_threshold <= obd_ii_o2_sensor5_voltage)) &&
           ((ushort)((ushort)DAT_4000c9c9 * 0x32) < obd_ii_maf_flow)) {
          DAT_400021a2 = '\x01';
          DAT_400021ca = 0;
          DAT_40002148 = 0;
        }
      }
      else if (DAT_400021a2 == '\x01') {
        if ((obd_ii_o2_sensor5_voltage < CAL_sensor_o2_lean_voltage_threshold) ||
           (obd_ii_maf_flow < (ushort)((ushort)DAT_4000c9c9 * 0x32))) {
          DAT_400021a2 = '\0';
        }
        if (CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor6_voltage) {
          if ((CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor6_voltage) &&
             (obd_ii_o2_sensor6_voltage < DAT_4000cad2)) {
            if (DAT_400021ca < DAT_4000ca62) {
              DAT_400021ca = DAT_400021ca + 1;
              DAT_40002148 = DAT_40002148 + 1;
            }
            else {
              DAT_400021a2 = DAT_400021a2 + '\x01';
            }
          }
          else {
            DAT_400021a2 = DAT_400021a2 + '\x01';
          }
        }
        else {
          DAT_400021ca = 0;
        }
      }
      else if (DAT_400021a2 == '\x02') {
        if (DAT_40002148 < (ushort)((ushort)DAT_4000ca29 * 5)) {
          if (CAL_sensor_o2_lean_voltage_threshold < obd_ii_o2_sensor5_voltage) {
            DAT_40002148 = DAT_40002148 + 1;
          }
          else {
            DAT_400021a2 = '\0';
          }
        }
        else {
          DAT_400021a2 = '\x03';
        }
      }
      else if (DAT_400021a2 == '\x03') {
        if (DAT_400021bc == 0) {
          DAT_400021c2 = 0;
        }
        DAT_400021bc = DAT_400021bc + 1;
        DAT_400021c2 = DAT_400021c2 + DAT_400021ca;
        if (DAT_4000ca5f <= DAT_400021bc) {
          DAT_400021bc = 0;
          uVar2 = DAT_400021ce | 0x200;
          DAT_400021ce = DAT_400021ce | 8;
          if ((uint)DAT_400021c2 < (uint)DAT_4000ca62 * (uint)DAT_4000ca5f) {
            DAT_400021ce = uVar2;
          }
          if (DAT_40004950 < DAT_400021c2) {
            DAT_40004950 = DAT_400021c2;
            sort_array10(&DAT_40004950);
          }
        }
        DAT_400021a2 = '\0';
        DAT_400021ca = 0;
      }
    }
    if (((DAT_400021ce & 0x100) == 0) && ((DAT_400021ce & 4) == 0)) {
      if (DAT_400021a0 == '\0') {
        if (DAT_4000219c == 0) {
          DAT_400021a0 = '\x01';
          DAT_4000219c = DAT_4000ca0a;
        }
        else if (DAT_4000cad2 < obd_ii_o2_sensor6_voltage) {
          DAT_4000219c = DAT_4000219c + -1;
        }
        else {
          DAT_4000219c = DAT_4000ca0a;
        }
      }
      else if (DAT_400021a0 == '\x01') {
        if (DAT_4000cad2 < obd_ii_o2_sensor6_voltage) {
          if ((inj_flags & 1) != 0) {
            DAT_400021a0 = '\x02';
          }
        }
        else {
          DAT_400021c6 = 0;
          DAT_400021a0 = '\0';
        }
      }
      else if (DAT_400021a0 == '\x02') {
        if ((inj_flags & 1) == 0) {
          DAT_400021c6 = 0;
          DAT_400021a0 = '\0';
        }
        else if ((CAL_sensor_o2_threshold_unknown < obd_ii_o2_sensor6_voltage) &&
                (obd_ii_o2_sensor6_voltage < DAT_4000cad2)) {
          if (DAT_400021c6 < DAT_4000ca64) {
            DAT_400021c6 = DAT_400021c6 + 1;
          }
          else {
            DAT_400021a0 = '\x03';
          }
        }
        else if (obd_ii_o2_sensor6_voltage < CAL_sensor_o2_threshold_unknown) {
          DAT_400021a0 = '\x03';
        }
      }
      else if (DAT_400021a0 == '\x03') {
        if (DAT_400021ba == 0) {
          DAT_400021be = 0;
        }
        DAT_400021ba = DAT_400021ba + 1;
        DAT_400021be = DAT_400021be + DAT_400021c6;
        if (DAT_4000ca5f <= DAT_400021ba) {
          DAT_400021ba = 0;
          uVar2 = DAT_400021ce | 0x100;
          DAT_400021ce = DAT_400021ce | 4;
          if ((uint)DAT_400021be < (uint)DAT_4000ca64 * (uint)DAT_4000ca5f) {
            DAT_400021ce = uVar2;
          }
          if (DAT_4000493c < DAT_400021be) {
            DAT_4000493c = DAT_400021be;
            sort_array10(&DAT_4000493c);
          }
        }
        DAT_400021a0 = '\0';
        DAT_400021c6 = 0;
      }
    }
  }
  return;
}



void o2_leanrich_detect(ushort voltage,byte *param_2)

{
  if (voltage < CAL_sensor_o2_lean_voltage_threshold) {
    if (CAL_sensor_o2_rich_voltage_threshold < voltage) {
      if ((CAL_sensor_o2_rich_voltage_threshold < voltage) &&
         (voltage < CAL_sensor_o2_lean_voltage_threshold)) {
        if ((*param_2 & 4) == 0) {
          if ((*param_2 & 2) != 0) {
            *param_2 = *param_2 | 1;
            *param_2 = *param_2 | 0x80;
            *param_2 = *param_2 & 0xf5;
          }
        }
        else {
          *param_2 = *param_2 | 8;
          *param_2 = *param_2 | 0x40;
          *param_2 = *param_2 & 0xfa;
        }
      }
    }
    else {
      *param_2 = *param_2 | 4;
      *param_2 = *param_2 & 0xf4;
    }
  }
  else {
    *param_2 = *param_2 | 2;
    *param_2 = *param_2 & 0xf2;
  }
  return;
}



void FUN_00091aec(ushort *param_1,short *param_2,int *param_3,int *param_4,byte *param_5,
                 byte *param_6,byte *param_7,ushort *param_8,ushort *param_9,ushort *param_10,
                 ushort *param_11,short *param_12)

{
  longlong lVar1;
  byte bVar2;
  uint uVar3;
  
  if ((*param_1 & 0x10) == 0) {
    *param_1 = *param_1 | 0x300;
    *param_1 = *param_1 & 0x3fff;
    *param_8 = 0;
    *param_9 = 0;
    *param_11 = 0xffff;
    *param_10 = 0xffff;
  }
  else if (*param_2 == 0) {
    *param_1 = *param_1 | 0x800;
    if ((*param_1 & 0x40) == 0) {
      if ((param_5 == (byte *)0x0) || (param_6 == (byte *)0x0)) {
        *param_1 = *param_1 | 0x2000;
      }
      *param_1 = *param_1 | 0x20;
      *param_1 = *param_1 | 0x300;
      *param_1 = *param_1 & 0x3fff;
      *param_8 = 0;
      *param_9 = 0;
      *param_11 = 0xffff;
      *param_10 = 0xffff;
    }
  }
  else {
    if (*param_12 == 0) {
      *param_2 = *param_2 + -1;
    }
    else {
      *param_12 = *param_12 + -1;
    }
    if ((*param_1 & 0x40) == 0) {
      if ((((*param_7 & 4) != 0) && ((*param_1 & 0x100) == 0)) && (*param_9 != 0xffff)) {
        *param_9 = *param_9 + 1;
      }
      if ((((*param_7 & 2) != 0) && ((*param_1 & 0x200) == 0)) && (*param_8 != 0xffff)) {
        *param_8 = *param_8 + 1;
      }
      if ((*param_1 & 0x4000) != 0) {
        *param_1 = *param_1 & 0xbfff;
        *param_1 = *param_1 & 0xfeff;
        if ((*param_1 & 0x200) == 0) {
          lVar1 = libc_abs((ulonglong)*param_8 - (ulonglong)*param_11);
          if ((((int)lVar1 < (int)(uint)DAT_4000cbb8) && (*param_11 != 0xffff)) &&
             (*param_5 != 0xff)) {
            *param_5 = *param_5 + 1;
            bVar2 = lookup_2D_uint8_interpolated
                              ('\b',(uint8_t)(obd_ii_maf_flow / 100),&DAT_4000e160,&DAT_4000e158);
            if ((ushort)bVar2 < *param_8) {
              uVar3 = (uint)*param_8 - (uint)bVar2 & 0xffff;
            }
            else {
              uVar3 = 0;
            }
            if (DAT_4000cbbe < uVar3) {
              *param_3 = *param_3 + (uint)DAT_4000cbbe;
            }
            else {
              *param_3 = *param_3 + uVar3;
            }
          }
          *param_11 = *param_8;
          *param_8 = 0;
        }
      }
      if ((*param_1 & 0x8000) != 0) {
        *param_1 = *param_1 & 0x7fff;
        *param_1 = *param_1 & 0xfdff;
        if ((*param_1 & 0x100) == 0) {
          lVar1 = libc_abs((ulonglong)*param_9 - (ulonglong)*param_10);
          if ((((int)lVar1 < (int)(uint)DAT_4000cbb8) && (*param_10 != 0xffff)) &&
             (*param_6 != 0xff)) {
            *param_6 = *param_6 + 1;
            bVar2 = lookup_2D_uint8_interpolated
                              ('\b',(uint8_t)(obd_ii_maf_flow / 100),&DAT_4000e150,&DAT_4000e148);
            if ((ushort)bVar2 < *param_9) {
              uVar3 = (uint)*param_9 - (uint)bVar2 & 0xffff;
            }
            else {
              uVar3 = 0;
            }
            if (DAT_4000cbbf < uVar3) {
              *param_4 = *param_4 + (uint)DAT_4000cbbf;
            }
            else {
              *param_4 = *param_4 + uVar3;
            }
          }
          *param_10 = *param_9;
          *param_9 = 0;
        }
      }
      if ((DAT_4000cbb9 <= *param_6) && (DAT_4000cbb9 <= *param_5)) {
        *param_1 = *param_1 | 0x20;
        *param_1 = *param_1 | 0x300;
        *param_1 = *param_1 & 0x3fff;
        *param_8 = 0;
        *param_9 = 0;
        *param_11 = 0xffff;
        *param_10 = 0xffff;
      }
    }
  }
  return;
}



void FUN_00091fe0(ushort param_1,ushort *param_2,short *param_3,ushort *param_4,ushort *param_5,
                 int *param_6,int *param_7,byte *param_8,byte *param_9,byte *param_10,byte *param_11
                 ,byte *param_12)

{
  if ((*param_2 & 1) == 0) {
    *param_10 = *param_10 & 0x3f;
    *param_12 = 0;
    *param_11 = 0;
  }
  else if (*param_3 == 0) {
    *param_2 = *param_2 | 0x400;
    if (((*param_2 & 4) == 0) && ((*param_2 & 2) == 0)) {
      if ((*param_9 == 0) || (*param_8 == 0)) {
        *param_7 = 0;
        *param_6 = 0;
        *param_2 = *param_2 | 0x1000;
      }
      *param_2 = *param_2 | 2;
      *param_10 = *param_10 & 0x3f;
      *param_12 = 0;
      *param_11 = 0;
    }
  }
  else {
    *param_3 = *param_3 + -1;
    if ((*param_2 & 4) == 0) {
      if (*param_4 < param_1) {
        *param_4 = param_1;
      }
      else if (param_1 < *param_5) {
        *param_5 = param_1;
      }
      if ((*param_10 & 2) != 0) {
        if (((*param_10 & 0x40) != 0) && (*param_7 = *param_7 + (uint)*param_12, *param_9 != 0xff))
        {
          *param_9 = *param_9 + 1;
        }
        *param_10 = *param_10 & 0x3f;
        *param_12 = 0;
        *param_11 = 0;
      }
      if ((*param_10 & 4) != 0) {
        if (((*param_10 & 0x80) != 0) && (*param_6 = *param_6 + (uint)*param_11, *param_8 != 0xff))
        {
          *param_8 = *param_8 + 1;
        }
        *param_10 = *param_10 & 0x3f;
        *param_12 = 0;
        *param_11 = 0;
      }
      if ((*param_10 & 8) != 0) {
        if (*param_12 != 0xff) {
          *param_12 = *param_12 + 1;
        }
        *param_11 = 0;
      }
      if ((*param_10 & 1) != 0) {
        if (*param_11 != 0xff) {
          *param_11 = *param_11 + 1;
        }
        *param_12 = 0;
      }
      if ((DAT_4000ca28 <= *param_9) && (DAT_4000ca28 <= *param_8)) {
        *param_2 = *param_2 | 2;
      }
    }
  }
  return;
}



void FUN_000922b0(void)

{
  DAT_400021eb = DAT_4000d3fc;
  DAT_400021ea = DAT_4000d3fd;
  DAT_400021e9 = DAT_4000d432;
  DAT_400021e8 = DAT_4000d433;
  obdii_update_dtc_state(&CAL_obd_ii_P0133,&LEA_obd_ii_P0133_flags,0x133,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0134,&LEA_obd_ii_P0134_flags,0x134,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0139,&LEA_obd_ii_P0139_flags,0x139,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0140,&LEA_obd_ii_P0140_flags,0x140,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0153,&LEA_obd_ii_P0153_flags,0x153,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0154,&LEA_obd_ii_P0154_flags,0x154,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0159,&LEA_obd_ii_P0159_flags,0x159,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0160,&LEA_obd_ii_P0160_flags,0x160,0);
  DAT_400021d2 = 0;
  DAT_400021d4 = 0;
  DAT_40002162 = 0;
  DAT_40002160 = 0;
  DAT_40002158 = 0;
  DAT_40002156 = 0;
  DAT_40002164 = 0;
  DAT_4000215a = 0;
  DAT_40002168 = 0;
  DAT_40002166 = 0;
  DAT_4000215e = 0;
  DAT_4000215c = 0;
  DAT_400021e4 = 0;
  DAT_400021dc = 0;
  DAT_400021b7 = 0;
  DAT_400021b9 = 0;
  DAT_400021e0 = 0;
  DAT_400021d8 = 0;
  DAT_400021b6 = 0;
  DAT_400021b8 = 0;
  obd_ii_o2_precat_diag_timer_bank2 = CAL_obd_ii_o2_precat_diag_timer;
  obd_ii_o2_precat_diag_timer_bank1 = CAL_obd_ii_o2_precat_diag_timer;
  DAT_400021ae = u16_flow_10mg_s_ARRAY_4000cbba[1];
  DAT_400021b0 = u16_flow_10mg_s_ARRAY_4000cbba[1];
  DAT_4000218c = DAT_4000cbca;
  DAT_4000218a = DAT_4000cbca;
  DAT_40002194 = 0;
  DAT_40002192 = 0;
  DAT_40002190 = 0;
  DAT_4000218e = 0;
  DAT_40002178 = 0;
  DAT_40002174 = 0;
  DAT_40002170 = 0;
  DAT_4000216c = 0;
  DAT_4000217f = 0;
  DAT_4000217e = 0;
  DAT_4000217d = 0;
  DAT_4000217c = 0;
  DAT_4000169e = 0xffff;
  DAT_4000169c = 0xffff;
  DAT_4000169a = 0xffff;
  DAT_40001698 = 0xffff;
  DAT_40001e88 = DAT_40001e88 & 0xfff5;
  DAT_40001e8a = DAT_40001e8a & 0xfff5;
  DAT_4000212a = 0;
  DAT_40002128 = 0;
  DAT_4000212e = 0;
  DAT_4000212c = 0;
  DAT_40002136 = 0;
  u16_voltage_5_1023v_40002132 = 0;
  DAT_40002138 = 0;
  u16_voltage_5_1023v_40002134 = 0;
  DAT_4000213b = 0;
  DAT_4000213a = 0;
  DAT_4000213f = 0;
  DAT_4000213e = 0;
  DAT_4000214b = 0;
  o2_sensor_flags_unknown = 0;
  DAT_4000213c = DAT_4000ca3e;
  DAT_4000213d = DAT_4000ca3e;
  DAT_400021ce = 0;
  DAT_400021d0 = 0;
  DAT_400021a8 = DAT_4000caf4;
  DAT_400021a6 = DAT_4000caf4;
  DAT_400021ac = DAT_4000cad6;
  DAT_400021aa = DAT_4000cad6;
  DAT_4000214e = DAT_4000caf4;
  DAT_40002150 = DAT_4000cad6;
  DAT_40002152 = DAT_4000caf4;
  DAT_40002154 = DAT_4000cad6;
  DAT_400021a1 = 0;
  DAT_400021c8 = 0;
  DAT_400021bb = 0;
  DAT_400021a0 = 0;
  DAT_400021c6 = 0;
  DAT_400021ba = 0;
  DAT_400021a3 = 0;
  DAT_400021cc = 0;
  DAT_400021bd = 0;
  DAT_400021a2 = 0;
  DAT_400021ca = 0;
  DAT_400021bc = 0;
  DAT_400021be = 0;
  DAT_400021c0 = 0;
  DAT_400021c2 = 0;
  DAT_400021c4 = 0;
  DAT_40002148 = (ushort)DAT_4000ca29 * 4 + (ushort)DAT_4000ca29;
  DAT_40002146 = DAT_40002148;
  return;
}



void FUN_00092734(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0133,&LEA_obd_ii_P0133_flags,&DAT_40004c9a,&DAT_40004c9b,0x133,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0134,&LEA_obd_ii_P0134_flags,&DAT_40004c9d,&DAT_40004c9e,0x134,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0139,&LEA_obd_ii_P0139_flags,&DAT_40004ca9,&DAT_40004caa,0x139,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0140,&LEA_obd_ii_P0140_flags,&DAT_40004cac,&DAT_40004cad,0x140,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0153,&LEA_obd_ii_P0153_flags,&DAT_40004cb8,&DAT_40004cb9,0x153,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0154,&LEA_obd_ii_P0154_flags,&DAT_40004cbb,&DAT_40004cbc,0x154,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0159,&LEA_obd_ii_P0159_flags,&DAT_40004cc7,&DAT_40004cc8,0x159,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0160,&LEA_obd_ii_P0160_flags,&DAT_40004cca,&DAT_40004ccb,0x160,0);
  return;
}



void obd_status_latch_update(void)

{
  USHORT_400021f0 = USHORT_400021f0 | ~CONCAT11(DAT_400031bd,DAT_400031ba);
  USHORT_400021f4 = USHORT_400021f4 | ~CONCAT11(DAT_400031bc,DAT_400031bb);
  USHORT_400021f6 = USHORT_400021f6 | ~(ushort)DAT_400031be;
  USHORT_400021f8 = USHORT_400021f8 | ~CONCAT11(DAT_400031bf,DAT_400031c0);
  return;
}



void obd_ii_set_dtc_unknown(void)

{
  ushort uVar1;
  ushort uVar2;
  uint uVar3;
  ushort uVar4;
  ushort uVar5;
  
  uVar1 = USHORT_400021f4 & 0x300;
  if ((((CAL_obd_ii_P0076 & 7) != 0) && (engine_is_running)) && ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x200) || (uVar1 == 0x300)) {
      DAT_40002222 = DAT_40002222 + 1;
      if ((DAT_400023e8 <= DAT_40002222) &&
         ((DAT_40002222 = 0, DAT_40002200 != 0 &&
          (DAT_40002200 = DAT_40002200 - 1, DAT_40002200 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0076,&LEA_obd_ii_P0076_flags,&DAT_40004c37,&DAT_40004c38,0x76,0);
      }
    }
    else {
      DAT_40002222 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0076,&LEA_obd_ii_P0076_flags);
      if (DAT_40002200 < DAT_4000d3bf) {
        DAT_40002200 = DAT_40002200 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0077 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x100) {
      DAT_40002224 = DAT_40002224 + 1;
      if (((DAT_400023e8 <= DAT_40002224) && (DAT_40002224 = 0, DAT_40002201 != 0)) &&
         (DAT_40002201 = DAT_40002201 - 1, DAT_40002201 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0077,&LEA_obd_ii_P0077_flags,&DAT_40004c3a,&DAT_40004c3b,0x77,0);
      }
    }
    else {
      DAT_40002224 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0077,&LEA_obd_ii_P0077_flags);
      if (DAT_40002201 < DAT_4000d3c0) {
        DAT_40002201 = DAT_40002201 + 1;
      }
    }
  }
  uVar4 = USHORT_400021f4 & 0xfcff;
  uVar1 = USHORT_400021f4 & 0xc;
  USHORT_400021f4 = uVar4;
  if ((((CAL_obd_ii_P0079 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 8) || (uVar1 == 0xc)) {
      DAT_40002226 = DAT_40002226 + 1;
      if ((DAT_400023e8 <= DAT_40002226) &&
         ((DAT_40002226 = 0, DAT_40002202 != 0 &&
          (DAT_40002202 = DAT_40002202 - 1, DAT_40002202 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0079,&LEA_obd_ii_P0079_flags,&DAT_40004c3d,&DAT_40004c3e,0x79,0);
      }
    }
    else {
      DAT_40002226 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0079,&LEA_obd_ii_P0079_flags);
      if (DAT_40002202 < DAT_4000d3d2) {
        DAT_40002202 = DAT_40002202 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0080 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 4) {
      DAT_40002228 = DAT_40002228 + 1;
      if (((DAT_400023e8 <= DAT_40002228) && (DAT_40002228 = 0, DAT_40002203 != 0)) &&
         (DAT_40002203 = DAT_40002203 - 1, DAT_40002203 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0080,&LEA_obd_ii_P0080_flags,&DAT_40004c40,&DAT_40004c41,0x80,0);
      }
    }
    else {
      DAT_40002228 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0080,&LEA_obd_ii_P0080_flags);
      if (DAT_40002203 < DAT_4000d3e0) {
        DAT_40002203 = DAT_40002203 + 1;
      }
    }
  }
  uVar4 = USHORT_400021f4 & 0xfff3;
  uVar1 = USHORT_400021f4 & 0xc00;
  USHORT_400021f4 = uVar4;
  if ((((CAL_obd_ii_P0082 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x800) || (uVar1 == 0xc00)) {
      DAT_4000222a = DAT_4000222a + 1;
      if ((DAT_400023e8 <= DAT_4000222a) &&
         ((DAT_4000222a = 0, DAT_40002204 != 0 &&
          (DAT_40002204 = DAT_40002204 - 1, DAT_40002204 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0082,&LEA_obd_ii_P0082_flags,&DAT_40004c43,&DAT_40004c44,0x82,0);
      }
    }
    else {
      DAT_4000222a = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0082,&LEA_obd_ii_P0082_flags);
      if (DAT_40002204 < DAT_4000d3e1) {
        DAT_40002204 = DAT_40002204 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0083 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x400) {
      DAT_4000222c = DAT_4000222c + 1;
      if (((DAT_400023e8 <= DAT_4000222c) && (DAT_4000222c = 0, DAT_40002205 != 0)) &&
         (DAT_40002205 = DAT_40002205 - 1, DAT_40002205 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0083,&LEA_obd_ii_P0083_flags,&DAT_40004c46,&DAT_40004c47,0x83,0);
      }
    }
    else {
      DAT_4000222c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0083,&LEA_obd_ii_P0083_flags);
      if (DAT_40002205 < DAT_4000d3e2) {
        DAT_40002205 = DAT_40002205 + 1;
      }
    }
  }
  uVar4 = USHORT_400021f4 & 0xf3ff;
  uVar1 = USHORT_400021f4 & 0x3000;
  USHORT_400021f4 = uVar4;
  if ((((CAL_obd_ii_P0085 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x2000) || (uVar1 == 0x3000)) {
      DAT_4000222e = DAT_4000222e + 1;
      if ((DAT_400023e8 <= DAT_4000222e) &&
         ((DAT_4000222e = 0, DAT_40002206 != 0 &&
          (DAT_40002206 = DAT_40002206 - 1, DAT_40002206 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0085,&LEA_obd_ii_P0085_flags,&DAT_40004c49,&DAT_40004c4a,0x85,0);
      }
    }
    else {
      DAT_4000222e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0085,&LEA_obd_ii_P0085_flags);
      if (DAT_40002206 < DAT_4000d3e3) {
        DAT_40002206 = DAT_40002206 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0086 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x1000) {
      DAT_40002230 = DAT_40002230 + 1;
      if (((DAT_400023e8 <= DAT_40002230) && (DAT_40002230 = 0, DAT_40002207 != 0)) &&
         (DAT_40002207 = DAT_40002207 - 1, DAT_40002207 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0086,&LEA_obd_ii_P0086_flags,&DAT_40004c4c,&DAT_40004c4d,0x86,0);
      }
    }
    else {
      DAT_40002230 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0086,&LEA_obd_ii_P0086_flags);
      if (DAT_40002207 < DAT_4000d3e4) {
        DAT_40002207 = DAT_40002207 + 1;
      }
    }
  }
  USHORT_400021f4 = USHORT_400021f4 & 0xcfff;
  uVar1 = USHORT_400021f8 & 0xc00;
  if (((1 < (COD_base[0] >> 28 & 7)) && ((CAL_obd_ii_P0646 & 7) != 0)) &&
     ((engine_is_running != false && ((ignition_on_flags & 1) != 0)))) {
    if ((uVar1 == 0x800) || (uVar1 == 0xc00)) {
      DAT_40002238 = DAT_40002238 + 1;
      if ((DAT_400023e8 <= DAT_40002238) &&
         ((DAT_40002238 = 0, DAT_40002236 != 0 &&
          (DAT_40002236 = DAT_40002236 - 1, DAT_40002236 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0646,&LEA_obd_ii_P0646_flags,&DAT_40004dea,&DAT_40004deb,0x646,0);
      }
    }
    else {
      DAT_40002238 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0646,&LEA_obd_ii_P0646_flags);
      if (DAT_40002236 < DAT_4000d3cb) {
        DAT_40002236 = DAT_40002236 + 1;
      }
    }
  }
  if ((((1 < (COD_base[0] >> 0x1c & 7)) && ((CAL_obd_ii_P0647 & 7) != 0)) &&
      (engine_is_running != false)) && ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x400) {
      DAT_40002234 = DAT_40002234 + 1;
      if (((DAT_400023e8 <= DAT_40002234) && (DAT_40002234 = 0, DAT_40002232 != 0)) &&
         (DAT_40002232 = DAT_40002232 - 1, DAT_40002232 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0647,&LEA_obd_ii_P0647_flags,&DAT_40004de7,&DAT_40004de8,0x647,0);
      }
    }
    else {
      DAT_40002234 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0647,&LEA_obd_ii_P0647_flags);
      if (DAT_40002232 < DAT_4000d3cc) {
        DAT_40002232 = DAT_40002232 + 1;
      }
    }
  }
  USHORT_400021f8 = USHORT_400021f8 & 0xf3ff;
  uVar1 = USHORT_400021f4 & 0xc0;
  if ((((CAL_obd_ii_P0444 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x80) || (uVar1 == 0xc0)) {
      DAT_4000223c = DAT_4000223c + 1;
      if ((DAT_400023e8 <= DAT_4000223c) &&
         ((DAT_4000223c = 0, DAT_4000223a != 0 &&
          (DAT_4000223a = DAT_4000223a - 1, DAT_4000223a == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0444,&LEA_obd_ii_P0444_flags,&DAT_40004d75,&DAT_40004d76,0x444,0);
      }
    }
    else {
      DAT_4000223c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0444,&LEA_obd_ii_P0444_flags);
      if (DAT_4000223a < DAT_4000d3cd) {
        DAT_4000223a = DAT_4000223a + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0445 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x40) {
      DAT_40002240 = DAT_40002240 + 1;
      if (((DAT_400023e8 <= DAT_40002240) && (DAT_40002240 = 0, DAT_4000223e != 0)) &&
         (DAT_4000223e = DAT_4000223e - 1, DAT_4000223e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0445,&LEA_obd_ii_P0445_flags,&DAT_40004d78,&DAT_40004d79,0x445,0);
      }
    }
    else {
      DAT_40002240 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0445,&LEA_obd_ii_P0445_flags);
      if (DAT_4000223e < DAT_4000d3ce) {
        DAT_4000223e = DAT_4000223e + 1;
      }
    }
  }
  uVar4 = USHORT_400021f4 & 0xff3f;
  uVar1 = USHORT_400021f4 & 0x30;
  USHORT_400021f4 = uVar4;
  if ((((CAL_obd_ii_P0447 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x20) || (uVar1 == 0x30)) {
      DAT_40002280 = DAT_40002280 + 1;
      if ((DAT_400023e8 <= DAT_40002280) &&
         ((DAT_40002280 = 0, DAT_4000227e != 0 &&
          (DAT_4000227e = DAT_4000227e - 1, DAT_4000227e == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0447,&LEA_obd_ii_P0447_flags,&DAT_40004d7e,&DAT_40004d7f,0x447,0);
      }
    }
    else {
      DAT_40002280 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0447,&LEA_obd_ii_P0447_flags);
      if (DAT_4000227e < DAT_4000d3cf) {
        DAT_4000227e = DAT_4000227e + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0448 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x10) {
      DAT_40002284 = DAT_40002284 + 1;
      if (((DAT_400023e8 <= DAT_40002284) && (DAT_40002284 = 0, DAT_40002282 != 0)) &&
         (DAT_40002282 = DAT_40002282 - 1, DAT_40002282 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0448,&LEA_obd_ii_P0448_flags,&DAT_40004d81,&DAT_40004d82,0x448,0);
      }
    }
    else {
      DAT_40002284 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0448,&LEA_obd_ii_P0448_flags);
      if (DAT_40002282 < DAT_4000d3d0) {
        DAT_40002282 = DAT_40002282 + 1;
      }
    }
  }
  USHORT_400021f4 = USHORT_400021f4 & 0xffcf;
  uVar4 = USHORT_400021f0 & 3;
  uVar1 = USHORT_400021f0 & 3;
  if ((((CAL_obd_ii_P0261 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((USHORT_400021f0 & 3) == 0) {
      DAT_40002246 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0261,&LEA_obd_ii_P0261_flags);
      if (DAT_4000220a < DAT_4000d3d3) {
        DAT_4000220a = DAT_4000220a + 1;
      }
    }
    else if (((((ushort)(uVar1 - 2) < 2) &&
              (DAT_40002246 = DAT_40002246 + 1, DAT_400023e8 <= DAT_40002246)) &&
             (DAT_40002246 = 0, DAT_4000220a != 0)) &&
            (DAT_4000220a = DAT_4000220a - 1, DAT_4000220a == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0261,&LEA_obd_ii_P0261_flags,&DAT_40004cf1,&DAT_40004cf2,0x261,0);
    }
  }
  if ((((CAL_obd_ii_P0262 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_40002248 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0262,&LEA_obd_ii_P0262_flags);
      if (DAT_4000220b < DAT_4000d3d4) {
        DAT_4000220b = DAT_4000220b + 1;
      }
    }
    else if (((uVar1 == 1) && (DAT_40002248 = DAT_40002248 + 1, DAT_400023e8 <= DAT_40002248)) &&
            ((DAT_40002248 = 0, DAT_4000220b != 0 &&
             (DAT_4000220b = DAT_4000220b - 1, DAT_4000220b == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0262,&LEA_obd_ii_P0262_flags,&DAT_40004cf4,&DAT_40004cf5,0x262,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0xfffc;
  uVar4 = USHORT_400021f0 & 0xc;
  uVar2 = USHORT_400021f0 & 0xc;
  uVar1 = USHORT_400021f0 & 0xc;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P0264 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_4000224a = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0264,&LEA_obd_ii_P0264_flags);
      if (DAT_4000220c < DAT_4000d3d5) {
        DAT_4000220c = DAT_4000220c + 1;
      }
    }
    else if (((uVar1 == 8) || (uVar1 == 0xc)) &&
            ((DAT_4000224a = DAT_4000224a + 1, DAT_400023e8 <= DAT_4000224a &&
             ((DAT_4000224a = 0, DAT_4000220c != 0 &&
              (DAT_4000220c = DAT_4000220c - 1, DAT_4000220c == 0)))))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0264,&LEA_obd_ii_P0264_flags,&DAT_40004cf7,&DAT_40004cf8,0x264,0);
    }
  }
  if ((((CAL_obd_ii_P0265 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar2 == 0) {
      DAT_4000224c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0265,&LEA_obd_ii_P0265_flags);
      if (DAT_4000220d < DAT_4000d3d6) {
        DAT_4000220d = DAT_4000220d + 1;
      }
    }
    else if (((uVar1 == 4) && (DAT_4000224c = DAT_4000224c + 1, DAT_400023e8 <= DAT_4000224c)) &&
            ((DAT_4000224c = 0, DAT_4000220d != 0 &&
             (DAT_4000220d = DAT_4000220d - 1, DAT_4000220d == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0265,&LEA_obd_ii_P0265_flags,&DAT_40004cfa,&DAT_40004cfb,0x265,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0xfff3;
  uVar4 = USHORT_400021f0 & 0x3000;
  uVar2 = USHORT_400021f0 & 0x3000;
  uVar1 = USHORT_400021f0 & 0x3000;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P0267 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_4000224e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0267,&LEA_obd_ii_P0267_flags);
      if (DAT_4000220e < DAT_4000d3d7) {
        DAT_4000220e = DAT_4000220e + 1;
      }
    }
    else if ((((uVar1 == 0x2000) || (uVar1 == 0x3000)) &&
             (DAT_4000224e = DAT_4000224e + 1, DAT_400023e8 <= DAT_4000224e)) &&
            ((DAT_4000224e = 0, DAT_4000220e != 0 &&
             (DAT_4000220e = DAT_4000220e - 1, DAT_4000220e == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0267,&LEA_obd_ii_P0267_flags,&DAT_40004cfd,&DAT_40004cfe,0x267,0);
    }
  }
  if ((((CAL_obd_ii_P0268 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar2 == 0) {
      DAT_40002250 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0268,&LEA_obd_ii_P0268_flags);
      if (DAT_4000220f < DAT_4000d3d8) {
        DAT_4000220f = DAT_4000220f + 1;
      }
    }
    else if ((((uVar1 == 0x1000) && (DAT_40002250 = DAT_40002250 + 1, DAT_400023e8 <= DAT_40002250))
             && (DAT_40002250 = 0, DAT_4000220f != 0)) &&
            (DAT_4000220f = DAT_4000220f - 1, DAT_4000220f == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0268,&LEA_obd_ii_P0268_flags,&DAT_40004d00,&DAT_40004d01,0x268,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0xcfff;
  uVar4 = USHORT_400021f0 & 0xc000;
  uVar2 = USHORT_400021f0 & 0xc000;
  uVar1 = USHORT_400021f0 & 0xc000;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P0270 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_40002252 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0270,&LEA_obd_ii_P0270_flags);
      if (DAT_40002210 < DAT_4000d3d9) {
        DAT_40002210 = DAT_40002210 + 1;
      }
    }
    else if (((uVar1 == 0x8000) || (uVar1 == 0xc000)) &&
            ((DAT_40002252 = DAT_40002252 + 1, DAT_400023e8 <= DAT_40002252 &&
             ((DAT_40002252 = 0, DAT_40002210 != 0 &&
              (DAT_40002210 = DAT_40002210 - 1, DAT_40002210 == 0)))))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0270,&LEA_obd_ii_P0270_flags,&DAT_40004d03,&DAT_40004d04,0x270,0);
    }
  }
  if ((((CAL_obd_ii_P0271 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar2 == 0) {
      DAT_40002254 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0271,&LEA_obd_ii_P0271_flags);
      if (DAT_40002211 < DAT_4000d3da) {
        DAT_40002211 = DAT_40002211 + 1;
      }
    }
    else if (((uVar1 == 0x4000) && (DAT_40002254 = DAT_40002254 + 1, DAT_400023e8 <= DAT_40002254))
            && ((DAT_40002254 = 0, DAT_40002211 != 0 &&
                (DAT_40002211 = DAT_40002211 - 1, DAT_40002211 == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0271,&LEA_obd_ii_P0271_flags,&DAT_40004d06,&DAT_40004d07,0x271,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0x3fff;
  uVar4 = USHORT_400021f0 & 0x300;
  uVar2 = USHORT_400021f0 & 0x300;
  uVar1 = USHORT_400021f0 & 0x300;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P0273 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_40002256 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0273,&LEA_obd_ii_P0273_flags);
      if (DAT_40002212 < DAT_4000d3db) {
        DAT_40002212 = DAT_40002212 + 1;
      }
    }
    else if ((((uVar1 == 0x200) || (uVar1 == 0x300)) &&
             (DAT_40002256 = DAT_40002256 + 1, DAT_400023e8 <= DAT_40002256)) &&
            ((DAT_40002256 = 0, DAT_40002212 != 0 &&
             (DAT_40002212 = DAT_40002212 - 1, DAT_40002212 == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0273,&LEA_obd_ii_P0273_flags,&DAT_40004d09,&DAT_40004d0a,0x273,0);
    }
  }
  if ((((CAL_obd_ii_P0274 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar2 == 0) {
      DAT_40002258 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0274,&LEA_obd_ii_P0274_flags);
      if (DAT_40002213 < DAT_4000d3dc) {
        DAT_40002213 = DAT_40002213 + 1;
      }
    }
    else if ((((uVar1 == 0x100) && (DAT_40002258 = DAT_40002258 + 1, DAT_400023e8 <= DAT_40002258))
             && (DAT_40002258 = 0, DAT_40002213 != 0)) &&
            (DAT_40002213 = DAT_40002213 - 1, DAT_40002213 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0274,&LEA_obd_ii_P0274_flags,&DAT_40004d0c,&DAT_40004d0d,0x274,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0xfcff;
  uVar4 = USHORT_400021f0 & 0xc00;
  uVar2 = USHORT_400021f0 & 0xc00;
  uVar1 = USHORT_400021f0 & 0xc00;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P0276 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar4 == 0) {
      DAT_4000225a = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0276,&LEA_obd_ii_P0276_flags);
      if (DAT_40002214 < DAT_4000d3dd) {
        DAT_40002214 = DAT_40002214 + 1;
      }
    }
    else if (((uVar1 == 0x800) || (uVar1 == 0xc00)) &&
            ((DAT_4000225a = DAT_4000225a + 1, DAT_400023e8 <= DAT_4000225a &&
             ((DAT_4000225a = 0, DAT_40002214 != 0 &&
              (DAT_40002214 = DAT_40002214 - 1, DAT_40002214 == 0)))))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0276,&LEA_obd_ii_P0276_flags,&DAT_40004d0f,&DAT_40004d10,0x276,0);
    }
  }
  if ((((CAL_obd_ii_P0277 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar2 == 0) {
      DAT_4000225c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0277,&LEA_obd_ii_P0277_flags);
      if (DAT_40002215 < DAT_4000d3de) {
        DAT_40002215 = DAT_40002215 + 1;
      }
    }
    else if (((uVar1 == 0x400) && (DAT_4000225c = DAT_4000225c + 1, DAT_400023e8 <= DAT_4000225c))
            && ((DAT_4000225c = 0, DAT_40002215 != 0 &&
                (DAT_40002215 = DAT_40002215 - 1, DAT_40002215 == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0277,&LEA_obd_ii_P0277_flags,&DAT_40004d12,&DAT_40004d13,0x277,0);
    }
  }
  uVar5 = USHORT_400021f0 & 0xf3ff;
  uVar4 = USHORT_400021f0 & 0x30;
  uVar2 = USHORT_400021f0 & 0x30;
  uVar1 = USHORT_400021f0 & 0x30;
  USHORT_400021f0 = uVar5;
  if ((((CAL_obd_ii_P2754 & 7) != 0) && (engine_is_running != false)) &&
     (((ignition_on_flags & 1) != 0 && ((COD_base[1] >> 0x13 & 1) == 1)))) {
    if (uVar4 == 0) {
      DAT_4000228e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2754,&LEA_obd_ii_P2754_flags);
      if (DAT_400022c1 < DAT_4000d43c) {
        DAT_400022c1 = DAT_400022c1 + 1;
      }
    }
    else if ((((uVar1 == 0x20) || (uVar1 == 0x30)) &&
             (DAT_4000228e = DAT_4000228e + 1, DAT_400023e8 <= DAT_4000228e)) &&
            ((DAT_4000228e = 0, DAT_400022c1 != 0 &&
             (DAT_400022c1 = DAT_400022c1 - 1, DAT_400022c1 == 0)))) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2754,&LEA_obd_ii_P2754_flags,&DAT_40004e98,&DAT_40004e99,0x2754,0);
    }
  }
  if ((((CAL_obd_ii_P2755 & 7) != 0) && (engine_is_running != false)) &&
     (((ignition_on_flags & 1) != 0 && ((COD_base[1] >> 0x13 & 1) == 1)))) {
    if (uVar2 == 0) {
      DAT_40002290 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2755,&LEA_obd_ii_P2755_flags);
      if (DAT_400022c0 < DAT_4000d43b) {
        DAT_400022c0 = DAT_400022c0 + 1;
      }
    }
    else if ((((uVar1 == 0x10) && (DAT_40002290 = DAT_40002290 + 1, DAT_400023e8 <= DAT_40002290))
             && (DAT_40002290 = 0, DAT_400022c0 != 0)) &&
            (DAT_400022c0 = DAT_400022c0 - 1, DAT_400022c0 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2755,&LEA_obd_ii_P2755_flags,&DAT_40004e9b,&DAT_40004e9c,0x2755,0);
    }
  }
  USHORT_400021f0 = USHORT_400021f0 & 0xffcf;
  if ((((CAL_obd_ii_P0351 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 1) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_4000225e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0351,&LEA_obd_ii_P0351_flags);
      if (DAT_40002216 < DAT_4000d3c3) {
        DAT_40002216 = DAT_40002216 + 1;
      }
    }
    else {
      DAT_4000225e = DAT_4000225e + 1;
      if ((DAT_400023e8 <= DAT_4000225e) &&
         (((DAT_4000225e = 0, DAT_40002216 != 0 &&
           (DAT_40002216 = DAT_40002216 - 1, DAT_40002216 == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0351,&LEA_obd_ii_P0351_flags,&DAT_40004d51,&DAT_40004d52,0x351,0)
          , (coil_diag_bitmap & 1) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0352 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 2) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_40002260 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0352,&LEA_obd_ii_P0352_flags);
      if (DAT_40002217 < DAT_4000d3c4) {
        DAT_40002217 = DAT_40002217 + 1;
      }
    }
    else {
      DAT_40002260 = DAT_40002260 + 1;
      if ((DAT_400023e8 <= DAT_40002260) &&
         (((DAT_40002260 = 0, DAT_40002217 != 0 &&
           (DAT_40002217 = DAT_40002217 - 1, DAT_40002217 == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0352,&LEA_obd_ii_P0352_flags,&DAT_40004d54,&DAT_40004d55,0x352,0)
          , (coil_diag_bitmap & 2) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 2;
      }
    }
  }
  if ((((CAL_obd_ii_P0353 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 4) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_40002262 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0353,&LEA_obd_ii_P0353_flags);
      if (DAT_40002218 < DAT_4000d3c5) {
        DAT_40002218 = DAT_40002218 + 1;
      }
    }
    else {
      DAT_40002262 = DAT_40002262 + 1;
      if ((DAT_400023e8 <= DAT_40002262) &&
         (((DAT_40002262 = 0, DAT_40002218 != 0 &&
           (DAT_40002218 = DAT_40002218 - 1, DAT_40002218 == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0353,&LEA_obd_ii_P0353_flags,&DAT_40004d57,&DAT_40004d58,0x353,0)
          , (coil_diag_bitmap & 4) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 4;
      }
    }
  }
  if ((((CAL_obd_ii_P0354 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 8) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_40002264 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0354,&LEA_obd_ii_P0354_flags);
      if (DAT_40002219 < DAT_4000d3c6) {
        DAT_40002219 = DAT_40002219 + 1;
      }
    }
    else {
      DAT_40002264 = DAT_40002264 + 1;
      if ((DAT_400023e8 <= DAT_40002264) &&
         (((DAT_40002264 = 0, DAT_40002219 != 0 &&
           (DAT_40002219 = DAT_40002219 - 1, DAT_40002219 == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0354,&LEA_obd_ii_P0354_flags,&DAT_40004d5a,&DAT_40004d5b,0x354,0)
          , (coil_diag_bitmap & 8) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 8;
      }
    }
  }
  if ((((CAL_obd_ii_P0355 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 0x10) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_40002266 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0355,&LEA_obd_ii_P0355_flags);
      if (DAT_4000221a < DAT_4000d3ff) {
        DAT_4000221a = DAT_4000221a + 1;
      }
    }
    else {
      DAT_40002266 = DAT_40002266 + 1;
      if ((DAT_400023e8 <= DAT_40002266) &&
         (((DAT_40002266 = 0, DAT_4000221a != 0 &&
           (DAT_4000221a = DAT_4000221a - 1, DAT_4000221a == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0355,&LEA_obd_ii_P0355_flags,&DAT_40004d5d,&DAT_40004d5e,0x355,0)
          , (coil_diag_bitmap & 0x10) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 0x10;
      }
    }
  }
  if ((((CAL_obd_ii_P0356 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((coil_diag_bitmap & 0x20) == 0) && ((coil_diag_bitmap & 0x80) == 0)) {
      DAT_40002268 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0356,&LEA_obd_ii_P0356_flags);
      if (DAT_4000221b < DAT_4000d402) {
        DAT_4000221b = DAT_4000221b + 1;
      }
    }
    else {
      DAT_40002268 = DAT_40002268 + 1;
      if ((DAT_400023e8 <= DAT_40002268) &&
         (((DAT_40002268 = 0, DAT_4000221b != 0 &&
           (DAT_4000221b = DAT_4000221b - 1, DAT_4000221b == 0)) &&
          (obd_ii_monitor_fail_transition
                     (&CAL_obd_ii_P0356,&LEA_obd_ii_P0356_flags,&DAT_40004d60,&DAT_40004d61,0x356,0)
          , (coil_diag_bitmap & 0x20) != 0)))) {
        coilpack_failure_flags = coilpack_failure_flags | 0x20;
      }
    }
  }
  if ((((CAL_obd_ii_P0141 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((USHORT_400021f8 & 3) == 0) {
      DAT_4000226c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags);
      if (DAT_4000226a < DAT_4000d450) {
        DAT_4000226a = DAT_4000226a + 1;
      }
    }
    else {
      DAT_4000226c = DAT_4000226c + 1;
      if (((DAT_400023e8 <= DAT_4000226c) && (DAT_4000226c = 0, DAT_4000226a != 0)) &&
         (DAT_4000226a = DAT_4000226a - 1, DAT_4000226a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,&DAT_40004ddb,&DAT_40004ddc,0x141,3);
      }
    }
  }
  uVar4 = USHORT_400021f8 & 0xfffc;
  uVar1 = USHORT_400021f8 & 0xc0;
  USHORT_400021f8 = uVar4;
  if (((((CAL_obd_ii_P025C & 7) != 0) && ((ignition_on_flags & 1) != 0)) &&
      ((ignition_on_flags & 0x20) == 0)) && ((ignition_on_flags & 0x40) != 0)) {
    if ((uVar1 == 0x80) || (uVar1 == 0xc0)) {
      DAT_40002242 = DAT_40002242 + 1;
      if ((DAT_400023e8 <= DAT_40002242) &&
         ((DAT_40002242 = 0, DAT_40002208 != 0 &&
          (DAT_40002208 = DAT_40002208 - 1, DAT_40002208 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P025C,&LEA_obd_ii_P025C_flags,&DAT_40004ceb,&DAT_40004cec,0x25c,0);
      }
    }
    else {
      DAT_40002242 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P025C,&LEA_obd_ii_P025C_flags);
      if (DAT_40002208 < DAT_4000d3e5) {
        DAT_40002208 = DAT_40002208 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P025D & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x40) {
      DAT_40002244 = DAT_40002244 + 1;
      if (((DAT_400023e8 <= DAT_40002244) && (DAT_40002244 = 0, DAT_40002209 != 0)) &&
         (DAT_40002209 = DAT_40002209 - 1, DAT_40002209 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P025D,&LEA_obd_ii_P025D_flags,&DAT_40004cee,&DAT_40004cef,0x25d,0);
      }
    }
    else {
      DAT_40002244 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P025D,&LEA_obd_ii_P025D_flags);
      if (DAT_40002209 < DAT_4000d3df) {
        DAT_40002209 = DAT_40002209 + 1;
      }
    }
  }
  USHORT_400021f8 = USHORT_400021f8 & 0xff3f;
  if ((((CAL_obd_ii_P0480 & 7) != 0) && (engine_is_running != false)) &&
     (((ignition_on_flags & 1) != 0 && (car_speed_u8 < CAL_cooling_fan_speed_disable_speed)))) {
    if ((USHORT_400021f6 & 3) == 0) {
      DAT_40002270 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0480,&LEA_obd_ii_P0480_flags);
      if (DAT_4000226e < DAT_4000d3e7) {
        DAT_4000226e = DAT_4000226e + 1;
      }
    }
    else {
      DAT_40002270 = DAT_40002270 + 1;
      if (((DAT_400023e8 <= DAT_40002270) && (DAT_40002270 = 0, DAT_4000226e != 0)) &&
         (DAT_4000226e = DAT_4000226e - 1, DAT_4000226e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0480,&LEA_obd_ii_P0480_flags,&DAT_40004d9c,&DAT_40004d9d,0x480,0);
      }
    }
  }
  USHORT_400021f6 = USHORT_400021f6 & 0xfffc;
  if ((COD_base[1] >> 0x1a & 1) != 0) {
    if ((((CAL_obd_ii_P0482 & 7) != 0) && (engine_is_running != false)) &&
       ((ignition_on_flags & 1) != 0)) {
      if ((USHORT_400021f8 & 0x3000) == 0) {
        DAT_40002274 = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0482,&LEA_obd_ii_P0482_flags);
        if (DAT_40002272 < DAT_4000d417) {
          DAT_40002272 = DAT_40002272 + 1;
        }
      }
      else {
        DAT_40002274 = DAT_40002274 + 1;
        if (((DAT_400023e8 <= DAT_40002274) && (DAT_40002274 = 0, DAT_40002272 != 0)) &&
           (DAT_40002272 = DAT_40002272 - 1, DAT_40002272 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0482,&LEA_obd_ii_P0482_flags,&DAT_40004d9f,&DAT_40004da0,0x482,0);
        }
      }
    }
    USHORT_400021f8 = USHORT_400021f8 & 0xcfff;
  }
  if ((((CAL_obd_ii_P0135 & 7) != 0) && (&DAT_00002ee0 < runtime_since_start)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (DAT_40005095 < 2) {
      if (DAT_400019ce < DAT_4000ca6a) {
        DAT_40002276 = DAT_40002276 + 1;
        if (((DAT_400023e8 <= DAT_40002276) && (DAT_40002276 = 0, DAT_4000221c != 0)) &&
           (DAT_4000221c = DAT_4000221c - 1, DAT_4000221c == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0135,&LEA_obd_ii_P0135_flags,&DAT_40004ca0,&DAT_40004ca1,0x135,0);
        }
      }
      else {
        DAT_40002276 = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0135,&LEA_obd_ii_P0135_flags);
        if (DAT_4000221c < DAT_4000d3fe) {
          DAT_4000221c = DAT_4000221c + 1;
        }
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0135,&LEA_obd_ii_P0135_flags,&DAT_40004ca0,&DAT_40004ca1,0x135,0);
    }
  }
  if ((((CAL_obd_ii_P0155 & 7) != 0) && (&DAT_00002ee0 < runtime_since_start)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (DAT_400050a1 < 2) {
      if (DAT_400019d0 < DAT_4000ca6a) {
        DAT_40002278 = DAT_40002278 + 1;
        if (((DAT_400023e8 <= DAT_40002278) && (DAT_40002278 = 0, DAT_4000221d != 0)) &&
           (DAT_4000221d = DAT_4000221d - 1, DAT_4000221d == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,&DAT_40004cbe,&DAT_40004cbf,0x155,0);
        }
      }
      else {
        DAT_40002278 = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags);
        if (DAT_4000221d < DAT_4000d434) {
          DAT_4000221d = DAT_4000221d + 1;
        }
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,&DAT_40004cbe,&DAT_40004cbf,0x155,0);
    }
  }
  if ((((CAL_obd_ii_P0141 & 7) != 0) && (&DAT_00002ee0 < runtime_since_start)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (DAT_400050ad < 2) {
      if (DAT_400019d2 < DAT_4000ca6a) {
        DAT_4000227a = DAT_4000227a + 1;
        if (((DAT_400023e8 <= DAT_4000227a) && (DAT_4000227a = 0, DAT_4000221e != 0)) &&
           (DAT_4000221e = DAT_4000221e - 1, DAT_4000221e == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,&DAT_40004caf,&DAT_40004cb0,0x141,0);
        }
      }
      else {
        DAT_4000227a = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags);
        if (DAT_4000221e < DAT_4000d401) {
          DAT_4000221e = DAT_4000221e + 1;
        }
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,&DAT_40004caf,&DAT_40004cb0,0x141,0);
    }
  }
  if ((((CAL_obd_ii_P0161 & 7) != 0) && (&DAT_00002ee0 < runtime_since_start)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (DAT_400050b9 < 2) {
      if (DAT_400019d4 < DAT_4000ca6a) {
        DAT_4000227c = DAT_4000227c + 1;
        if (((DAT_400023e8 <= DAT_4000227c) && (DAT_4000227c = 0, DAT_4000221f != 0)) &&
           (DAT_4000221f = DAT_4000221f - 1, DAT_4000221f == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0161,&LEA_obd_ii_P0161_flags,&DAT_40004ccd,&DAT_40004cce,0x161,0);
        }
      }
      else {
        DAT_4000227c = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0161,&LEA_obd_ii_P0161_flags);
        if (DAT_4000221f < DAT_4000d436) {
          DAT_4000221f = DAT_4000221f + 1;
        }
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0161,&LEA_obd_ii_P0161_flags,&DAT_40004ccd,&DAT_40004cce,0x161,0);
    }
  }
  if (((((((((LEA_obd_ii_P0135_flags & 4) != 0) && ((LEA_obd_ii_P0135_flags & 2) == 0)) &&
          (((LEA_obd_ii_P0141_flags & 4) != 0 &&
           (((LEA_obd_ii_P0141_flags & 2) == 0 && ((LEA_obd_ii_P0155_flags & 4) != 0)))))) &&
         ((LEA_obd_ii_P0155_flags & 2) == 0)) &&
        (((LEA_obd_ii_P0161_flags & 4) != 0 && ((LEA_obd_ii_P0161_flags & 2) == 0)))) ||
       ((((LEA_obd_ii_P0135_flags & 1) != 0 && ((LEA_obd_ii_P0135_flags & 2) != 0)) ||
        (((LEA_obd_ii_P0141_flags & 1) != 0 && ((LEA_obd_ii_P0141_flags & 2) != 0)))))) ||
      (((LEA_obd_ii_P0155_flags & 1) != 0 && ((LEA_obd_ii_P0155_flags & 2) != 0)))) ||
     (((LEA_obd_ii_P0161_flags & 1) != 0 && ((LEA_obd_ii_P0161_flags & 2) != 0)))) {
    obd_ii_engine_tests_completeness = obd_ii_engine_tests_completeness & 0xbf;
    obd_ii_monitor_status_this_drive_cycle = obd_ii_monitor_status_this_drive_cycle & 0xffbf;
  }
  uVar1 = USHORT_400021f6 & 0xc;
  if ((CAL_obd_ii_P2602 & 7) != 0) {
    if ((uVar1 == 8) || (uVar1 == 0xc)) {
      DAT_40002288 = DAT_40002288 + 1;
      if ((DAT_400023e8 <= DAT_40002288) &&
         ((DAT_40002288 = 0, DAT_40002286 != 0 &&
          (DAT_40002286 = DAT_40002286 - 1, DAT_40002286 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2602,&LEA_obd_ii_P2602_flags,&DAT_40004e26,&DAT_40004e27,0x2602,0);
      }
    }
    else {
      DAT_40002288 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2602,&LEA_obd_ii_P2602_flags);
      if (DAT_40002286 < DAT_4000d3f4) {
        DAT_40002286 = DAT_40002286 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P2603 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 4) {
      DAT_4000228c = DAT_4000228c + 1;
      if (((DAT_400023e8 <= DAT_4000228c) && (DAT_4000228c = 0, DAT_4000228a != 0)) &&
         (DAT_4000228a = DAT_4000228a - 1, DAT_4000228a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2603,&LEA_obd_ii_P2603_flags,&DAT_40004e29,&DAT_40004e2a,0x2603,0);
      }
    }
    else {
      DAT_4000228c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2603,&LEA_obd_ii_P2603_flags);
      if (DAT_4000228a < DAT_4000d3f5) {
        DAT_4000228a = DAT_4000228a + 1;
      }
    }
  }
  uVar4 = USHORT_400021f6 & 0xfff3;
  uVar1 = USHORT_400021f6 & 0xc0;
  USHORT_400021f6 = uVar4;
  if (((1 < (COD_base[0] >> 0x1c & 7)) && ((CAL_obd_ii_P2612 & 7) != 0)) &&
     ((engine_is_running != false && ((ignition_on_flags & 1) != 0)))) {
    if ((uVar1 == 0x80) || (uVar1 == 0xc0)) {
      DAT_4000229c = DAT_4000229c + 1;
      if ((DAT_400023e8 <= DAT_4000229c) &&
         ((DAT_4000229c = 0, DAT_4000229a != 0 &&
          (DAT_4000229a = DAT_4000229a - 1, DAT_4000229a == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2612,&LEA_obd_ii_P2612_flags,&DAT_40004e53,&DAT_40004e54,0x2612,0);
      }
    }
    else {
      DAT_4000229c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2612,&LEA_obd_ii_P2612_flags);
      if (DAT_4000229a < DAT_4000d448) {
        DAT_4000229a = DAT_4000229a + 1;
      }
    }
  }
  if ((((1 < (COD_base[0] >> 0x1c & 7)) && ((CAL_obd_ii_P2613 & 7) != 0)) &&
      (engine_is_running != false)) && ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x40) {
      DAT_400022a0 = DAT_400022a0 + 1;
      if (((DAT_400023e8 <= DAT_400022a0) && (DAT_400022a0 = 0, DAT_4000229e != 0)) &&
         (DAT_4000229e = DAT_4000229e - 1, DAT_4000229e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2613,&LEA_obd_ii_P2613_flags,&DAT_40004e56,&DAT_40004e57,0x2613,0);
      }
    }
    else {
      DAT_400022a0 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2613,&LEA_obd_ii_P2613_flags);
      if (DAT_4000229e < DAT_4000d449) {
        DAT_4000229e = DAT_4000229e + 1;
      }
    }
  }
  USHORT_400021f6 = USHORT_400021f6 & 0xff3f;
  uVar1 = USHORT_400021f8 & 0x300;
  if (((((COD_base[0] >> 0xd & 7) == 1) &&
       ((gear_index_auto == NO_GEAR || (gear_index_auto == GEAR_2)))) ||
      ((COD_base[0] >> 0xd & 7) == 0)) &&
     ((((CAL_obd_ii_P0616 & 7) != 0 && (engine_is_running != false)) &&
      ((ignition_on_flags & 1) != 0)))) {
    if ((uVar1 == 0x200) || (uVar1 == 0x300)) {
      DAT_40002294 = DAT_40002294 + 1;
      if ((DAT_400023e8 <= DAT_40002294) &&
         ((DAT_40002294 = 0, DAT_40002292 != 0 &&
          (DAT_40002292 = DAT_40002292 - 1, DAT_40002292 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0616,&LEA_obd_ii_P0616_flags,&DAT_40004e59,&DAT_40004e5a,0x616,0);
      }
    }
    else {
      DAT_40002294 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0616,&LEA_obd_ii_P0616_flags);
      if (DAT_40002292 < DAT_4000d43d) {
        DAT_40002292 = DAT_40002292 + 1;
      }
    }
  }
  else {
    DAT_40002294 = 0;
  }
  if ((uVar1 == 0x200) &&
     (((COD_base[0] >> 0xd & 7) == 0 ||
      (((COD_base[0] >> 0xd & 7) == 1 &&
       ((((engine_is_running == false || (gear_index_auto == NO_GEAR)) ||
         (gear_index_auto == GEAR_2)) || (gear_index_auto == 0xf)))))))) {
    ignition_on_flags = ignition_on_flags | 0x60;
  }
  else if ((obd_ii_relay_status & 0x10) == 0) {
    ignition_on_flags = ignition_on_flags & 0xffdf | 0x40;
  }
  if (((CAL_obd_ii_P0617 & 7) != 0) && ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x100) {
      DAT_40002298 = DAT_40002298 + 1;
      if (((DAT_400023e8 <= DAT_40002298) && (DAT_40002298 = 0, DAT_40002296 != 0)) &&
         (DAT_40002296 = DAT_40002296 - 1, DAT_40002296 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0617,&LEA_obd_ii_P0617_flags,&DAT_40004e5c,&DAT_40004e5d,0x617,0);
      }
    }
    else {
      DAT_40002298 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0617,&LEA_obd_ii_P0617_flags);
      if (DAT_40002296 < DAT_4000d43e) {
        DAT_40002296 = DAT_40002296 + 1;
      }
    }
  }
  USHORT_400021f8 = USHORT_400021f8 & 0xfcff;
  uVar1 = USHORT_400021f4 & 0xc000;
  uVar4 = USHORT_400021f4 & 3;
  if (((((LEA_obd_ii_P2170_flags & 2) == 0) && ((CAL_obd_ii_P2170 & 7) != 0)) &&
      (engine_is_running != false)) &&
     (((ignition_on_flags & 1) != 0 && ((COD_base[1] >> 0x1b & 1) != 0)))) {
    if ((((byte)COD_VIN[9] < 0x48) || (((main_diagnostic_flags & 4) != 0 || (uVar4 != 2)))) &&
       ((uVar4 != 3 && (uVar1 != 0xc000)))) {
      DAT_400022a4 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2170,&LEA_obd_ii_P2170_flags);
      if (DAT_400022a2 < DAT_4000d454) {
        DAT_400022a2 = DAT_400022a2 + 1;
      }
    }
    else {
      DAT_400022a4 = DAT_400022a4 + 1;
      if (((DAT_400023e8 <= DAT_400022a4) && (DAT_400022a4 = 0, DAT_400022a2 != 0)) &&
         (DAT_400022a2 = DAT_400022a2 - 1, DAT_400022a2 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2170,&LEA_obd_ii_P2170_flags,&DAT_40004e62,&DAT_40004e63,0x2170,0);
      }
    }
  }
  if ((((LEA_obd_ii_P2171_flags & 2) == 0) && ((CAL_obd_ii_P2171 & 7) != 0)) &&
     ((engine_is_running != false &&
      (((ignition_on_flags & 1) != 0 && ((COD_base[1] >> 0x1b & 1) != 0)))))) {
    if ((uVar1 == 0x4000) || (uVar4 == 1)) {
      DAT_400022a8 = DAT_400022a8 + 1;
      if (((DAT_400023e8 <= DAT_400022a8) && (DAT_400022a8 = 0, DAT_400022a6 != 0)) &&
         (DAT_400022a6 = DAT_400022a6 - 1, DAT_400022a6 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P2171,&LEA_obd_ii_P2171_flags,&DAT_40004e65,&DAT_40004e66,0x2171,0);
      }
    }
    else {
      DAT_400022a8 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2171,&LEA_obd_ii_P2171_flags);
      if (DAT_400022a6 < DAT_4000d455) {
        DAT_400022a6 = DAT_400022a6 + 1;
      }
    }
  }
  USHORT_400021f4 = USHORT_400021f4 & 0x3ffc;
  uVar1 = USHORT_400021f6 & 0x30;
  if ((((CAL_obd_ii_P023B & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((uVar1 == 0x20) || (uVar1 == 0x30)) {
      DAT_400022ac = DAT_400022ac + 1;
      if ((DAT_400023e8 <= DAT_400022ac) &&
         ((DAT_400022ac = 0, DAT_400022aa != 0 &&
          (DAT_400022aa = DAT_400022aa - 1, DAT_400022aa == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P023B,&LEA_obd_ii_P023B_flags,&DAT_40004d1b,&DAT_40004d1c,0x23b,0);
      }
    }
    else {
      DAT_400022ac = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P023B,&LEA_obd_ii_P023B_flags);
      if (DAT_400022aa < DAT_4000d46e) {
        DAT_400022aa = DAT_400022aa + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P023C & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (uVar1 == 0x10) {
      DAT_400022b0 = DAT_400022b0 + 1;
      if (((DAT_400023e8 <= DAT_400022b0) && (DAT_400022b0 = 0, DAT_400022ae != 0)) &&
         (DAT_400022ae = DAT_400022ae - 1, DAT_400022ae == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P023C,&LEA_obd_ii_P023C_flags,&DAT_40004d1e,&DAT_40004d1f,0x23c,0);
      }
    }
    else {
      DAT_400022b0 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P023C,&LEA_obd_ii_P023C_flags);
      if (DAT_400022ae < DAT_4000d46f) {
        DAT_400022ae = DAT_400022ae + 1;
      }
    }
  }
  USHORT_400021f6 = USHORT_400021f6 & 0xffcf;
  if ((((CAL_obd_ii_P123B & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((DAT_400022b2 & 4) == 0) && ((DAT_400022b2 & 8) == 0)) {
      if ((DAT_400022b2 & 1) != 0) {
        obd_ii_monitor_pass(&CAL_obd_ii_P123B,&LEA_obd_ii_P123B_flags);
        fuel_system_diagnostic2__ = fuel_system_diagnostic2__ | 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P123B,&LEA_obd_ii_P123B_flags,&DAT_40004e08,&DAT_40004e09,0x123b,0);
      fuel_system_diagnostic2__ = fuel_system_diagnostic2__ | DAT_400022b2;
    }
  }
  if ((((CAL_obd_ii_P123C & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (((((DAT_400022b2 & 0x10) == 0) && ((DAT_400022b2 & 0x20) == 0)) &&
        (((DAT_400022b2 & 2) == 0 && (((DAT_400022b2 & 0x80) == 0 && ((DAT_400022b2 & 0x40) == 0))))
        )) && ((DAT_400022b2 & 0x100) == 0)) {
      if ((DAT_400022b2 & 1) != 0) {
        obd_ii_monitor_pass(&CAL_obd_ii_P123C,&LEA_obd_ii_P123C_flags);
        fuel_system_diagnostic2__ = fuel_system_diagnostic2__ | 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P123C,&LEA_obd_ii_P123C_flags,&DAT_40004e0b,&DAT_40004e0c,0x123c,0);
      fuel_system_diagnostic2__ = fuel_system_diagnostic2__ | DAT_400022b2;
    }
  }
  if (((((((DAT_4000220a == 0) || (DAT_4000220b == 0)) || (DAT_4000220c == 0)) ||
        ((DAT_4000220d == 0 || (DAT_4000220e == 0)))) || (DAT_4000220f == 0)) ||
      ((DAT_40002210 == 0 || (DAT_40002211 == 0)))) ||
     ((DAT_40002212 == 0 || (((DAT_40002213 == 0 || (DAT_40002214 == 0)) || (DAT_40002215 == 0))))))
  {
    engine_state_failure_flags = engine_state_failure_flags | 0x2000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffdfff;
  }
  if ((((DAT_40002216 == 0) || (DAT_40002217 == 0)) ||
      ((DAT_40002218 == 0 || ((DAT_40002219 == 0 || (DAT_4000221a == 0)))))) || (DAT_4000221b == 0))
  {
    engine_state_failure_flags = engine_state_failure_flags | 0x4000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffbfff;
  }
  if ((((DAT_40001d68 == 0) || (DAT_40001d69 == 0)) || (DAT_40002200 == 0)) || (DAT_40002201 == 0))
  {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags | 1;
  }
  else {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags & 0b11111110;
  }
  if (((DAT_40001d6a == '\0') || (DAT_40001d6b == '\0')) ||
     ((DAT_40002204 == 0 || (DAT_40002205 == 0)))) {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags | 0b00000100;
  }
  else {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags & 0b11111011;
  }
  if (((DAT_40001d6c == '\0') || (DAT_40001d6d == '\0')) ||
     ((DAT_40002202 == 0 || (DAT_40002203 == 0)))) {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags | 2;
  }
  else {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags & 0xfd;
  }
  if ((((DAT_40001d6e == '\0') || (DAT_40001d6f == '\0')) || (DAT_40002206 == 0)) ||
     (DAT_40002207 == 0)) {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags | 8;
  }
  else {
    vvt_bank_inhibit_flags = vvt_bank_inhibit_flags & 0xf7;
  }
  if ((DAT_400022a2 == 0) || (DAT_400022a6 == 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x40000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfffbffff;
  }
  if ((((LEA_obd_ii_P0441_flags & 2) == 0) && (DAT_4000223a != 0)) && (DAT_4000223e != 0)) {
    engine_state_failure_flags = engine_state_failure_flags & 0xffdfffff;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags | 0x200000;
  }
  if (((DAT_400022aa == 0) || (DAT_400022ae == 0)) ||
     (((CAL_obd_ii_P123C & 7) != 0 && ((aux_coolant_pump_state_and_diag_ & 0x1f2) != 0)))) {
    uVar3 = engine_state_failure_flags | 0x8000000;
  }
  else {
    uVar3 = engine_state_failure_flags & 0xf7ffffff;
    if ((aux_coolant_pump_state_and_diag_ & 1) == 0) {
      uVar3 = engine_state_failure_flags;
    }
  }
  engine_state_failure_flags = uVar3;
  return;
}



void cc_diagnostic_1000hz(void)

{
  char cVar1;
  ushort uVar2;
  longlong lVar3;
  
  if (((DAT_400022aa == 0) || (DAT_400022ae == 0)) ||
     (sensor_adc_ecu_voltage <= CAL_ecu_system_voltage_threshold[1])) {
    system_undervolt_unknown();
  }
  else {
    if ((~DAT_400031be & 0x30) == 0) {
      aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfbff;
      if ((DAT_400022b8 != 0xffff) && (DAT_400022b8 = DAT_400022b8 + 1, 10000 < DAT_400022b8)) {
        DAT_400022b6 = 0;
      }
      if ((cc_pwm_output == 0) || (0xfffe < DAT_400022ba)) {
        DAT_400022ba = 0;
      }
      else {
        DAT_400022ba = DAT_400022ba + 1;
        if (10000 < DAT_400022ba) {
          aux_coolant_pump_state_and_diag_ = 0x80;
          DAT_400022b2 = DAT_400022b2 | 0x80;
        }
      }
    }
    else {
      aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xff7f | 0x600;
      DAT_400022ba = 0;
      DAT_400022b8 = 0;
    }
    if ((aux_coolant_pump_state_and_diag_ & 0x200) != 0) {
      if (DAT_400022b4 != -1) {
        DAT_400022b4 = DAT_400022b4 + 1;
      }
      if (50 < DAT_400022b8) {
        uVar2 = aux_coolant_pump_state_and_diag_ & 0xfdff;
        DAT_400022b6 = DAT_400022b4 - 0x32;
        DAT_400022b4 = 0;
        cVar1 = DAT_400022bc;
        if (DAT_400022b6 < 0x6c3) {
          if (DAT_400022b6 < 0x583) {
            if (DAT_400022b6 < 0x39) {
              if ((aux_coolant_pump_state_and_diag_ & 2) == 0) {
                DAT_400022bc = '\n';
                aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfdc0 | 2;
                cVar1 = DAT_400022bc;
              }
              else {
                aux_coolant_pump_state_and_diag_ = uVar2;
                if (DAT_400022bc != '\0') {
                  cVar1 = DAT_400022bc + -1;
                }
              }
            }
            else if ((aux_coolant_pump_state_and_diag_ & 1) == 0) {
              DAT_400022bc = '\n';
              aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfdc0 | 1;
              cVar1 = DAT_400022bc;
            }
            else {
              aux_coolant_pump_state_and_diag_ = uVar2;
              if (DAT_400022bc != '\0') {
                cVar1 = DAT_400022bc + -1;
              }
            }
          }
          else if (DAT_400022b6 < 0x623) {
            if ((aux_coolant_pump_state_and_diag_ & 4) == 0) {
              DAT_400022bc = '\n';
              aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfdc0 | 4;
              cVar1 = DAT_400022bc;
            }
            else {
              aux_coolant_pump_state_and_diag_ = uVar2;
              if (DAT_400022bc != '\0') {
                cVar1 = DAT_400022bc + -1;
              }
            }
          }
          else if ((aux_coolant_pump_state_and_diag_ & 8) == 0) {
            DAT_400022bc = '\n';
            aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfdc0 | 8;
            cVar1 = DAT_400022bc;
          }
          else {
            aux_coolant_pump_state_and_diag_ = uVar2;
            if (DAT_400022bc != '\0') {
              cVar1 = DAT_400022bc + -1;
            }
          }
        }
        else if (DAT_400022b6 < 2051) {
          if (DAT_400022b6 < 1891) {
            if ((aux_coolant_pump_state_and_diag_ & 0b00010000) == 0) {
              DAT_400022bc = 10;
              aux_coolant_pump_state_and_diag_ =
                   aux_coolant_pump_state_and_diag_ & 0b1111110111000000 | 0b00010000;
              cVar1 = DAT_400022bc;
            }
            else {
              aux_coolant_pump_state_and_diag_ = uVar2;
              if (DAT_400022bc != '\0') {
                cVar1 = DAT_400022bc + -1;
              }
            }
          }
          else if ((aux_coolant_pump_state_and_diag_ & 0x20) == 0) {
            DAT_400022bc = '\n';
            aux_coolant_pump_state_and_diag_ =
                 aux_coolant_pump_state_and_diag_ & 0b1111110111000000 | 0b00100000;
            cVar1 = DAT_400022bc;
          }
          else {
            aux_coolant_pump_state_and_diag_ = uVar2;
            if (DAT_400022bc != '\0') {
              cVar1 = DAT_400022bc + -1;
            }
          }
        }
        else if ((aux_coolant_pump_state_and_diag_ & 2) == 0) {
          DAT_400022bc = '\n';
          aux_coolant_pump_state_and_diag_ =
               aux_coolant_pump_state_and_diag_ & 0b1111110111000000 | 0b00000010;
          cVar1 = DAT_400022bc;
        }
        else {
          aux_coolant_pump_state_and_diag_ = uVar2;
          cVar1 = DAT_400022bc + -1;
          if (DAT_400022bc == '\0') {
            cVar1 = DAT_400022bc;
          }
        }
        DAT_400022bc = cVar1;
        if (DAT_400022bc == 0) {
          DAT_400022b2 = DAT_400022b2 | aux_coolant_pump_state_and_diag_ & 0b00111111;
          DAT_400022be = 0;
          if ((aux_coolant_pump_state_and_diag_ & 1) == 0) {
            u8_factor_1_255_400022bf = 0;
            DAT_400022bd = 0;
            aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfeff;
          }
          else {
            if (DAT_400022b6 < 80) {
              u8_factor_1_255_400022bf = 0;
            }
            else if (DAT_400022b6 < 1351) {
              u8_factor_1_255_400022bf = (u8_factor_1_255)((int)((DAT_400022b6 - 80) * 0xff) / 1270)
              ;
            }
            else {
              u8_factor_1_255_400022bf = 0xff;
            }
            aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ & 0xfeff;
            lVar3 = libc_abs((ulonglong)u8_factor_1_255_400022bf - (ulonglong)cc_pump_dutycycle__);
            if ((int)(uint)u8_factor_1_255_4000c9d7 < (int)lVar3) {
              if ((DAT_400022bd != 0xff) &&
                 (DAT_400022bd = DAT_400022bd + 1, DAT_4000caf2 < DAT_400022bd)) {
                DAT_400022b2 = DAT_400022b2 | 0b01000000;
                aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ | 0b01000000;
              }
            }
            else {
              DAT_400022bd = 0;
              aux_coolant_pump_state_and_diag_ =
                   aux_coolant_pump_state_and_diag_ & 0b1111111110111111;
            }
          }
        }
        else if ((DAT_400022be != 0xff) && (DAT_400022be = DAT_400022be + 1, 0x32 < DAT_400022be)) {
          aux_coolant_pump_state_and_diag_ = aux_coolant_pump_state_and_diag_ | 0b0000000100000000;
          DAT_400022b2 = DAT_400022b2 | 0b0000000100000000;
        }
      }
    }
  }
  return;
}



void system_undervolt_unknown(void)

{
  aux_coolant_pump_state_and_diag_ = 0;
  DAT_400022b4 = 0;
  DAT_400022b6 = 0;
  DAT_400022ba = 0;
  DAT_400022b8 = 0;
  DAT_400022bc = 10;
  DAT_400022bd = 0;
  DAT_400022be = 0;
  u8_factor_1_255_400022bf = 0;
  return;
}



void FUN_00097d6c(void)

{
  DAT_40002200 = DAT_4000d3bf;
  DAT_40002201 = DAT_4000d3c0;
  DAT_40002202 = DAT_4000d3d2;
  DAT_40002203 = DAT_4000d3e0;
  DAT_40002204 = DAT_4000d3e1;
  DAT_40002205 = DAT_4000d3e2;
  DAT_40002206 = DAT_4000d3e3;
  DAT_40002207 = DAT_4000d3e4;
  DAT_40002232 = DAT_4000d3cc;
  DAT_40002236 = DAT_4000d3cb;
  DAT_4000223a = DAT_4000d3cd;
  DAT_4000223e = DAT_4000d3ce;
  DAT_4000227e = DAT_4000d3cf;
  DAT_40002282 = DAT_4000d3d0;
  DAT_4000220a = DAT_4000d3d3;
  DAT_4000220b = DAT_4000d3d4;
  DAT_4000220c = DAT_4000d3d5;
  DAT_4000220d = DAT_4000d3d6;
  DAT_4000220e = DAT_4000d3d7;
  DAT_4000220f = DAT_4000d3d8;
  DAT_40002210 = DAT_4000d3d9;
  DAT_40002211 = DAT_4000d3da;
  DAT_40002212 = DAT_4000d3db;
  DAT_40002213 = DAT_4000d3dc;
  DAT_40002214 = DAT_4000d3dd;
  DAT_40002215 = DAT_4000d3de;
  DAT_4000221c = DAT_4000d3fe;
  DAT_4000221d = DAT_4000d434;
  DAT_4000221e = DAT_4000d401;
  DAT_4000221f = DAT_4000d436;
  DAT_4000226a = DAT_4000d450;
  DAT_40002208 = DAT_4000d3e5;
  DAT_40002209 = DAT_4000d3df;
  DAT_4000226e = DAT_4000d3e7;
  DAT_40002272 = DAT_4000d417;
  DAT_40002286 = DAT_4000d3f4;
  DAT_4000228a = DAT_4000d3f5;
  DAT_40002216 = DAT_4000d3c3;
  DAT_40002217 = DAT_4000d3c4;
  DAT_40002218 = DAT_4000d3c5;
  DAT_40002219 = DAT_4000d3c6;
  DAT_4000221a = DAT_4000d3ff;
  DAT_4000221b = DAT_4000d402;
  DAT_4000229a = DAT_4000d448;
  DAT_4000229e = DAT_4000d449;
  DAT_40002292 = DAT_4000d43d;
  DAT_40002296 = DAT_4000d43e;
  DAT_400022a2 = DAT_4000d454;
  DAT_400022a6 = DAT_4000d455;
  DAT_400022aa = DAT_4000d46e;
  DAT_400022ae = DAT_4000d46f;
  DAT_400022c1 = DAT_4000d43c;
  DAT_400022c0 = DAT_4000d43b;
  DAT_400022b2 = 0;
  system_undervolt_unknown();
  obdii_update_dtc_state(&CAL_obd_ii_P0076,&LEA_obd_ii_P0076_flags,0x76,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0077,&LEA_obd_ii_P0077_flags,0x77,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0079,&LEA_obd_ii_P0079_flags,0x79,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0080,&LEA_obd_ii_P0080_flags,0x80,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0082,&LEA_obd_ii_P0082_flags,0x82,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0083,&LEA_obd_ii_P0083_flags,0x83,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0085,&LEA_obd_ii_P0085_flags,0x85,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0086,&LEA_obd_ii_P0086_flags,0x86,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0480,&LEA_obd_ii_P0480_flags,0x480,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0482,&LEA_obd_ii_P0482_flags,0x482,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,0x141,3);
  obdii_update_dtc_state(&CAL_obd_ii_P025C,&LEA_obd_ii_P025C_flags,0x25c,0);
  obdii_update_dtc_state(&CAL_obd_ii_P025D,&LEA_obd_ii_P025D_flags,0x25d,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0261,&LEA_obd_ii_P0261_flags,0x261,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0262,&LEA_obd_ii_P0262_flags,0x262,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0264,&LEA_obd_ii_P0264_flags,0x264,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0265,&LEA_obd_ii_P0265_flags,0x265,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0267,&LEA_obd_ii_P0267_flags,0x267,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0268,&LEA_obd_ii_P0268_flags,0x268,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0270,&LEA_obd_ii_P0270_flags,0x270,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0271,&LEA_obd_ii_P0271_flags,0x271,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0273,&LEA_obd_ii_P0273_flags,0x273,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0274,&LEA_obd_ii_P0274_flags,0x274,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0276,&LEA_obd_ii_P0276_flags,0x276,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0277,&LEA_obd_ii_P0277_flags,0x277,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0135,&LEA_obd_ii_P0135_flags,0x135,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,0x155,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,0x141,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0161,&LEA_obd_ii_P0161_flags,0x161,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0445,&LEA_obd_ii_P0445_flags,0x445,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0444,&LEA_obd_ii_P0444_flags,0x444,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0447,&LEA_obd_ii_P0447_flags,0x447,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0448,&LEA_obd_ii_P0448_flags,0x448,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0646,&LEA_obd_ii_P0646_flags,0x646,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0647,&LEA_obd_ii_P0647_flags,0x647,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2602,&LEA_obd_ii_P2602_flags,0x2602,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2603,&LEA_obd_ii_P2603_flags,0x2603,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0351,&LEA_obd_ii_P0351_flags,0x351,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0352,&LEA_obd_ii_P0352_flags,0x352,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0353,&LEA_obd_ii_P0353_flags,0x353,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0354,&LEA_obd_ii_P0354_flags,0x354,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0355,&LEA_obd_ii_P0355_flags,0x355,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0356,&LEA_obd_ii_P0356_flags,0x356,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2612,&LEA_obd_ii_P2612_flags,0x2612,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2613,&LEA_obd_ii_P2613_flags,0x2613,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0616,&LEA_obd_ii_P0616_flags,0x616,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0617,&LEA_obd_ii_P0617_flags,0x617,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2170,&LEA_obd_ii_P2170_flags,0x2170,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2171,&LEA_obd_ii_P2171_flags,0x2171,0);
  obdii_update_dtc_state(&CAL_obd_ii_P023B,&LEA_obd_ii_P023B_flags,0x23b,0);
  obdii_update_dtc_state(&CAL_obd_ii_P023C,&LEA_obd_ii_P023C_flags,0x23c,0);
  obdii_update_dtc_state(&CAL_obd_ii_P123B,&LEA_obd_ii_P123B_flags,0x123b,0);
  obdii_update_dtc_state(&CAL_obd_ii_P123C,&LEA_obd_ii_P123C_flags,0x123c,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2754,&LEA_obd_ii_P2754_flags,0x2754,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2755,&LEA_obd_ii_P2755_flags,0x2755,0);
  return;
}



void FUN_00098a58(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2602,&LEA_obd_ii_P2602_flags,&DAT_40004e26,&DAT_40004e27,0x2602,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2603,&LEA_obd_ii_P2603_flags,&DAT_40004e29,&DAT_40004e2a,0x2603,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0482,&LEA_obd_ii_P0482_flags,&DAT_40004d9f,&DAT_40004da0,0x482,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0480,&LEA_obd_ii_P0480_flags,&DAT_40004d9c,&DAT_40004d9d,0x480,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,&DAT_40004ddb,&DAT_40004ddc,0x141,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P025C,&LEA_obd_ii_P025C_flags,&DAT_40004ceb,&DAT_40004cec,0x25c,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P025D,&LEA_obd_ii_P025D_flags,&DAT_40004cee,&DAT_40004cef,0x25d,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0261,&LEA_obd_ii_P0261_flags,&DAT_40004cf1,&DAT_40004cf2,0x261,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0262,&LEA_obd_ii_P0262_flags,&DAT_40004cf4,&DAT_40004cf5,0x262,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0264,&LEA_obd_ii_P0264_flags,&DAT_40004cf7,&DAT_40004cf8,0x264,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0265,&LEA_obd_ii_P0265_flags,&DAT_40004cfa,&DAT_40004cfb,0x265,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0267,&LEA_obd_ii_P0267_flags,&DAT_40004cfd,&DAT_40004cfe,0x267,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0268,&LEA_obd_ii_P0268_flags,&DAT_40004d00,&DAT_40004d01,0x268,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0270,&LEA_obd_ii_P0270_flags,&DAT_40004d03,&DAT_40004d04,0x270,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0271,&LEA_obd_ii_P0271_flags,&DAT_40004d06,&DAT_40004d07,0x271,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0273,&LEA_obd_ii_P0273_flags,&DAT_40004d09,&DAT_40004d0a,0x273,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0274,&LEA_obd_ii_P0274_flags,&DAT_40004d0c,&DAT_40004d0d,0x274,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0276,&LEA_obd_ii_P0276_flags,&DAT_40004d0f,&DAT_40004d10,0x276,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0277,&LEA_obd_ii_P0277_flags,&DAT_40004d12,&DAT_40004d13,0x277,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0135,&LEA_obd_ii_P0135_flags,&DAT_40004ca0,&DAT_40004ca1,0x135,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,&DAT_40004cbe,&DAT_40004cbf,0x155,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0141,&LEA_obd_ii_P0141_flags,&DAT_40004caf,&DAT_40004cb0,0x141,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0161,&LEA_obd_ii_P0161_flags,&DAT_40004ccd,&DAT_40004cce,0x161,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0445,&LEA_obd_ii_P0445_flags,&DAT_40004d78,&DAT_40004d79,0x445,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0444,&LEA_obd_ii_P0444_flags,&DAT_40004d75,&DAT_40004d76,0x444,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0448,&LEA_obd_ii_P0448_flags,&DAT_40004d81,&DAT_40004d82,0x448,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0447,&LEA_obd_ii_P0447_flags,&DAT_40004d7e,&DAT_40004d7f,0x447,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0646,&LEA_obd_ii_P0646_flags,&DAT_40004dea,&DAT_40004deb,0x646,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0647,&LEA_obd_ii_P0647_flags,&DAT_40004de7,&DAT_40004de8,0x647,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0076,&LEA_obd_ii_P0076_flags,&DAT_40004c37,&DAT_40004c38,0x76,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0077,&LEA_obd_ii_P0077_flags,&DAT_40004c3a,&DAT_40004c3b,0x77,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0079,&LEA_obd_ii_P0079_flags,&DAT_40004c3d,&DAT_40004c3e,0x79,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0080,&LEA_obd_ii_P0080_flags,&DAT_40004c40,&DAT_40004c41,0x80,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0082,&LEA_obd_ii_P0082_flags,&DAT_40004c43,&DAT_40004c44,0x82,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0083,&LEA_obd_ii_P0083_flags,&DAT_40004c46,&DAT_40004c47,0x83,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0085,&LEA_obd_ii_P0085_flags,&DAT_40004c49,&DAT_40004c4a,0x85,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0086,&LEA_obd_ii_P0086_flags,&DAT_40004c4c,&DAT_40004c4d,0x86,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0351,&LEA_obd_ii_P0351_flags,&DAT_40004d51,&DAT_40004d52,0x351,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0352,&LEA_obd_ii_P0352_flags,&DAT_40004d54,&DAT_40004d55,0x352,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0353,&LEA_obd_ii_P0353_flags,&DAT_40004d57,&DAT_40004d58,0x353,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0354,&LEA_obd_ii_P0354_flags,&DAT_40004d5a,&DAT_40004d5b,0x354,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0355,&LEA_obd_ii_P0355_flags,&DAT_40004d5d,&DAT_40004d5e,0x355,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0356,&LEA_obd_ii_P0356_flags,&DAT_40004d60,&DAT_40004d61,0x356,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2612,&LEA_obd_ii_P2612_flags,&DAT_40004e53,&DAT_40004e54,0x2612,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2613,&LEA_obd_ii_P2613_flags,&DAT_40004e56,&DAT_40004e57,0x2613,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0616,&LEA_obd_ii_P0616_flags,&DAT_40004e59,&DAT_40004e5a,0x616,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0617,&LEA_obd_ii_P0617_flags,&DAT_40004e5c,&DAT_40004e5d,0x617,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2170,&LEA_obd_ii_P2170_flags,&DAT_40004e62,&DAT_40004e63,0x2170,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2171,&LEA_obd_ii_P2171_flags,&DAT_40004e65,&DAT_40004e66,0x2171,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P023B,&LEA_obd_ii_P023B_flags,&DAT_40004d1b,&DAT_40004d1c,0x23b,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P023C,&LEA_obd_ii_P023C_flags,&DAT_40004d1e,&DAT_40004d1f,0x23c,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P123B,&LEA_obd_ii_P123B_flags,&DAT_40004e08,&DAT_40004e09,0x123b,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P123C,&LEA_obd_ii_P123C_flags,&DAT_40004e0b,&DAT_40004e0c,0x123c,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2754,&LEA_obd_ii_P2754_flags,&DAT_40004e98,&DAT_40004e99,0x2754,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2755,&LEA_obd_ii_P2755_flags,&DAT_40004e9b,&DAT_40004e9c,0x2755,0);
  return;
}



void accel_pedal_200hz(void)

{
  int _accel_pedal_pos_d_voltage;
  int _accel_pedal_pos_e_voltage;
  u16_factor_1_1023 accel_pedal_pos;
  bool timer_expired_tmp;
  char cVar1;
  u16_rspeed_4rpm _engine_speed_tach;
  longlong _engine_speed_5250_offset;
  ulonglong steering_angle_abs1;
  u8_factor_1_255 _lc_tps_step_;
  ulonglong uVar2;
  ulonglong _cruise_has_tps_control;
  ulonglong cruise_has_control_of_pedal;
  uint cruise_status_bit13;
  uint cruise_status_bit18;
  uint cruise_status_bit2;
  u16_speed_1_100kph _cruise_speed_target;
  u16_speed_1_100kph _car_speed;
  uint _cruise_status;
  uint _cruise_status2;
  ulonglong _cruise_tps_unknown;
  ulonglong _target_tps_factor1_255___;
  u8_factor_1_255 _load_tps_max;
  enum_vehicle_mode _vehicle_mode;
  uint16_t _vehicle_mode_flags;
  
  _accel_pedal_pos_d_voltage = read_accel_pedal_pos_d_voltage();
  _accel_pedal_pos_e_voltage = read_accel_pedal_pos_e_voltage();
  _vehicle_mode_flags = vehicle_mode_flags;
  _vehicle_mode = vehicle_mode;
  if ((COD_base[0] >> 0x19 & 7) != 0) {
    _cruise_tps_unknown = (ulonglong)cruise_tps_unknown;
    cruise_status_bit2 = obd_ii_cruise_status & 0b00000010;
    cruise_status_bit13 = obd_ii_cruise_status & 0b0010000000000000;
    cruise_status_bit18 = obd_ii_cruise_status & 0x40000;
    _cruise_status = obd_ii_cruise_status;
    _car_speed = car_speed_div100;
    _cruise_speed_target = cruise_speed_target;
  }
  accel_pedal_position_from_voltage
            ((ushort)_accel_pedal_pos_d_voltage,(ushort)_accel_pedal_pos_e_voltage);
  accel_pedal_pos = get_accel_pedal_pos();
  _load_tps_max = load_tps_max;
  _cruise_has_tps_control = (-((ulonglong)engine_operating_state_flags & 1) << 0x20) >> 0x3f;
  if (accel_pedal_pos < CAL_cruise_accel_pedal_override_threshold_exit) {
    cruise_has_control_of_pedal = 1;
  }
  else {
    cruise_has_control_of_pedal = _cruise_has_tps_control;
    if (CAL_cruise_accel_pedal_override_threshold_enter < accel_pedal_pos) {
      cruise_has_control_of_pedal = 0;
    }
  }
  if ((((car_speed_u8 == 0) && ((engine_state_failure_flags & 0x400) == 0)) &&
      ((engine_state_failure_flags & 0x8000) == 0)) &&
     ((((COD_base[1] >> 0x15 & 3) == 2 && ((clutch_pos_sensor & 8) == 0)) &&
      (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold)))) {
    if (accel_pedal_timer_unknown < 200) {
      accel_pedal_timer_unknown = accel_pedal_timer_unknown + 1;
    }
  }
  else {
    accel_pedal_timer_unknown = 0;
  }
                    // CAL_tpssmooth_accel_pedal_mode_high_gear_force has value 1 in default config
  if (CAL_tpssmooth_accel_pedal_modes_enable == false) {
    accel_pedal_mode = high_gear;
  }
  if ((cruise_has_control_of_pedal == 0) && (accel_pedal_pos < 1024)) {
    if (accel_pedal_mode == low_gear) {
      if ((_vehicle_mode_flags & 0b00100000) == 0) {
        if ((COD_base[0] >> 0xd & 7) == 1) {
          tps_target_by_pps =
               lookup_2D_uint16_interpolated
                         (16,accel_pedal_pos,CAL_tpstarget_low_gear_tour_ips,
                          CAL_tpstarget_low_gear_tour_ips_X_pps);
        }
        else {
          tps_target_by_pps =
               lookup_2D_uint16_interpolated
                         (16,accel_pedal_pos,CAL_tpstarget_low_gear_tour_manual,
                          CAL_tpstarget_low_gear_tour_manual_X_pps);
        }
      }
      else if ((COD_base[0] >> 0xd & 7) == 1) {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_low_gear_sport_ips,
                        CAL_tpstarget_low_gear_sport_ips_X_pps);
      }
      else {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_low_gear_sport_manual,
                        CAL_tpstarget_low_gear_sport_manual_X_pps);
      }
      if ((car_speed_u8 == 0) &&
         ((((((COD_base[1] >> 21 & 3) == 2 && ((clutch_pos_sensor & 8) == 0)) &&
            (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold)) &&
           (accel_pedal_timer_unknown1_is_expired != false)) ||
          (((COD_base[0] >> 0xd & 7) == 1 && ((ips_state_flags == 0 || (ips_state_flags == 9))))))))
      {
        accel_pedal_mode = shifting;
      }
      else {
                    // CAL_tpssmooth_pedalmap_low_gear_threshold is zero in stock calibration
        if (CAL_tpssmooth_pedalmap_low_gear_threshold <= car_current_gear) {
          accel_pedal_mode = high_gear;
        }
      }
    }
    else if (accel_pedal_mode == high_gear) {
      if ((_vehicle_mode_flags & 0b00100000) == 0) {
        if ((COD_base[0] >> 0xd & 7) == 1) {
          tps_target_by_pps =
               lookup_2D_uint16_interpolated
                         (16,accel_pedal_pos,CAL_tpstarget_tour_ips,CAL_tpstarget_tour_ips_X_pps);
        }
        else {
          tps_target_by_pps =
               lookup_2D_uint16_interpolated
                         (16,accel_pedal_pos,CAL_tpstarget_tour_manual,
                          CAL_tpstarget_tour_manual_X_pps);
        }
      }
      else if ((COD_base[0] >> 0xd & 7) == 1) {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_sport_ips,CAL_tpstarget_sport_ips_X_pps);
      }
      else {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_sport_manual,
                        CAL_tpstarget_sport_manual_X_pps);
      }
      if (CAL_tpssmooth_accel_pedal_modes_enable != false) {
        if ((car_speed_u8 == 0) &&
           (((((COD_base[1] >> 21 & 3) == 2 && ((clutch_pos_sensor & 8) == 0)) &&
             ((clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold &&
              (accel_pedal_timer_unknown1_is_expired != false)))) ||
            (((COD_base[0] >> 0xd & 7) == 1 && ((ips_state_flags == 0 || (ips_state_flags == 9))))))
           )) {
          accel_pedal_mode = shifting;
        }
        else if (car_current_gear < CAL_tpssmooth_pedalmap_low_gear_threshold) {
          accel_pedal_mode = low_gear;
        }
      }
    }
    else if (accel_pedal_mode == shifting) {
      if ((_vehicle_mode_flags & 0b00100000) == 0) {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_tour_shifting,
                        CAL_tpstarget_tour_shifting_X_pps);
      }
      else {
        tps_target_by_pps =
             lookup_2D_uint16_interpolated
                       (16,accel_pedal_pos,CAL_tpstarget_sport_shifting,
                        CAL_tpstarget_sport_shifting_X_pps);
      }
      if (((car_speed_u8 != 0) ||
          (((COD_base[1] >> 0x15 & 3) == 2 &&
           (((clutch_pos_sensor & 8) != 0 ||
            (CAL_sensor_clutch_engaged_threshold < clutch_pos_voltage)))))) ||
         (((COD_base[0] >> 0xd & 7) == 1 && ((ips_state_flags != 0 && (ips_state_flags != 9)))))) {
        if (CAL_tpssmooth_pedalmap_low_gear_threshold == 0) {
          accel_pedal_mode = high_gear;
        }
        else {
          accel_pedal_mode = low_gear;
        }
      }
    }
    else if (CAL_tpssmooth_pedalmap_low_gear_threshold == 0) {
      accel_pedal_mode = high_gear;
    }
    else {
      accel_pedal_mode = low_gear;
    }
  }
  else {
    tps_target_by_pps = 0;
    if (accel_pedal_timer_unknown == 200) {
      accel_pedal_timer_unknown1_is_expired = true;
    }
  }
  timer_expired_tmp = false;
  if (accel_pedal_timer_unknown == 200) {
    timer_expired_tmp = accel_pedal_timer_unknown1_is_expired;
  }
  if (((((clutch_pos_sensor & 2) != 0) || ((clutch_pos_sensor & 4) != 0)) &&
      ((brake_switch & 1) != 0)) &&
     (((int)wheel_speed_front_accel < (int)-(uint)CAL_wheelspeed_threshold_unknown &&
      (CAL_tps_request_unknown < tps_target_by_pps)))) {
    tps_target_by_pps = (u16_voltage_5_1023v)CAL_tps_request_unknown;
  }
  if (engine_speed_2 == 0) {
    _target_tps_factor1_255___ = (ulonglong)tps_target_by_pps;
  }
  else {
    _target_tps_factor1_255___ =
         (ulonglong)((longlong)(int)(uint)tps_target_by_pps * (longlong)(int)(uint)_load_tps_max) /
         255 & 0xffff;
  }
                    // CAL_launch_enable_untested is always false
  if ((COD_VIN[0xb] == 'A') || (CAL_launch_enable_untested == false)) {
    launch_control_feature_enabled___ = false;
  }
  else if (((((COD_base[0] >> 0xd & 7) == 1) && ((COD_base[0] >> 2 & 1) == 0)) &&
           ((ips_flags_faults_ == 0 || ((car_current_gear == GEAR_4 && (ips_flags_faults_ != 0))))))
          && (_vehicle_mode == VM_TOUR)) {
    launch_control_feature_enabled___ = true;
  }
  else if ((((COD_base[0] >> 0xd & 7) == 1) && ((COD_base[0] >> 2 & 1) != 0)) &&
          (ips_flags_faults_ == 0)) {
    launch_control_feature_enabled___ = true;
  }
  else if ((((byte)(car_current_gear - GEAR_2) < 2) && ((COD_base[0] >> 0xd & 7) == 0)) &&
          ((_vehicle_mode == VM_TOUR ||
           ((((COD_base[0] >> 2 & 1) != 0 && (_vehicle_mode < VM_LAUNCH)) &&
            (_vehicle_mode != VM_TC_OFF)))))) {
    launch_control_feature_enabled___ = true;
  }
  else {
    launch_control_feature_enabled___ = false;
  }
  accel_pedal_timer_unknown1_is_expired = timer_expired_tmp;
  if (launch_mode == LC_INACTIVE) {
    if ((((((car_speed_div100 < (ushort)((ushort)CAL_launch_enable_carspeed[1] * 100)) &&
           ((ushort)((ushort)CAL_launch_enable_carspeed[0] * 100) < car_speed_div100)) &&
          (uVar2 = libc_abs((longlong)(short)steering_angle),
          (uVar2 & 0xffffffff) < (ulonglong)CAL_launch_enable_steering_max << 1)) &&
         (((steering_angle_sensor_flags____ & 1) != 0 && ((abs_esp_flags & 8) == 0)))) &&
        ((abs_esp_flags & 0x10) == 0)) && (launch_control_feature_enabled___ != false)) {
      lc_stationary_wait_timer = lc_stationary_wait_timer + 1;
      if ((ushort)((ushort)CAL_launch_stationary_wait_time * 20) < lc_stationary_wait_timer) {
        launch_mode = LC_READY;
        lc_stationary_wait_timer = 0;
      }
    }
    else {
      lc_stationary_wait_timer = 0;
    }
                    // free rev logic maybe?
    if (((car_speed_div100 == 0) && (cruise_has_control_of_pedal == 0)) &&
       ((((gear_index_auto == NO_GEAR || (gear_index_auto == GEAR_2)) &&
         ((COD_base[0] >> 0xd & 7) == 1)) ||
        ((car_current_gear == NO_GEAR && ((COD_base[0] >> 0xd & 7) == 0)))))) {
      _engine_speed_tach = get_engine_speed_tach();
      _engine_speed_5250_offset =
           libc_abs((longlong)((int)(uint)_engine_speed_tach >> 2) - (ulonglong)CAL_ecu_rpm_5250);
      if (((int)_engine_speed_5250_offset < (int)((uint)CAL_ecu_rpm_600 << 2)) ||
         (_engine_speed_5250_offset =
               libc_abs((ulonglong)engine_speed_2 - (ulonglong)CAL_ecu_rpm_5250),
         (int)_engine_speed_5250_offset < (int)((uint)CAL_ecu_rpm_600 << 2))) {
        lc_timer_unknown = lc_timer_unknown + 1;
        if ((ushort)((ushort)u8_time_100ms_4000891f * 20) < lc_timer_unknown) {
          launch_mode = LC_FREEREV;
          lc_timer_unknown = 0;
        }
        goto LAB_0009a898;
      }
    }
    lc_timer_unknown = 0;
  }
  else if (launch_mode == LC_READY) {
    if (launch_tps_idle_delta == 0) {
      launch_tps_idle_delta = 0;
      if (idle_tps_requested < tps_u16) {
        launch_tps_idle_delta = (ushort)((int)((uint)tps_u16 - (uint)idle_tps_requested) >> 2);
      }
      if ((ulonglong)launch_tps_idle_delta + (ulonglong)u8_factor_1_1023_40008919 < 1023) {
        launch_tps_target_limit = launch_tps_idle_delta + u8_factor_1_1023_40008919;
      }
      else {
        launch_tps_target_limit = 1023;
      }
      launch_accel_pedal_raw = accel_pedal_pos;
      if ((ulonglong)accel_pedal_pos + (ulonglong)CAL_launch_enable_tps_margin < 1023) {
        launch_accel_pedal = accel_pedal_pos + CAL_launch_enable_tps_margin;
      }
      else {
        launch_accel_pedal = 1023;
      }
    }
    if (launch_tps_target_limit < _target_tps_factor1_255___) {
      _target_tps_factor1_255___ = (ulonglong)launch_tps_target_limit;
    }
    if (launch_accel_pedal < accel_pedal_pos) {
      lc_activate_timer = lc_activate_timer + 1;
      if (CAL_launch_activate_timer < lc_activate_timer) {
        launch_mode = LC_INACTIVE;
        lc_activate_timer = 0;
        launch_accel_pedal = 0;
        launch_tps_target_limit = 0;
        launch_accel_pedal_raw = 0;
        launch_tps_idle_delta = 0;
      }
    }
    else {
      lc_activate_timer = 0;
    }
    if (CAL_launch_activate_tps_threshold < accel_pedal_pos) {
      launch_mode = LC_ACTIVE_HOLD;
      lc_activate_timer = 0;
      launch_accel_pedal = 0;
      launch_tps_target_limit = 0;
      launch_accel_pedal_raw = 0;
      launch_tps_idle_delta = 0;
    }
    if (((((ushort)((ushort)CAL_launch_enable_carspeed[1] * 100) < car_speed_div100) ||
         (car_speed_div100 < (ushort)((ushort)CAL_launch_enable_carspeed[0] * 100))) ||
        ((clutch_pos_sensor != 1 && ((COD_base[1] >> 21 & 3) != 0)))) ||
       ((((steering_angle_abs1 = libc_abs((longlong)(short)steering_angle),
          (ulonglong)CAL_launch_enable_steering_max << 1 < (steering_angle_abs1 & 0xffffffff) ||
          ((steering_angle_sensor_flags____ & 1) == 0)) || ((abs_esp_flags & 8) != 0)) ||
        (((abs_esp_flags & 0x10) != 0 || (launch_control_feature_enabled___ == false)))))) {
      launch_mode = LC_INACTIVE;
      lc_activate_timer = 0;
      launch_accel_pedal = 0;
      launch_tps_target_limit = 0;
      launch_accel_pedal_raw = 0;
      launch_tps_idle_delta = 0;
    }
  }
  else if (launch_mode == LC_ACTIVE_HOLD) {
    if (launch_tps_idle_delta == 0) {
      launch_tps_idle_delta = 0;
      if (idle_tps_requested < tps_u16) {
        launch_tps_idle_delta =
             (u16_factor_1_1023)((int)((uint)tps_u16 - (uint)idle_tps_requested) >> 2);
      }
    }
    if ((COD_base[0] >> 0xd & 7) == 0) {
      _lc_tps_step_ =
           lookup_2D_uint8_interpolated
                     ('\b',(uint8_t)(((ulonglong)launch_tps_ramp_index << 32) >> 34),
                      CAL_launch_unknown_manual,CAL_launch_unknown_manual_X_unknown);
    }
    else if ((COD_base[0] >> 2 & 1) == 0) {
      _lc_tps_step_ =
           lookup_2D_uint8_interpolated
                     ('\b',(uint8_t)(((ulonglong)launch_tps_ramp_index << 32) >> 34),
                      CAL_launch_unknown_ips_nolc,CAL_launch_unknown_ips_nolc_X_unknown);
    }
    else {
      _lc_tps_step_ =
           lookup_2D_uint8_interpolated
                     ('\b',(uint8_t)(((ulonglong)launch_tps_ramp_index << 32) >> 34),
                      CAL_launch_unknown_ips,CAL_launch_unknown_ips_X_unknown);
    }
    launch_tps_ramp_step = (u16_factor_1_255)_lc_tps_step_;
    launch_tps_ramp_target = 1023;
    if ((ulonglong)launch_tps_idle_delta + (ulonglong)launch_tps_ramp_step * 4 < 1023) {
      launch_tps_ramp_target = launch_tps_idle_delta + launch_tps_ramp_step * 4;
    }
    if (launch_tps_ramp_index < 1023) {
      launch_tps_ramp_index = launch_tps_ramp_index + 1;
    }
    if (launch_tps_ramp_target < _target_tps_factor1_255___) {
      _target_tps_factor1_255___ = (ulonglong)launch_tps_ramp_target;
    }
    if (((((clutch_pos_sensor != 1) && ((COD_base[1] >> 0x15 & 3) != 0)) ||
         ((car_current_gear != GEAR_2 &&
          ((car_current_gear != GEAR_3 && ((COD_base[0] >> 0xd & 7) == 0)))))) ||
        (uVar2 = libc_abs((longlong)(short)steering_angle),
        (ulonglong)CAL_launch_enable_steering_max << 1 < (uVar2 & 0xffffffff))) ||
       (((steering_angle_sensor_flags____ & 1) == 0 ||
        ((uint)DAT_40008920 <= (uint)((int)(uint)launch_tps_ramp_index >> 2))))) {
      launch_mode = LC_INACTIVE;
      launch_tps_ramp_target = 0;
      launch_tps_ramp_index = 0;
      launch_tps_idle_delta = 0;
    }
  }
  else if (launch_mode == LC_FREEREV) {
    if ((((engine_operating_state_flags & 8) != 0) || (car_current_gear != NO_GEAR)) ||
       (car_speed_div100 != 0)) {
      launch_mode = LC_INACTIVE;
    }
  }
  else {
    launch_mode = LC_INACTIVE;
  }
LAB_0009a898:
  if ((((COD_base[0] >> 0x19 & 7) == 0) || ((cruise_status_bit2 & 0xffff) == 0)) ||
     (cruise_status_bit18 == 0)) {
    _cruise_has_tps_control = 0;
  }
  else {
    _cruise_status2 = _cruise_status;
    if (((((uint)_cruise_tps_unknown & 0xffff) + 9 < (uint)_target_tps_factor1_255___) &&
        (cruise_has_control_of_pedal == 0)) &&
       (_cruise_status2 = _cruise_status | 0x400, (cruise_status_bit13 & 0xffff) == 0)) {
      _cruise_status2 = _cruise_status;
    }
    _cruise_status = _cruise_status2 & 0xffbfffff;
    if ((uint)DAT_400088bf < (uint)_target_tps_factor1_255___) {
      _cruise_status = _cruise_status2 | 0x400000;
    }
    if (cruise_has_control_of_pedal == 0) {
      DAT_400016a6 = 100;
    }
    else {
      cVar1 = DAT_400016a6 + -1;
      if (DAT_400016a6 == 0) {
        cVar1 = DAT_400016a6;
      }
      DAT_400016a6 = cVar1;
      if (cVar1 == 0) {
        _cruise_status = _cruise_status & 0xfffffbff;
      }
    }
    if ((DAT_400016a8 == 0) && (_car_speed < _cruise_speed_target)) {
      _cruise_status = _cruise_status & 0xfffffbff;
    }
    if ((_cruise_status & 0x400) == 0) {
      DAT_400016a8 = 500;
    }
    else {
      _cruise_tps_unknown = _target_tps_factor1_255___;
      if (DAT_400016a8 != 0) {
        DAT_400016a8 = DAT_400016a8 + -1;
      }
    }
    _target_tps_factor1_255___ = _cruise_tps_unknown;
    if ((short)cruise_tps_commanded < (short)(ushort)CAL_cruise_accel_pedal_override_threshold_exit)
    {
      _cruise_has_tps_control = 1;
    }
    else if ((short)(ushort)CAL_cruise_accel_pedal_override_threshold_enter <
             (short)cruise_tps_commanded) {
      _cruise_has_tps_control = 0;
    }
  }
  tps_requested2 = (u16_factor_1_255)_target_tps_factor1_255___;
  tps_driver_requested3___ = tps_requested2;
  if (((uint)u16_factor_1_1023_400016e4 <
       ((uint)((_target_tps_factor1_255___ & 0xffff) << 2) & 0b1111111111111100) +
       (uint)idle_tps_requested) &&
     (tps_requested2 =
           (u16_factor_1_255)
           ((int)((uint)u16_factor_1_1023_400016e4 - (uint)idle_tps_requested) >> 2),
     u16_factor_1_1023_400016e4 < idle_tps_requested)) {
    tps_requested2 = 0;
  }
  accelerator_pedal_pos_d = (ushort)_accel_pedal_pos_d_voltage;
  accelerator_pedal_pos_e = (ushort)_accel_pedal_pos_e_voltage;
  if ((COD_base[0] >> 25 & 7) == 0) {
    _cruise_status = obd_ii_cruise_status;
  }
  obd_ii_cruise_status = _cruise_status;
  if ((((COD_base[0] >> 0x19 & 7) == 0) || ((cruise_status_bit2 & 0xffff) == 0)) ||
     (_cruise_has_tps_control == 0)) {
    if ((((COD_base[0] >> 0x19 & 7) == 0) || ((cruise_status_bit2 & 0xffff) == 0)) &&
       (cruise_has_control_of_pedal != 0)) {
      engine_operating_state_flags = engine_operating_state_flags | 0b00000001;
    }
    else {
      engine_operating_state_flags = engine_operating_state_flags & 0b1111111111111110;
    }
  }
  else {
    engine_operating_state_flags = engine_operating_state_flags | 0b00000001;
  }
  return;
}



void update_accel_pedal_zero_trim_200hz(void)

{
  accel_pedal_zero_trim_timer = accel_pedal_zero_trim_timer - 1;
  if ((short)accel_pedal_zero_trim_timer < 1) {
    accel_pedal_zero_trim_timer = (u16_time_5ms)CAL_tps_accel_pedal_zero_calibrate_timer;
    update_pedalD_min_offset(accelerator_pedal_pos_d);
    update_pedalE_min_offset(accelerator_pedal_pos_e);
  }
  return;
}



uint pedalD_scale_to_10bit(uint _accel_pedal_pos_d_voltage)

{
  uint uVar1;
  
  uVar1 = (uint)DAT_40008713 *
          ((_accel_pedal_pos_d_voltage & 0xffff) - (int)(short)u16_factor_1_1023_400016a2);
  uVar1 = ((int)uVar1 >> 6) + (uint)((int)uVar1 < 0 && (uVar1 & 63) != 0);
  if ((int)uVar1 < 0) {
    uVar1 = 0;
  }
  else if (1023 < (int)uVar1) {
    uVar1 = 1023;
  }
  return uVar1 & 0xffff;
}



u16_factor_1_1023 accel_pedal_e_scale_voltage(u16_voltage_5_1023v _accel_pedal_pos_e_voltage)

{
  uint uVar1;
  uint rv;
  
  uVar1 = (uint)DAT_40008714 *
          ((uint)_accel_pedal_pos_e_voltage - (int)(short)u16_factor_1_1023_400016a4);
  rv = ((int)uVar1 >> 5) + (uint)((int)uVar1 < 0 && (uVar1 & 0x1f) != 0);
  if ((int)rv < 0) {
    rv = 0;
  }
  else if (1023 < (int)rv) {
    rv = 1023;
  }
  return (u16_factor_1_1023)rv;
}



void update_pedalD_min_offset(u16_factor_1_1023 accelerator_pedal_pos_d)

{
  uint uVar1;
  
  if ((accelerator_pedal_pos_d < u16_factor_1_1023_400016a2) && (169 < accelerator_pedal_pos_d)) {
    uVar1 = (uint)DAT_40008712 *
            ((int)(short)u16_factor_1_1023_400016a2 - (uint)accelerator_pedal_pos_d);
    u16_factor_1_1023_400016a2 =
         u16_factor_1_1023_400016a2 -
         ((short)(uVar1 >> 8) + (ushort)((int)uVar1 < 0 && (uVar1 & 0xff) != 0));
    if ((short)u16_factor_1_1023_400016a2 < 0xaa) {
      u16_factor_1_1023_400016a2 = 0xaa;
    }
  }
  return;
}



void update_pedalE_min_offset(u16_factor_1_1023 accelerator_pedal_pos_e)

{
  uint uVar1;
  
  if ((accelerator_pedal_pos_e < u16_factor_1_1023_400016a4) && (69 < accelerator_pedal_pos_e)) {
    uVar1 = (uint)DAT_40008712 *
            ((int)(short)u16_factor_1_1023_400016a4 - (uint)accelerator_pedal_pos_e);
    u16_factor_1_1023_400016a4 =
         u16_factor_1_1023_400016a4 -
         ((short)(uVar1 >> 8) + (ushort)((int)uVar1 < 0 && (uVar1 & 0xff) != 0));
    if ((short)u16_factor_1_1023_400016a4 < 0x46) {
      u16_factor_1_1023_400016a4 = 0x46;
    }
  }
  return;
}



void obd_ii_accel_pedal_monitors(void)

{
  if ((CAL_obd_ii_P2138 & 7) != 0) {
    if (((DAT_400026c4 & 0x10) == 0) && ((DAT_400026c4 & 0x80) == 0)) {
      DAT_400022ec = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2138,&LEA_obd_ii_P2138_flags);
      if (DAT_400022eb < DAT_4000d3f3) {
        DAT_400022eb = DAT_400022eb + 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2138,&LEA_obd_ii_P2138_flags,&DAT_40004e20,&DAT_40004e21,0x2138,0);
      DAT_400022eb = 0;
    }
  }
  if ((CAL_obd_ii_P2122 & 7) != 0) {
    if (((DAT_400026c4 & 2) == 0) && ((DAT_400026c4 & 0x40) == 0)) {
      DAT_400022f0 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2122,&LEA_obd_ii_P2122_flags);
      if (DAT_400022ee < DAT_4000d3e9) {
        DAT_400022ee = DAT_400022ee + 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2122,&LEA_obd_ii_P2122_flags,&DAT_40004e11,&DAT_40004e12,0x2122,0);
      DAT_400022ee = 0;
    }
  }
  if ((CAL_obd_ii_P2123 & 7) != 0) {
    if (((DAT_400026c4 & 1) == 0) && ((DAT_400026c4 & 0x20) == 0)) {
      DAT_400022f4 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2123,&LEA_obd_ii_P2123_flags);
      if (DAT_400022f2 < DAT_4000d3ea) {
        DAT_400022f2 = DAT_400022f2 + 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2123,&LEA_obd_ii_P2123_flags,&DAT_40004e14,&DAT_40004e15,0x2123,0);
      DAT_400022f2 = 0;
    }
  }
  if ((CAL_obd_ii_P2127 & 7) != 0) {
    if (((DAT_400026c4 & 8) == 0) && ((DAT_400026c4 & 0x40) == 0)) {
      DAT_400022f8 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2127,&LEA_obd_ii_P2127_flags);
      if (DAT_400022f6 < DAT_4000d3eb) {
        DAT_400022f6 = DAT_400022f6 + 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2127,&LEA_obd_ii_P2127_flags,&DAT_40004e17,&DAT_40004e18,0x2127,0);
      DAT_400022f6 = 0;
    }
  }
  if ((CAL_obd_ii_P2128 & 7) != 0) {
    if (((DAT_400026c4 & 4) == 0) && ((DAT_400026c4 & 0x20) == 0)) {
      DAT_400022fc = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P2128,&LEA_obd_ii_P2128_flags);
      if (DAT_400022fa < DAT_4000d3ec) {
        DAT_400022fa = DAT_400022fa + 1;
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2128,&LEA_obd_ii_P2128_flags,&DAT_40004e1a,&DAT_40004e1b,0x2128,0);
      DAT_400022fa = 0;
    }
  }
  if ((((DAT_400022eb == 0) || (DAT_400022ee == 0)) || (DAT_400022f2 == 0)) ||
     ((DAT_400022f6 == 0 || (DAT_400022fa == 0)))) {
    engine_state_failure_flags = engine_state_failure_flags | 0x8000;
  }
  return;
}



void FUN_0009b184(void)

{
  DAT_400022eb = DAT_4000d3f3;
  DAT_400022ee = DAT_4000d3e9;
  DAT_400022f2 = DAT_4000d3ea;
  DAT_400022f6 = DAT_4000d3eb;
  DAT_400022fa = DAT_4000d3ec;
  obdii_update_dtc_state(&CAL_obd_ii_P2138,&LEA_obd_ii_P2138_flags,0x2138,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2122,&LEA_obd_ii_P2122_flags,0x2122,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2123,&LEA_obd_ii_P2123_flags,0x2123,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2127,&LEA_obd_ii_P2127_flags,0x2127,0);
  obdii_update_dtc_state(&CAL_obd_ii_P2128,&LEA_obd_ii_P2128_flags,0x2128,0);
  return;
}



void FUN_0009b2cc(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2138,&LEA_obd_ii_P2138_flags,&DAT_40004e20,&DAT_40004e21,0x2138,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2122,&LEA_obd_ii_P2122_flags,&DAT_40004e11,&DAT_40004e12,0x2122,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2123,&LEA_obd_ii_P2123_flags,&DAT_40004e14,&DAT_40004e15,0x2123,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2127,&LEA_obd_ii_P2127_flags,&DAT_40004e17,&DAT_40004e18,0x2127,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2128,&LEA_obd_ii_P2128_flags,&DAT_40004e1a,&DAT_40004e1b,0x2128,0);
  return;
}



int read_accel_pedal_pos_d_voltage(void)

{
  return (int)(uint)adc_dma_dest[0] >> 4;
}



int read_accel_pedal_pos_e_voltage(void)

{
  return (int)(uint)adc_dma_dest[1] >> 4;
}



u16_factor_1_1023 get_accel_pedal_pos(void)

{
  return accel_pedal_pos;
}



void FUN_0009b470(void)

{
  siu_pcr[0x8d] = 0xe84;
  FUN_000543b4(0x1b,2,(longlong)(int)(100000 / DAT_40008776),0,1,0,10000000);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void evap_state_control(void)

{
  ushort uVar1;
  char cVar2;
  undefined2 uVar3;
  byte bVar4;
  
                    // uint8_t_400086f6 is always zero in default config
  if (((((((evap_status_flags & 0x100) == 0) || ((flags_unknown & 0x4000) != 0)) ||
        ((flags_unknown & 0x40000) != 0)) &&
       ((((flags_unknown & 8) == 0 || ((evap_status_flags & 1) == 0)) && ((flags_unknown & 1) == 0))
       )) || (uint8_t_400086f6 == 1)) &&
     (((uint8_t_400086f6 != 2 && (evap_timer_unknown == 0)) &&
      ((((misfire_condition_flags & 0x1000) == 0 &&
        ((((((misfire_condition_flags & 0x2000) == 0 && ((DAT_40001e90 & 2) != 0)) &&
           ((DAT_40001e92 & 2) != 0)) &&
          (((flags_unknown & 0x800) == 0 && ((LEA_obd_ii_P0441_flags & 2) == 0)))) &&
         ((LEA_obd_ii_P0444_flags & 2) == 0)))) && ((LEA_obd_ii_P0445_flags & 2) == 0)))))) {
    evap_status_flags = evap_status_flags | 2;
  }
  else if (((DAT_40001e90 & 2) == 0) || ((DAT_40001e92 & 2) == 0)) {
    if (((DAT_40001e90 & 0x404) == 0) || ((DAT_40001e92 & 0x404) == 0)) {
      evap_status_flags = evap_status_flags & 0xfffd;
    }
  }
  else {
    evap_status_flags = evap_status_flags & 0xfffd;
  }
  uVar1 = evap_status_flags | 0x80;
  if (DAT_400016b4 == '\0') {
    uVar1 = evap_status_flags & 0xff7f;
  }
  if (((inj_flags & 2) == 0) && ((uVar1 & 0x4000) == 0)) {
    evap_status_flags = uVar1 & 0xffdf;
  }
  else {
    evap_status_flags = uVar1 | 0x20;
  }
  if ((((evap_timer_unknown == 0) && ((flags_unknown & 0x800) == 0)) &&
      (((evap_status_flags & 0x20) == 0 || ((evap_status_flags & 0x80) == 0)))) &&
     (((((COD_base[0] >> 0xd & 7) != 1 &&
        (((COD_base[1] >> 0x15 & 3) != 2 || ((clutch_pos_sensor & 2) != 0)))) ||
       ((int)-(uint)DAT_4000895e <= (int)(short)obd_ii_idle_speed_error___)) &&
      (((int)-(uint)DAT_40008961 <= (int)(short)obd_ii_idle_speed_error___ && (DAT_40002377 != '\0')
       ))))) {
    if (0 < (short)obd_ii_idle_speed_error___) {
      evap_status_flags = evap_status_flags & 0xffbf;
    }
  }
  else {
    evap_status_flags = evap_status_flags | 0x40;
    if ((DAT_4000230c != 0) && (DAT_40002320 != 4)) {
      if ((DAT_40008960 < mass_ratio_b1_prev) || (stft_bank1 < 0)) {
        stft_bank1 = 0;
      }
      if ((DAT_40008960 < DAT_40001b1a) || (stft_bank2 < 0)) {
        stft_bank2 = 0;
      }
    }
  }
  if (!engine_is_running) {
    bVar4 = lookup_2D_uint8_interpolated
                      ('\b',coolant_temp,CAL_evap_timer_unknown1,
                       CAL_evap_timer_unknown1_X_coolant_temp);
    evap_timer_unknown = (ushort)bVar4 << 4;
    u16_time_100ms_40002374 = (ushort)DAT_400087ff << 4;
  }
  if ((fuel_flags_unknown & 1) == 0) {
    u8_time_100ms_40002370 = DAT_4000870e;
    if (u8_time_100ms_40002371 == '\0') {
      evap_status_flags = evap_status_flags & 0xbfff;
    }
  }
  else {
    if (u8_time_100ms_40002370 == 0) {
      evap_status_flags = evap_status_flags | 0x4000;
    }
    u8_time_100ms_40002371 = DAT_40008828;
  }
  if (((DAT_40001e88 & 0x10) == 0) || ((DAT_40001e8a & 0x10) == 0)) {
    evap_status_flags = evap_status_flags & 0xfeff;
  }
  else if (((evap_status_flags & 0x800) == 0) || (fuel_learn_timer != 0)) {
    evap_status_flags = evap_status_flags | 0x100;
  }
  if (DAT_40002320 == '\0') {
    DAT_4000230c = 0;
    DAT_40002360 = 0;
    DAT_4000234c = 0;
    DAT_40002344 = 0;
    DAT_40002340 = 0;
    DAT_400016b4 = DAT_400086f8;
    DAT_40002376 = DAT_40008800;
    if (((evap_status_flags & 0x100) != 0) && (fuel_learn_timer == 0)) {
      if ((evap_status_flags & 0x800) == 0) {
        if ((evap_status_flags & 0x1000) == 0) {
          fuel_learn_timer = (u16_time_100ms)((int)(uint)DAT_40008852 >> 3);
        }
        else {
          evap_status_flags = evap_status_flags & 0xfeff | 0x800;
        }
      }
      else {
        evap_status_flags = evap_status_flags & 0xfeff;
      }
    }
    if ((evap_status_flags & 2) == 0) {
      if (((flags_unknown & 8) != 0) && ((evap_status_flags & 1) != 0)) {
        flags_unknown = flags_unknown | 0x10;
        DAT_40002320 = '\x04';
        evap_status_flags = evap_status_flags & 0xfbff;
      }
    }
    else if (((evap_status_flags & 0x20) == 0) && ((evap_status_flags & 0x40) == 0)) {
      DAT_40002320 = 1;
    }
  }
  else if (DAT_40002320 == '\x01') {
    if ((evap_status_flags & 0x40) == 0) {
      if ((evap_status_flags & 0x20) == 0) {
        if ((evap_status_flags & 2) == 0) {
          DAT_40002320 = '\x02';
        }
        else {
          if (((((short)CAL_evap_commanded_purge_unknown < _obd_ii_commanded_evap_purge) &&
               (obd_ii_vapor_concentration < DAT_400087f6)) && ((DAT_40001e88 & 0x10) != 0)) &&
             ((DAT_40001e8a & 0x10) != 0)) {
            if (DAT_40002373 == '\0') {
              evap_status_flags = evap_status_flags | 0x900;
              fuel_learn_timer = DAT_40008852;
            }
          }
          else {
            DAT_40002373 = DAT_40008710;
          }
          if (DAT_4000881e < obd_ii_vapor_concentration) {
            if ((flags_unknown & 8) != 0) {
              evap_status_flags = evap_status_flags & 0xfffe | 0x200;
            }
          }
          else if ((short)CAL_evap_commanded_purge_unknown < _obd_ii_commanded_evap_purge) {
            evap_status_flags = evap_status_flags | 1;
          }
        }
      }
      else {
        DAT_4000230c = 0;
        uVar3 = 0;
        if (u16_time_100ms_40002374 == 0) {
          uVar3 = DAT_4000234c;
        }
        u8_time_100ms_400016b5 = DAT_40008829;
        if ((inj_flags & 2) != 0) {
          u8_time_100ms_400016b5 = DAT_400086fd;
        }
        DAT_40002320 = 3;
        DAT_4000234c = uVar3;
      }
    }
    else {
      DAT_40002320 = 0;
    }
  }
  else if (DAT_40002320 == 2) {
    if ((((evap_status_flags & 0x40) == 0) && ((evap_status_flags & 0x20) == 0)) &&
       (DAT_4000230c != 0)) {
      if ((evap_status_flags & 2) != 0) {
        DAT_40002320 = 1;
        DAT_400016b0 = (ushort)DAT_400086fb;
      }
    }
    else {
      DAT_40002320 = '\0';
    }
  }
  else if (DAT_40002320 == '\x03') {
    if ((u8_time_100ms_400016b5 == '\0') || ((evap_status_flags & 0x40) != 0)) {
      DAT_40002320 = '\0';
    }
    else {
      cVar2 = DAT_40002320;
      if (((evap_status_flags & 0x20) == 0) && (cVar2 = 1, (evap_status_flags & 2) == 0)) {
        cVar2 = DAT_40002320;
      }
      DAT_40002320 = cVar2;
      if ((DAT_40008829 < u8_time_100ms_400016b5) && ((evap_status_flags & 0x4000) != 0)) {
        u8_time_100ms_400016b5 = DAT_40008829;
      }
    }
  }
  else if (DAT_40002320 == '\x04') {
    if ((((flags_unknown & 8) == 0) || ((evap_status_flags & 2) != 0)) ||
       ((evap_status_flags & 1) == 0)) {
      flags_unknown = flags_unknown & 0xffffffef;
      DAT_40002320 = '\0';
    }
    if (obd_ii_system_leak_status < 3) {
      DAT_400016b4 = DAT_400086f8;
    }
    if ((DAT_400087f8 < obd_ii_vapor_concentration) && (DAT_4000cab1 < DAT_4000230c)) {
      evap_status_flags = evap_status_flags & 0xfffe | 0x600;
    }
  }
  else {
    DAT_40002320 = '\0';
  }
  return;
}



void evap_trim_integrator_update_per_bank_(uint8_t bank)

{
  int iVar1;
  
  if (((0 < *(int *)(&DAT_40002358 + (uint)bank * 4)) &&
      (((short)(&DAT_40001e94)[bank] < *(short *)(&DAT_40002334 + (uint)bank * 2) ||
       ((int)(short)(&DAT_40001e94)[bank] <= -((short)CAL_inj_stft_max____ + -0x28))))) ||
     ((*(int *)(&DAT_40002358 + (uint)bank * 4) < 0 &&
      ((*(short *)(&DAT_40002334 + (uint)bank * 2) < (short)(&DAT_40001e94)[bank] ||
       ((short)CAL_inj_stft_max____ + -0x28 <= (int)(short)(&DAT_40001e94)[bank])))))) {
    iVar1 = (&DAT_40002340)[bank] + (int)DAT_4000881c * *(int *)(&DAT_40002358 + (uint)bank * 4);
    if ((int)((uint)DAT_400086ba << 8) < iVar1) {
      (&DAT_40002340)[bank] = (uint)DAT_400086ba << 8;
    }
    else if (iVar1 < 0) {
      (&DAT_40002340)[bank] = 0;
    }
    else {
      (&DAT_40002340)[bank] = iVar1;
    }
  }
  *(undefined2 *)(&DAT_40002334 + (uint)bank * 2) = (&DAT_40001e94)[bank];
  return;
}



void evap_vapor_concentration___(uint8_t measurement_point)

{
  uint uVar1;
  ulonglong uVar2;
  int iVar3;
  
  if ((fuel_flags_unknown & 1) == 0) {
    *(undefined2 *)(&DAT_4000236c + (uint)measurement_point * 2) =
         -(&DAT_40001e94)[measurement_point];
  }
  else {
    *(undefined2 *)(&DAT_4000236c + (uint)measurement_point * 2) = 0;
  }
  iVar3 = (int)((uint)inj_fuel_mass_required * 0x19 *
               (int)*(short *)(&DAT_4000236c + (uint)measurement_point * 2)) /
          (int)(uint)DAT_40001d50;
  if (iVar3 < 0x8000) {
    if (iVar3 < -0x8000) {
      *(undefined2 *)(&DAT_40002338 + (uint)measurement_point * 2) = 0x8000;
    }
    else {
      *(short *)(&DAT_40002338 + (uint)measurement_point * 2) = (short)iVar3;
    }
  }
  else {
    *(undefined2 *)(&DAT_40002338 + (uint)measurement_point * 2) = 0x7fff;
  }
  if (DAT_4000230e == 0) {
    *(undefined4 *)(&DAT_40002358 + (uint)measurement_point * 4) = 0;
  }
  else if (DAT_4000230e < 0x1a) {
    *(int *)(&DAT_40002358 + (uint)measurement_point * 4) =
         (int)*(short *)(&DAT_40002338 + (uint)measurement_point * 2) << 3;
  }
  else {
    *(int *)(&DAT_40002358 + (uint)measurement_point * 4) =
         (*(short *)(&DAT_40002338 + (uint)measurement_point * 2) * 200) / (int)(uint)DAT_4000230e;
  }
  uVar1 = (&DAT_40002340)[measurement_point];
  iVar3 = ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0);
  if (iVar3 < 0) {
    (&DAT_4000231c)[measurement_point] = 0;
  }
  else if (iVar3 < 0x10000) {
    (&DAT_4000231c)[measurement_point] = (short)iVar3;
  }
  else {
    (&DAT_4000231c)[measurement_point] = 0xffff;
  }
  uVar2 = (ulonglong)
          ((longlong)(int)(uint)DAT_4000230e *
          (longlong)(int)(uint)(ushort)(&DAT_4000231c)[measurement_point]) / 200;
  if (uVar2 < 0x10000) {
    *(short *)(&DAT_40002348 + (uint)measurement_point * 2) = (short)uVar2;
  }
  else {
    *(undefined2 *)(&DAT_40002348 + (uint)measurement_point * 2) = 0xffff;
  }
  (&u16_mass_100ug_40002314)[measurement_point] =
       (u16_mass_100ug)
       ((ulonglong)
        ((longlong)(int)(uint)DAT_40001d50 *
        (longlong)(int)(uint)*(ushort *)(&DAT_40002348 + (uint)measurement_point * 2)) / 250000);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void evap(void)

{
  ulonglong uVar1;
  ushort uVar3;
  uint uVar2;
  byte bVar4;
  uint fuel_mass_unknown;
  
  if ((((ushort)(DAT_40001e94 + 199U) < 399) && (-200 < DAT_40001e96)) && (DAT_40001e96 < 200)) {
    evap_status_flags = evap_status_flags | 0x10;
  }
  else {
    evap_status_flags = evap_status_flags & 0xffef;
  }
  if ((((ushort)(DAT_40001e94 + 99U) < 199) && (-100 < DAT_40001e96)) &&
     ((DAT_40001e96 < 100 && (((evap_status_flags & 0x100) != 0 && (DAT_4000230c == 0)))))) {
    if (u8_time_100ms_40002330 == '\0') {
      evap_status_flags = evap_status_flags | 0x1000;
    }
  }
  else {
    evap_status_flags = evap_status_flags & 0xefff;
    u8_time_100ms_40002330 = DAT_400087fe;
  }
  if ((obd_ii_system_leak_status < 3) || (DAT_40002320 != '\x04')) {
    if (((evap_status_flags & 2) == 0) &&
       ((((flags_unknown & 8) != 0 && ((evap_status_flags & 1) != 0)) || ((flags_unknown & 1) != 0))
       )) {
      DAT_400016b0 = (ushort)DAT_400086fb;
      DAT_400016b2 = (ushort)DAT_4000caa4 << 3;
    }
    else if (DAT_400016b4 == '\0') {
      DAT_400016b0 = (ushort)(((ulonglong)obd_ii_maf_flow * 225) /
                             ((ulonglong)obd_ii_vapor_concentration * 2 + 750));
      if (DAT_400016b0 < DAT_400086fb) {
        DAT_400016b0 = (ushort)DAT_400086fb;
      }
      DAT_400016b2 = (ushort)DAT_4000870d << 1;
    }
    else {
      DAT_400016b0 = (ushort)DAT_400086fb;
      DAT_400016b2 = (ushort)DAT_400086fc;
    }
  }
  else {
    DAT_400016b0 = (ushort)DAT_40008701 << 1;
    DAT_400016b2 = (ushort)DAT_40008702 << 3;
  }
  if (((((obd_ii_idle_air_output < (ushort)((ushort)DAT_40008700 * 10)) ||
        ((int)obd_ii_injector_pulse_time_bank1_us < (int)((uint)DAT_400086fa << 3))) ||
       ((int)obd_ii_injector_pulse_time_bank2_us < (int)((uint)DAT_400086fa << 3))) ||
      ((DAT_40002320 == '\x02' &&
       (((evap_status_flags & 0x10) != 0 || (uint8_t_400086f6 == '\x02')))))) ||
     ((DAT_40002320 == '\x04' && ((flags_unknown & 0x40) == 0)))) {
    evap_status_flags = evap_status_flags & 0xfffb | 8;
  }
  else if ((((((ushort)((ushort)DAT_400086ff * 10) < obd_ii_idle_air_output) &&
             ((int)((uint)DAT_400086f9 << 3) < (int)obd_ii_injector_pulse_time_bank1_us)) &&
            ((int)((uint)DAT_400086f9 << 3) < (int)obd_ii_injector_pulse_time_bank2_us)) &&
           ((evap_status_flags & 0x10) != 0)) &&
          (((DAT_40002320 == '\x01' &&
            ((((flags_unknown & 0x40000) == 0 && ((flags_unknown & 0x4000) == 0)) ||
             ((short)_obd_ii_commanded_evap_purge < DAT_4000caf6)))) ||
           ((DAT_40002320 == '\x04' && ((flags_unknown & 0x40) != 0)))))) {
    evap_status_flags = evap_status_flags & 0xfff7 | 4;
  }
  else {
    evap_status_flags = evap_status_flags & 0xfff3;
  }
  if (vacuum_mbar == 0) {
    DAT_4000234f = 0;
  }
  else {
    DAT_4000234f = lookup_2D_uint8_interpolated
                             ('\b',(uint8_t)(DAT_40002322 >> 2),&DAT_4000b2aa,&DAT_4000b2a2);
  }
  if ((DAT_4000231c < 2) && (DAT_4000231e < 2)) {
    DAT_40002350 = 0xff;
  }
  else {
    fuel_mass_unknown = 0;
    if (u16_mass_100ug_40002368 < inj_fuel_mass_required) {
      fuel_mass_unknown = (uint)inj_fuel_mass_required - (uint)u16_mass_100ug_40002368 & 0xffff;
    }
    u16_mass_100ug_40002368 =
         (u16_mass_100ug)
         (((longlong)(int)(uint)inj_flow_rate_scaled *
           (longlong)(int)((uint)DAT_400086f9 * 8 - (uint)inj_pulse_time_scaled) & 0xffffffffU) /
         10000);
    if (DAT_4000231e < DAT_4000231c) {
      uVar1 = (((longlong)(int)fuel_mass_unknown * 0x4bffc & 0xffffffffU) /
              (ulonglong)(uint)((int)(uint)DAT_4000231c >> 1)) /
              (ulonglong)(uint)((int)(uint)DAT_40001d50 >> 4);
    }
    else {
      uVar1 = (((longlong)(int)fuel_mass_unknown * 0x4bffc & 0xffffffffU) /
              (ulonglong)(uint)((int)(uint)DAT_4000231e >> 1)) /
              (ulonglong)(uint)((int)(uint)DAT_40001d50 >> 4);
    }
    DAT_40002350 = (byte)(uVar1 & 0xffff);
    if (255 < (uVar1 & 0xffff)) {
      DAT_40002350 = 255;
    }
  }
  DAT_4000234e = DAT_4000234f;
  if (DAT_40002350 < DAT_4000234f) {
    DAT_4000234e = DAT_40002350;
  }
  if ((DAT_400086de < DAT_4000234e) && ((engine_operating_state_flags & 8) != 0)) {
    DAT_4000234e = DAT_400086de;
  }
  if ((DAT_40001fee < DAT_4000234e) && (DAT_40002320 == '\x04')) {
    DAT_4000234e = DAT_40001fee;
  }
  bVar4 = lookup_3D_uint8_interpolated
                    (16,16,(ushort)DAT_4000230c,DAT_40002322 >> 2 & 0xff,&DAT_4000b1a2,&DAT_4000b182
                     ,&DAT_4000b192);
  DAT_40002328 = (ushort)bVar4;
  uVar1 = (ulonglong)((longlong)(int)(uint)DAT_4000230c * 0x60c5121d5d4d0) >> 0x20;
  DAT_4000230e = (ushort)((((longlong)(int)(uint)DAT_4000230c * 0x9a9250 - uVar1 << 0x20) >> 0x21) +
                          uVar1 >> 0x10) >> 4;
  if (evap_canister_close_command == 0) {
    if (DAT_4000230e < 10701) {
      DAT_40002324 = (undefined1)(DAT_4000230e / DAT_4000870c);
    }
    else {
      DAT_40002324 = 0xf2;
    }
  }
  else {
    DAT_40002324 = 0;
  }
                    // calculate pre and post canister vapor concentrations?
  evap_vapor_concentration___(0);
  evap_vapor_concentration___(1);
  obd_ii_vapor_concentration = 0;
  if (((obd_ii_mode2f_flags_enabled & 0x10000) == 0) || ((obd_ii_mode2f_flags_state & 0x10000) == 0)
     ) {
    if (DAT_4000234c == 0) {
      _obd_ii_commanded_evap_purge = 0;
      uVar3 = 0;
    }
    else {
      _obd_ii_commanded_evap_purge = DAT_40008803 + DAT_40002328;
      if ((short)(ushort)DAT_40008802 < (short)_obd_ii_commanded_evap_purge) {
        _obd_ii_commanded_evap_purge = (ushort)DAT_40008802;
      }
      else if ((short)_obd_ii_commanded_evap_purge < (short)(ushort)DAT_40008803) {
        _obd_ii_commanded_evap_purge = (ushort)DAT_40008803;
      }
      uVar3 = _obd_ii_commanded_evap_purge;
      if (DAT_40002376 != 0) {
        uVar3 = (ushort)DAT_40008801;
      }
    }
  }
  else {
    _obd_ii_commanded_evap_purge = (ushort)DAT_40002392;
    uVar3 = (ushort)DAT_40002392;
  }
  uVar2 = (short)uVar3 * 10000;
  uint16_t_40002326 = (short)(uVar2 >> 8) + (ushort)((int)uVar2 < 0 && (uVar2 & 0xff) != 0);
  evap_command_purge_valve___(uint16_t_40002326);
  return;
}



void FUN_0009cb00_100ms(void)

{
  bool bVar1;
  ushort uVar2;
  char cVar3;
  uint uVar4;
  u16_time_100ms evap_timer1_tmp;
  
  cVar3 = DAT_400016b4;
  if ((DAT_400016b4 != '\0') && (cVar3 = DAT_400016b4 + -1, (evap_status_flags & 0x10) == 0)) {
    cVar3 = DAT_400016b4;
  }
  DAT_400016b4 = cVar3;
  bVar1 = u8_time_100ms_400016b5 == '\0';
  u8_time_100ms_400016b5 = u8_time_100ms_400016b5 + 0xff;
  if (bVar1) {
    u8_time_100ms_400016b5 = 0;
  }
  evap_timer1_tmp = evap_timer_unknown;
  if ((evap_timer_unknown != 0) &&
     (evap_timer1_tmp = evap_timer_unknown - 1, (DAT_40001e90 & 2) == 0)) {
    evap_timer1_tmp = evap_timer_unknown;
  }
  evap_timer_unknown = evap_timer1_tmp;
  bVar1 = u8_time_100ms_40002370 == 0;
  u8_time_100ms_40002370 = u8_time_100ms_40002370 + 0xff;
  if (bVar1) {
    u8_time_100ms_40002370 = 0;
  }
  bVar1 = u8_time_100ms_40002330 == 0;
  u8_time_100ms_40002330 = u8_time_100ms_40002330 + 0xff;
  if (bVar1) {
    u8_time_100ms_40002330 = 0;
  }
  bVar1 = u16_time_100ms_40002374 == 0;
  u16_time_100ms_40002374 = u16_time_100ms_40002374 - 1;
  if (bVar1) {
    u16_time_100ms_40002374 = 0;
  }
  bVar1 = DAT_40002373 == '\0';
  DAT_40002373 = DAT_40002373 + -1;
  if (bVar1) {
    DAT_40002373 = '\0';
  }
  bVar1 = DAT_40002376 == '\0';
  DAT_40002376 = DAT_40002376 + -1;
  if (bVar1) {
    DAT_40002376 = '\0';
  }
  if ((fuel_learn_timer != 0) && (((DAT_40001e88 & 0x400) != 0 || ((DAT_40001e8a & 0x400) != 0)))) {
    fuel_learn_timer = fuel_learn_timer - 1;
  }
  bVar1 = u8_time_100ms_40002371 == 0;
  u8_time_100ms_40002371 = u8_time_100ms_40002371 + 0xff;
  if (bVar1) {
    u8_time_100ms_40002371 = 0;
  }
  if (evap_canister_close_command == 0) {
    if (((((int)(uint)DAT_4000895c < (int)stft_bank1) || ((int)(uint)DAT_4000895c < (int)stft_bank2)
         ) || ((int)stft_bank1 < (int)-(uint)DAT_4000895c)) ||
       ((int)stft_bank2 < (int)-(uint)DAT_4000895c)) {
      DAT_40002377 = '\0';
    }
    else if ((((DAT_400018c6 == '\0') && (obd_ii_o2_sensor1_voltage < DAT_40008958)) ||
             ((DAT_400018c5 == '\0' && (obd_ii_o2_sensor5_voltage < DAT_40008958)))) ||
            (((fuel_flags_unknown & 1) == 0 &&
             ((DAT_4000895a < obd_ii_o2_sensor1_voltage ||
              (DAT_4000895a < obd_ii_o2_sensor5_voltage)))))) {
      if (DAT_40002377 != '\0') {
        DAT_40002377 = DAT_40002377 + -1;
      }
    }
    else {
      DAT_40002377 = DAT_4000895f;
    }
  }
  else {
    DAT_40002377 = DAT_4000895f;
  }
  uVar4 = DAT_40002364 * (0x100 - (uint)DAT_400086fe);
  DAT_40002364 = ((int)uVar4 >> 8) + (uint)((int)uVar4 < 0 && (uVar4 & 0xff) != 0) +
                 (uint)vacuum_mbar * (uint)DAT_400086fe;
  DAT_40002322 = (short)(DAT_40002364 >> 8) +
                 (ushort)((int)DAT_40002364 < 0 && (DAT_40002364 & 0xff) != 0);
  if (DAT_4000230c != 0) {
    evap_trim_integrator_update_per_bank_('\0');
    evap_trim_integrator_update_per_bank_('\x01');
  }
  if ((evap_status_flags & 0x20) == 0) {
    if (DAT_40002372 < 10) {
      DAT_40002372 = DAT_40002372 + 1;
      if ((ushort)((ushort)DAT_4000234e << 8) < DAT_40002360) {
        DAT_4000234c = (ushort)DAT_4000234e << 8;
      }
      else {
        DAT_4000234c = DAT_40002360;
      }
    }
    else if ((ushort)((ushort)DAT_4000234e << 8) < DAT_4000234c) {
      DAT_4000234c = (ushort)DAT_4000234e << 8;
    }
    else if ((evap_status_flags & 4) == 0) {
      if ((evap_status_flags & 8) != 0) {
        bVar1 = DAT_400016b2 < DAT_4000234c;
        uVar2 = DAT_4000234c - DAT_400016b2;
        DAT_4000234c = 0;
        if (bVar1) {
          DAT_4000234c = uVar2;
        }
      }
    }
    else if ((ulonglong)DAT_400016b0 + (ulonglong)DAT_4000234c < (ulonglong)DAT_4000234e << 8) {
      DAT_4000234c = (ushort)((ulonglong)DAT_400016b0 + (ulonglong)DAT_4000234c);
    }
    else {
      DAT_4000234c = (ushort)DAT_4000234e << 8;
    }
    DAT_4000230c = (byte)(DAT_4000234c >> 8);
  }
  else {
    DAT_40002372 = 0;
    DAT_40002360 = DAT_4000234c;
  }
  DAT_4000232c = DAT_4000232c + (uint)DAT_4000230c;
  DAT_40002354 = DAT_40002354 + (uint)DAT_4000230e;
  return;
}



void evap_command_purge_valve___(uint16_t dutycycle)

{
  eTPU_calculate_and_set_channel_value(27,dutycycle);
  return;
}



void obd_ii_set_mode2f_supported_pids(void)

{
  obd_ii_set_mode2f_supported_pids[0][0] = 0xfc;
  obd_ii_set_mode2f_supported_pids[0][1] = 0;
  obd_ii_set_mode2f_supported_pids[0][2] = 0;
  obd_ii_set_mode2f_supported_pids[0][3] = 1;
  obd_ii_set_mode2f_supported_pids[1][0] = 0x83;
  obd_ii_set_mode2f_supported_pids[1][1] = 0;
  obd_ii_set_mode2f_supported_pids[1][2] = 0;
  obd_ii_set_mode2f_supported_pids[1][3] = 1;
  obd_ii_set_mode2f_supported_pids[2][0] = 0xb7;
  obd_ii_set_mode2f_supported_pids[2][3] = 1;
  obd_ii_set_mode2f_supported_pids[3][1] = 0;
  obd_ii_set_mode2f_supported_pids[3][2] = 0;
  obd_ii_set_mode2f_supported_pids[3][3] = 1;
  obd_ii_set_mode2f_supported_pids[4][0] = 0x10;
  obd_ii_set_mode2f_supported_pids[4][1] = 0;
  obd_ii_set_mode2f_supported_pids[4][2] = 0;
  obd_ii_set_mode2f_supported_pids[4][3] = 0;
  obd_ii_set_mode2f_supported_pids[2][1] = 0x95;
  if ((COD_base[1] >> 0x1b & 1) == 0) {
    obd_ii_set_mode2f_supported_pids[2][1] = 0x91;
  }
  obd_ii_set_mode2f_supported_pids[2][2] = 0xe0;
  if ((COD_base[1] >> 0x13 & 1) == 0) {
    obd_ii_set_mode2f_supported_pids[2][2] = 0xc0;
  }
  obd_ii_set_mode2f_supported_pids[3][0] = 0xfc;
  return;
}



void obd_ii_mode2F_processing(void)

{
  uint8_t uVar1;
  byte bVar2;
  bool tc_enabled;
  uint uVar3;
  uint mode2f_state_fuel_pump;
  ushort uVar4;
  
  bVar2 = obd_ii_request[4];
  uVar4 = 1;
  obd_ii_response[0] = 0x6f;
  switch(CONCAT11(obd_ii_request[2],obd_ii_request[3])) {
  case 0x100:
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    obd_ii_response[3] = obd_ii_set_mode2f_supported_pids[0][0];
    obd_ii_response[4] = obd_ii_set_mode2f_supported_pids[0][1];
    obd_ii_response[5] = obd_ii_set_mode2f_supported_pids[0][2];
    uVar4 = 7;
    obd_ii_response[6] = obd_ii_set_mode2f_supported_pids[0][3];
    break;
  case 0x101:
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000ca96 != 0 && ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffffe;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 1;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 1) == 0) || ((obd_ii_mode2f_flags_enabled & 1) != 0)) ||
         ((DAT_40002388 & 1) != 0)) {
        if ((obd_ii_mode2f_flags_state & 1) == 0) {
          obd_ii_mode2f_timers_unknown[0] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffffe;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[0] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 1;
        FUN_00054708(4,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 1;
      }
      if ((obd_ii_mode2f_flags_enabled & 1) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x102:
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000ca96 != 0 && ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffffd;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 2;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 2) == 0) || ((obd_ii_mode2f_flags_enabled & 2) != 0)) ||
         ((DAT_40002388 & 2) != 0)) {
        if ((obd_ii_mode2f_flags_state & 2) == 0) {
          obd_ii_mode2f_timers_unknown[1] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffffd;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[1] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 2;
        FUN_00054708(5,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 2;
      }
      if ((obd_ii_mode2f_flags_enabled & 2) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x103:
    if ((((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) && (DAT_4000ca96 != 0)) &&
       ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffffb;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 4;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 4) == 0) || ((obd_ii_mode2f_flags_enabled & 4) != 0)) ||
         ((DAT_40002388 & 4) != 0)) {
        if ((obd_ii_mode2f_flags_state & 4) == 0) {
          obd_ii_mode2f_timers_unknown[2] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffffb;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[2] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 4;
        FUN_00054708(6,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 4;
      }
      if ((obd_ii_mode2f_flags_enabled & 4) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x104:
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000ca96 != 0 && ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffff7;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 8;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 8) == 0) || ((obd_ii_mode2f_flags_enabled & 8) != 0)) ||
         ((DAT_40002388 & 8) != 0)) {
        if ((obd_ii_mode2f_flags_state & 8) == 0) {
          obd_ii_mode2f_timers_unknown[3] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffff7;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[3] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 8;
        FUN_00054708(7,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 8;
      }
      if ((obd_ii_mode2f_flags_enabled & 8) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x105:
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000ca96 != 0 && ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xffffffef;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x10;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x10) == 0) || ((obd_ii_mode2f_flags_enabled & 0x10) != 0))
         || ((DAT_40002388 & 0x10) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x10) == 0) {
          obd_ii_mode2f_timers_unknown[4] = 0;
          DAT_40002388 = DAT_40002388 & 0xffffffef;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[4] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x10;
        FUN_00054708(8,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 0x10;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x10) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x106:
                    // injector 6
    if ((((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) && (DAT_4000ca96 != 0)) &&
       ((obd_ii_mode2f_flags_enabled & 0xfc0) == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xffffffdf;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x20;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x20) == 0) || ((obd_ii_mode2f_flags_enabled & 0x20) != 0))
         || ((DAT_40002388 & 0x20) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x20) == 0) {
          obd_ii_mode2f_timers_unknown[5] = 0;
          DAT_40002388 = DAT_40002388 & 0xffffffdf;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[5] = DAT_4000ca96;
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x20;
        FUN_00054708(9,(uint)DAT_4000ca94 * 10 & 0xffff);
        DAT_40002388 = DAT_40002388 | 0x20;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x20) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x120:
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    obd_ii_response[3] = obd_ii_set_mode2f_supported_pids[1][0];
    obd_ii_response[4] = obd_ii_set_mode2f_supported_pids[1][1];
    obd_ii_response[5] = obd_ii_set_mode2f_supported_pids[1][2];
    uVar4 = 7;
    obd_ii_response[6] = obd_ii_set_mode2f_supported_pids[1][3];
    break;
  case 0x121:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffffefff;
      }
      else {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x1000;
        DAT_4000238e = obd_ii_request[4];
        if (obd_ii_request[4] < 4) {
          DAT_4000238e = 4;
        }
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x1000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x127:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xfffeffff;
      }
      else {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x10000;
        DAT_40002392 = obd_ii_request[4];
        if (obd_ii_request[4] < 4) {
          DAT_40002392 = 4;
        }
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x10000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x128:
                    // tach control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      obd_ii_mode2f_tach_commanded = CONCAT11(obd_ii_request[4],obd_ii_request[5]) << 2;
      if (36000 < obd_ii_mode2f_tach_commanded) {
        obd_ii_mode2f_tach_commanded = 36000;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x8000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      obd_ii_response[3] = (byte)((((ulonglong)obd_ii_mode2f_tach_commanded << 0x20) >> 0x22) >> 8);
      obd_ii_response[4] = (byte)(((ulonglong)obd_ii_mode2f_tach_commanded << 0x20) >> 0x22);
      uVar4 = 5;
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x12a:
    tc_enabled = tc_enable_lookup();
    if (tc_enabled) {
      uVar3 = obd_ii_mode2f_flags_state | 0x40000000;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xbfffffff;
      if (bVar2 == 0xff) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x40000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = bVar2;
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x140:
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    obd_ii_response[3] = obd_ii_set_mode2f_supported_pids[2][0];
    obd_ii_response[4] = obd_ii_set_mode2f_supported_pids[2][1];
    obd_ii_response[5] = obd_ii_set_mode2f_supported_pids[2][2];
    uVar4 = 7;
    obd_ii_response[6] = obd_ii_set_mode2f_supported_pids[2][3];
    break;
  case 0x141:
                    // fuel pump control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      mode2f_state_fuel_pump = obd_ii_mode2f_flags_state | 0x20000;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xfffdffff;
      if (obd_ii_request[4] == 0xff) {
        obd_ii_mode2f_flags_state = mode2f_state_fuel_pump;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x20000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x143:
                    // lambda heater control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xff7fffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x800000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x800000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x144:
                    // S2 cars don't have a recirc pump
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xffbfffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x400000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x400000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x146:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state | 0x40000;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xfffbffff;
      if (obd_ii_request[4] == 0xff) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x40000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x147:
                    // MIL control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfff7ffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x80000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x80000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x148:
                    // oil pressure warning lamp
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfdffffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x2000000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x2000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x149:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfbffffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x4000000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x4000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x14c:
                    // engine bay fan control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state | 0x10000000;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xefffffff;
      if (obd_ii_request[4] == 0xff) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x10000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x14e:
                    // exhaust flap control
    if (((car_speed_u8 == 0) && ((engine_operating_state_flags & 8) != 0)) || (engine_speed_2 == 0))
    {
      uVar3 = obd_ii_mode2f_flags_state | 0x20000000;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xdfffffff;
      if (obd_ii_request[4] == 0xff) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x20000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xdfffffff;
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xdfffffff;
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x150:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffefffff;
        obd_ii_mode2f_cooling_fan_dutycycle = 0;
      }
      else {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x100000;
        obd_ii_mode2f_cooling_fan_dutycycle = obd_ii_request[4];
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x100000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffefffff;
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffefffff;
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x151:
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffdfffff;
        cooling_cc_pump_test_2F_dutycycle = '\0';
      }
      else {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x200000;
        cooling_cc_pump_test_2F_dutycycle = obd_ii_request[4];
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x200000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffdfffff;
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffdfffff;
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x152:
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       (uVar1 = siu_gpdo[0xb7], uVar1 == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0x7fffffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x80000000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x80000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x153:
    uVar3 = obd_ii_2f_trans_pump_state & 0xfffffffe;
    obd_ii_2f_trans_pump_state = obd_ii_2f_trans_pump_state | 1;
    if (obd_ii_request[4] == 0) {
      obd_ii_2f_trans_pump_state = uVar3;
    }
    obd_ii_2f_trans_pump_requested = obd_ii_2f_trans_pump_requested | 1;
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    uVar4 = 4;
    obd_ii_response[3] = obd_ii_request[4];
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x160:
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    obd_ii_response[3] = obd_ii_set_mode2f_supported_pids[3][0];
    obd_ii_response[4] = obd_ii_set_mode2f_supported_pids[3][1];
    obd_ii_response[5] = obd_ii_set_mode2f_supported_pids[3][2];
    uVar4 = 7;
    obd_ii_response[6] = obd_ii_set_mode2f_supported_pids[3][3];
    break;
  case 0x161:
                    // coil #1
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000caae != 0 && ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xffffffbf;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x40;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x40) == 0) || ((obd_ii_mode2f_flags_enabled & 0x40) != 0))
         || ((DAT_40002388 & 0x40) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x40) == 0) {
          obd_ii_mode2f_timers_unknown[0] = 0;
          DAT_40002388 = DAT_40002388 & 0xffffffbf;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[0] = DAT_4000caae;
        FUN_00054708(18,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x40;
        DAT_40002388 = DAT_40002388 | 0x40;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x40) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x162:
                    // coil #2
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000caae != 0 && ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xffffff7f;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x80;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x80) == 0) || ((obd_ii_mode2f_flags_enabled & 0x80) != 0))
         || ((DAT_40002388 & 0x80) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x80) == 0) {
          obd_ii_mode2f_timers_unknown[1] = 0;
          DAT_40002388 = DAT_40002388 & 0xffffff7f;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[1] = DAT_4000caae;
        FUN_00054708(0x13,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x80;
        DAT_40002388 = DAT_40002388 | 0x80;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x80) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x163:
                    // coil #3
    if ((((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) && (DAT_4000caae != 0)) &&
       ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffeff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x100;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x100) == 0) ||
          ((obd_ii_mode2f_flags_enabled & 0x100) != 0)) || ((DAT_40002388 & 0x100) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x100) == 0) {
          obd_ii_mode2f_timers_unknown[2] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffeff;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[2] = DAT_4000caae;
        FUN_00054708(0x14,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x100;
        DAT_40002388 = DAT_40002388 | 0x100;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x100) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x164:
                    // ign coil 4
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000caae != 0 && ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffdff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x200;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x200) == 0) ||
          ((obd_ii_mode2f_flags_enabled & 0x200) != 0)) || ((DAT_40002388 & 0x200) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x200) == 0) {
          obd_ii_mode2f_timers_unknown[3] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffdff;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[3] = DAT_4000caae;
        FUN_00054708(0x15,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x200;
        DAT_40002388 = DAT_40002388 | 0x200;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x200) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x165:
                    // coil #5
    if (((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) &&
       ((DAT_4000caae != 0 && ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)))) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffffbff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x400;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x400) == 0) ||
          ((obd_ii_mode2f_flags_enabled & 0x400) != 0)) || ((DAT_40002388 & 0x400) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x400) == 0) {
          obd_ii_mode2f_timers_unknown[4] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffffbff;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[4] = DAT_4000caae;
        FUN_00054708(0x16,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x400;
        DAT_40002388 = DAT_40002388 | 0x400;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x400) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x166:
                    // coil #6
    if ((((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) && (DAT_4000caae != 0)) &&
       ((obd_ii_mode2f_flags_enabled & 0x3f) == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xfffff7ff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x800;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      if ((((obd_ii_mode2f_flags_state & 0x800) == 0) ||
          ((obd_ii_mode2f_flags_enabled & 0x800) != 0)) || ((DAT_40002388 & 0x800) != 0)) {
        if ((obd_ii_mode2f_flags_state & 0x800) == 0) {
          obd_ii_mode2f_timers_unknown[5] = 0;
          DAT_40002388 = DAT_40002388 & 0xfffff7ff;
        }
      }
      else {
        obd_ii_mode2f_timers_unknown[5] = DAT_4000caae;
        FUN_00054708(0x17,(uint)ign_dwell_time * 10 & 0xffff);
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x800;
        DAT_40002388 = DAT_40002388 | 0x800;
      }
      if ((obd_ii_mode2f_flags_enabled & 0x800) == 0) {
        uVar4 = 4;
        obd_ii_response[3] = 0;
      }
      else {
        uVar4 = 4;
        obd_ii_response[3] = bVar2;
      }
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x167:
                    // variable intake manifold control
    if ((timer_engine_off_unknown1 == 0) && (obd_ii_engine_speed == 0)) {
      uVar3 = obd_ii_mode2f_flags_state & 0xf7ffffff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x8000000;
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = uVar3;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x8000000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x170:
    obd_ii_diag_override = true;
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    uVar4 = 4;
    obd_ii_response[3] = obd_ii_request[4];
    break;
  case 0x180:
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    obd_ii_response[3] = obd_ii_set_mode2f_supported_pids[4][0];
    obd_ii_response[4] = obd_ii_set_mode2f_supported_pids[4][1];
    obd_ii_response[5] = obd_ii_set_mode2f_supported_pids[4][2];
    uVar4 = 7;
    obd_ii_response[6] = obd_ii_set_mode2f_supported_pids[4][3];
    break;
  case 0x184:
    if (((ignition_on_flags & 1) == 0) && (obd_ii_engine_speed == 0)) {
      if (obd_ii_request[4] == 0) {
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffff9fff;
        DAT_400023b8 = 0;
      }
      else {
        DAT_400023b8 = 100;
        obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x4000;
      }
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled | 0x2000;
      obd_ii_response[1] = obd_ii_request[2];
      obd_ii_response[2] = obd_ii_request[3];
      uVar4 = 4;
      obd_ii_response[3] = obd_ii_request[4];
    }
    else {
      obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffffdfff;
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state & 0xffff9fff;
      obd_ii_mode_3F_processing();
    }
    obd_ii_mode2f_timeout = CAL_obd_ii_mode2f_timeout;
    break;
  case 0x185:
    if (obd_ii_request[4] != 0) {
      DAT_4000426c = 1;
    }
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response[2] = obd_ii_request[3];
    uVar4 = 4;
    obd_ii_response[3] = DAT_4000426c;
  }
  if (uVar4 < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = uVar4;
    flexcan_a_obd_send_messages();
  }
  return;
}



void obd_ii_mode_3F_processing(void)

{
  obd_ii_response[0] = 0x7f;
  obd_ii_response[1] = obd_ii_request[1];
  obd_ii_response[2] = 0x22;
  obd_ii_response_length = 3;
  flexcan_a_obd_send_messages();
  return;
}



void obd_ii_mode2f_200hz(void)

{
  bool bVar1;
  
  if (obd_ii_engine_speed == 0) {
    if (timer_engine_off_unknown1 != 0) {
      timer_engine_off_unknown1 = timer_engine_off_unknown1 - 1;
    }
  }
  else {
    timer_engine_off_unknown1 = CAL_ecu_obd_mode2F_timer;
    u8_time_5ms_400023b7 = 0b00000001;
    u8_time_5ms = 0b00000001;
    obd_ii_mode2f_timers_unknown[5] = 0;
    obd_ii_mode2f_timers_unknown[4] = 0;
    obd_ii_mode2f_timers_unknown[3] = 0;
    obd_ii_mode2f_timers_unknown[2] = 0;
    obd_ii_mode2f_timers_unknown[1] = 0;
    obd_ii_mode2f_timers_unknown[0] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[0] == 0;
  obd_ii_mode2f_timers_unknown[0] = obd_ii_mode2f_timers_unknown[0] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[0] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[1] == 0;
  obd_ii_mode2f_timers_unknown[1] = obd_ii_mode2f_timers_unknown[1] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[1] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[2] == 0;
  obd_ii_mode2f_timers_unknown[2] = obd_ii_mode2f_timers_unknown[2] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[2] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[3] == 0;
  obd_ii_mode2f_timers_unknown[3] = obd_ii_mode2f_timers_unknown[3] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[3] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[4] == 0;
  obd_ii_mode2f_timers_unknown[4] = obd_ii_mode2f_timers_unknown[4] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[4] = 0;
  }
  bVar1 = obd_ii_mode2f_timers_unknown[5] == 0;
  obd_ii_mode2f_timers_unknown[5] = obd_ii_mode2f_timers_unknown[5] - 1;
  if (bVar1) {
    obd_ii_mode2f_timers_unknown[5] = 0;
  }
  bVar1 = u8_time_5ms == '\0';
  u8_time_5ms = u8_time_5ms + -1;
  if (bVar1) {
    u8_time_5ms = '\0';
  }
  bVar1 = u8_time_5ms_400023b7 == '\0';
  u8_time_5ms_400023b7 = u8_time_5ms_400023b7 + 0xff;
  if (bVar1) {
    u8_time_5ms_400023b7 = '\0';
  }
  if (obd_ii_mode2f_timeout == 0) {
    obd_ii_mode2f_flags_enabled = 0;
    obd_ii_mode2f_flags_state = 0;
    DAT_40002388 = 0;
    DAT_4000238e = 0;
    obd_ii_mode2f_tach_commanded = 0;
    DAT_40002392 = 0;
    obd_ii_mode2f_cooling_fan_dutycycle = 0;
    cooling_cc_pump_test_2F_dutycycle = '\0';
  }
  else {
    obd_ii_mode2f_timeout = obd_ii_mode2f_timeout - 1;
  }
  if (obd_ii_mode2f_flags_enabled != 0) {
    if (((obd_ii_mode2f_flags_enabled & 1) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[0] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffffe;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(4,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 2) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[1] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffffd;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(5,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 4) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[2] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffffb;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(6,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 8) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[3] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffff7;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(7,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x10) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[4] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffffffef;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(8,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x20) != 0) && (u8_time_5ms == '\0')) {
      if (obd_ii_mode2f_timers_unknown[5] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffffffdf;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(9,(uint)DAT_4000ca94 * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x40) != 0) && (u8_time_5ms_400023b7 == '\0')) {
      if (obd_ii_mode2f_timers_unknown[0] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffffffbf;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x12,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x80) != 0) && (u8_time_5ms_400023b7 == '\0')) {
      if (obd_ii_mode2f_timers_unknown[1] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xffffff7f;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x13,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x100) != 0) && (u8_time_5ms_400023b7 == '\0')) {
      if (obd_ii_mode2f_timers_unknown[2] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffeff;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x14,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x200) != 0) && (u8_time_5ms_400023b7 == '\0')) {
      if (obd_ii_mode2f_timers_unknown[3] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffdff;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x15,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x400) != 0) && (u8_time_5ms_400023b7 == '\0')) {
      if (obd_ii_mode2f_timers_unknown[4] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffffbff;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x16,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
    if (((obd_ii_mode2f_flags_enabled & 0x800) != 0) && (u8_time_5ms_400023b7 == '\0')) {
                    // coil6
      if (obd_ii_mode2f_timers_unknown[5] == 0) {
        obd_ii_mode2f_flags_enabled = obd_ii_mode2f_flags_enabled & 0xfffff7ff;
        coil_control_unknown();
      }
      else {
        FUN_0005476c(0x17,(uint)ign_dwell_time * 10 & 0xffff);
      }
    }
  }
  if (u8_time_5ms == 0) {
    u8_time_5ms = DAT_4000ca92;
  }
  if (u8_time_5ms_400023b7 == '\0') {
    u8_time_5ms_400023b7 = DAT_4000caad;
  }
  if ((obd_ii_mode2f_flags_state & 0x4000) != 0) {
    if (DAT_400023b8 == '\0') {
      obd_ii_mode2f_flags_state = obd_ii_mode2f_flags_state | 0x2000;
    }
    else {
      DAT_400023b8 = DAT_400023b8 + -1;
    }
  }
  return;
}



void FUN_000a005c(char param_1)

{
  byte j;
  byte i;
  byte n;
  byte k;
  byte local_20 [32];
  
  DAT_400023c4 = DAT_4000cb3a;
  DAT_400023c6 = DAT_4000cb34;
  DAT_400023c8 = DAT_4000cb36;
  DAT_400023ca = DAT_4000cb38;
  DAT_400023c0 = DAT_400023c0 & 0xfb;
  obd_ii_monitor_status_this_drive_cycle =
       CONCAT11(obd_ii_common_test_available,obd_ii_common_test_available);
  if (param_1 != '\0') {
    local_20[0] = DAT_40000e90;
    for (i = 0; i < 9; i = i + 1) {
      local_20[i + 1] = local_20[i] + (&DAT_40000e91)[i];
    }
    for (n = 0; n < 0x15; n = n + 1) {
      (&DAT_400061c0)[(uint)n * 8] = (&DAT_400048bc)[n];
      (&DAT_400061c2)[(uint)n * 0x10] = 0;
      (&DAT_400061c4)[(uint)n * 8] = (&DAT_400048e6)[n];
      (&DAT_400061c6)[(uint)n * 0x10] = 0;
      (&DAT_400061ca)[(uint)n * 0x10] = 0;
      (&DAT_400061cb)[(uint)n * 0x10] = 0;
      (&DAT_400061cc)[(uint)n * 8] = (&DAT_40000e9c)[n];
      for (j = 0; j < 10; j = j + 1) {
        if (n < local_20[j]) {
          (&DAT_400061ce)[(uint)n * 0x10] = j;
          break;
        }
      }
    }
    for (k = 0; k < 0x15; k = k + 1) {
      FUN_000a0db8((ulonglong)k);
    }
  }
  return;
}



void FUN_000a02dc(void)

{
  byte bVar1;
  short sVar2;
  short sVar3;
  byte i;
  ushort uVar4;
  byte k;
  
  if (((((((DAT_400023c0 & 1) == 0) && (DAT_40001e78 != '\0')) && (DAT_40001e79 != '\0')) &&
       ((DAT_40001e7a != '\0' && (DAT_40001e7b != '\0')))) && (DAT_40001e7c != '\0')) &&
     (u16_time_5ms_4000cb2a <= runtime_since_start)) {
    if (uint16_t_40004910 < 0xffff) {
      uint16_t_40004910 = uint16_t_40004910 + 1;
    }
    else {
      uint16_t_40004910 = 0;
    }
    DAT_400023c0 = DAT_400023c0 | 1;
  }
  if (((engine_is_running) && (u16_pressure_mbar_4000cb2c < obd_ii_atmospheric_baro)) &&
     ((u8_temp_5_8_40c_4000cb2e < air_temp_intake_unknown && ((DAT_40001789 & 0x20) != 0)))) {
    sVar3 = DAT_400023c6 + -1;
    if (DAT_400023c6 == 0) {
      sVar3 = DAT_400023c6;
    }
    sVar2 = DAT_400023ca;
    if ((DAT_400023ca != 0) && (sVar2 = DAT_400023ca + -1, car_speed_u8 < u8_speed_kph_4000cb31)) {
      sVar2 = DAT_400023ca;
    }
    DAT_400023ca = sVar2;
    uVar4 = 0;
    if ((int)(short)u16_rspeed_rpm_40001f2c < (int)(uint)engine_speed_2) {
      uVar4 = engine_speed_2 - u16_rspeed_rpm_40001f2c;
    }
    DAT_400023c6 = sVar3;
    if (((DAT_400023c4 == 0) || ((engine_operating_state_flags & 1) == 0)) ||
       ((u8_speed_kph_4000cb32 < car_speed_u8 && (u16_rspeed_rpm_4000cbae <= uVar4)))) {
      if (DAT_400023c4 != 0) {
        DAT_400023c4 = DAT_4000cb3a;
      }
    }
    else {
      DAT_400023c4 = DAT_400023c4 + -1;
    }
  }
  else if (DAT_400023c4 != 0) {
    DAT_400023c4 = DAT_4000cb3a;
  }
  sVar3 = DAT_400023c8;
  if (((((engine_is_running) && (DAT_400023c8 != 0)) &&
       (u16_pressure_mbar_4000cb2c < obd_ii_atmospheric_baro)) &&
      ((u8_temp_5_8_40c_4000cb28 < air_temp_intake_unknown &&
       (air_temp_intake_unknown < u8_temp_5_8_40c_4000cb29)))) &&
     (sVar3 = DAT_400023c8 + -1, (DAT_40001789 & 0x20) == 0)) {
    sVar3 = DAT_400023c8;
  }
  DAT_400023c8 = sVar3;
  if ((((((LEA_obd_ii_P0122_flags & 8) != 0) || ((LEA_obd_ii_P0500_flags & 8) != 0)) ||
       (((LEA_obd_ii_P0071_flags & 8) != 0 ||
        ((((LEA_obd_ii_P0072_flags & 8) != 0 || ((LEA_obd_ii_P0073_flags & 8) != 0)) ||
         ((LEA_obd_ii_P0155_flags & 8) != 0)))))) ||
      (((LEA_obd_ii_P0106_flags & 8) != 0 || ((LEA_obd_ii_P0107_flags & 8) != 0)))) ||
     (((LEA_obd_ii_P0108_flags & 8) != 0 ||
      ((((LEA_obd_ii_P0116_flags & 8) != 0 || ((LEA_obd_ii_P0117_flags & 8) != 0)) ||
       (((LEA_obd_ii_P0118_flags & 8) != 0 ||
        (((((LEA_obd_ii_P2122_flags & 8) != 0 || ((LEA_obd_ii_P2123_flags & 8) != 0)) ||
          ((LEA_obd_ii_P2127_flags & 8) != 0)) ||
         (((LEA_obd_ii_P2128_flags & 8) != 0 || ((LEA_obd_ii_P2138_flags & 8) != 0)))))))))))) {
    DAT_400023c0 = DAT_400023c0 | 4;
  }
  if ((((DAT_400023c0 & 2) == 0) && ((DAT_400023c0 & 4) == 0)) &&
     ((DAT_400023c6 == 0 && ((DAT_400023ca == 0 && (DAT_400023c4 == 0)))))) {
    if (uint16_t_40004912 < 0xffff) {
      uint16_t_40004912 = uint16_t_40004912 + 1;
    }
    else {
      uint16_t_40004912 = 0;
    }
    DAT_400023c0 = DAT_400023c0 | 2;
  }
  for (i = 0; i < 0x15; i = i + 1) {
    if ((*(&PTR_LEA_obd_ii_P0133_flags_40000ec8)[i] & 0x40) == 0) {
      (&DAT_400061ca)[(uint)i * 0x10] = 0;
      if ((*(&PTR_LEA_obd_ii_P0133_flags_40000ec8)[i] & 0x20) != 0) {
        (&DAT_400061cb)[(uint)i * 0x10] = 1;
      }
    }
    else {
      (&DAT_400061ca)[(uint)i * 0x10] = 1;
    }
  }
  if ((DAT_40001789 & 0x20) != 0) {
    bVar1 = DAT_400023c0;
    if ((((engine_is_running != false) && (BOOL_400023cc == false)) &&
        (u8_temp_5_8_40c_4000cb2f <= coolant_temp)) &&
       ((coolant_temp <= u8_temp_5_8_40c_4000cb30 &&
        (bVar1 = DAT_400023c0 | 8,
        (uint)air_temp_intake_unknown + (uint)u8_temp_5_8_40c_4000cb33 < (uint)coolant_temp)))) {
      bVar1 = DAT_400023c0;
    }
    DAT_400023c0 = bVar1;
    BOOL_400023cc = engine_is_running;
  }
  for (k = 0; k < 0x15; k = k + 1) {
    if ((((&DAT_400061cb)[(uint)k * 0x10] != '\0') && ((&DAT_400061c6)[(uint)k * 0x10] == '\0')) &&
       (((&DAT_400061ca)[(uint)k * 0x10] == '\0' && ((DAT_400023c0 & 4) == 0)))) {
      FUN_000a0af4((ulonglong)k);
    }
    if ((&DAT_400061ce)[(uint)k * 0x10] == '\x05') {
      if (((((DAT_400023c0 & 2) != 0) && ((&DAT_400061c2)[(uint)k * 0x10] == '\0')) &&
          (((&DAT_400061ca)[(uint)k * 0x10] == '\0' &&
           ((DAT_400023c8 == 0 && ((CAL_obd_ii_P0456 & 7) != 0)))))) &&
         (((DAT_400023c0 & 8) != 0 && ((DAT_400023c0 & 4) == 0)))) {
        FUN_000a0c5c((ulonglong)k);
      }
    }
    else if (((((DAT_400023c0 & 2) != 0) && ((&DAT_400061c2)[(uint)k * 0x10] == '\0')) &&
             ((&DAT_400061ca)[(uint)k * 0x10] == '\0')) && ((DAT_400023c0 & 4) == 0)) {
      FUN_000a0c5c((ulonglong)k);
    }
  }
  return;
}



void FUN_000a0af4(ulonglong param_1)

{
  uint uVar1;
  
  if (*(ushort *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) < 0xffff) {
    uVar1 = (uint)param_1 & 0xff;
    (&DAT_400061c4)[uVar1 * 8] = (&DAT_400061c4)[uVar1 * 8] + 1;
  }
  else {
    *(short *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) =
         (short)(((ulonglong)*(ushort *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) << 0x20)
                >> 0x21);
    *(short *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) =
         (short)(((ulonglong)*(ushort *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) << 0x20)
                >> 0x21);
    uVar1 = (uint)param_1 & 0xff;
    (&DAT_400061c4)[uVar1 * 8] = (&DAT_400061c4)[uVar1 * 8] + 1;
  }
  *(undefined2 *)((int)&DAT_400048e6 + (int)((param_1 & 0xff) << 1)) =
       *(undefined2 *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4));
  *(undefined2 *)((int)&DAT_400048bc + (int)((param_1 & 0xff) << 1)) =
       *(undefined2 *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4));
  (&DAT_400061c6)[(int)((param_1 & 0xff) << 4)] = 1;
  FUN_000a0db8(param_1 & 0xff);
  return;
}



void FUN_000a0c5c(ulonglong param_1)

{
  int iVar1;
  
  if (*(ushort *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) < 0xffff) {
    iVar1 = (int)((param_1 & 0xff) << 4);
    *(short *)((int)&DAT_400061c0 + iVar1) = *(short *)((int)&DAT_400061c0 + iVar1) + 1;
  }
  else {
    *(short *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) =
         (short)(((ulonglong)*(ushort *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) << 0x20)
                >> 0x21);
    *(short *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) =
         (short)(((ulonglong)*(ushort *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) << 0x20)
                >> 0x21);
    iVar1 = (int)((param_1 & 0xff) << 4);
    *(short *)((int)&DAT_400061c0 + iVar1) = *(short *)((int)&DAT_400061c0 + iVar1) + 1;
  }
  *(undefined2 *)((int)&DAT_400048e6 + (int)((param_1 & 0xff) << 1)) =
       *(undefined2 *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4));
  *(undefined2 *)((int)&DAT_400048bc + (int)((param_1 & 0xff) << 1)) =
       *(undefined2 *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4));
  (&DAT_400061c2)[(int)((param_1 & 0xff) << 4)] = 1;
  FUN_000a0db8(param_1 & 0xff);
  return;
}



void FUN_000a0db8(ulonglong param_1)

{
  ulonglong uVar1;
  
  if (*(short *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) == 0) {
    *(undefined2 *)((int)&DAT_400061c8 + (int)((param_1 & 0xff) << 4)) = 0;
  }
  else if ((*(short *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4)) == 0) &&
          (*(short *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) != 0)) {
    *(undefined2 *)((int)&DAT_400061c8 + (int)((param_1 & 0xff) << 4)) = 0xffff;
  }
  else {
    uVar1 = ((ulonglong)*(ushort *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4)) * 0x2005) /
            (ulonglong)*(ushort *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4));
    if (uVar1 < 0x10000) {
      *(short *)((int)&DAT_400061c8 + (int)((param_1 & 0xff) << 4)) = (short)uVar1;
    }
    else {
      *(undefined2 *)((int)&DAT_400061c8 + (int)((param_1 & 0xff) << 4)) = 0xffff;
    }
  }
  FUN_000a0ef8(param_1 & 0xff);
  return;
}



void FUN_000a0ef8(ulonglong param_1)

{
  byte bVar1;
  ushort uVar2;
  undefined2 uVar3;
  ushort uVar4;
  undefined2 uVar5;
  byte bVar6;
  
  uVar2 = *(ushort *)((int)&DAT_400061c8 + (int)((param_1 & 0xff) << 4));
  uVar3 = *(undefined2 *)((int)&DAT_400061c4 + (int)((param_1 & 0xff) << 4));
  uVar4 = *(ushort *)((int)&DAT_400061c0 + (int)((param_1 & 0xff) << 4));
  uVar5 = *(undefined2 *)((int)&DAT_400061cc + (int)((param_1 & 0xff) << 4));
  bVar1 = (&DAT_400061ce)[(int)((param_1 & 0xff) << 4)];
  for (bVar6 = 0; bVar6 < 0x15; bVar6 = bVar6 + 1) {
    if ((bVar1 == (&DAT_400061ce)[(uint)bVar6 * 0x10]) &&
       (((ushort)(&DAT_400061c8)[(uint)bVar6 * 8] < uVar2 ||
        ((uVar2 == (&DAT_400061c8)[(uint)bVar6 * 8] &&
         (uVar4 < (ushort)(&DAT_400061c0)[(uint)bVar6 * 8])))))) {
      uVar2 = (&DAT_400061c8)[(uint)bVar6 * 8];
      uVar5 = (&DAT_400061cc)[(uint)bVar6 * 8];
      uVar4 = (&DAT_400061c0)[(uint)bVar6 * 8];
      uVar3 = (&DAT_400061c4)[(uint)bVar6 * 8];
    }
  }
  *(undefined2 *)(&DAT_40006170 + (uint)bVar1 * 8) = uVar5;
  (&DAT_40006174)[(uint)bVar1 * 4] = uVar3;
  (&DAT_40006172)[(uint)bVar1 * 4] = uVar4;
  *(ushort *)(&DAT_40006176 + (uint)bVar1 * 8) = uVar2;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void obd_ii_set_monitors_unknown2(void)

{
  bool bVar1;
  uint uVar2;
  char cVar3;
  ushort uVar6;
  longlong lVar4;
  ulonglong uVar5;
  byte bVar7;
  
  DAT_400023e8 = (ushort)DAT_4000c9d9;
  if (((((obd_ii_config_p0101 & 7) == 0) || (!engine_is_running)) || ((ignition_on_flags & 1) == 0))
     || (((latch_counter_p0122 == '\0' || (latch_counter_p0123 == '\0')) ||
         ((latch_counter_p0222 == '\0' || (latch_counter_p0223 == '\0')))))) {
    DAT_400024f1 = DAT_400024f1 & 0xcc;
    DAT_400016b8 = 100;
    fuel_diag_airflow_unknown2 = 0;
    fuel_diag_airflow_unknown1 = 0;
    DAT_4000250c = 0;
    DAT_40002508 = 0;
    DAT_4000240c = 0;
    DAT_4000240a = 0;
  }
  else {
    DAT_400016b8 = (ushort)((int)(load_computed_maf * 100) / (int)load_alphaN_expected);
    uVar2 = (0x100 - (uint)DAT_4000ca35) * DAT_40002508;
    DAT_40002508 = ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
                   (uint)DAT_4000ca35 *
                   (int)(short)((DAT_400019e8 + DAT_40002310) - (short)load_computed_map);
    fuel_diag_airflow_unknown1 =
         (short)(DAT_40002508 >> 8) + (ushort)((int)DAT_40002508 < 0 && (DAT_40002508 & 0xff) != 0);
    uVar2 = (0x100 - (uint)DAT_4000ca35) * DAT_4000250c;
    DAT_4000250c = ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
                   (uint)DAT_4000ca35 * (int)(short)(DAT_400019e8 - (short)load_alphaN_expected);
    fuel_diag_airflow_unknown2 =
         (short)(DAT_4000250c >> 8) + (ushort)((int)DAT_4000250c < 0 && (DAT_4000250c & 0xff) != 0);
    if ((((DAT_4000cbf4 == '\0') || ((engine_state_failure_flags & 0x200000) != 0)) ||
        (((engine_state_failure_flags & 0x20) != 0 ||
         ((((engine_state_failure_flags & 0x40) != 0 || ((vvt_bank_inhibit_flags & 1) != 0)) ||
          ((vvt_bank_inhibit_flags & 2) != 0)))))) ||
       ((((((vvt_bank_inhibit_flags & 4) != 0 || ((vvt_bank_inhibit_flags & 8) != 0)) ||
          ((engine_state_failure_flags & 2) != 0)) ||
         (((engine_state_failure_flags & 0x400) != 0 || ((engine_state_failure_flags & 1) != 0))))
        || ((((engine_state_failure_flags & 8) != 0 ||
             ((((((_obd_ii_commanded_evap_purge != 0 || (DAT_400025cc != '\0')) ||
                 (coolant_temp < DAT_4000cbed)) ||
                (((engine_operating_state_flags & 8) == 0 || (DAT_40001f44 < DAT_4000cbee)))) ||
               (car_speed_u8 != '\0')) ||
              ((DAT_4000cbef < temp_engine_air || (runtime_since_start < (uint)DAT_4000cbf0 * 200)))
              ))) || (obd_ii_atmospheric_baro <= DAT_4000cbf2)))))) {
      DAT_400024f1 = DAT_400024f1 & 0xfc;
    }
    else {
      uVar6 = (ushort)DAT_4000cbf1;
      if (100 < uVar6) {
        uVar6 = 100;
      }
      if ((DAT_400016b8 < (ushort)(uVar6 + 100)) && ((ushort)(100 - uVar6) < DAT_400016b8)) {
        DAT_400024f1 = DAT_400024f1 & 0xf0 | 10;
        DAT_4000240a = 0;
        if (DAT_40002408 < DAT_4000d3bd) {
          DAT_40002408 = DAT_40002408 + 1;
        }
      }
      else {
        DAT_400024f1 = DAT_400024f1 & 0xf0 | 5;
        DAT_4000240a = DAT_4000240a + 1;
        if (((short)DAT_400023e8 <= DAT_4000240a) && (DAT_4000240a = 0, DAT_40002408 != 0)) {
          DAT_40002408 = DAT_40002408 - 1;
        }
      }
    }
    if ((((engine_speed_3 < DAT_4000ca6f) || (DAT_4000ca71 < engine_speed_3)) ||
        (DAT_400025cc != '\0')) || (((DAT_40001e88 & 0x200) == 0 || ((DAT_40001e8a & 0x200) == 0))))
    {
      DAT_400024f1 = DAT_400024f1 & 0xcf;
    }
    else {
      DAT_400024b8 = lookup_2D_uint8_interpolated('\b',engine_speed_3,&DAT_4000e002,&DAT_4000dffa);
      if (100 < DAT_400024b8) {
        DAT_400024b8 = 100;
      }
      if ((DAT_400016b8 < (ushort)(DAT_400024b8 + 100)) &&
         ((ushort)(100 - DAT_400024b8) < DAT_400016b8)) {
        DAT_400024f1 = DAT_400024f1 & 0xf | 0xa0;
        DAT_4000240c = 0;
        if (DAT_40002409 < DAT_4000d3bd) {
          DAT_40002409 = DAT_40002409 + 1;
        }
      }
      else {
        DAT_400024f1 = DAT_400024f1 & 0xf | 0x50;
        DAT_4000240c = DAT_4000240c + 1;
        if (((short)DAT_400023e8 <= DAT_4000240c) && (DAT_4000240c = 0, DAT_40002409 != 0)) {
          DAT_40002409 = DAT_40002409 - 1;
        }
      }
    }
    if ((DAT_40002408 == 0) || (DAT_40002409 == 0)) {
      obd_ii_monitor_fail_transition
                (&obd_ii_config_p0101,&LEA_obd_ii_P0101_flags,&DAT_40004c5e,&DAT_40004c5f,0x101,0);
    }
    else if ((((DAT_4000cbf4 != '\0') && ((DAT_400024f1 & 8) != 0)) && ((DAT_400024f1 & 0x80) != 0))
            || ((DAT_4000cbf4 == '\0' && ((DAT_400024f1 & 0x80) != 0)))) {
      obd_ii_monitor_pass(&obd_ii_config_p0101,&LEA_obd_ii_P0101_flags);
    }
  }
  if (((CAL_obd_ii_P0102 & 7) != 0) && (engine_is_running != false)) {
    if (sensor_adc_maf1 < DAT_4000c9dc) {
      DAT_4000240e = DAT_4000240e + 1;
      if ((((short)DAT_400023e8 <= DAT_4000240e) && (DAT_4000240e = 0, DAT_400023d1 != 0)) &&
         (DAT_400023d1 = DAT_400023d1 - 1, DAT_400023d1 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0102,&LEA_obd_ii_P0102_flags,&DAT_40004c61,&DAT_40004c62,0x102,0);
      }
    }
    else {
      DAT_4000240e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0102,&LEA_obd_ii_P0102_flags);
      if (DAT_400023d1 < DAT_4000d3ba) {
        DAT_400023d1 = DAT_400023d1 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0103 & 7) != 0) && (engine_is_running != false)) &&
     ((engine_speed_2 < DAT_4000cbc6 || (tps2 < DAT_4000cbc3)))) {
    if (DAT_4000c9da < sensor_adc_maf1) {
      DAT_40002410 = DAT_40002410 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002410) && (DAT_40002410 = 0, DAT_400023d2 != 0)) &&
         (DAT_400023d2 = DAT_400023d2 - 1, DAT_400023d2 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0103,&LEA_obd_ii_P0103_flags,&DAT_40004c64,&DAT_40004c65,0x103,0);
      }
    }
    else {
      DAT_40002410 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0103,&LEA_obd_ii_P0103_flags);
      if (DAT_400023d2 < DAT_4000d3bb) {
        DAT_400023d2 = DAT_400023d2 + 1;
      }
    }
  }
  if ((((((CAL_obd_ii_P0106 & 7) != 0) && ((LEA_obd_ii_P0106_flags & 4) == 0)) &&
       (DAT_40002408 != 0)) && ((DAT_40002409 != 0 && (DAT_400023d1 != 0)))) &&
     ((((DAT_400023d2 != 0 && ((latch_counter_p0122 != '\0' && (latch_counter_p0123 != '\0')))) &&
       (latch_counter_p0222 != '\0')) &&
      ((((latch_counter_p0223 != '\0' && (latch_counter_p2135 != '\0')) &&
        ((engine_state_failure_flags & 1) == 0)) &&
       (((DAT_400023e4 != 0 && (DAT_400023e5 != 0)) && ((LEA_obd_ii_P1109_flags & 2) == 0)))))))) {
    DAT_40002505 = lookup_2D_uint8_interpolated
                             ('\b',(uint8_t)(obd_ii_maf_flow / 200),&DAT_4000e050,&DAT_4000e048);
    if (((obd_ii_engine_speed == 0) && ((driver_input_flags[1] & 1) == 0)) &&
       (CAL_ecu_system_voltage_threshold[1] < sensor_adc_ecu_voltage)) {
      lVar4 = libc_abs((ulonglong)obd_ii_atmospheric_baro - (ulonglong)DAT_400019f2);
      DAT_400024e6 = (ushort)lVar4;
      if (DAT_4000cc81 < DAT_400024e6) {
        bVar7 = DAT_400024e8 - 1;
        if (DAT_400024e8 == 0) {
          bVar7 = DAT_400024e8;
        }
        DAT_400024e8 = bVar7;
        if (bVar7 == 0) {
          DAT_400024ea = DAT_400024ea & 0xfd | 1;
          DAT_400024e8 = DAT_4000cc83;
        }
        DAT_400024e9 = DAT_4000cc82;
      }
      else {
        if (DAT_400024e8 < DAT_4000cc83) {
          DAT_400024e8 = DAT_400024e8 + 1;
        }
        bVar1 = DAT_400024e9 == '\0';
        DAT_400024e9 = DAT_400024e9 + -1;
        if (bVar1) {
          DAT_400024e9 = '\0';
        }
        if (DAT_400024e9 == '\0') {
          DAT_400024ea = DAT_400024ea & 0xfe | 2;
          DAT_400024e9 = DAT_4000cc82;
        }
      }
      DAT_40002528 = 0;
      DAT_4000252e = 0;
      DAT_400024e4 = 0;
      DAT_400024e2 = 0;
    }
    else if (((((DAT_4000caa6 < engine_speed_3) && (engine_speed_3 < DAT_4000caa7)) &&
              (DAT_4000caa8 < tps2)) &&
             ((tps2 < DAT_4000caa9 &&
              (lVar4 = libc_abs((longlong)(short)tps_delta_rate),
              (int)lVar4 < (int)(uint)DAT_4000caaa)))) && (DAT_40001d4f == '\0')) {
      DAT_400024e6 = 0;
      DAT_40002526 = lookup_3D_uint8_interpolated
                               ('\b','\b',(ushort)tps2,(ushort)load_mass_per_stroke,&DAT_4000e068,
                                &DAT_4000e058,&DAT_4000e060);
      DAT_40002525 = lookup_3D_uint8_interpolated
                               ('\b','\b',(ushort)tps2,(ushort)load_mass_per_stroke,&DAT_4000e0b8,
                                &DAT_4000e0a8,&DAT_4000e0b0);
      DAT_40002524 = (byte)((int)((uint)DAT_40002526 * ((uint)DAT_4000caa7 - (uint)engine_speed_3) +
                                 (uint)DAT_40002525 * ((uint)engine_speed_3 - (uint)DAT_4000caa6)) /
                           (int)((uint)DAT_4000caa7 - (uint)DAT_4000caa6));
      DAT_4000252e = (ushort)DAT_40002505 + (ushort)DAT_40002524 * 4 + map;
      DAT_40002528 = obd_ii_atmospheric_baro - DAT_4000252e;
      if ((DAT_4000cabc < DAT_40002528) || ((int)DAT_40002528 < -(int)DAT_4000cabe)) {
        DAT_400024e4 = 0;
        DAT_400024e2 = DAT_400024e2 + 1;
        if (((short)DAT_400023e8 <= DAT_400024e2) &&
           ((DAT_400024e2 = 0, DAT_400024e1 != 0 &&
            (DAT_400024e1 = DAT_400024e1 - 1, DAT_400024e1 == 0)))) {
          DAT_400024ea = DAT_400024ea & 0xf7 | 4;
        }
      }
      else {
        DAT_400024e2 = 0;
        DAT_400024e4 = DAT_400024e4 + 1;
        if ((short)DAT_400023e8 <= DAT_400024e4) {
          DAT_400024e4 = 0;
          if (DAT_400024e1 < DAT_4000d3a7) {
            DAT_400024e1 = DAT_400024e1 + 1;
          }
          else {
            DAT_400024ea = DAT_400024ea & 0xfb | 8;
          }
        }
      }
      DAT_400024e9 = DAT_4000cc82;
      DAT_400024e8 = DAT_4000cc83;
    }
    else {
      DAT_400024e6 = 0;
      DAT_40002528 = 0;
      DAT_4000252e = 0;
      DAT_400024e4 = 0;
      DAT_400024e2 = 0;
      DAT_400024e9 = DAT_4000cc82;
      DAT_400024e8 = DAT_4000cc83;
    }
    if (((DAT_400024ea & 1) == 0) || (((DAT_400024ea & 4) == 0 && (DAT_4000cbb6 != '\0')))) {
      if (((DAT_400024ea & 2) != 0) && (((DAT_400024ea & 8) != 0 || (DAT_4000cbb6 == '\0')))) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0106,&LEA_obd_ii_P0106_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0106,&LEA_obd_ii_P0106_flags,&DAT_40004c67,&DAT_40004c68,0x106,0);
    }
    if ((((CAL_obd_ii_P0106 & 8) != 0) && ((LEA_obd_ii_P0106_flags & 4) != 0)) &&
       ((LEA_obd_ii_P0106_flags & 2) == 0)) {
      LEA_obd_ii_P0106_flags = LEA_obd_ii_P0106_flags & 0xfb;
      DAT_400024e1 = DAT_4000d3a7;
    }
  }
  if (((CAL_obd_ii_P0107 & 7) != 0) && (engine_is_running != false)) {
    if (atmo_baro_sensor_voltage < DAT_4000ca02) {
      DAT_40002414 = DAT_40002414 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002414) && (DAT_40002414 = 0, DAT_40002412 != 0)) &&
         (DAT_40002412 = DAT_40002412 - 1, DAT_40002412 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0107,&LEA_obd_ii_P0107_flags,&DAT_40004c6a,&DAT_40004c6b,0x107,0);
      }
    }
    else {
      DAT_40002414 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0107,&LEA_obd_ii_P0107_flags);
      if (DAT_40002412 < DAT_4000d3a8) {
        DAT_40002412 = DAT_40002412 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0108 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000ca00 < atmo_baro_sensor_voltage) {
      DAT_40002418 = DAT_40002418 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002418) && (DAT_40002418 = 0, DAT_40002416 != 0)) &&
         (DAT_40002416 = DAT_40002416 - 1, DAT_40002416 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0108,&LEA_obd_ii_P0108_flags,&DAT_40004c6d,&DAT_40004c6e,0x108,0);
      }
    }
    else {
      DAT_40002418 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0108,&LEA_obd_ii_P0108_flags);
      if (DAT_40002416 < DAT_4000d3a9) {
        DAT_40002416 = DAT_40002416 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0131 & 7) != 0) && (engine_is_running != false)) &&
     ((LEA_obd_ii_P2105_flags & 2) == 0)) {
    if (obd_ii_o2_sensor1_voltage < DAT_4000c9e6) {
      if ((((inj_flags & 2) == 0) && ((misfire_condition_flags & 0x20) == 0)) &&
         ((DAT_40002426 = DAT_40002426 + 1, (short)DAT_400023e8 <= DAT_40002426 &&
          ((DAT_40002426 = 0, DAT_400023da != 0 &&
           (DAT_400023da = DAT_400023da - 1, DAT_400023da == 0)))))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0131,&LEA_obd_ii_P0131_flags,&DAT_40004c94,&DAT_40004c95,0x131,0);
      }
    }
    else {
      DAT_40002426 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0131,&LEA_obd_ii_P0131_flags);
      if (DAT_400023da < DAT_4000d3b6) {
        DAT_400023da = DAT_400023da + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0132 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000c9e8 < obd_ii_o2_sensor1_voltage) {
      DAT_40002428 = DAT_40002428 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002428) && (DAT_40002428 = 0, DAT_400023db != 0)) &&
         (DAT_400023db = DAT_400023db - 1, DAT_400023db == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0132,&LEA_obd_ii_P0132_flags,&DAT_40004c97,&DAT_40004c98,0x132,0);
      }
    }
    else {
      DAT_40002428 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0132,&LEA_obd_ii_P0132_flags);
      if (DAT_400023db < DAT_4000d3b7) {
        DAT_400023db = DAT_400023db + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0151 & 7) != 0) && (engine_is_running != false)) &&
     ((LEA_obd_ii_P2105_flags & 2) == 0)) {
    if (obd_ii_o2_sensor5_voltage < DAT_4000c9e6) {
      if ((((inj_flags & 2) == 0) && ((misfire_condition_flags & 0x40) == 0)) &&
         ((DAT_4000242e = DAT_4000242e + 1, (short)DAT_400023e8 <= DAT_4000242e &&
          ((DAT_4000242e = 0, DAT_400023dc != 0 &&
           (DAT_400023dc = DAT_400023dc - 1, DAT_400023dc == 0)))))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0151,&LEA_obd_ii_P0151_flags,&DAT_40004cb2,&DAT_40004cb3,0x151,0);
      }
    }
    else {
      DAT_4000242e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0151,&LEA_obd_ii_P0151_flags);
      if (DAT_400023dc < DAT_4000d426) {
        DAT_400023dc = DAT_400023dc + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0152 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000c9e8 < obd_ii_o2_sensor5_voltage) {
      DAT_40002430 = DAT_40002430 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002430) && (DAT_40002430 = 0, DAT_400023dd != 0)) &&
         (DAT_400023dd = DAT_400023dd - 1, DAT_400023dd == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0152,&LEA_obd_ii_P0152_flags,&DAT_40004cb5,&DAT_40004cb6,0x152,0);
      }
    }
    else {
      DAT_40002430 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0152,&LEA_obd_ii_P0152_flags);
      if (DAT_400023dd < DAT_4000d427) {
        DAT_400023dd = DAT_400023dd + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0137 & 7) != 0) && (engine_is_running != false)) {
    if ((obd_ii_o2_sensor2_voltage < DAT_4000c9ea) &&
       (((inj_flags & 2) == 0 && ((misfire_condition_flags & 0x20) == 0)))) {
      DAT_4000242c = DAT_4000242c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000242c) && (DAT_4000242c = 0, DAT_4000242a != 0)) &&
         (DAT_4000242a = DAT_4000242a - 1, DAT_4000242a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0137,&LEA_obd_ii_P0137_flags,&DAT_40004ca3,&DAT_40004ca4,0x137,0);
      }
    }
    else {
      DAT_4000242c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0137,&LEA_obd_ii_P0137_flags);
      if (DAT_4000242a < DAT_4000d3b8) {
        DAT_4000242a = DAT_4000242a + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0138 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000c9ec < obd_ii_o2_sensor2_voltage) {
      DAT_40002448 = DAT_40002448 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002448) && (DAT_40002448 = 0, DAT_40002446 != 0)) &&
         (DAT_40002446 = DAT_40002446 - 1, DAT_40002446 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0138,&LEA_obd_ii_P0138_flags,&DAT_40004ca6,&DAT_40004ca7,0x138,0);
      }
    }
    else {
      DAT_40002448 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0138,&LEA_obd_ii_P0138_flags);
      if (DAT_40002446 < DAT_4000d3b9) {
        DAT_40002446 = DAT_40002446 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0157 & 7) != 0) && (engine_is_running != false)) {
    if ((obd_ii_o2_sensor6_voltage < DAT_4000c9ea) &&
       (((inj_flags & 2) == 0 && ((misfire_condition_flags & 0x40) == 0)))) {
      DAT_40002434 = DAT_40002434 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002434) && (DAT_40002434 = 0, DAT_40002432 != 0)) &&
         (DAT_40002432 = DAT_40002432 - 1, DAT_40002432 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0157,&LEA_obd_ii_P0157_flags,&DAT_40004cc1,&DAT_40004cc2,0x157,0);
      }
    }
    else {
      DAT_40002434 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0157,&LEA_obd_ii_P0157_flags);
      if (DAT_40002432 < DAT_4000d428) {
        DAT_40002432 = DAT_40002432 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0158 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000c9ec < obd_ii_o2_sensor6_voltage) {
      DAT_4000244c = DAT_4000244c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000244c) && (DAT_4000244c = 0, DAT_4000244a != 0)) &&
         (DAT_4000244a = DAT_4000244a - 1, DAT_4000244a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0158,&LEA_obd_ii_P0158_flags,&DAT_40004cc4,&DAT_40004cc5,0x158,0);
      }
    }
    else {
      DAT_4000244c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0158,&LEA_obd_ii_P0158_flags);
      if (DAT_4000244a < DAT_4000d429) {
        DAT_4000244a = DAT_4000244a + 1;
      }
    }
  }
  if (sensor_adc_engine_air_voltage < CAL_sensor_iat_voltage_threshold[1]) {
    DAT_400023f4 = DAT_400023f4 & 0xfffdffff | 0x10000;
  }
  else if (CAL_sensor_iat_voltage_threshold[0] < sensor_adc_engine_air_voltage) {
    DAT_400023f4 = DAT_400023f4 & 0xfffeffff | 0x20000;
  }
  else {
    DAT_400023f4 = DAT_400023f4 & 0xfffcffff;
  }
  if ((CAL_obd_ii_P0111 & 7) != 0) {
    if (((CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start) &&
        ((DAT_400023f4 & 0x30000) == 0)) && ((DAT_4000248c & 2) == 0)) {
      if (sensor_adc_engine_air_voltage < DAT_400016ba) {
        DAT_400016ba = sensor_adc_engine_air_voltage;
      }
      if (DAT_40002486 < sensor_adc_engine_air_voltage) {
        DAT_40002486 = sensor_adc_engine_air_voltage;
      }
      if ((int)(uint)DAT_4000cb9f < (int)((uint)DAT_40002486 - (uint)DAT_400016ba)) {
        DAT_4000248c = DAT_4000248c & 0xfe | 2;
        DAT_40002488 = 0;
      }
    }
    if ((engine_is_running != false) && ((DAT_400023f4 & 0x30000) == 0)) {
      lVar4 = libc_abs((ulonglong)iat - (ulonglong)temp_engine_air);
      if ((int)(uint)DAT_4000cade < (int)lVar4) {
        DAT_4000241a = DAT_4000241a + 1;
        if ((short)DAT_400023e8 <= (short)DAT_4000241a) {
          DAT_4000241a = 0;
          if (DAT_400023d3 == 0) {
            DAT_4000248c = DAT_4000248c | 0x30;
          }
          else {
            DAT_400023d3 = DAT_400023d3 - 1;
          }
        }
      }
      else if (DAT_4000241a == 0) {
        DAT_4000248c = DAT_4000248c | 0x20;
      }
      else {
        DAT_4000241a = DAT_4000241a - 1;
        if ((DAT_4000241a == 0) && (DAT_400023d3 < DAT_4000d3ab)) {
          DAT_400023d3 = DAT_400023d3 + 1;
          DAT_4000241a = DAT_400023e8;
        }
      }
    }
    if ((((DAT_4000248c & 4) == 0) && ((DAT_4000248c & 0x10) == 0)) && ((DAT_4000248c & 1) == 0)) {
      if (((((DAT_4000248c & 8) != 0) && ((DAT_4000248c & 4) == 0)) &&
          (((DAT_4000248c & 0x20) != 0 &&
           (((DAT_4000248c & 0x10) == 0 && ((DAT_4000248c & 2) != 0)))))) &&
         ((DAT_4000248c & 1) == 0)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0111,&LEA_obd_ii_P0111_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0111,&LEA_obd_ii_P0111_flags,&DAT_40004c70,&DAT_40004c71,0x111,0);
    }
    if (((CAL_obd_ii_P0111 & 8) != 0) && ((DAT_4000248c & 2) != 0)) {
      DAT_4000248c = DAT_4000248c & 0xfd;
      DAT_40002486 = sensor_adc_engine_air_voltage;
      DAT_400016ba = sensor_adc_engine_air_voltage;
    }
  }
  if (((CAL_obd_ii_P0112 & 7) != 0) && (engine_is_running != false)) {
    if ((DAT_400023f4 & 0x10000) == 0) {
      DAT_4000241c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0112,&LEA_obd_ii_P0112_flags);
      if (DAT_400023d4 < DAT_4000d3ac) {
        DAT_400023d4 = DAT_400023d4 + 1;
      }
    }
    else {
      DAT_4000241c = DAT_4000241c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000241c) && (DAT_4000241c = 0, DAT_400023d4 != 0)) &&
         (DAT_400023d4 = DAT_400023d4 - 1, DAT_400023d4 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0112,&LEA_obd_ii_P0112_flags,&DAT_40004c73,&DAT_40004c74,0x112,0);
      }
    }
  }
  if (((CAL_obd_ii_P0113 & 7) != 0) && (engine_is_running != false)) {
    if ((DAT_400023f4 & 0x20000) == 0) {
      DAT_4000241e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0113,&LEA_obd_ii_P0113_flags);
      if (DAT_400023d5 < DAT_4000d3ad) {
        DAT_400023d5 = DAT_400023d5 + 1;
      }
    }
    else {
      DAT_4000241e = DAT_4000241e + 1;
      if ((((short)DAT_400023e8 <= DAT_4000241e) && (DAT_4000241e = 0, DAT_400023d5 != 0)) &&
         (DAT_400023d5 = DAT_400023d5 - 1, DAT_400023d5 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0113,&LEA_obd_ii_P0113_flags,&DAT_40004c76,&DAT_40004c77,0x113,0);
      }
    }
  }
  if (intake_air_sensor_voltage < CAL_sensor_intake_air_temp_voltage_threshold[1]) {
    DAT_400023f4 = DAT_400023f4 & 0xfff7ffff | 0x40000;
  }
  else if (CAL_sensor_intake_air_temp_voltage_threshold[0] < intake_air_sensor_voltage) {
    DAT_400023f4 = DAT_400023f4 & 0xfffbffff | 0x80000;
  }
  else {
    DAT_400023f4 = DAT_400023f4 & 0xfff3ffff;
  }
  if ((((CAL_obd_ii_P0096 & 7) != 0) && ((LEA_obd_ii_P0097_flags & 2) == 0)) &&
     ((LEA_obd_ii_P0098_flags & 2) == 0)) {
    bVar7 = DAT_40002494;
    if (((((LEA_obd_ii_P0101_flags & 2) == 0) && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
        ((((LEA_obd_ii_P0103_flags & 2) == 0 &&
          (((LEA_obd_ii_P0116_flags & 2) == 0 && ((LEA_obd_ii_P0117_flags & 2) == 0)))) &&
         ((LEA_obd_ii_P0118_flags & 2) == 0)))) &&
       (((DAT_40002494 & 2) == 0 && (CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start)
        ))) {
      if (intake_air_sensor_voltage < DAT_400016bc) {
        DAT_400016bc = intake_air_sensor_voltage;
      }
      if (DAT_40002492 < intake_air_sensor_voltage) {
        DAT_40002492 = intake_air_sensor_voltage;
      }
      if ((int)(uint)DAT_4000cadb < (int)((uint)DAT_40002492 - (uint)DAT_400016bc)) {
        bVar7 = DAT_40002494 & 0xfe | 2;
      }
      else {
        if (((ulonglong)DAT_4000cc66 << 6 < (ulonglong)obd_ii_accumulated_mass_air / 1000) &&
           (CAL_cooling_thermostat_open < coolant_temp)) {
          if (((ushort)((ushort)DAT_4000cc67 << 4) < obd_ii_maf_flow) &&
             ((engine_operating_state_flags & 8) == 0)) {
            DAT_40002496 = DAT_4000cc69;
            if (((DAT_40002495 != '\0') && (DAT_40002495 = DAT_40002495 + -1, DAT_40002495 == '\0'))
               && (DAT_40002497 < DAT_4000cc6a)) {
              DAT_40002497 = DAT_40002497 + 1;
            }
          }
          else if (((((engine_operating_state_flags & 8) != 0) && (car_speed_u8 == '\0')) &&
                   (DAT_40002495 = DAT_4000cc68, DAT_40002496 != '\0')) &&
                  ((DAT_40002496 = DAT_40002496 + -1, DAT_40002496 == '\0' &&
                   (DAT_40002498 < DAT_4000cc6b)))) {
            DAT_40002498 = DAT_40002498 + 1;
          }
        }
        if ((DAT_4000cc6b <= DAT_40002498) &&
           (bVar7 = DAT_40002494 | 3, DAT_40002497 < DAT_4000cc6a)) {
          bVar7 = DAT_40002494;
        }
      }
    }
    DAT_40002494 = bVar7;
    if (engine_is_running != false) {
      lVar4 = libc_abs((ulonglong)chargecooler_temp_div_160 - (ulonglong)obd_ii_manifold_temp);
      if ((int)(uint)DAT_4000ca2f < (int)lVar4) {
        DAT_400023fe = DAT_400023fe + 1;
        if ((short)DAT_400023e8 <= (short)DAT_400023fe) {
          DAT_400023fe = 0;
          bVar7 = DAT_400023fc - 1;
          if (DAT_400023fc == 0) {
            bVar7 = DAT_400023fc;
          }
          DAT_400023fc = bVar7;
          if (bVar7 == 0) {
            DAT_40002494 = DAT_40002494 | 0x30;
          }
        }
      }
      else if (DAT_400023fe == 0) {
        DAT_40002494 = DAT_40002494 | 0x20;
      }
      else {
        DAT_400023fe = DAT_400023fe - 1;
        if ((DAT_400023fe == 0) && (DAT_400023fc < DAT_4000d43a)) {
          DAT_400023fc = DAT_400023fc + 1;
          DAT_400023fe = DAT_400023e8;
        }
      }
    }
    if ((((DAT_40002494 & 4) == 0) && ((DAT_40002494 & 0x10) == 0)) && ((DAT_40002494 & 1) == 0)) {
      if (((((DAT_40002494 & 8) != 0) && ((DAT_40002494 & 4) == 0)) &&
          (((DAT_40002494 & 2) != 0 && (((DAT_40002494 & 1) == 0 && ((DAT_40002494 & 0x20) != 0)))))
          ) && ((DAT_40002494 & 0x10) == 0)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0096,&LEA_obd_ii_P0096_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0096,&LEA_obd_ii_P0096_flags,&DAT_40004c55,&DAT_40004c56,0x96,0);
    }
    if (((CAL_obd_ii_P0096 & 8) != 0) && ((DAT_40002494 & 2) != 0)) {
      DAT_40002494 = DAT_40002494 & 0xfd;
      DAT_400016bc = 0x3ff;
      DAT_40002492 = 0;
      DAT_40002497 = 0;
      DAT_40002498 = 0;
      DAT_40002495 = DAT_4000cc68;
      DAT_40002496 = DAT_4000cc69;
    }
  }
  if (((CAL_obd_ii_P0097 & 7) != 0) && (engine_is_running != false)) {
    if ((DAT_400023f4 & 0x40000) == 0) {
      DAT_40002402 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0097,&LEA_obd_ii_P0097_flags);
      if (DAT_40002400 < DAT_4000d467) {
        DAT_40002400 = DAT_40002400 + 1;
      }
    }
    else {
      DAT_40002402 = DAT_40002402 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002402) && (DAT_40002402 = 0, DAT_40002400 != 0)) &&
         (DAT_40002400 = DAT_40002400 - 1, DAT_40002400 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0097,&LEA_obd_ii_P0097_flags,&DAT_40004c58,&DAT_40004c59,0x97,0);
      }
    }
  }
  if (((CAL_obd_ii_P0098 & 7) != 0) && (engine_is_running != false)) {
    if ((DAT_400023f4 & 0x80000) == 0) {
      DAT_40002406 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0098,&LEA_obd_ii_P0098_flags);
      if (DAT_40002404 < DAT_4000d468) {
        DAT_40002404 = DAT_40002404 + 1;
      }
    }
    else {
      DAT_40002406 = DAT_40002406 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002406) && (DAT_40002406 = 0, DAT_40002404 != 0)) &&
         (DAT_40002404 = DAT_40002404 - 1, DAT_40002404 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0098,&LEA_obd_ii_P0098_flags,&DAT_40004c5b,&DAT_40004c5c,0x98,0);
      }
    }
  }
  if (((DAT_40001789 & 2) != 0) && ((DAT_40001789 & 0x20) != 0)) {
    uVar2 = get_ambiant_air_temp();
    if ((uVar2 & 0xff) < (uint)DAT_4000ca53) {
      DAT_400023f4 = DAT_400023f4 & 0xff7fffff | 0x400000;
    }
    else {
      uVar2 = get_ambiant_air_temp();
      if ((uint)DAT_4000ca52 < (uVar2 & 0xff)) {
        DAT_400023f4 = DAT_400023f4 & 0xffbfffff | 0x800000;
      }
      else {
        DAT_400023f4 = DAT_400023f4 & 0xff3fffff;
      }
    }
    if (((CAL_obd_ii_P0072 & 7) != 0) && (engine_is_running != false)) {
      if ((DAT_400023f4 & 0x400000) == 0) {
        DAT_400024aa = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0072,&LEA_obd_ii_P0072_flags);
        if (DAT_400024a8 < DAT_4000d472) {
          DAT_400024a8 = DAT_400024a8 + 1;
        }
      }
      else {
        DAT_400024aa = DAT_400024aa + 1;
        if ((((short)DAT_400023e8 <= DAT_400024aa) && (DAT_400024aa = 0, DAT_400024a8 != 0)) &&
           (DAT_400024a8 = DAT_400024a8 - 1, DAT_400024a8 == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0072,&LEA_obd_ii_P0072_flags,&DAT_40004c7c,&DAT_40004c7d,0x72,0);
        }
      }
    }
    if (((CAL_obd_ii_P0073 & 7) != 0) && (engine_is_running != false)) {
      if ((DAT_400023f4 & 0x800000) == 0) {
        DAT_400024ae = 0;
        obd_ii_monitor_pass(&CAL_obd_ii_P0073,&LEA_obd_ii_P0073_flags);
        if (DAT_400024ac < DAT_4000d474) {
          DAT_400024ac = DAT_400024ac + 1;
        }
      }
      else {
        DAT_400024ae = DAT_400024ae + 1;
        if ((((short)DAT_400023e8 <= DAT_400024ae) && (DAT_400024ae = 0, DAT_400024ac != 0)) &&
           (DAT_400024ac = DAT_400024ac - 1, DAT_400024ac == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0073,&LEA_obd_ii_P0073_flags,&DAT_40004c7f,&DAT_40004c80,0x73,0);
        }
      }
    }
    if ((CAL_obd_ii_P0071 & 7) != 0) {
      if (DAT_400024a6 == 0) {
        DAT_400024a3 = DAT_400024a3 | 0x20;
      }
      else {
        DAT_400024a6 = DAT_400024a6 - 1;
        if ((DAT_400024a6 == 0) && (DAT_400023d6 < DAT_4000d452)) {
          DAT_400023d6 = DAT_400023d6 + 1;
          DAT_400024a6 = DAT_400023e8;
        }
      }
      if (((DAT_400024a3 & 4) == 0) && ((DAT_400024a3 & 0x10) == 0)) {
        if (((((DAT_400024a3 & 8) != 0) && ((DAT_400024a3 & 4) == 0)) &&
            ((DAT_400024a3 & 0x20) != 0)) && ((DAT_400024a3 & 0x10) == 0)) {
          obd_ii_monitor_pass(&CAL_obd_ii_P0071,&LEA_obd_ii_P0071_flags);
        }
      }
      else {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0071,&LEA_obd_ii_P0071_flags,&DAT_40004c79,&DAT_40004c7a,0x71,0);
      }
    }
  }
  if (coolant_temp_sensor_voltage < CAL_sensor_coolant_voltage_threshold[1]) {
    DAT_400023f4 = DAT_400023f4 & 0xffdfffff | 0x100000;
  }
  else if (CAL_sensor_coolant_voltage_threshold[0] < coolant_temp_sensor_voltage) {
    DAT_400023f4 = DAT_400023f4 & 0xffefffff | 0x200000;
  }
  else {
    DAT_400023f4 = DAT_400023f4 & 0xffcfffff;
  }
  if ((((CAL_obd_ii_P0116 & 7) != 0) && (DAT_400023d8 != 0)) && (DAT_400023d9 != 0)) {
    if (CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start) {
      DAT_4000252a = FUN_000a85c0();
      if (DAT_4000252a == '\0') {
        DAT_40002499 = DAT_40002499 | 2;
      }
      else if (DAT_4000252a == '\x01') {
        DAT_40002499 = DAT_40002499 | 3;
      }
    }
    if ((engine_is_running != false) && ((DAT_400023f4 & 0x300000) == 0)) {
      if ((DAT_4000cae9 < coolant_temp_engine_stopped) && (runtime_since_start < DAT_4000cae0)) {
        DAT_400024a2 = DAT_4000cae8;
      }
      else {
        DAT_400024a2 = DAT_4000cadf;
      }
      uVar5 = libc_abs((ulonglong)coolant_temp_raw - (ulonglong)coolant_temp_derived3);
      DAT_4000252b = -((char)((longlong)((int)(uVar5 ^ DAT_400024a2) >> 1) -
                              ((uVar5 ^ DAT_400024a2) & uVar5) >> 0x18) >> 7);
      if (DAT_4000252b == '\0') {
        if (DAT_40002420 == 0) {
          DAT_40002499 = DAT_40002499 | 0x20;
        }
        else {
          DAT_40002420 = DAT_40002420 - 1;
          if ((DAT_40002420 == 0) && (DAT_400023d7 < DAT_4000d3af)) {
            DAT_400023d7 = DAT_400023d7 + 1;
            DAT_40002420 = DAT_400023e8;
          }
        }
      }
      else {
        DAT_40002420 = DAT_40002420 + 1;
        if ((short)DAT_400023e8 <= (short)DAT_40002420) {
          DAT_40002420 = 0;
          bVar7 = DAT_400023d7 - 1;
          if (DAT_400023d7 == 0) {
            bVar7 = DAT_400023d7;
          }
          DAT_400023d7 = bVar7;
          if (bVar7 == 0) {
            DAT_40002499 = DAT_40002499 | 0x30;
          }
        }
      }
    }
    bVar7 = lookup_2D_uint8_interpolated
                      ('\r',coolant_temp_engine_stopped,&DAT_4000e13b,&DAT_4000e12e);
    DAT_4000249c = (uint)bVar7 * 2000;
    if ((engine_is_running == false) || ((engine_state_failure_flags & 2) != 0)) {
      DAT_400024a1 = 0;
    }
    else if (DAT_400024a1 < coolant_temp) {
      DAT_400024a1 = coolant_temp;
    }
    if ((uint)DAT_4000caa5 + (uint)DAT_4000ca93 < (uint)DAT_400024a1) {
      DAT_400024a0 = DAT_4000ca93;
    }
    else if (DAT_400024a1 < DAT_4000caa5) {
      DAT_400024a0 = 0;
    }
    else {
      DAT_400024a0 = DAT_400024a1 - DAT_4000caa5;
    }
    if (((coolant_temp < DAT_4000ca93) && (DAT_4000249c < runtime_since_start)) ||
       (coolant_temp < DAT_400024a0)) {
      DAT_40002499 = DAT_40002499 | 0xc0;
    }
    else if (DAT_4000ca93 < coolant_temp) {
      DAT_40002499 = DAT_40002499 | 0x80;
    }
    if ((((DAT_40002499 & 4) == 0) && ((DAT_40002499 & 0x10) == 0)) &&
       (((DAT_40002499 & 1) == 0 && ((DAT_40002499 & 0x40) == 0)))) {
      if ((((DAT_40002499 & 8) != 0) && ((DAT_40002499 & 4) == 0)) &&
         ((((DAT_40002499 & 2) != 0 &&
           ((((DAT_40002499 & 1) == 0 && ((DAT_40002499 & 0x20) != 0)) &&
            ((DAT_40002499 & 0x10) == 0)))) &&
          (((DAT_40002499 & 0x80) != 0 && ((DAT_40002499 & 0x40) == 0)))))) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0116,&LEA_obd_ii_P0116_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0116,&LEA_obd_ii_P0116_flags,&DAT_40004c82,&DAT_40004c83,0x116,0);
    }
  }
  if ((CAL_obd_ii_P0117 & 7) != 0) {
    if ((DAT_400023f4 & 0x100000) == 0) {
      DAT_40002422 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0117,&LEA_obd_ii_P0117_flags);
      if (DAT_400023d8 < DAT_4000d3b0) {
        DAT_400023d8 = DAT_400023d8 + 1;
      }
    }
    else {
      DAT_40002422 = DAT_40002422 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002422) && (DAT_40002422 = 0, DAT_400023d8 != 0)) &&
         (DAT_400023d8 = DAT_400023d8 - 1, DAT_400023d8 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0117,&LEA_obd_ii_P0117_flags,&DAT_40004c85,&DAT_40004c86,0x117,0);
      }
    }
  }
  if ((CAL_obd_ii_P0118 & 7) != 0) {
    if ((DAT_400023f4 & 0x200000) == 0) {
      DAT_40002424 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0118,&LEA_obd_ii_P0118_flags);
      if (DAT_400023d9 < DAT_4000d3b1) {
        DAT_400023d9 = DAT_400023d9 + 1;
      }
    }
    else {
      DAT_40002424 = DAT_40002424 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002424) && (DAT_40002424 = 0, DAT_400023d9 != 0)) &&
         (DAT_400023d9 = DAT_400023d9 - 1, DAT_400023d9 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0118,&LEA_obd_ii_P0118_flags,&DAT_40004c88,&DAT_40004c89,0x118,0);
      }
    }
  }
  if ((((CAL_obd_ii_P0191 & 7) != 0) && ((LEA_obd_ii_P0191_flags & 2) == 0)) &&
     ((((LEA_obd_ii_P0192_flags & 2) == 0 &&
       (((LEA_obd_ii_P0193_flags & 2) == 0 && ((engine_state_failure_flags & 0x10000000) == 0)))) &&
      ((engine_state_failure_flags & 0x10) == 0)))) {
    if ((engine_is_running == false) || ((ignition_on_flags & 1) == 0)) {
      DAT_400024f2 = DAT_400024f2 & 0xffbf;
      DAT_40002502 = DAT_4000cc5f;
      DAT_40002503 = DAT_4000cc6c;
      DAT_40002504 = DAT_4000cc6e;
    }
    else {
      if ((CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start) &&
         ((DAT_400024f2 & 0x20) == 0)) {
        if ((((inj_flags & 1) != 0) && ((DAT_400024f2 & 0x80) == 0)) ||
           (((inj_flags & 1) == 0 && ((DAT_400024f2 & 0x80) != 0)))) {
          DAT_400024f2 = DAT_400024f2 & 0xffbf;
        }
        if ((DAT_400024f2 & 0x40) == 0) {
          if ((inj_flags & 1) == 0) {
            DAT_400024f4 = DAT_4000cc4b;
            DAT_400024f8 = fuel_pressure_abs;
            DAT_400024f6 = fuel_pressure_abs;
            DAT_400024fc = fuel_pressure_error__;
            DAT_400024fa = fuel_pressure_error__;
            DAT_400024f2 = DAT_400024f2 & 0xfe7f;
          }
          else if ((DAT_4000cc60 < obd_ii_maf_flow) && (DAT_4000cc62 < DAT_40002500)) {
            DAT_400024f4 = DAT_4000cc4a;
            DAT_400024f8 = DAT_400024fe;
            DAT_400024f6 = DAT_400024fe;
            DAT_400024fc = 0;
            DAT_400024fa = 0;
            DAT_400024f2 = DAT_400024f2 & 0xfeff | 0x80;
          }
          else {
            DAT_400024f2 = DAT_400024f2 | 0x180;
          }
          DAT_400024f2 = DAT_400024f2 | 0x40;
        }
        if ((DAT_400024f2 & 0x80) == 0) {
          if (DAT_400024fc < fuel_pressure_error__) {
            DAT_400024fc = fuel_pressure_error__;
          }
          else if (fuel_pressure_error__ < DAT_400024fa) {
            DAT_400024fa = fuel_pressure_error__;
          }
        }
        if ((DAT_400024f2 & 0x100) == 0) {
          if (DAT_400024f8 < fuel_pressure_abs) {
            DAT_400024f8 = fuel_pressure_abs;
          }
          else if (fuel_pressure_abs < DAT_400024f6) {
            DAT_400024f6 = fuel_pressure_abs;
          }
          if ((int)(uint)DAT_4000cc4c < (int)((uint)DAT_400024f8 - (uint)DAT_400024f6)) {
            DAT_400024f2 = DAT_400024f2 | 0x38;
          }
          else if (((inj_flags & 1) != 0) ||
                  ((int)((uint)DAT_4000cc4d << 3) < (int)DAT_400024fc - (int)DAT_400024fa)) {
            if (DAT_400024f4 == '\0') {
              DAT_400024f2 = DAT_400024f2 | 0x34;
            }
            else {
              DAT_400024f4 = DAT_400024f4 + -1;
            }
          }
        }
      }
      else if ((inj_flags & 1) == 0) {
        uVar6 = DAT_400024f2;
        if (((DAT_400024f2 & 0x20) != 0) &&
           (uVar6 = DAT_400024f2 & 0xffdf, (CAL_obd_ii_P0191 & 8) == 0)) {
          uVar6 = DAT_400024f2;
        }
        DAT_400024f2 = uVar6;
        DAT_400024f2 = DAT_400024f2 & 0xffbf;
      }
      if (inj_flow_required_or_estimated___ < DAT_4000ca50) {
        if (((((fuel_pressure_state_flags & 0x20) == 0) &&
             (((LEA_obd_ii_P0171_flags & 2) == 0 || ((LEA_obd_ii_P0174_flags & 2) == 0)))) ||
            ((int)-(uint)DAT_4000cc64 <= (int)fuel_pressure_error__)) &&
           ((((fuel_pressure_state_flags & 0x40) == 0 &&
             (((LEA_obd_ii_P0172_flags & 2) == 0 || ((LEA_obd_ii_P0175_flags & 2) == 0)))) ||
            ((int)fuel_pressure_error__ <= (int)(uint)DAT_4000cc64)))) {
          DAT_40002502 = DAT_4000cc5f;
          if (((((LEA_obd_ii_P0171_flags & 4) != 0) && ((LEA_obd_ii_P0172_flags & 4) != 0)) &&
              ((LEA_obd_ii_P0174_flags & 4) != 0)) && ((LEA_obd_ii_P0175_flags & 4) != 0)) {
            DAT_400024f2 = DAT_400024f2 | 2;
          }
        }
        else if ((DAT_40002502 != '\0') && (DAT_40002502 = DAT_40002502 + -1, DAT_40002502 == '\0'))
        {
          DAT_400024f2 = DAT_400024f2 | 1;
        }
      }
      else {
        DAT_40002502 = DAT_4000cc5f;
      }
      DAT_400024fe = fuel_pressure_abs;
      DAT_40002500 = DAT_40001810;
      if ((DAT_400018c6 == '\0') && (DAT_400018c5 == '\0')) {
        cVar3 = DAT_40002504 + -1;
        if (DAT_40002504 == '\0') {
          cVar3 = DAT_40002504;
        }
        DAT_40002504 = cVar3;
        if (cVar3 == '\0') {
          lVar4 = libc_abs((ulonglong)fuel_pressure_abs - (ulonglong)fuel_pressure_abs2);
          if ((int)((uint)DAT_4000cc6d << 2) < (int)lVar4) {
            if ((DAT_40002503 != 0) && (DAT_40002503 = DAT_40002503 - 1, DAT_40002503 == 0)) {
              DAT_400024f2 = DAT_400024f2 & 0xfbff | 0x200;
            }
          }
          else {
            if (DAT_40002503 < DAT_4000cc6c) {
              DAT_40002503 = DAT_40002503 + 1;
            }
            DAT_400024f2 = DAT_400024f2 & 0xfdff | 0x400;
          }
        }
      }
      else {
        DAT_40002504 = DAT_4000cc6e;
      }
    }
    if ((DAT_400024f2 & 0x205) == 0) {
      if ((((DAT_400024f2 & 8) != 0) && ((DAT_400024f2 & 2) != 0)) && ((DAT_400024f2 & 0x400) != 0))
      {
        obd_ii_monitor_pass(&CAL_obd_ii_P0191,&LEA_obd_ii_P0191_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0191,&LEA_obd_ii_P0191_flags,&DAT_40004cdc,&DAT_40004cdd,0x191,0);
    }
  }
  if (((CAL_obd_ii_P0192 & 7) != 0) && (engine_is_running != false)) {
    if (fuel_pressure_voltage < DAT_4000caba) {
      DAT_40002450 = DAT_40002450 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002450) && (DAT_40002450 = 0, DAT_4000244e != 0)) &&
         (DAT_4000244e = DAT_4000244e - 1, DAT_4000244e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0192,&LEA_obd_ii_P0192_flags,&DAT_40004cdf,&DAT_40004ce0,0x192,0);
      }
    }
    else {
      DAT_40002450 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0192,&LEA_obd_ii_P0192_flags);
      if (DAT_4000244e < DAT_4000d46c) {
        DAT_4000244e = DAT_4000244e + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0193 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000caca < fuel_pressure_voltage) {
      DAT_40002454 = DAT_40002454 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002454) && (DAT_40002454 = 0, DAT_40002452 != 0)) &&
         (DAT_40002452 = DAT_40002452 - 1, DAT_40002452 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0193,&LEA_obd_ii_P0193_flags,&DAT_40004ce2,&DAT_40004ce3,0x193,0);
      }
    }
    else {
      DAT_40002454 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0193,&LEA_obd_ii_P0193_flags);
      if (DAT_40002452 < DAT_4000d46d) {
        DAT_40002452 = DAT_40002452 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P1107 & 7) != 0) && (engine_is_running != false)) {
    if (map_voltage < DAT_4000cb16) {
      DAT_40002456 = DAT_40002456 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002456) && (DAT_40002456 = 0, DAT_400023e4 != 0)) &&
         (DAT_400023e4 = DAT_400023e4 - 1, DAT_400023e4 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P1107,&LEA_obd_ii_P1107_flags,&DAT_40004e8f,&DAT_40004e90,0x1107,0);
      }
    }
    else {
      DAT_40002456 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P1107,&LEA_obd_ii_P1107_flags);
      if (DAT_400023e4 < DAT_4000d469) {
        DAT_400023e4 = DAT_400023e4 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P1108 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000cb14 < map_voltage) {
      DAT_40002458 = DAT_40002458 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002458) && (DAT_40002458 = 0, DAT_400023e5 != 0)) &&
         (DAT_400023e5 = DAT_400023e5 - 1, DAT_400023e5 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P1108,&LEA_obd_ii_P1108_flags,&DAT_40004e92,&DAT_40004e93,0x1108,0);
      }
    }
    else {
      DAT_40002458 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P1108,&LEA_obd_ii_P1108_flags);
      if (DAT_400023e5 < DAT_4000d46a) {
        DAT_400023e5 = DAT_400023e5 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P1109 & 7) != 0) && (engine_is_running != false)) &&
     (((uint)DAT_4000cbb7 * 0x14 < runtime_since_start &&
      (((LEA_obd_ii_P1107_flags & 2) == 0 && ((LEA_obd_ii_P1108_flags & 2) == 0)))))) {
    bVar7 = DAT_400024be;
    if ((((((LEA_obd_ii_P2135_flags & 2) == 0) &&
          (((((((LEA_obd_ii_P0122_flags & 2) == 0 && ((LEA_obd_ii_P0123_flags & 2) == 0)) &&
              ((LEA_obd_ii_P0222_flags & 2) == 0)) &&
             (((LEA_obd_ii_P0223_flags & 2) == 0 && ((LEA_obd_ii_P2119_flags & 2) == 0)))) &&
            ((LEA_obd_ii_P0638_flags & 2) == 0)) &&
           ((((LEA_obd_ii_P2173_flags & 2) == 0 && ((LEA_obd_ii_P2104_flags & 2) == 0)) &&
            (((LEA_obd_ii_P2105_flags & 2) == 0 &&
             ((((LEA_obd_ii_P0116_flags & 2) == 0 && ((LEA_obd_ii_P0117_flags & 2) == 0)) &&
              ((LEA_obd_ii_P0118_flags & 2) == 0)))))))))) &&
         (((LEA_obd_ii_P0500_flags & 2) == 0 && ((LEA_obd_ii_P0122_flags & 2) == 0)))) &&
        ((misfire_condition_flags & 0x860) == 0)) &&
       ((((trqlimit_external_request_flags___ & 0x1f) == 0 && ((revlimit_state_flags & 1) == 0)) &&
        ((DAT_400024be & 2) == 0)))) {
      if (map_voltage < DAT_400016c0) {
        DAT_400016c0 = map_voltage;
      }
      if (DAT_400024bc < map_voltage) {
        DAT_400024bc = map_voltage;
      }
      if ((int)(uint)DAT_4000cc74 < (int)((uint)DAT_400024bc - (uint)DAT_400016c0)) {
        bVar7 = DAT_400024be & 0xfe | 2;
      }
      else {
        if (CAL_cooling_thermostat_open < coolant_temp) {
          uVar2 = (int)(uint)tps_requested2 >> 2 & 0xff;
          if (0x3ff < tps_requested2) {
            uVar2 = 0xff;
          }
          if ((DAT_4000cc73 < uVar2) && (car_speed_u8 != '\0')) {
            DAT_400024c0 = DAT_4000cc6f;
            if (((DAT_400024bf != '\0') && (DAT_400024bf = DAT_400024bf + -1, DAT_400024bf == '\0'))
               && (DAT_400024c2 < DAT_4000cc70)) {
              DAT_400024c2 = DAT_400024c2 + 1;
            }
          }
          else if ((((engine_operating_state_flags & 8) != 0) &&
                   (((car_speed_u8 == '\0' && (DAT_400024bf = DAT_4000cc71, DAT_400024c0 != '\0'))
                    && (DAT_400024c0 = DAT_400024c0 + -1, DAT_400024c0 == '\0')))) &&
                  (DAT_400024c1 < DAT_4000cc72)) {
            DAT_400024c1 = DAT_400024c1 + 1;
          }
        }
        else {
          DAT_400024c0 = DAT_4000cc6f;
          DAT_400024bf = DAT_4000cc71;
        }
        if ((DAT_4000cc72 <= DAT_400024c1) &&
           (bVar7 = DAT_400024be | 3, DAT_400024c2 < DAT_4000cc70)) {
          bVar7 = DAT_400024be;
        }
      }
    }
    DAT_400024be = bVar7;
    lVar4 = libc_abs((ulonglong)obd_ii_manifold_pressure - (ulonglong)DAT_400019f2);
    if ((int)((uint)DAT_4000cc77 << 2) < (int)lVar4) {
      if ((DAT_400024c3 != 0) && (DAT_400024c3 = DAT_400024c3 - 1, DAT_400024c3 == 0)) {
        DAT_400024be = DAT_400024be | 0x30;
      }
    }
    else {
      if (DAT_400024c3 < DAT_4000cc76) {
        DAT_400024c3 = DAT_400024c3 + 1;
      }
      DAT_400024be = DAT_400024be & 0xef | 0x20;
    }
    if (((((((LEA_obd_ii_P0101_flags & 2) == 0) && ((LEA_obd_ii_P0102_flags & 2) == 0)) &&
          ((LEA_obd_ii_P0103_flags & 2) == 0)) &&
         (((LEA_obd_ii_P0096_flags & 2) == 0 && ((LEA_obd_ii_P0097_flags & 2) == 0)))) &&
        (((LEA_obd_ii_P0098_flags & 2) == 0 &&
         ((engine_speed_3 <= DAT_4000cc7d && (load_mass_per_stroke <= DAT_4000cc7e)))))) &&
       ((DAT_400024be & 8) == 0)) {
      lVar4 = libc_abs((longlong)(short)tps_delta_rate);
      if ((int)(uint)DAT_4000cc78 < (int)lVar4) {
        DAT_400024ca = DAT_4000cc7b;
      }
      else {
        bVar1 = DAT_400024ca == '\0';
        DAT_400024ca = DAT_400024ca + -1;
        if (bVar1) {
          DAT_400024ca = '\0';
        }
      }
      if (DAT_400024ca == '\0') {
        lVar4 = libc_abs((ulonglong)load_computed_map - (ulonglong)load_computed_maf);
        DAT_400024c4 = (int)lVar4;
        uVar5 = libc_abs((ulonglong)map - (ulonglong)manifold_pressure_calculated);
        DAT_400024c8 = (undefined2)uVar5;
        if (((DAT_4000cc7f == '\0') || ((uVar5 & 0xffff) <= (ulonglong)DAT_4000cc80)) &&
           ((DAT_4000cc7f != '\0' || (DAT_400024c4 <= (int)(uint)DAT_4000cc7a)))) {
          if (DAT_400024cb < DAT_4000cc7c) {
            DAT_400024cb = DAT_400024cb + 1;
          }
          bVar1 = DAT_400024cc == '\0';
          DAT_400024cc = DAT_400024cc + -1;
          if (bVar1) {
            DAT_400024cc = '\0';
          }
          if (DAT_400024cc == '\0') {
            DAT_400024be = DAT_400024be & 0xfb | 8;
            DAT_400024cc = DAT_4000cc84;
          }
        }
        else {
          if ((DAT_400024cb != 0) && (DAT_400024cb = DAT_400024cb - 1, DAT_400024cb == 0)) {
            DAT_400024be = DAT_400024be | 0xc;
          }
          DAT_400024cc = DAT_4000cc84;
        }
      }
      else {
        DAT_400024c4 = 0;
        DAT_400024c8 = 0;
        DAT_400024cb = DAT_4000cc7c;
        DAT_400024cc = DAT_4000cc84;
      }
    }
    else {
      DAT_400024c4 = 0;
      DAT_400024c8 = 0;
      DAT_400024ca = DAT_4000cc7b;
      DAT_400024cb = DAT_4000cc7c;
      DAT_400024cc = DAT_4000cc84;
    }
    if ((((DAT_400024be & 1) == 0) && ((DAT_400024be & 0x10) == 0)) && ((DAT_400024be & 4) == 0)) {
      if (((((DAT_400024be & 2) != 0) && ((DAT_400024be & 1) == 0)) &&
          (((DAT_400024be & 0x20) != 0 &&
           (((DAT_400024be & 0x10) == 0 && ((DAT_400024be & 8) != 0)))))) &&
         ((DAT_400024be & 4) == 0)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P1109,&LEA_obd_ii_P1109_flags);
      }
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P1109,&LEA_obd_ii_P1109_flags,&DAT_40004e95,&DAT_40004e96,0x1109,0);
    }
    if (((DAT_400024be & 2) != 0) && ((CAL_obd_ii_P1109 & 8) != 0)) {
      DAT_400024be = DAT_400024be & 0xfd;
      DAT_400016c0 = 0x3ff;
      DAT_400024bc = 0;
      DAT_400024c0 = DAT_4000cc6f;
      DAT_400024bf = DAT_4000cc71;
      DAT_400024c1 = 0;
      DAT_400024c2 = 0;
    }
    if (((DAT_400024be & 8) != 0) && ((CAL_obd_ii_P1109 & 8) != 0)) {
      DAT_400024be = DAT_400024be & 0xf7;
      DAT_400024cb = DAT_4000cc7c;
      DAT_400024cc = DAT_4000cc84;
      DAT_400024ca = DAT_4000cc7b;
    }
    if (((DAT_400024be & 0x20) != 0) && ((CAL_obd_ii_P1109 & 8) != 0)) {
      DAT_400024be = DAT_400024be & 0xdf;
      DAT_400024c3 = DAT_4000cc76;
    }
  }
  if (((CAL_obd_ii_P0452 & 7) != 0) && (engine_is_running != false)) {
    if (evap_purge_pressure_voltage < u16_voltage_5_1023v_4000cae6) {
      DAT_4000245c = DAT_4000245c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000245c) && (DAT_4000245c = 0, DAT_4000245a != 0)) &&
         (DAT_4000245a = DAT_4000245a - 1, DAT_4000245a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0452,&LEA_obd_ii_P0452_flags,&DAT_40004d87,&DAT_40004d88,0x452,0);
      }
    }
    else {
      DAT_4000245c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0452,&LEA_obd_ii_P0452_flags);
      if (DAT_4000245a < DAT_4000d3c1) {
        DAT_4000245a = DAT_4000245a + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0453 & 7) != 0) && (engine_is_running != false)) {
    if (u16_voltage_5_1023v_4000cae4 < evap_purge_pressure_voltage) {
      DAT_40002460 = DAT_40002460 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002460) && (DAT_40002460 = 0, DAT_4000245e != 0)) &&
         (DAT_4000245e = DAT_4000245e - 1, DAT_4000245e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0453,&LEA_obd_ii_P0453_flags,&DAT_40004d8a,&DAT_40004d8b,0x453,0);
      }
    }
    else {
      DAT_40002460 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0453,&LEA_obd_ii_P0453_flags);
      if (DAT_4000245e < DAT_4000d3c2) {
        DAT_4000245e = DAT_4000245e + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0327 & 7) != 0) && (engine_is_running != false)) {
    if (knock_sensor1_voltage < CAL_sensor_knock_voltage_threshold[1]) {
      DAT_40002438 = DAT_40002438 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002438) && (DAT_40002438 = 0, DAT_40002436 != 0)) &&
         (DAT_40002436 = DAT_40002436 - 1, DAT_40002436 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0327,&LEA_obd_ii_P0327_flags,&DAT_40004d36,&DAT_40004d37,0x327,0);
      }
    }
    else {
      DAT_40002438 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0327,&LEA_obd_ii_P0327_flags);
      if (DAT_40002436 < DAT_4000d3c7) {
        DAT_40002436 = DAT_40002436 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0328 & 7) != 0) && (engine_is_running != false)) {
    if (CAL_sensor_knock_voltage_threshold[0] < knock_sensor1_voltage) {
      DAT_4000243c = DAT_4000243c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000243c) && (DAT_4000243c = 0, DAT_4000243a != 0)) &&
         (DAT_4000243a = DAT_4000243a - 1, DAT_4000243a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0328,&LEA_obd_ii_P0328_flags,&DAT_40004d39,&DAT_40004d3a,0x328,0);
      }
    }
    else {
      DAT_4000243c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0328,&LEA_obd_ii_P0328_flags);
      if (DAT_4000243a < DAT_4000d3c8) {
        DAT_4000243a = DAT_4000243a + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0332 & 7) != 0) && (engine_is_running != false)) {
    if (knock_sensor2_voltage < CAL_sensor_knock_voltage_threshold[1]) {
      DAT_40002440 = DAT_40002440 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002440) && (DAT_40002440 = 0, DAT_4000243e != 0)) &&
         (DAT_4000243e = DAT_4000243e - 1, DAT_4000243e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0332,&LEA_obd_ii_P0332_flags,&DAT_40004d3c,&DAT_40004d3d,0x332,0);
      }
    }
    else {
      DAT_40002440 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0332,&LEA_obd_ii_P0332_flags);
      if (DAT_4000243e < DAT_4000d42b) {
        DAT_4000243e = DAT_4000243e + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0333 & 7) != 0) && (engine_is_running != false)) {
    if (CAL_sensor_knock_voltage_threshold[0] < knock_sensor2_voltage) {
      DAT_40002444 = DAT_40002444 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002444) && (DAT_40002444 = 0, DAT_40002442 != 0)) &&
         (DAT_40002442 = DAT_40002442 - 1, DAT_40002442 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0333,&LEA_obd_ii_P0333_flags,&DAT_40004d3f,&DAT_40004d40,0x333,0);
      }
    }
    else {
      DAT_40002444 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0333,&LEA_obd_ii_P0333_flags);
      if (DAT_40002442 < DAT_4000d42c) {
        DAT_40002442 = DAT_40002442 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0462 & 7) != 0) && (engine_is_running != false)) {
    if (fuel_level_voltage < CAL_sensor_fuel_level_sensor_voltage_threshold[1]) {
      DAT_40002464 = DAT_40002464 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002464) && (DAT_40002464 = 0, DAT_40002462 != 0)) &&
         (DAT_40002462 = DAT_40002462 - 1, DAT_40002462 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0462,&LEA_obd_ii_P0462_flags,&DAT_40004d96,&DAT_40004d97,0x462,0);
      }
    }
    else {
      DAT_40002464 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0462,&LEA_obd_ii_P0462_flags);
      if (DAT_40002462 < DAT_4000d414) {
        DAT_40002462 = DAT_40002462 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0463 & 7) != 0) && (engine_is_running != false)) {
    if (CAL_sensor_fuel_level_sensor_voltage_threshold[0] < fuel_level_voltage) {
      DAT_40002468 = DAT_40002468 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002468) && (DAT_40002468 = 0, DAT_40002466 != 0)) &&
         (DAT_40002466 = DAT_40002466 - 1, DAT_40002466 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0463,&LEA_obd_ii_P0463_flags,&DAT_40004d99,&DAT_40004d9a,0x463,0);
      }
    }
    else {
      DAT_40002468 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0463,&LEA_obd_ii_P0463_flags);
      if (DAT_40002466 < DAT_4000d415) {
        DAT_40002466 = DAT_40002466 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0522 & 7) == 0) || (engine_is_running == false)) ||
     ((CAL_cluster_oil_pressure_warning_light_mode != 1 &&
      (CAL_cluster_oil_pressure_warning_light_mode != '\x02')))) {
    DAT_4000246a = 0;
  }
  else if (oil_pressure_warning_switch_voltage < CAL_obd_ii_oil_pressure_switch_low_voltage) {
    DAT_4000246a = DAT_4000246a + 1;
    if ((((short)DAT_400023e8 <= DAT_4000246a) && (DAT_4000246a = 0, DAT_400023df != 0)) &&
       (DAT_400023df = DAT_400023df - 1, DAT_400023df == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0522,&LEA_obd_ii_P0522_flags,&DAT_40004db1,&DAT_40004db2,0x522,0);
    }
  }
  else {
    DAT_4000246a = 0;
    obd_ii_monitor_pass(&CAL_obd_ii_P0522,&LEA_obd_ii_P0522_flags);
    if (DAT_400023df < DAT_4000d46b) {
      DAT_400023df = DAT_400023df + 1;
    }
  }
  if ((((CAL_obd_ii_P0523 & 7) == 0) || (obd_ii_engine_speed != 0)) ||
     ((DAT_40001df5 == '\0' || (CAL_cluster_oil_pressure_warning_light_mode != '\x01')))) {
    DAT_4000246c = 0;
  }
  else if (oil_pressure_warning_switch_voltage < 0x321) {
    DAT_4000246c = 0;
    obd_ii_monitor_pass(&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags);
    if (DAT_400023e0 < DAT_4000d406) {
      DAT_400023e0 = DAT_400023e0 + 1;
    }
  }
  else {
    DAT_4000246c = DAT_4000246c + 1;
    if ((((short)DAT_400023e8 <= DAT_4000246c) && (DAT_4000246c = 0, DAT_400023e0 != 0)) &&
       (DAT_400023e0 = DAT_400023e0 - 1, DAT_400023e0 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags,&DAT_40004db4,&DAT_40004db5,0x523,0);
    }
  }
  if (((((CAL_obd_ii_P0523 & 7) != 0) && ((LEA_obd_ii_P0116_flags & 8) == 0)) &&
      ((LEA_obd_ii_P0117_flags & 8) == 0)) &&
     (((LEA_obd_ii_P0118_flags & 8) == 0 && (CAL_cluster_oil_pressure_warning_light_mode == '\x02'))
     )) {
    if ((obd_ii_engine_speed == 0) || (coolant_temp <= DAT_4000c9d5)) {
      DAT_4000246c = 0;
    }
    else if (DAT_4000cab2 < oil_pressure_warning_switch_voltage) {
      DAT_4000246c = DAT_4000246c + 1;
      if ((((short)DAT_400023e8 <= DAT_4000246c) && (DAT_4000246c = 0, DAT_400023e0 != 0)) &&
         (DAT_400023e0 = DAT_400023e0 - 1, DAT_400023e0 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags,&DAT_40004db4,&DAT_40004db5,0x523,0);
      }
    }
    else {
      DAT_4000246c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags);
      if (DAT_400023e0 < DAT_4000d406) {
        DAT_400023e0 = DAT_400023e0 + 1;
      }
    }
  }
  if ((CAL_obd_ii_P0524 & 7) != 0) {
    if (oil_pressure_low_detected == false) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0524,&LEA_obd_ii_P0524_flags);
    }
    else {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0524,&LEA_obd_ii_P0524_flags,&DAT_40004db7,&DAT_40004db8,0x524,0);
    }
  }
  if (((((CAL_obd_ii_P0562 & 7) != 0) && ((LEA_obd_ii_P0562_flags & 2) == 0)) &&
      ((ignition_on_flags & 1) != 0)) && (engine_is_running != false)) {
    if (sensor_adc_ecu_voltage < CAL_ecu_system_voltage_threshold[1]) {
      DAT_40002476 = DAT_40002476 + 1;
      if ((((short)(ushort)DAT_4000ca10 <= DAT_40002476) && (DAT_40002476 = 0, DAT_40002474 != 0))
         && (DAT_40002474 = DAT_40002474 - 1, DAT_40002474 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0562,&LEA_obd_ii_P0562_flags,&DAT_40004dc0,&DAT_40004dc1,0x562,0);
      }
    }
    else {
      DAT_40002476 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0562,&LEA_obd_ii_P0562_flags);
      if (DAT_40002474 < DAT_4000d3ca) {
        DAT_40002474 = DAT_40002474 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P0563 & 7) != 0) && (engine_is_running != false)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (CAL_ecu_system_voltage_threshold[0] < sensor_adc_ecu_voltage) {
      DAT_40002472 = DAT_40002472 + 1;
      if ((((short)(ushort)DAT_4000ca11 <= DAT_40002472) && (DAT_40002472 = 0, DAT_40002471 != 0))
         && (DAT_40002471 = DAT_40002471 - 1, DAT_40002471 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0563,&LEA_obd_ii_P0563_flags,&DAT_40004dc3,&DAT_40004dc4,0x563,0);
      }
    }
    else {
      DAT_40002472 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0563,&LEA_obd_ii_P0563_flags);
      if (DAT_40002471 < DAT_4000d3c9) {
        DAT_40002471 = DAT_40002471 + 1;
      }
    }
  }
  if ((((CAL_obd_ii_P1562 & 7) != 0) && ((LEA_obd_ii_P1562_flags & 2) == 0)) &&
     ((ignition_on_flags & 1) != 0)) {
    if (DAT_40002648 == '\0') {
      if (engine_is_running != false) {
        obd_ii_monitor_pass(&CAL_obd_ii_P1562,&LEA_obd_ii_P1562_flags);
      }
    }
    else {
      DAT_40002485 = 0;
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P1562,&LEA_obd_ii_P1562_flags,&DAT_40004e0e,&DAT_40004e0f,0x1562,0);
    }
  }
  if (((CAL_obd_ii_P0685 & 7) != 0) &&
     ((ushort)((ushort)CAL_ecu_ign_threshold << 2) < sensor_adc_ign_voltage)) {
    if (((uint)sensor_adc_ign_voltage + (uint)DAT_4000ca3b < (uint)sensor_adc_ecu_voltage) ||
       (((int)(uint)sensor_adc_ecu_voltage <
         (int)((uint)sensor_adc_ign_voltage - (uint)DAT_4000ca2c) && (obd_ii_engine_speed == 0)))) {
      DAT_4000247a = DAT_4000247a + 1;
      if (((short)DAT_400023e8 <= DAT_4000247a) &&
         ((DAT_4000247a = 0, DAT_40002479 != 0 &&
          (DAT_40002479 = DAT_40002479 - 1, DAT_40002479 == 0)))) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0685,&LEA_obd_ii_P0685_flags,&DAT_40004ded,&DAT_40004dee,0x685,0);
      }
    }
    else {
      DAT_4000247a = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0685,&LEA_obd_ii_P0685_flags);
      if (DAT_40002479 < DAT_4000d425) {
        DAT_40002479 = DAT_40002479 + 1;
      }
    }
  }
  if (((COD_base[0] >> 0x19 & 7) != 0) && ((CAL_obd_ii_P0564 & 7) != 0)) {
    if ((obd_ii_cruise_status & 0x4000) == 0) {
      DAT_40002478 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0564,&LEA_obd_ii_P0564_flags);
      if (DAT_400023de < DAT_4000d444) {
        DAT_400023de = DAT_400023de + 1;
      }
    }
    else {
      DAT_40002478 = DAT_40002478 + 1;
      if ((((short)DAT_400023e8 <= (short)(ushort)DAT_40002478) &&
          (DAT_40002478 = 0, DAT_400023de != 0)) &&
         (DAT_400023de = DAT_400023de - 1, DAT_400023de == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0564,&LEA_obd_ii_P0564_flags,&DAT_40004dcf,&DAT_40004dd0,0x564,0);
      }
    }
  }
  if ((((COD_base[1] >> 9 & 1) != 0) && ((flexcan_flags_unknown & 2) != 0)) &&
     (((flexcan_flags_unknown & 8) != 0 &&
      (((ignition_on_flags & 1) != 0 && ((brake_switch & 2) == 0)))))) {
    if (((brake_switch & 0x10) != 0) &&
       ((((brake_switch & 1) == 0 && (DAT_4000c9e0 <= car_speed_u8)) &&
        ((short)(ushort)CAL_cruise_accel_pedal_override_threshold_enter < (short)accel_pedal_pos2)))
       ) {
      DAT_400024d0 = DAT_400024d0 + 1;
      if ((short)(ushort)DAT_4000c9de < DAT_400024d0) {
        DAT_400024d2 = DAT_400024d2 | 2;
      }
    }
    if ((brake_switch & 0x10) == 0) {
      DAT_400024d0 = 0;
      DAT_400024d2 = DAT_400024d2 & 0xfd;
    }
    if (((brake_switch & 1) != 0) && ((brake_switch & 0x10) == 0)) {
      DAT_400024ce = DAT_400024ce + 1;
      if ((short)(ushort)DAT_4000c9df < DAT_400024ce) {
        DAT_400024d2 = DAT_400024d2 | 1;
      }
    }
    if (((brake_switch & 0x10) != 0) && ((brake_switch & 0x20) == 0)) {
      DAT_400024ce = 0;
      DAT_400024d2 = DAT_400024d2 & 0xfe;
    }
  }
  if ((((COD_base[1] >> 9 & 1) != 0) && ((CAL_obd_ii_P0571 & 7) != 0)) && ((brake_switch & 2) == 0))
  {
    if (((DAT_400024d2 & 2) == 0) && ((DAT_400024d2 & 1) == 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0571,&LEA_obd_ii_P0571_flags);
      if (DAT_400024cd < DAT_4000d3b3) {
        DAT_400024cd = DAT_400024cd + 1;
      }
    }
    else {
      bVar7 = DAT_400024cd - 1;
      if (DAT_400024cd == 0) {
        bVar7 = DAT_400024cd;
      }
      DAT_400024cd = bVar7;
      if (bVar7 == 0) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0571,&LEA_obd_ii_P0571_flags,&DAT_40004dc6,&DAT_40004dc7,0x571,0);
        brake_switch = brake_switch | 0x20;
      }
    }
  }
  if ((((COD_base[1] >> 0x15 & 3) == 2) && ((CAL_obd_ii_P0806 & 7) != 0)) &&
     (((clutch_pos_sensor & 8) == 0 && ((LEA_obd_ii_P0806_flags & 4) == 0)))) {
    if (engine_is_running == false) {
      DAT_400024da = 0;
      DAT_400024d8 = clutch_pos_voltage;
      DAT_400016c2 = clutch_pos_voltage;
      DAT_400024de = 0;
    }
    else {
      if (((DAT_400024de != 0xff) && (car_current_gear != NO_GEAR)) &&
         (car_current_gear != DAT_400024df)) {
        DAT_400024de = DAT_400024de + 1;
        DAT_400024df = car_current_gear;
      }
      if (DAT_400024e0 < car_current_gear) {
        DAT_400024e0 = car_current_gear;
      }
      if (DAT_400024d8 < clutch_pos_voltage) {
        DAT_400024d8 = clutch_pos_voltage;
      }
      if (clutch_pos_voltage < DAT_400016c2) {
        DAT_400016c2 = clutch_pos_voltage;
      }
      if ((DAT_400024d8 < DAT_4000cb64) && (DAT_4000cb62 < DAT_400016c2)) {
        DAT_400024da = DAT_400024d8 - DAT_400016c2;
      }
      else {
        DAT_400016c2 = 0x3ff;
        DAT_400024d8 = 0;
        DAT_400024de = 0;
        DAT_400024da = 0;
      }
      if ((DAT_4000cb5f < DAT_400024de) && (GEAR_2 < DAT_400024e0)) {
        if (DAT_400024da < DAT_4000cb60) {
          bVar7 = DAT_400023e1 - 1;
          if (DAT_400023e1 == 0) {
            bVar7 = DAT_400023e1;
          }
          DAT_400023e1 = bVar7;
          if (bVar7 == 0) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0806,&LEA_obd_ii_P0806_flags,&DAT_40004df9,&DAT_40004dfa,0x806,0
                      );
            clutch_pos_sensor = clutch_pos_sensor | 8;
          }
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0806,&LEA_obd_ii_P0806_flags);
          if (DAT_400023e1 < DAT_4000d445) {
            DAT_400023e1 = DAT_400023e1 + 1;
          }
        }
      }
    }
  }
  if (((COD_base[1] >> 0x15 & 3) == 2) && ((CAL_obd_ii_P0807 & 7) != 0)) {
    if (clutch_pos_voltage < DAT_4000cb62) {
      DAT_400024d4 = DAT_400024d4 + 1;
      if ((short)DAT_400023e8 <= DAT_400024d4) {
        DAT_400024d4 = 0;
        bVar7 = DAT_400023e2 - 1;
        if (DAT_400023e2 == 0) {
          bVar7 = DAT_400023e2;
        }
        DAT_400023e2 = bVar7;
        if (bVar7 == 0) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0807,&LEA_obd_ii_P0807_flags,&DAT_40004dff,&DAT_40004e00,0x807,0);
          clutch_pos_sensor = clutch_pos_sensor | 8;
        }
      }
    }
    else {
      DAT_400024d4 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0807,&LEA_obd_ii_P0807_flags);
      if (DAT_400023e2 < DAT_4000d446) {
        DAT_400023e2 = DAT_400023e2 + 1;
      }
    }
  }
  if (((COD_base[1] >> 0x15 & 3) == 2) && ((CAL_obd_ii_P0808 & 7) != 0)) {
    if (DAT_4000cb64 < clutch_pos_voltage) {
      DAT_400024d6 = DAT_400024d6 + 1;
      if ((short)DAT_400023e8 <= DAT_400024d6) {
        DAT_400024d6 = 0;
        bVar7 = DAT_400023e3 - 1;
        if (DAT_400023e3 == 0) {
          bVar7 = DAT_400023e3;
        }
        DAT_400023e3 = bVar7;
        if (bVar7 == 0) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0808,&LEA_obd_ii_P0808_flags,&DAT_40004e02,&DAT_40004e03,0x808,0);
          clutch_pos_sensor = clutch_pos_sensor | 8;
        }
      }
    }
    else {
      DAT_400024d6 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0808,&LEA_obd_ii_P0808_flags);
      if (DAT_400023e3 < DAT_4000d447) {
        DAT_400023e3 = DAT_400023e3 + 1;
      }
    }
  }
  if ((CAL_obd_ii_P1809 & 7) != 0) {
    if (DAT_400024dc == 0) {
      bVar7 = DAT_40002484 - 1;
      if (DAT_40002484 == 0) {
        bVar7 = DAT_40002484;
      }
      DAT_40002484 = bVar7;
      if (bVar7 == 0) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P1809,&LEA_obd_ii_P1809_flags,&DAT_40004dfc,&DAT_40004dfd,0x1809,0);
        clutch_pos_sensor = clutch_pos_sensor | 0x10;
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P1809,&LEA_obd_ii_P1809_flags);
      if (DAT_40002484 < DAT_4000d45d) {
        DAT_40002484 = DAT_40002484 + 1;
      }
    }
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if ((((CAL_obd_ii_P0826 & 7) == 0) || ((ushort)(paddle_shift_sensor_raw - 0x321) < 0x31)) ||
       (900 < (ushort)(paddle_shift_sensor_raw - 0x32))) {
      if (((CAL_obd_ii_P0826 & 7) != 0) && ((ushort)(paddle_shift_sensor_raw - 0x321) < 0x31)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0826,&LEA_obd_ii_P0826_flags);
        if (DAT_4000247c < DAT_4000d456) {
          DAT_4000247c = DAT_4000247c + 1;
        }
        DAT_400024ec = 0;
        DAT_400024ee = (ushort)DAT_4000ca6e * 10;
        DAT_400024f0 = 0;
      }
    }
    else if ((((ushort)(paddle_shift_sensor_raw - 0x231) < 0x59) ||
             ((ushort)(paddle_shift_sensor_raw - 0x1c3) < 99)) ||
            ((ushort)(paddle_shift_sensor_raw - 0x187) < 0x1d)) {
      if (DAT_400024ec == 0) {
        DAT_400024ec = paddle_shift_sensor_raw;
        DAT_400024ee = (ushort)DAT_4000caab * 10;
      }
      else if (((int)(DAT_400024ec - 10) < (int)(uint)paddle_shift_sensor_raw) &&
              ((uint)paddle_shift_sensor_raw < DAT_400024ec + 10)) {
        if (DAT_400024ee == 0) {
          DAT_400024ec = 0;
          if ((DAT_4000247c != 0) && (DAT_4000247c = DAT_4000247c - 1, DAT_4000247c == 0)) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0826,&LEA_obd_ii_P0826_flags,&DAT_40004e68,&DAT_40004e69,0x826,0
                      );
          }
        }
        else {
          DAT_400024ee = DAT_400024ee + -1;
        }
      }
      else {
        DAT_400024ec = 0;
      }
    }
    else {
      DAT_400024f0 = DAT_400024f0 + 1;
      if ((((short)DAT_400023e8 <= (short)(ushort)DAT_400024f0) &&
          (DAT_400024f0 = 0, DAT_4000247c != 0)) &&
         (DAT_4000247c = DAT_4000247c - 1, DAT_4000247c == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0826,&LEA_obd_ii_P0826_flags,&DAT_40004e68,&DAT_40004e69,0x826,0);
      }
    }
    if (((CAL_obd_ii_P0827 & 7) == 0) || (paddle_shift_sensor_raw < 0x3b7)) {
      DAT_4000247e = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0827,&LEA_obd_ii_P0827_flags);
      if (DAT_4000247d < DAT_4000d457) {
        DAT_4000247d = DAT_4000247d + 1;
      }
    }
    else {
      DAT_4000247e = DAT_4000247e + 1;
      if ((((short)DAT_400023e8 <= DAT_4000247e) && (DAT_4000247e = 0, DAT_4000247d != 0)) &&
         (DAT_4000247d = DAT_4000247d - 1, DAT_4000247d == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0827,&LEA_obd_ii_P0827_flags,&DAT_40004e6b,&DAT_40004e6c,0x827,0);
      }
    }
    if (((CAL_obd_ii_P0828 & 7) == 0) || (0x31 < paddle_shift_sensor_raw)) {
      DAT_40002482 = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0828,&LEA_obd_ii_P0828_flags);
      if (DAT_40002480 < DAT_4000d458) {
        DAT_40002480 = DAT_40002480 + 1;
      }
    }
    else {
      DAT_40002482 = DAT_40002482 + 1;
      if ((((short)DAT_400023e8 <= DAT_40002482) && (DAT_40002482 = 0, DAT_40002480 != 0)) &&
         (DAT_40002480 = DAT_40002480 - 1, DAT_40002480 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0828,&LEA_obd_ii_P0828_flags,&DAT_40004e6e,&DAT_40004e6f,0x828,0);
      }
    }
    if (((DAT_4000247c == 0) || (DAT_4000247d == 0)) || (DAT_40002480 == 0)) {
      paddle_shift_flags = paddle_shift_flags | 4;
    }
  }
  FUN_000a8bf0();
  if ((((LEA_obd_ii_P0096_flags & 2) == 0) && (DAT_40002400 != 0)) && (DAT_40002404 != 0)) {
    engine_state_failure_flags = engine_state_failure_flags & 0xff7fffff;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags | 0x800000;
  }
  if ((((DAT_40002408 == 0) || (DAT_40002409 == 0)) || (DAT_400023d1 == 0)) || (DAT_400023d2 == 0))
  {
    engine_state_failure_flags = engine_state_failure_flags | 0x10;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffffef;
  }
  if ((((LEA_obd_ii_P0111_flags & 2) == 0) && (DAT_400023d4 != 0)) && (DAT_400023d5 != 0)) {
    engine_state_failure_flags = engine_state_failure_flags & 0xfffffffe;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags | 1;
  }
  if ((((LEA_obd_ii_P0116_flags & 2) != 0) || (DAT_400023d8 == 0)) || (DAT_400023d9 == 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 2;
  }
  if (((DAT_400024e1 == 0) || (DAT_40002412 == 0)) || (DAT_40002416 == 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 8;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfffffff7;
  }
  if ((((DAT_400023da == 0) || (DAT_400023db == 0)) ||
      ((DAT_400021eb == '\0' || ((DAT_400023dc == 0 || (DAT_400023dd == 0)))))) ||
     (DAT_400021e9 == '\0')) {
    engine_state_failure_flags = engine_state_failure_flags | 0x1000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xffffefff;
  }
  if ((DAT_40001e7d == '\0') || (DAT_400029e4 == '\0')) {
    engine_state_failure_flags = engine_state_failure_flags | 0x400;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfffffbff;
  }
  if ((((DAT_40002436 == 0) || (DAT_4000243a == 0)) || (DAT_4000243e == 0)) || (DAT_40002442 == 0))
  {
    engine_state_failure_flags = engine_state_failure_flags | 0x200;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfffffdff;
  }
  if (((DAT_4000244e == 0) || (DAT_40002452 == 0)) || ((LEA_obd_ii_P0191_flags & 2) != 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x4000000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfbffffff;
  }
  if (((DAT_400023e4 == 0) || (DAT_400023e5 == 0)) || ((LEA_obd_ii_P1109_flags & 2) != 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x1000000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xfeffffff;
  }
  if (((DAT_400024a8 == 0) || (DAT_400024ac == 0)) || ((LEA_obd_ii_P0071_flags & 2) != 0)) {
    engine_state_failure_flags = engine_state_failure_flags | 0x40000000;
  }
  else {
    engine_state_failure_flags = engine_state_failure_flags & 0xbfffffff;
  }
  return;
}



void obd_ii_iat_check(void)

{
  bool bVar1;
  short sVar2;
  
  if (((((CAL_obd_ii_P0111 & 7) != 0) && (engine_is_running)) && ((DAT_4000248c & 2) == 0)) &&
     ((((ulonglong)DAT_4000ca2e * 50 < (ulonglong)obd_ii_accumulated_mass_air / 1000 &&
       ((LEA_obd_ii_P0101_flags & 2) == 0)) &&
      (((LEA_obd_ii_P0102_flags & 2) == 0 && ((LEA_obd_ii_P0103_flags & 2) == 0)))))) {
    if (DAT_40002488 == '\0') {
      DAT_4000248a = (ushort)DAT_4000cb9e * 0x14;
      DAT_40002490 = (ushort)DAT_4000cba1 * 200;
      DAT_4000248e = (ushort)DAT_4000cba0 * 0x14;
      if ((uint)DAT_4000cb9d < obd_ii_maf_flow / 20) {
        DAT_40002488 = 1;
      }
    }
    else if (DAT_40002488 == '\x01') {
      if ((uint)DAT_4000cb9d < obd_ii_maf_flow / 20) {
        sVar2 = DAT_40002490 + -1;
        bVar1 = DAT_40002490 == 0;
        DAT_40002490 = sVar2;
        if (bVar1) {
          DAT_40002488 = '\x02';
          DAT_4000248a = (ushort)DAT_4000cb9e * 20;
        }
      }
      else {
        sVar2 = DAT_4000248a + -1;
        bVar1 = DAT_4000248a == 0;
        DAT_4000248a = sVar2;
        if (bVar1) {
          DAT_40002488 = '\0';
        }
      }
    }
    else if (DAT_40002488 == '\x02') {
      if (obd_ii_maf_flow / 20 <= (uint)DAT_4000cb9d) {
        if (obd_ii_maf_flow / 20 < (uint)DAT_4000cb9c) {
          DAT_40002488 = 3;
        }
        else {
          sVar2 = DAT_4000248a + -1;
          bVar1 = DAT_4000248a == 0;
          DAT_4000248a = sVar2;
          if (bVar1) {
            DAT_40002488 = '\0';
          }
        }
      }
    }
    else if (DAT_40002488 == '\x03') {
      sVar2 = DAT_4000248e + -1;
      if (DAT_4000248e == 0) {
        DAT_4000248c = DAT_4000248c | 3;
        DAT_40002488 = '\0';
      }
      DAT_4000248e = sVar2;
      if ((uint)DAT_4000cb9c + (uint)DAT_4000cb20 < obd_ii_maf_flow / 20) {
        DAT_40002488 = 0;
      }
    }
  }
  return;
}



void oil_pressure_100hz(void)

{
  uint new_engine_failure_state;
  byte bVar1;
  
  if (((((CAL_obd_ii_P0524 & 7) == 0) || (!engine_is_running)) ||
      (runtime_since_start <= (uint)CAL_oil_pressure_switch_startup_time * 200)) ||
     (CAL_cluster_oil_pressure_warning_light_mode != 2)) {
    oil_pressure_low_detected = false;
    oil_pressure_low_pressure_event_detected = false;
    oil_pressure_low_timer = 0;
  }
  else {
    bVar1 = lookup_2D_uint8_interpolated
                      (8,engine_speed_3,CAL_sensor_oil_pressure_expected,
                       CAL_sensor_oil_pressure_expected_X_engine_speed);
    oil_pressure_expected = (ushort)bVar1 << 4;
    if ((int)oil_pressure_reading_unknown < (int)((uint)bVar1 << 4)) {
      oil_pressure_low_pressure_event_detected = true;
      oil_pressure_low_timer = oil_pressure_low_timer + 1;
      if ((short)(ushort)CAL_oil_pressure_low_timer_threshold <= oil_pressure_low_timer) {
        oil_pressure_low_timer = 0;
        oil_pressure_low_detected = true;
      }
    }
    else {
      oil_pressure_low_detected = false;
      oil_pressure_low_pressure_event_detected = false;
      oil_pressure_low_timer = 0;
    }
  }
  new_engine_failure_state = engine_state_failure_flags | 0x2000000;
  if (oil_pressure_low_detected == false) {
    new_engine_failure_state = engine_state_failure_flags;
  }
  engine_state_failure_flags = new_engine_failure_state;
  return;
}



char FUN_000a85c0(void)

{
  char cVar1;
  u16_temp_5_8_40c _cool_temp_engine_off;
  u16_temp_5_8_40c _cool_temp_engine_off2;
  longlong temp_diff_unknown;
  u16_temp_5_8_40c _coolant_temp_engine_off3;
  
  cVar1 = DAT_400016be;
  if (((CAL_obd_ii_P0116 & 8) != 0) && (cVar1 = '\x01', DAT_400016c4 == '\x03')) {
    cVar1 = DAT_400016be;
  }
  DAT_400016be = cVar1;
  if (DAT_400016be == '\x01') {
    DAT_400016be = '\0';
    DAT_400016c5 = '\x01';
    DAT_40002515 = 0;
    DAT_40002516 = 0;
    _cool_temp_engine_off =
         lookup_2D_uint16_interpolated_noaxis_scale_8bit_to_10bit
                   (3,coolant_temp_sensor_voltage,CAL_sensor_coolant_temp_sensor_engine_off_scaling)
    ;
    DAT_400016c4 = 3;
    DAT_40002514 = DAT_4000cb97;
    u16_temp_5_8_40c_40002510 = _cool_temp_engine_off;
    u16_temp_5_8_40c_40002512 = _cool_temp_engine_off;
  }
  else if (DAT_400016c4 == 3) {
    _cool_temp_engine_off2 =
         lookup_2D_uint16_interpolated_noaxis_scale_8bit_to_10bit
                   (3,coolant_temp_sensor_voltage,CAL_sensor_coolant_temp_sensor_engine_off_scaling)
    ;
    _coolant_temp_engine_off3 = _cool_temp_engine_off2;
    if (((int)(short)_cool_temp_engine_off2 <= (int)(uint)u16_temp_5_8_40c_40002510) &&
       (_coolant_temp_engine_off3 = u16_temp_5_8_40c_40002510,
       (int)(short)_cool_temp_engine_off2 < (int)(uint)u16_temp_5_8_40c_40002512)) {
      u16_temp_5_8_40c_40002512 = _cool_temp_engine_off2;
    }
    u16_temp_5_8_40c_40002510 = _coolant_temp_engine_off3;
    temp_diff_unknown =
         libc_abs((ulonglong)u16_temp_5_8_40c_40002510 - (ulonglong)u16_temp_5_8_40c_40002512);
    if ((int)temp_diff_unknown < (int)(uint)u8_temp_5_8_40c_4000cb94) {
      if (DAT_400016c5 == '\x01') {
        DAT_40002514 = DAT_4000cb97;
        if (engine_speed_2 < u16_rspeed_rpm_4000cb98) {
          DAT_40002515 = 0;
        }
        else {
          DAT_40002515 = DAT_40002515 + 1;
          if (DAT_4000cb95 <= DAT_40002515) {
            DAT_400016c5 = '\0';
            DAT_40002515 = 0;
          }
        }
      }
      else {
        if (((DAT_40002514 != '\0') && (DAT_40002515 == 0)) &&
           ((DAT_40002514 != DAT_4000cb97 || (engine_speed_2 < u16_rspeed_rpm_4000cb98)))) {
          DAT_40002514 = DAT_40002514 + -1;
        }
        if (DAT_40002514 == '\0') {
          DAT_400016c5 = '\x01';
          DAT_40002515 = 0;
        }
        else if (((engine_operating_state_flags & 8) == 0) || (car_speed_u8 != '\0')) {
          if ((DAT_40002515 != 0) &&
             (((engine_operating_state_flags & 8) == 0 || (car_speed_u8 != '\0')))) {
            DAT_400016c5 = '\x01';
            DAT_40002515 = 0;
          }
        }
        else {
          DAT_40002515 = DAT_40002515 + 1;
          if (DAT_4000cb95 <= DAT_40002515) {
            DAT_400016c5 = '\x01';
            DAT_40002515 = 0;
            DAT_40002516 = DAT_40002516 + 1;
            if (DAT_4000cb96 <= DAT_40002516) {
              DAT_400016c4 = '\x01';
            }
          }
        }
      }
    }
    else {
      DAT_400016c4 = '\0';
    }
  }
  return DAT_400016c4;
}



uint16_t lookup_2D_uint16_interpolated_noaxis_scale_8bit_to_10bit
                   (uint8_t shift,uint16_t val,uint8_t *lut)

{
  ulonglong uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint16_t uVar5;
  
  uVar1 = (ulonglong)((uint)val << ((int)(char)shift & 0x3fU)) & 0xffff;
  uVar2 = (uint)uVar1;
  iVar4 = (uint)lut[uVar2 >> 8] * 4;
  uVar3 = uVar2 >> 8;
  if (lut[uVar2 >> 8] != lut[uVar3 + 1]) {
    uVar3 = ((uint)lut[uVar3 + 1] - (uint)lut[uVar3]) *
            (uVar2 - (int)(((uVar1 << 0x20) >> 0x28) << 8));
    iVar4 = iVar4 + ((int)uVar3 >> 6) + (uint)((int)uVar3 < 0 && (uVar3 & 0x3f) != 0);
  }
  if (1023 < iVar4) {
    iVar4 = 0x3ff;
  }
  uVar5 = (uint16_t)iVar4;
  if (iVar4 < 0) {
    uVar5 = 0;
  }
  return uVar5;
}



void clutch_sensor_100hz(void)

{
  bool bVar1;
  u16_voltage_5_1023v uVar2;
  byte bVar3;
  byte bVar4;
  longlong lVar5;
  byte i;
  
  uVar2 = clutch_pos_voltage;
  bVar1 = false;
  if (DAT_400024dc == 0) {
    cp_sample_count = 0;
  }
  else {
    if (cp_sample_count == 0) {
      cp_lower = clutch_pos_voltage;
      cp_upper = clutch_pos_voltage;
    }
    else if (cp_upper < clutch_pos_voltage) {
      cp_upper = clutch_pos_voltage;
    }
    else if (clutch_pos_voltage < cp_lower) {
      cp_lower = clutch_pos_voltage;
    }
    clutch_pos_history[cp_sample_count] = clutch_pos_voltage;
    i = cp_sample_count + 1;
    cp_sample_count = 0;
    if (i < 8) {
      cp_sample_count = i;
    }
    if (cp_sample_count == 0) {
      lVar5 = libc_abs((ulonglong)cp_upper - (ulonglong)cp_lower);
      if ((int)(uint)DAT_4000cbd4 <= (int)lVar5) {
        bVar1 = true;
        DAT_4000251d = 0;
        DAT_4000251c = 0;
        for (i = 1; i < 8; i = i + 1) {
          bVar3 = DAT_4000251c + 1;
          if (uVar2 < clutch_pos_history[i - 1]) {
            bVar3 = DAT_4000251c;
          }
          bVar4 = DAT_4000251d + 1;
          if (clutch_pos_history[i - 1] < uVar2) {
            bVar4 = DAT_4000251d;
          }
          DAT_4000251c = bVar3;
          DAT_4000251d = bVar4;
        }
      }
      if (((bVar1) && (DAT_4000251c < 7)) && (DAT_4000251d < 7)) {
        if ((int)((uint)DAT_400024dc - (uint)DAT_4000cbd5) < 1) {
          DAT_400024dc = 0;
        }
        else {
          DAT_400024dc = DAT_400024dc - DAT_4000cbd5;
        }
      }
      else if ((uint)DAT_400024dc + (uint)DAT_4000cbd6 < 0x10000) {
        DAT_400024dc = DAT_400024dc + DAT_4000cbd6;
        if (DAT_4000cbd2 <= DAT_400024dc) {
          DAT_400024dc = DAT_4000cbd2;
        }
      }
      else {
        DAT_400024dc = 0xffff;
      }
      if (DAT_4000251f != '\0') {
        DAT_4000251f = '\0';
        DAT_400016c6 = DAT_4000cbd2;
      }
      if (DAT_400024dc < DAT_400016c6) {
        DAT_400016c6 = DAT_400024dc;
      }
    }
  }
  return;
}



void FUN_000a8bf0(void)

{
  bool bVar1;
  byte bVar2;
  longlong lVar3;
  
  if (((0xfffe < DAT_40004bde) || (engine_is_running)) ||
     (CAL_cooling_thermostat_open <= coolant_temp)) {
    if ((engine_is_running) && (CAL_cooling_thermostat_open <= coolant_temp)) {
      DAT_40004bde = 0;
    }
  }
  else {
    DAT_40004bde = DAT_40004bde + 1;
  }
  if ((int)(uint)u8_temp_5_8_40c_4000cc85 <
      (int)((uint)obd_ii_manifold_temp - (uint)air_temp_intake_unknown)) {
    DAT_40004bdd = 1;
  }
  else if (engine_is_running) {
    DAT_40004bdd = 0;
  }
  if (!engine_is_running) {
    DAT_400024a4 = (ushort)DAT_4000cc8c << 3;
  }
  if ((((DAT_400023f4 & 8) != 0) || ((DAT_400023f4 & 0x10) != 0)) &&
     (((DAT_400023f4 & 0x20) == 0 && ((DAT_400023f4 & 0x40) == 0)))) {
    if ((DAT_4000cc86 < DAT_40004bde) || ((!engine_is_running && (DAT_40001df4 != '\0')))) {
      DAT_400023f4 = DAT_400023f4 | 0x40;
    }
    else if ((int)(uint)u8_temp_5_8_40c_4000cc8b <
             (int)((uint)temp_engine_air_unknown - (uint)temp_engine_air)) {
      DAT_400023f4 = DAT_400023f4 | 0x20;
    }
    else {
      if (obd_ii_maf_flow < (ushort)((ushort)DAT_4000cc8d << 4)) {
        if (DAT_400024a4 < (ushort)((ushort)DAT_4000cc8c << 3)) {
          DAT_400024a4 = DAT_400024a4 + 1;
        }
      }
      else if (DAT_400024a4 != 0) {
        DAT_400024a4 = DAT_400024a4 - 1;
      }
      if ((ulonglong)runtime_since_start / 200 < (ulonglong)u8_time_s_4000cae3) {
        if (DAT_400024a4 == 0) {
          if ((DAT_400023f4 & 8) == 0) {
            bVar2 = DAT_4000248c | 0xc;
            if ((DAT_400023f4 & 0x10) == 0) {
              bVar2 = DAT_4000248c;
            }
          }
          else {
            DAT_400024a3 = DAT_400024a3 | 0xc;
            bVar2 = DAT_4000248c;
          }
          DAT_4000248c = bVar2;
          DAT_400023f4 = DAT_400023f4 | 0x20;
        }
      }
      else {
        DAT_400023f4 = DAT_400023f4 | 0x40;
      }
    }
  }
  bVar1 = DAT_400024b0 == '\0';
  DAT_400024b0 = DAT_400024b0 + -1;
  if (bVar1) {
    DAT_400024b0 = '\0';
  }
  if (((((((CAL_ecu_system_voltage_threshold[1] < sensor_adc_ecu_voltage) &&
          ((driver_input_flags[1] & 1) == 0)) && ((ignition_on_flags & 1) != 0)) &&
        ((!engine_is_running && (DAT_40001df4 == '\0')))) && ((DAT_40001789 & 2) != 0)) &&
      ((((DAT_40001789 & 0x20) != 0 && (DAT_400024b0 == '\0')) &&
       ((DAT_40004bde < DAT_4000cc86 &&
        ((((DAT_400023f4 & 0x30000) == 0 && ((DAT_400023f4 & 0xc0000) == 0)) &&
         ((DAT_400023f4 & 0x300000) == 0)))))))) &&
     (((DAT_400023f4 & 0xc00000) == 0 && ((DAT_400023f4 & 1) == 0)))) {
    temp_engine_air_unknown = temp_engine_air;
    manifold_temp_unknown = obd_ii_manifold_temp;
    coolant_temp_unknown = coolant_temp;
    DAT_40002523 = air_temp_intake_unknown;
    lVar3 = libc_abs((ulonglong)coolant_temp - (ulonglong)air_temp_intake_unknown);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x100;
    }
    lVar3 = libc_abs((ulonglong)coolant_temp - (ulonglong)temp_engine_air);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x200;
    }
    lVar3 = libc_abs((ulonglong)coolant_temp - (ulonglong)obd_ii_manifold_temp);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x400;
    }
    lVar3 = libc_abs((ulonglong)air_temp_intake_unknown - (ulonglong)temp_engine_air);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x800;
    }
    lVar3 = libc_abs((ulonglong)air_temp_intake_unknown - (ulonglong)obd_ii_manifold_temp);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x1000;
    }
    lVar3 = libc_abs((ulonglong)temp_engine_air - (ulonglong)obd_ii_manifold_temp);
    if ((int)lVar3 < (int)(uint)u8_temp_5_8_40c_4000cc88) {
      DAT_400023f4 = DAT_400023f4 | 0x2000;
    }
    if ((uint)coolant_temp + (uint)u8_temp_5_8_40c_4000cc8a < (uint)air_temp_intake_unknown) {
      DAT_400024b4 = DAT_400024b4 | 1;
    }
    else if ((int)(uint)air_temp_intake_unknown <
             (int)((uint)coolant_temp - (uint)u8_temp_5_8_40c_4000cc89)) {
      DAT_400024b4 = DAT_400024b4 | 2;
    }
    if ((uint)temp_engine_air + (uint)u8_temp_5_8_40c_4000cc8a < (uint)air_temp_intake_unknown) {
      DAT_400024b4 = DAT_400024b4 | 4;
    }
    else if ((int)(uint)air_temp_intake_unknown <
             (int)((uint)temp_engine_air - (uint)u8_temp_5_8_40c_4000cc89)) {
      DAT_400024b4 = DAT_400024b4 | 8;
    }
    if ((uint)obd_ii_manifold_temp + (uint)u8_temp_5_8_40c_4000cc8a < (uint)air_temp_intake_unknown)
    {
      DAT_400024b4 = DAT_400024b4 | 0x10;
    }
    else if ((int)(uint)air_temp_intake_unknown <
             (int)((uint)obd_ii_manifold_temp - (uint)u8_temp_5_8_40c_4000cc89)) {
      DAT_400024b4 = DAT_400024b4 | 0x20;
    }
    if ((uint)air_temp_intake_unknown + (uint)u8_temp_5_8_40c_4000cc91 < (uint)coolant_temp) {
      DAT_400024b4 = DAT_400024b4 | 0x40;
    }
    else if ((int)(uint)coolant_temp <
             (int)((uint)air_temp_intake_unknown - (uint)u8_temp_5_8_40c_4000cc90)) {
      DAT_400024b4 = DAT_400024b4 | 0x80;
    }
    if ((uint)temp_engine_air + (uint)u8_temp_5_8_40c_4000cc91 < (uint)coolant_temp) {
      DAT_400024b4 = DAT_400024b4 | 0x100;
    }
    else if ((int)(uint)coolant_temp < (int)((uint)temp_engine_air - (uint)u8_temp_5_8_40c_4000cc90)
            ) {
      DAT_400024b4 = DAT_400024b4 | 0x200;
    }
    if ((uint)obd_ii_manifold_temp + (uint)u8_temp_5_8_40c_4000cc91 < (uint)coolant_temp) {
      DAT_400024b4 = DAT_400024b4 | 0x400;
    }
    else if ((int)(uint)coolant_temp <
             (int)((uint)obd_ii_manifold_temp - (uint)u8_temp_5_8_40c_4000cc90)) {
      DAT_400024b4 = DAT_400024b4 | 0x800;
    }
    if ((uint)air_temp_intake_unknown + (uint)u8_temp_5_8_40c_4000cc8f < (uint)temp_engine_air) {
      DAT_400024b4 = DAT_400024b4 | 0x1000;
    }
    else if ((int)(uint)temp_engine_air <
             (int)((uint)air_temp_intake_unknown - (uint)u8_temp_5_8_40c_4000cc8e)) {
      DAT_400024b4 = DAT_400024b4 | 0x2000;
    }
    if ((uint)coolant_temp + (uint)u8_temp_5_8_40c_4000cc8f < (uint)temp_engine_air) {
      DAT_400024b4 = DAT_400024b4 | 0x4000;
    }
    else if ((int)(uint)temp_engine_air < (int)((uint)coolant_temp - (uint)u8_temp_5_8_40c_4000cc8e)
            ) {
      DAT_400024b4 = DAT_400024b4 | 0x8000;
    }
    if ((uint)obd_ii_manifold_temp + (uint)u8_temp_5_8_40c_4000cc8f < (uint)temp_engine_air) {
      DAT_400024b4 = DAT_400024b4 | 0x10000;
    }
    else if ((int)(uint)temp_engine_air <
             (int)((uint)obd_ii_manifold_temp - (uint)u8_temp_5_8_40c_4000cc8e)) {
      DAT_400024b4 = DAT_400024b4 | 0x20000;
    }
    if ((uint)air_temp_intake_unknown + (uint)u8_temp_5_8_40c_4000cc93 < (uint)obd_ii_manifold_temp)
    {
      DAT_400024b4 = DAT_400024b4 | 0x40000;
    }
    else if ((int)(uint)obd_ii_manifold_temp <
             (int)((uint)air_temp_intake_unknown - (uint)u8_temp_5_8_40c_4000cc92)) {
      DAT_400024b4 = DAT_400024b4 | 0x80000;
    }
    if ((uint)coolant_temp + (uint)u8_temp_5_8_40c_4000cc93 < (uint)obd_ii_manifold_temp) {
      DAT_400024b4 = DAT_400024b4 | 0x100000;
    }
    else if ((int)(uint)obd_ii_manifold_temp <
             (int)((uint)coolant_temp - (uint)u8_temp_5_8_40c_4000cc92)) {
      DAT_400024b4 = DAT_400024b4 | 0x200000;
    }
    if ((uint)temp_engine_air + (uint)u8_temp_5_8_40c_4000cc93 < (uint)obd_ii_manifold_temp) {
      DAT_400024b4 = DAT_400024b4 | 0x400000;
    }
    else if ((int)(uint)obd_ii_manifold_temp <
             (int)((uint)temp_engine_air - (uint)u8_temp_5_8_40c_4000cc92)) {
      DAT_400024b4 = DAT_400024b4 | 0x800000;
    }
    if ((((DAT_400023f4 & 0x100) == 0) || ((DAT_400023f4 & 0x800) == 0)) ||
       ((DAT_400023f4 & 0x1000) == 0)) {
      if (((((((DAT_400023f4 & 0x200) == 0) || ((DAT_400024b4 & 1) == 0)) ||
            ((DAT_400024b4 & 4) == 0)) &&
           ((((DAT_400023f4 & 0x400) == 0 || ((DAT_400024b4 & 1) == 0)) ||
            ((DAT_400024b4 & 0x10) == 0)))) &&
          ((((DAT_400023f4 & 0x2000) == 0 || ((DAT_400024b4 & 4) == 0)) ||
           ((DAT_400024b4 & 0x10) == 0)))) &&
         ((((DAT_400024b4 & 1) == 0 || ((DAT_400024b4 & 4) == 0)) || ((DAT_400024b4 & 0x10) == 0))))
      {
        if (((((DAT_400023f4 & 0x200) != 0) && ((DAT_400024b4 & 2) != 0)) &&
            ((DAT_400024b4 & 8) != 0)) ||
           ((((DAT_400023f4 & 0x2000) != 0 && ((DAT_400024b4 & 8) != 0)) &&
            ((DAT_400024b4 & 0x20) != 0)))) {
          DAT_400023f4 = DAT_400023f4 | 0xc;
        }
      }
      else {
        DAT_400024a3 = DAT_400024a3 | 0xc;
        DAT_400023f4 = DAT_400023f4 | 4;
      }
    }
    else {
      DAT_400024a3 = DAT_400024a3 | 8;
    }
    if ((((DAT_400023f4 & 0x200) == 0) || ((DAT_400023f4 & 0x400) == 0)) ||
       ((DAT_400023f4 & 0x100) == 0)) {
      if ((((DAT_400023f4 & 0x1000) == 0) || ((DAT_400024b4 & 0x40) == 0)) ||
         (((DAT_400024b4 & 0x400) == 0 || (DAT_40004bdd == '\0')))) {
        if ((((((DAT_400023f4 & 0x800) != 0) && ((DAT_400024b4 & 0x80) != 0)) &&
             ((DAT_400024b4 & 0x200) != 0)) ||
            ((((DAT_400023f4 & 0x1000) != 0 && ((DAT_400024b4 & 0x80) != 0)) &&
             ((DAT_400024b4 & 0x800) != 0)))) ||
           ((((DAT_400024b4 & 0x80) != 0 && ((DAT_400024b4 & 0x200) != 0)) &&
            ((DAT_400024b4 & 0x800) != 0)))) {
          DAT_40002499 = DAT_40002499 | 0xc;
          DAT_400023f4 = DAT_400023f4 | 4;
        }
      }
      else {
        DAT_40002499 = DAT_40002499 | 0xc;
        DAT_400023f4 = DAT_400023f4 | 2;
      }
    }
    else {
      DAT_40002499 = DAT_40002499 | 8;
    }
    if (((DAT_400023f4 & 0x100) == 0) || ((DAT_400023f4 & 4) != 0)) {
      DAT_400023f4 = DAT_400023f4 & 0xfffffffd;
    }
    else {
      DAT_400023f4 = DAT_400023f4 | 2;
    }
    if ((DAT_400023f4 & 2) == 0) {
      if (((((DAT_400024b4 & 0x2000) != 0) && ((DAT_400024b4 & 0x20000) != 0)) &&
          ((DAT_400024b4 & 0x8000) != 0)) ||
         ((((DAT_400024b4 & 0x1000) != 0 && ((DAT_400024b4 & 0x10000) != 0)) &&
          ((DAT_400024b4 & 0x4000) != 0)))) {
        DAT_4000248c = DAT_4000248c | 0xc;
      }
    }
    else if ((((DAT_400023f4 & 0x200) == 0) || ((DAT_400023f4 & 0x800) == 0)) ||
            ((DAT_400023f4 & 0x2000) == 0)) {
      if (((DAT_400024b4 & 0x1000) == 0) || ((DAT_400024b4 & 0x10000) == 0)) {
        if ((((DAT_400024b4 & 0x1000) != 0) || ((DAT_400024b4 & 0x2000) != 0)) &&
           (((DAT_400024b4 & 0x10000) != 0 || ((DAT_400024b4 & 0x20000) != 0)))) {
          DAT_4000248c = DAT_4000248c | 0xc;
        }
      }
      else {
        DAT_400023f4 = DAT_400023f4 | 0x10;
      }
    }
    else {
      DAT_4000248c = DAT_4000248c | 8;
    }
    bVar2 = DAT_40002494;
    if ((DAT_400023f4 & 2) == 0) {
      if ((((DAT_400024b4 & 0x80000) != 0) && ((DAT_400024b4 & 0x800000) != 0)) &&
         (bVar2 = DAT_40002494 | 0xc, (DAT_400024b4 & 0x200000) == 0)) {
        bVar2 = DAT_40002494;
      }
    }
    else if ((((DAT_400023f4 & 0x400) == 0) || ((DAT_400023f4 & 0x1000) == 0)) ||
            ((DAT_400023f4 & 0x2000) == 0)) {
      if ((((DAT_400024b4 & 0x40000) != 0) || ((DAT_400024b4 & 0x80000) != 0)) &&
         (((DAT_400024b4 & 0x400000) != 0 || ((DAT_400024b4 & 0x800000) != 0)))) {
        bVar2 = DAT_40002494 | 0xc;
      }
    }
    else {
      bVar2 = DAT_40002494 | 8;
    }
    DAT_40002494 = bVar2;
    DAT_400023f4 = DAT_400023f4 | 1;
  }
  return;
}



void FUN_000a9b14(void)

{
  brake_switch = brake_switch & 0xdf;
  DAT_400024d2 = DAT_400024d2 & 0xfc;
  clutch_pos_sensor = clutch_pos_sensor & 0xe7;
  DAT_400024da = 0;
  DAT_400016c2 = 0x3ff;
  clutch_pos_voltage = 0;
  DAT_400024d8 = 0;
  DAT_400024de = 0;
  DAT_400027f6 = (ushort)DAT_4000cbd1 * 0x14;
  DAT_400024dc = DAT_4000cbd2;
  oil_pressure_low_detected = false;
  DAT_400024f1 = 0;
  DAT_400024f2 = 0;
  DAT_40002502 = DAT_4000cc5f;
  DAT_40002503 = DAT_4000cc6c;
  DAT_40002504 = DAT_4000cc6e;
  DAT_400024f4 = DAT_4000cc4b;
  DAT_400023f4 = 0;
  DAT_400024b4 = 0;
  DAT_400016bc = 0x3ff;
  DAT_40002492 = 0;
  DAT_40002494 = 0;
  DAT_40002495 = DAT_4000cc68;
  DAT_40002496 = DAT_4000cc69;
  DAT_40002497 = 0;
  DAT_40002498 = 0;
  DAT_40002499 = 0;
  DAT_400016be = 1;
  DAT_400024a1 = 0;
  DAT_400024a3 = 0;
  DAT_400024a4 = (ushort)DAT_4000cc8c << 3;
  DAT_400024b0 = 8;
  DAT_4000248c = 0;
  DAT_400016ba = 0x3ff;
  DAT_40002486 = 0;
  DAT_40002488 = 0;
  DAT_400016c0 = 0x3ff;
  DAT_400024bc = 0;
  DAT_400024be = 0;
  DAT_400024c0 = DAT_4000cc6f;
  DAT_400024bf = DAT_4000cc71;
  DAT_400024c1 = 0;
  DAT_400024c2 = 0;
  DAT_400024c3 = DAT_4000cc76;
  DAT_400024cb = DAT_4000cc7c;
  DAT_400024cc = DAT_4000cc84;
  DAT_400024ea = 0;
  DAT_4000252e = 0;
  DAT_40002528 = 0;
  DAT_400024e4 = 0;
  DAT_400024e2 = 0;
  DAT_400024e9 = DAT_4000cc82;
  DAT_400024e8 = DAT_4000cc83;
  DAT_400023fc = DAT_4000d43a;
  DAT_40002400 = DAT_4000d467;
  DAT_40002404 = DAT_4000d468;
  DAT_40002408 = DAT_4000d3bd;
  DAT_40002409 = DAT_4000d3bd;
  obd_ii_config_p0101 = CAL_obd_ii_P0101_manual;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    obd_ii_config_p0101 = CAL_obd_ii_P0101_ips;
  }
  DAT_400023d1 = DAT_4000d3ba;
  DAT_400023d2 = DAT_4000d3bb;
  DAT_400024e1 = DAT_4000d3a7;
  DAT_40002412 = DAT_4000d3a8;
  DAT_40002416 = DAT_4000d3a9;
  DAT_400023d3 = DAT_4000d3ab;
  DAT_400023d4 = DAT_4000d3ac;
  DAT_400023d5 = DAT_4000d3ad;
  DAT_400023d6 = DAT_4000d452;
  DAT_400024a8 = DAT_4000d472;
  DAT_400024ac = DAT_4000d474;
  DAT_400023d7 = DAT_4000d3af;
  DAT_400023d8 = DAT_4000d3b0;
  DAT_400023d9 = DAT_4000d3b1;
  DAT_400023da = DAT_4000d3b6;
  DAT_400023db = DAT_4000d3b7;
  DAT_4000242a = DAT_4000d3b8;
  DAT_40002446 = DAT_4000d3b9;
  DAT_400023dc = DAT_4000d426;
  DAT_400023dd = DAT_4000d427;
  DAT_40002432 = DAT_4000d428;
  DAT_4000244a = DAT_4000d429;
  DAT_4000244e = DAT_4000d46c;
  DAT_40002452 = DAT_4000d46d;
  DAT_400023e4 = DAT_4000d469;
  DAT_400023e5 = DAT_4000d46a;
  DAT_40002436 = DAT_4000d3c7;
  DAT_4000243a = DAT_4000d3c8;
  DAT_4000243e = DAT_4000d42b;
  DAT_40002442 = DAT_4000d42c;
  DAT_40002471 = DAT_4000d3c9;
  DAT_40002474 = DAT_4000d3ca;
  DAT_40002485 = DAT_4000d466;
  DAT_4000245e = DAT_4000d3c2;
  DAT_4000245a = DAT_4000d3c1;
  DAT_40002466 = DAT_4000d415;
  DAT_40002462 = DAT_4000d414;
  DAT_400023df = DAT_4000d46b;
  DAT_400023e0 = DAT_4000d406;
  DAT_400027f4 = DAT_4000d443;
  DAT_400027f5 = DAT_4000d403;
  DAT_400023de = DAT_4000d444;
  DAT_400024cd = DAT_4000d3b3;
  DAT_40002479 = DAT_4000d425;
  DAT_400023e1 = DAT_4000d445;
  DAT_40002484 = DAT_4000d45d;
  DAT_400023e2 = DAT_4000d446;
  DAT_400023e3 = DAT_4000d447;
  DAT_4000247c = DAT_4000d456;
  DAT_4000247d = DAT_4000d457;
  DAT_40002480 = DAT_4000d458;
  obdii_update_dtc_state(&CAL_obd_ii_P0096,&LEA_obd_ii_P0096_flags,0x96,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0097,&LEA_obd_ii_P0097_flags,0x97,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0098,&LEA_obd_ii_P0098_flags,0x98,0);
  obdii_update_dtc_state(&obd_ii_config_p0101,&LEA_obd_ii_P0101_flags,0x101,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0102,&LEA_obd_ii_P0102_flags,0x102,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0103,&LEA_obd_ii_P0103_flags,0x103,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0106,&LEA_obd_ii_P0106_flags,0x106,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0107,&LEA_obd_ii_P0107_flags,0x107,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0108,&LEA_obd_ii_P0108_flags,0x108,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0111,&LEA_obd_ii_P0111_flags,0x111,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0112,&LEA_obd_ii_P0112_flags,0x112,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0113,&LEA_obd_ii_P0113_flags,0x113,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0071,&LEA_obd_ii_P0071_flags,0x71,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0072,&LEA_obd_ii_P0072_flags,0x72,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0073,&LEA_obd_ii_P0073_flags,0x73,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0116,&LEA_obd_ii_P0116_flags,0x116,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0117,&LEA_obd_ii_P0117_flags,0x117,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0118,&LEA_obd_ii_P0118_flags,0x118,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0131,&LEA_obd_ii_P0131_flags,0x131,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0132,&LEA_obd_ii_P0132_flags,0x132,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0137,&LEA_obd_ii_P0137_flags,0x137,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0138,&LEA_obd_ii_P0138_flags,0x138,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0151,&LEA_obd_ii_P0151_flags,0x151,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0152,&LEA_obd_ii_P0152_flags,0x152,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0157,&LEA_obd_ii_P0157_flags,0x157,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0158,&LEA_obd_ii_P0158_flags,0x158,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0191,&LEA_obd_ii_P0191_flags,0x191,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0192,&LEA_obd_ii_P0192_flags,0x192,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0193,&LEA_obd_ii_P0193_flags,0x193,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0327,&LEA_obd_ii_P0327_flags,0x327,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0328,&LEA_obd_ii_P0328_flags,0x328,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0332,&LEA_obd_ii_P0332_flags,0x332,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0333,&LEA_obd_ii_P0333_flags,0x333,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0452,&LEA_obd_ii_P0452_flags,0x452,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0453,&LEA_obd_ii_P0453_flags,0x453,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0462,&LEA_obd_ii_P0462_flags,0x462,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0463,&LEA_obd_ii_P0463_flags,0x463,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0522,&LEA_obd_ii_P0522_flags,0x522,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags,0x523,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0524,&LEA_obd_ii_P0524_flags,0x524,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0562,&LEA_obd_ii_P0562_flags,0x562,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0563,&LEA_obd_ii_P0563_flags,0x563,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1562,&LEA_obd_ii_P1562_flags,0x1562,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0564,&LEA_obd_ii_P0564_flags,0x564,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0571,&LEA_obd_ii_P0571_flags,0x571,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0578,&LEA_obd_ii_P0578_flags,0x578,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0579,&LEA_obd_ii_P0579_flags,0x579,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0685,&LEA_obd_ii_P0685_flags,0x685,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0806,&LEA_obd_ii_P0806_flags,0x806,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1809,&LEA_obd_ii_P1809_flags,0x1809,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0807,&LEA_obd_ii_P0807_flags,0x807,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0808,&LEA_obd_ii_P0808_flags,0x808,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0826,&LEA_obd_ii_P0826_flags,0x826,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0827,&LEA_obd_ii_P0827_flags,0x827,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0828,&LEA_obd_ii_P0828_flags,0x828,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1107,&LEA_obd_ii_P1107_flags,0x1107,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1108,&LEA_obd_ii_P1108_flags,0x1108,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1109,&LEA_obd_ii_P1109_flags,0x1109,0);
  return;
}



void FUN_000aab30(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0096,&LEA_obd_ii_P0096_flags,&DAT_40004c55,&DAT_40004c56,0x96,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0097,&LEA_obd_ii_P0097_flags,&DAT_40004c58,&DAT_40004c59,0x97,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0098,&LEA_obd_ii_P0098_flags,&DAT_40004c5b,&DAT_40004c5c,0x98,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0685,&LEA_obd_ii_P0685_flags,&DAT_40004ded,&DAT_40004dee,0x685,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0578,&LEA_obd_ii_P0578_flags,&DAT_40004dc9,&DAT_40004dca,0x578,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0579,&LEA_obd_ii_P0579_flags,&DAT_40004dcc,&DAT_40004dcd,0x579,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0564,&LEA_obd_ii_P0564_flags,&DAT_40004dcf,&DAT_40004dd0,0x564,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0563,&LEA_obd_ii_P0563_flags,&DAT_40004dc3,&DAT_40004dc4,0x563,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0562,&LEA_obd_ii_P0562_flags,&DAT_40004dc0,&DAT_40004dc1,0x562,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0522,&LEA_obd_ii_P0522_flags,&DAT_40004db1,&DAT_40004db2,0x522,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1562,&LEA_obd_ii_P1562_flags,&DAT_40004e0e,&DAT_40004e0f,0x1562,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0523,&LEA_obd_ii_P0523_flags,&DAT_40004db4,&DAT_40004db5,0x523,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0524,&LEA_obd_ii_P0524_flags,&DAT_40004db7,&DAT_40004db8,0x524,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0453,&LEA_obd_ii_P0453_flags,&DAT_40004d8a,&DAT_40004d8b,0x453,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0452,&LEA_obd_ii_P0452_flags,&DAT_40004d87,&DAT_40004d88,0x452,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0463,&LEA_obd_ii_P0463_flags,&DAT_40004d99,&DAT_40004d9a,0x463,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0462,&LEA_obd_ii_P0462_flags,&DAT_40004d96,&DAT_40004d97,0x462,0);
  obd_ii_set_active_code_and_FF
            (&obd_ii_config_p0101,&LEA_obd_ii_P0101_flags,&DAT_40004c5e,&DAT_40004c5f,0x101,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0102,&LEA_obd_ii_P0102_flags,&DAT_40004c61,&DAT_40004c62,0x102,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0103,&LEA_obd_ii_P0103_flags,&DAT_40004c64,&DAT_40004c65,0x103,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0118,&LEA_obd_ii_P0118_flags,&DAT_40004c88,&DAT_40004c89,0x118,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0117,&LEA_obd_ii_P0117_flags,&DAT_40004c85,&DAT_40004c86,0x117,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0116,&LEA_obd_ii_P0116_flags,&DAT_40004c82,&DAT_40004c83,0x116,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0113,&LEA_obd_ii_P0113_flags,&DAT_40004c76,&DAT_40004c77,0x113,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0071,&LEA_obd_ii_P0071_flags,&DAT_40004c79,&DAT_40004c7a,0x71,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0072,&LEA_obd_ii_P0072_flags,&DAT_40004c7c,&DAT_40004c7d,0x72,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0073,&LEA_obd_ii_P0073_flags,&DAT_40004c7f,&DAT_40004c80,0x73,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0112,&LEA_obd_ii_P0112_flags,&DAT_40004c73,&DAT_40004c74,0x112,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0111,&LEA_obd_ii_P0111_flags,&DAT_40004c70,&DAT_40004c71,0x111,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0138,&LEA_obd_ii_P0138_flags,&DAT_40004ca6,&DAT_40004ca7,0x138,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0137,&LEA_obd_ii_P0137_flags,&DAT_40004ca3,&DAT_40004ca4,0x137,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0151,&LEA_obd_ii_P0151_flags,&DAT_40004cb2,&DAT_40004cb3,0x151,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0152,&LEA_obd_ii_P0152_flags,&DAT_40004cb5,&DAT_40004cb6,0x152,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0157,&LEA_obd_ii_P0157_flags,&DAT_40004cc1,&DAT_40004cc2,0x157,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0158,&LEA_obd_ii_P0158_flags,&DAT_40004cc4,&DAT_40004cc5,0x158,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0191,&LEA_obd_ii_P0191_flags,&DAT_40004cdc,&DAT_40004cdd,0x191,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0192,&LEA_obd_ii_P0192_flags,&DAT_40004cdf,&DAT_40004ce0,0x192,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0193,&LEA_obd_ii_P0193_flags,&DAT_40004ce2,&DAT_40004ce3,0x193,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0328,&LEA_obd_ii_P0328_flags,&DAT_40004d39,&DAT_40004d3a,0x328,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0327,&LEA_obd_ii_P0327_flags,&DAT_40004d36,&DAT_40004d37,0x327,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0332,&LEA_obd_ii_P0332_flags,&DAT_40004d3c,&DAT_40004d3d,0x332,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0333,&LEA_obd_ii_P0333_flags,&DAT_40004d3f,&DAT_40004d40,0x333,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0132,&LEA_obd_ii_P0132_flags,&DAT_40004c97,&DAT_40004c98,0x132,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0131,&LEA_obd_ii_P0131_flags,&DAT_40004c94,&DAT_40004c95,0x131,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0106,&LEA_obd_ii_P0106_flags,&DAT_40004c67,&DAT_40004c68,0x106,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0108,&LEA_obd_ii_P0108_flags,&DAT_40004c6d,&DAT_40004c6e,0x108,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0107,&LEA_obd_ii_P0107_flags,&DAT_40004c6a,&DAT_40004c6b,0x107,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0571,&LEA_obd_ii_P0571_flags,&DAT_40004dc6,&DAT_40004dc7,0x571,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0806,&LEA_obd_ii_P0806_flags,&DAT_40004df9,&DAT_40004dfa,0x806,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1809,&LEA_obd_ii_P1809_flags,&DAT_40004dfc,&DAT_40004dfd,0x1809,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0807,&LEA_obd_ii_P0807_flags,&DAT_40004dff,&DAT_40004e00,0x807,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0808,&LEA_obd_ii_P0808_flags,&DAT_40004e02,&DAT_40004e03,0x808,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0826,&LEA_obd_ii_P0826_flags,&DAT_40004e68,&DAT_40004e69,0x826,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0827,&LEA_obd_ii_P0827_flags,&DAT_40004e6b,&DAT_40004e6c,0x827,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0828,&LEA_obd_ii_P0828_flags,&DAT_40004e6e,&DAT_40004e6f,0x828,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1107,&LEA_obd_ii_P1107_flags,&DAT_40004e8f,&DAT_40004e90,0x1107,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1108,&LEA_obd_ii_P1108_flags,&DAT_40004e92,&DAT_40004e93,0x1108,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1109,&LEA_obd_ii_P1109_flags,&DAT_40004e95,&DAT_40004e96,0x1109,0);
  return;
}



void obd_ii_thermostat_check(void)

{
  uint uVar1;
  char cVar2;
  byte bVar3;
  ulonglong unaff_r31;
  
  if (((engine_operating_state_flags & 8) == 0) || (car_speed_u8 != '\0')) {
    DAT_40002538 = lookup_2D_uint8_interpolated
                             ('\b',load_mass_per_stroke,&DAT_4000dfe0,s__G_y_4000dfd8);
  }
  else {
    DAT_40002538 = 0xff;
  }
  cVar2 = '\x01';
  if (u8_temp_5_8_40c_4000ca13 < temp_engine_air) {
    cVar2 = DAT_40002540;
  }
  DAT_40002540 = cVar2;
  if ((((((CAL_obd_ii_P0128 & 7) != 0) && ((engine_state_failure_flags & 2) == 0)) &&
       (u8_temp_5_8_40c_4000cb23 < coolant_temp_engine_stopped)) &&
      ((coolant_temp_engine_stopped < u8_temp_5_8_40c_4000cb21 &&
       ((LEA_obd_ii_P0128_flags & 4) == 0)))) && (cVar2 == '\0')) {
    uVar1 = DAT_4000253c;
    if ((car_speed_u8 < DAT_4000cadd) && (uVar1 = DAT_4000253c + 1, engine_speed_2 == 0)) {
      uVar1 = DAT_4000253c;
    }
    DAT_4000253c = uVar1;
    if (((uint)DAT_40002530 < maf_accum_unknown3 >> 16) &&
       (coolant_temp < CAL_cooling_thermostat_open)) {
      if (DAT_4000253c != 0) {
        if ((ulonglong)(runtime_since_start >> 1) / (ulonglong)DAT_4000253c < 0x100) {
          unaff_r31 = (ulonglong)(runtime_since_start >> 1) / (ulonglong)DAT_4000253c & 0xff;
        }
        else {
          unaff_r31 = 0xff;
        }
      }
      if ((ulonglong)DAT_4000cadc < (unaff_r31 & 0xff)) {
        bVar3 = DAT_40002539 - 1;
        if (DAT_40002539 == 0) {
          bVar3 = DAT_40002539;
        }
        DAT_40002539 = bVar3;
        if (bVar3 == 0) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0128,&LEA_obd_ii_P0128_flags,&DAT_40004c91,&DAT_40004c92,0x128,0);
        }
      }
    }
    else if (CAL_cooling_thermostat_open <= coolant_temp) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0128,&LEA_obd_ii_P0128_flags);
      if (DAT_40002539 < DAT_4000d3be) {
        DAT_40002539 = DAT_40002539 + 1;
      }
    }
  }
  return;
}



void FUN_000abd6c(void)

{
  DAT_40002539 = DAT_4000d3be;
  obdii_update_dtc_state(&CAL_obd_ii_P0128,&LEA_obd_ii_P0128_flags,0x128,0);
  return;
}



void FUN_000abdc4(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0128,&LEA_obd_ii_P0128_flags,&DAT_40004c91,&DAT_40004c92,0x128,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void obd_ii_evap_montior(void)

{
  ushort uVar1;
  short sVar2;
  char cVar3;
  longlong lVar4;
  
  if ((((LEA_obd_ii_P0461_flags & 2) == 0) && ((LEA_obd_ii_P0462_flags & 2) == 0)) &&
     ((LEA_obd_ii_P0463_flags & 2) == 0)) {
    fuel_level = fuel_level_lookup_filtered(fuel_level_raw);
  }
  else {
    fuel_level = 0;
  }
  lVar4 = libc_abs((ulonglong)fuel_level_raw - (ulonglong)DAT_4000255e);
  DAT_4000255a = (byte)lVar4;
  DAT_4000255e = fuel_level_raw;
  lVar4 = FUN_0004c230((int)(short)obd_ii_evap_purge_pressure);
  DAT_40002548 = (short)lVar4;
  lVar4 = libc_abs((longlong)(short)obd_ii_evap_purge_pressure - (longlong)DAT_40002548);
  DAT_4000255c = (short)lVar4;
  if ((((car_speed_u8 == 0) && ((engine_operating_state_flags & 8) != 0)) &&
      ((DAT_4000254a & 2) == 0)) &&
     ((((COD_base[0] >> 0xd & 7) == 0 &&
       ((clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold ||
        (CAL_sensor_clutch_disengaged_threshold < clutch_pos_voltage)))) ||
      (((COD_base[0] >> 0xd & 7) == 1 &&
       (((ips_state_flags == 0 || (ips_state_flags == 9)) ||
        ((ips_state_flags < 4 && (((brake_switch & 0x11) != 0 || ((brake_switch & 0x22) != 0))))))))
      )))) {
    if (DAT_4000254c == 0) {
      if ((DAT_4000254a & 0x20) == 0) {
        DAT_4000254a = DAT_4000254a | 0b00100000;
        u8_fuel_gal_x10_40002551 = fuel_level;
        DAT_40002554 = 0;
      }
      else if (DAT_40002554 < DAT_4000cb3c) {
        DAT_40002554 = DAT_40002554 + 1;
        if (DAT_4000cb41 < DAT_4000255a) {
          DAT_4000254d = DAT_4000254d + 1;
        }
        if (DAT_4000cb42 < DAT_4000255c) {
          DAT_4000254e = DAT_4000254e + 1;
        }
      }
      else {
        sVar2 = (ushort)fuel_level - (ushort)u8_fuel_gal_x10_40002551;
        if (fuel_level < u8_fuel_gal_x10_40002551) {
          sVar2 = DAT_40002552;
        }
        if (sVar2 < (short)(ushort)DAT_4000cb3e) {
          uVar1 = DAT_4000254a & 0xefff | 0x4002;
          if (DAT_4000cb40 < DAT_4000254e) {
            uVar1 = DAT_4000254a | 0x5002;
          }
          DAT_40002552 = sVar2;
          if (DAT_4000cb3f < DAT_4000254d) {
            DAT_4000254a = uVar1 | 0x2000;
          }
          else {
            DAT_4000254a = uVar1 & 0xdfff;
          }
        }
        else {
          DAT_4000254a = DAT_4000254a & 0xffdf;
          DAT_4000254e = 0;
          DAT_40002552 = 0;
          DAT_4000254d = 0;
        }
      }
    }
    else {
      DAT_4000254c = DAT_4000254c + -1;
    }
  }
  else {
    DAT_4000254c = DAT_4000cb3d;
  }
  if (((DAT_4000254a & 1) == 0) && (CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start))
  {
    if ((DAT_40004bb6 == 0) || ((59999999 < DAT_40004bb0 || (3 < DAT_40004bb6)))) {
      DAT_40004bb5 = fuel_level_raw;
      DAT_40004bb4 = fuel_level_raw;
      DAT_40004bb0 = 0;
      if (fuel_level_raw < DAT_4000cb44) {
        if (DAT_4000cb45 < fuel_level_raw) {
          DAT_40004bb8 = (uint)DAT_4000cb92 * 100000;
          DAT_40004bb6 = 3;
        }
        else {
          DAT_40004bb8 = (uint)DAT_4000cb91 * 100000;
          DAT_40004bb6 = 1;
        }
      }
      else {
        DAT_40004bb8 = (uint)DAT_4000cb90 * 100000;
        DAT_40004bb6 = 2;
      }
    }
    DAT_40004bb0 = DAT_40004bb0 + fuel_usage_instantaneous;
    if (DAT_40004bb0 < DAT_40004bb8) {
      if (fuel_level_raw < DAT_40004bb4) {
        DAT_40004bb4 = fuel_level_raw;
      }
      if (DAT_40004bb5 < fuel_level_raw) {
        DAT_40004bb5 = fuel_level_raw;
      }
      if ((int)(uint)DAT_4000cb4d < (int)((uint)DAT_40004bb5 - (uint)DAT_40004bb4)) {
        DAT_4000254a = DAT_4000254a | 1;
      }
    }
    else if ((DAT_4000254a & 1) == 0) {
      if (DAT_40004bb6 == 2) {
        DAT_4000254a = DAT_4000254a | 5;
      }
      else if (DAT_40004bb6 == 1) {
        DAT_4000254a = DAT_4000254a | 9;
      }
      else {
        DAT_4000254a = DAT_4000254a | 0x11;
      }
    }
  }
  DAT_40002560 = obd_ii_evap_purge_pressure + DAT_400019f4;
  if ((((((DAT_4000254a & 0x80) == 0) &&
        (CAL_sensor_temp_diagnostic_startup_delay < runtime_since_start)) &&
       ((LEA_obd_ii_P0461_flags & 2) == 0)) &&
      (((LEA_obd_ii_P0462_flags & 2) == 0 && ((LEA_obd_ii_P0463_flags & 2) == 0)))) &&
     (((LEA_obd_ii_P0441_flags & 2) == 0 &&
      (((LEA_obd_ii_P0444_flags & 2) == 0 && ((LEA_obd_ii_P0445_flags & 2) == 0)))))) {
    if (fuel_level_raw < DAT_4000cb07) {
      if ((DAT_4000cb00 < DAT_40002322) && (DAT_4000caf6 < _obd_ii_commanded_evap_purge)) {
        if (DAT_40002567 != '\0') {
          DAT_40002567 = DAT_40002567 + -1;
        }
      }
      else if (DAT_40002567 != '\0') {
        DAT_40002567 = DAT_4000cbb2;
      }
      if ((short)(ushort)DAT_40008803 < _obd_ii_commanded_evap_purge) {
        if (DAT_40002566 != '\0') {
          DAT_40002566 = DAT_4000cbb3;
        }
      }
      else if (DAT_40002566 != '\0') {
        DAT_40002566 = DAT_40002566 + -1;
      }
    }
    else {
      DAT_40002566 = DAT_4000cbb3;
      DAT_40002567 = DAT_4000cbb2;
    }
    if ((short)DAT_40002560 < (short)DAT_40002556) {
      DAT_40002556 = DAT_40002560;
    }
    if ((short)DAT_40002558 < (short)DAT_40002560) {
      DAT_40002558 = DAT_40002560;
    }
    if ((int)DAT_4000cb4e < (int)(short)DAT_40002558 - (int)(short)DAT_40002556) {
      DAT_4000254a = DAT_4000254a | 0x80;
    }
    if (((DAT_40002567 == '\0') && (DAT_40002566 == '\0')) && ((DAT_4000254a & 0x80) == 0)) {
      if ((LEA_obd_ii_P0455_flags & 2) == 0) {
        DAT_4000254a = DAT_4000254a | 0x40;
      }
      DAT_4000254a = DAT_4000254a | 0x80;
    }
  }
  if ((((LEA_obd_ii_P0335_flags & 2) == 0) && ((LEA_obd_ii_P0446_flags & 2) == 0)) &&
     (((LEA_obd_ii_P0461_flags & 2) == 0 &&
      (((LEA_obd_ii_P0462_flags & 2) == 0 && ((LEA_obd_ii_P0463_flags & 2) == 0)))))) {
    if ((fuel_level_raw < DAT_4000cb07) &&
       ((CAL_ecu_system_voltage_threshold[1] < sensor_adc_ecu_voltage && (car_speed_u8 == '\0')))) {
      if (((engine_speed_2 == 0) && (evap_canister_close_command == '\0')) &&
         ((DAT_4000254a & 0x100) == 0)) {
        DAT_40002563 = DAT_4000cbb5;
        DAT_40002562 = DAT_4000cbb5;
        if ((((short)(ushort)DAT_4000cbb4 < (short)DAT_40002560) ||
            ((int)(short)DAT_40002560 < (int)-(uint)DAT_4000cbb4)) &&
           ((u16_voltage_5_1023v_4000cae6 < evap_purge_pressure_voltage &&
            (evap_purge_pressure_voltage < u16_voltage_5_1023v_4000cae4)))) {
          cVar3 = DAT_40002564 + -1;
          if (DAT_40002564 == '\0') {
            cVar3 = DAT_40002564;
          }
          if (cVar3 == '\0') {
            DAT_4000254a = DAT_4000254a | 0x300;
          }
          DAT_40002565 = DAT_4000cbb5;
          DAT_40002564 = cVar3;
        }
        else if (((short)(ushort)DAT_4000cbb4 < (short)DAT_40002560) ||
                ((int)(short)DAT_40002560 < (int)-(uint)DAT_4000cbb4)) {
          DAT_40002565 = DAT_4000cbb5;
          DAT_40002564 = DAT_4000cbb5;
        }
        else {
          cVar3 = DAT_40002565 + -1;
          if (DAT_40002565 == '\0') {
            cVar3 = DAT_40002565;
          }
          if (cVar3 == '\0') {
            DAT_4000254a = DAT_4000254a | 0x100;
          }
          DAT_40002564 = DAT_4000cbb5;
          DAT_40002565 = cVar3;
        }
      }
      else if (((((_obd_ii_commanded_evap_purge == 0) && (evap_canister_close_command == '\0')) &&
                ((engine_speed_2 != 0 &&
                 (((DAT_4000254a & 0x400) == 0 && ((LEA_obd_ii_P0441_flags & 2) == 0)))))) &&
               ((LEA_obd_ii_P0444_flags & 2) == 0)) && ((LEA_obd_ii_P0445_flags & 2) == 0)) {
        DAT_40002565 = DAT_4000cbb5;
        DAT_40002564 = DAT_4000cbb5;
        if (((((short)(ushort)DAT_4000cbb4 < (short)DAT_40002560) ||
             ((int)(short)DAT_40002560 < (int)-(uint)DAT_4000cbb4)) &&
            (u16_voltage_5_1023v_4000cae6 < evap_purge_pressure_voltage)) &&
           (evap_purge_pressure_voltage < u16_voltage_5_1023v_4000cae4)) {
          cVar3 = DAT_40002562 + -1;
          if (DAT_40002562 == '\0') {
            cVar3 = DAT_40002562;
          }
          if (cVar3 == '\0') {
            DAT_4000254a = DAT_4000254a | 0xc00;
          }
          DAT_40002563 = DAT_4000cbb5;
          DAT_40002562 = cVar3;
        }
        else if (((short)(ushort)DAT_4000cbb4 < (short)DAT_40002560) ||
                ((int)(short)DAT_40002560 < (int)-(uint)DAT_4000cbb4)) {
          DAT_40002563 = DAT_4000cbb5;
          DAT_40002562 = DAT_4000cbb5;
        }
        else {
          cVar3 = DAT_40002563 + -1;
          if (DAT_40002563 == '\0') {
            cVar3 = DAT_40002563;
          }
          if (cVar3 == '\0') {
            DAT_4000254a = DAT_4000254a | 0x400;
          }
          DAT_40002562 = DAT_4000cbb5;
          DAT_40002563 = cVar3;
        }
      }
      else {
        DAT_40002563 = DAT_4000cbb5;
        DAT_40002562 = DAT_4000cbb5;
        DAT_40002565 = DAT_4000cbb5;
        DAT_40002564 = DAT_4000cbb5;
      }
    }
    else {
      DAT_40002563 = DAT_4000cbb5;
      DAT_40002562 = DAT_4000cbb5;
      DAT_40002565 = DAT_4000cbb5;
      DAT_40002564 = DAT_4000cbb5;
    }
  }
  if ((((CAL_obd_ii_P0461 & 7) != 0) && ((LEA_obd_ii_P0462_flags & 2) == 0)) &&
     ((LEA_obd_ii_P0463_flags & 2) == 0)) {
    if ((((DAT_4000254a & 2) == 0) || ((DAT_4000254a & 0x2000) == 0)) &&
       (((DAT_4000254a & 1) == 0 || ((DAT_4000254a & 0x1c) == 0)))) {
      if ((((DAT_4000254a & 0x4000) != 0) && ((DAT_4000254a & 0x2000) == 0)) &&
         ((DAT_4000254a & 1) != 0)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0461,&LEA_obd_ii_P0461_flags);
        if (DAT_4000254f < DAT_4000d413) {
          DAT_4000254f = DAT_4000254f + 1;
        }
      }
    }
    else if ((DAT_4000254f != 0) && (DAT_4000254f = DAT_4000254f - 1, DAT_4000254f == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0461,&LEA_obd_ii_P0461_flags,&DAT_40004d93,&DAT_40004d94,0x461,0);
    }
  }
  if ((((CAL_obd_ii_P0451 & 7) != 0) && ((LEA_obd_ii_P0452_flags & 2) == 0)) &&
     (((LEA_obd_ii_P0453_flags & 2) == 0 && ((engine_state_failure_flags & 0x400) == 0)))) {
    if (((((DAT_4000254a & 2) == 0) || ((DAT_4000254a & 0x1000) == 0)) &&
        (((DAT_4000254a & 0x80) == 0 || ((DAT_4000254a & 0x40) == 0)))) &&
       (((((DAT_4000254a & 0x200) == 0 || ((DAT_4000254a & 0x100) == 0)) ||
         ((DAT_4000254a & 0x800) == 0)) || ((DAT_4000254a & 0x400) == 0)))) {
      if (((((DAT_4000254a & 0x4000) != 0) && ((DAT_4000254a & 0x1000) == 0)) &&
          (((DAT_4000254a & 0x80) != 0 &&
           ((((DAT_4000254a & 0x100) != 0 && ((DAT_4000254a & 0x200) == 0)) &&
            ((DAT_4000254a & 0x400) != 0)))))) && ((DAT_4000254a & 0x800) == 0)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0451,&LEA_obd_ii_P0451_flags);
        if (DAT_40002550 < DAT_4000d3d1) {
          DAT_40002550 = DAT_40002550 + 1;
        }
      }
    }
    else if ((DAT_40002550 != 0) && (DAT_40002550 = DAT_40002550 - 1, DAT_40002550 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0451,&LEA_obd_ii_P0451_flags,&DAT_40004d84,&DAT_40004d85,0x451,0);
    }
  }
  if ((DAT_4000254a & 2) != 0) {
    DAT_4000254a = DAT_4000254a & 0xffdd;
    DAT_4000254e = 0;
    DAT_4000254d = 0;
    DAT_40002554 = 0;
  }
  uVar1 = DAT_4000254a;
  if ((DAT_4000254a & 1) != 0) {
    DAT_40004bb6 = 0;
    uVar1 = DAT_4000254a & 0xffe2;
    if ((CAL_obd_ii_P0461 & 8) == 0) {
      uVar1 = DAT_4000254a;
    }
  }
  DAT_4000254a = uVar1;
  if (((DAT_4000254a & 0x80) != 0) && ((CAL_obd_ii_P0451 & 8) != 0)) {
    DAT_4000254a = DAT_4000254a & 0xff3f;
    DAT_40002567 = DAT_4000cbb2;
    DAT_40002566 = DAT_4000cbb3;
    DAT_40002558 = obd_ii_evap_purge_pressure;
    DAT_40002556 = obd_ii_evap_purge_pressure;
  }
  if (((DAT_4000254a & 0x100) != 0) && ((CAL_obd_ii_P0451 & 8) != 0)) {
    DAT_4000254a = DAT_4000254a & 0xfcff;
    DAT_40002564 = DAT_4000cbb5;
    DAT_40002565 = DAT_4000cbb5;
  }
  if (((DAT_4000254a & 0x400) != 0) && ((CAL_obd_ii_P0451 & 8) != 0)) {
    DAT_4000254a = DAT_4000254a & 0xf3ff;
    DAT_40002562 = DAT_4000cbb5;
    DAT_40002563 = DAT_4000cbb5;
  }
  return;
}



void FUN_000ad070(void)

{
  DAT_4000254a = 0;
  DAT_4000199c = (uint)fuel_level_raw * 40000;
  fuel_level = fuel_level_raw;
  DAT_40001998 = (int)(short)obd_ii_evap_purge_pressure << 8;
  DAT_4000254f = DAT_4000d413;
  DAT_40002550 = DAT_4000d3d1;
  obdii_update_dtc_state(&CAL_obd_ii_P0461,&LEA_obd_ii_P0461_flags,0x461,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0451,&LEA_obd_ii_P0451_flags,0x451,0);
  DAT_40002567 = DAT_4000cbb2;
  DAT_40002566 = DAT_4000cbb3;
  DAT_40002558 = obd_ii_evap_purge_pressure;
  DAT_40002556 = obd_ii_evap_purge_pressure;
  DAT_40002565 = DAT_4000cbb5;
  DAT_40002564 = DAT_4000cbb5;
  DAT_40002563 = DAT_4000cbb5;
  DAT_40002562 = DAT_4000cbb5;
  DAT_4000254e = 0;
  DAT_4000254d = 0;
  DAT_40002554 = 0;
  DAT_4000254c = DAT_4000cb3d;
  DAT_40002552 = 0;
  u8_fuel_gal_x10_40002551 = '\0';
  return;
}



void FUN_000ad1b8(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0461,&LEA_obd_ii_P0461_flags,&DAT_40004d93,&DAT_40004d94,0x461,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0451,&LEA_obd_ii_P0451_flags,&DAT_40004d84,&DAT_40004d85,0x451,0);
  return;
}



void init_vvt_hardware_and_timers(void)

{
  siu_pcr[0x8e] = 0xe84;
  FUN_000543b4(0x1c,2,(longlong)(int)(1000000 / DAT_40008804),5000,1,0,10000000);
  siu_pcr[0x81] = 0xe84;
  FUN_000543b4(0xf,2,(longlong)(int)(1000000 / DAT_40008804),5000,1,0,10000000);
  init_eMIOS(0x11,(byte *)(uint)DAT_40008804,0,0);
  siu_pcr[0xc4] = 0xecc;
  init_eMIOS(0x12,(byte *)(uint)DAT_40008804,0,0);
  siu_pcr[0xc5] = 0xecc;
  vvt_inlet_b1_zero_timer = CAL_vvt_zero_target_timeout;
  vvt_exhaust_b1_zero_timer = CAL_vvt_zero_target_timeout;
  vvt_inlet_b2_zero_timer = CAL_vvt_zero_target_timeout;
  vvt_exhaust_b2_zero_timer = CAL_vvt_zero_target_timeout;
  return;
}



void vvt(void)

{
  short sVar1;
  byte vvt_intake_adv_low_load_lookup;
  byte vvt_intake_adv_loookup;
  byte vvt_exhaust_adv_lookup;
  byte _vvt_exhaust_adv_base_lookup;
  uint vvt_inlet_error_b1_scaled;
  uint uVar2;
  ulonglong _vvt_start_time;
  ulonglong _vvt_intake_advance_coolant_offset;
  byte vvt_intake_base;
  ulonglong _vvt_exhaust_comp_temp;
  byte vvt_adv_exhaust_base;
  ulonglong uVar3;
  uint uVar4;
  short vvt_intake_net;
  short vvt_exhaust_net2___;
  uint uVar5;
  ushort vvt_intake_adv;
  short vvt_intake_adv_net;
  ushort _vvt_exhaust_adv_base;
  short vvt_adv_net;
  uint uVar6;
  ushort vvt_exhaust_comp_temp;
  bool _vvt_low_load_active;
  
  _vvt_low_load_active = vvt_low_load_active;
                    // CAL_vvt_low_load_disable is false in the default config.
  if ((((CAL_vvt_low_load_map_enable_temp < coolant_temp) &&
       ((CAL_vvt_low_load_ips_enable || ((COD_base[0] >> 0xd & 7) == 0)))) &&
      (((vehicle_mode_flags & 8) == 0 ||
       ((CAL_vvt_intake_advance_base_low_load_Y_load[5] < load_mass_per_stroke ||
        (CAL_vvt_intake_advance_base_low_load_X_engine_speed[5] < engine_speed_3)))))) &&
     (_vvt_low_load_active = true, !CAL_vvt_low_load_disable)) {
    _vvt_low_load_active = vvt_low_load_active;
  }
  vvt_low_load_active = _vvt_low_load_active;
  if (vvt_intake_fallback_angle_zero < 4) {
    if (((((CAL_vvt_intake_advance_base_low_load_Y_load[0] < load_mass_per_stroke) &&
          (load_mass_per_stroke < CAL_vvt_intake_advance_base_low_load_Y_load[5])) &&
         (CAL_vvt_intake_advance_base_low_load_X_engine_speed[0] < engine_speed_3)) &&
        ((engine_speed_3 < CAL_vvt_intake_advance_base_low_load_X_engine_speed[5] &&
         ((vehicle_mode_flags & 8) != 0)))) && (vvt_low_load_active != false)) {
      vvt_intake_adv_low_load_lookup =
           lookup_3D_uint8_interpolated
                     (6,6,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_intake_advance_base_low_load,
                      CAL_vvt_intake_advance_base_low_load_X_engine_speed,
                      CAL_vvt_intake_advance_base_low_load_Y_load);
      vvt_intake_adv = (ushort)vvt_intake_adv_low_load_lookup;
      if ((vvt_intake_mode_flags & 1) == 0) {
        vvt_intake_mode_flags = vvt_intake_mode_flags | 0b00000100;
        vvt_intake_transition_complete = false;
      }
      vvt_intake_mode_flags = vvt_intake_mode_flags & 0b11110101 | 1;
    }
    else {
      vvt_intake_adv_loookup =
           lookup_3D_uint8_interpolated
                     (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_intake_advance_base,CAL_vvt_intake_advance_base_X_engine_speed,
                      CAL_vvt_intake_advance_base_Y_load);
      vvt_intake_adv = (ushort)vvt_intake_adv_loookup;
      if ((((vvt_intake_mode_flags & 2) == 0) && ((vehicle_mode_flags & 8) == 0)) &&
         ((CAL_vvt_intake_advance_base_low_load_Y_load[0] < load_mass_per_stroke &&
          (((load_mass_per_stroke < CAL_vvt_intake_advance_base_low_load_Y_load[5] &&
            (CAL_vvt_intake_advance_base_low_load_X_engine_speed[0] < engine_speed_3)) &&
           (engine_speed_3 < CAL_vvt_intake_advance_base_low_load_X_engine_speed[5])))))) {
        vvt_intake_mode_flags = vvt_intake_mode_flags | 0b00001000;
        vvt_intake_transition_complete = false;
      }
      if (((vehicle_mode_flags & 8) == 0) || (vvt_low_load_active == false)) {
        vvt_intake_mode_flags = vvt_intake_mode_flags & 0b11111010 | 0b00000010;
      }
      if (((vehicle_mode_flags & 8) != 0) && (vvt_low_load_active != false)) {
        vvt_intake_mode_flags = vvt_intake_mode_flags & 0b11110101 | 1;
      }
    }
  }
  else {
    vvt_intake_adv = (ushort)vvt_intake_fallback_angle_zero;
  }
  if (vvt_exhaust_fallback_angle_zero < 4) {
    if ((((CAL_vvt_exhaust_advance_base_low_load_Y_load[0] < load_mass_per_stroke) &&
         (load_mass_per_stroke < CAL_vvt_exhaust_advance_base_low_load_Y_load[5])) &&
        (CAL_vvt_exhaust_advance_base_low_load_X_engine_speed[0] < engine_speed_3)) &&
       (((engine_speed_3 < CAL_vvt_exhaust_advance_base_low_load_X_engine_speed[5] &&
         ((vehicle_mode_flags & 8) != 0)) && (vvt_low_load_active != false)))) {
      vvt_exhaust_adv_lookup =
           lookup_3D_uint8_interpolated
                     (6,6,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_exhaust_advance_base_low_load,
                      CAL_vvt_exhaust_advance_base_low_load_X_engine_speed,
                      CAL_vvt_exhaust_advance_base_low_load_Y_load);
      _vvt_exhaust_adv_base = (ushort)vvt_exhaust_adv_lookup;
      if ((vvt_exhaust_mode_flags & 1) == 0) {
        vvt_exhaust_mode_flags = vvt_exhaust_mode_flags | 0b00000100;
        vvt_exhaust_transition_complete = false;
      }
      vvt_exhaust_mode_flags = vvt_exhaust_mode_flags & 0b11110101 | 1;
    }
    else {
      _vvt_exhaust_adv_base_lookup =
           lookup_3D_uint8_interpolated
                     (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_exhaust_advance_base,CAL_vvt_exhaust_advance_base_X_engine_speed,
                      CAL_vvt_exhaust_advance_base_Y_load);
      _vvt_exhaust_adv_base = (ushort)_vvt_exhaust_adv_base_lookup;
      if ((((vvt_exhaust_mode_flags & 2) == 0) && ((vehicle_mode_flags & 8) == 0)) &&
         ((CAL_vvt_exhaust_advance_base_low_load_Y_load[0] < load_mass_per_stroke &&
          (((load_mass_per_stroke < CAL_vvt_exhaust_advance_base_low_load_Y_load[5] &&
            (CAL_vvt_exhaust_advance_base_low_load_X_engine_speed[0] < engine_speed_3)) &&
           (engine_speed_3 < CAL_vvt_exhaust_advance_base_low_load_X_engine_speed[5])))))) {
        vvt_exhaust_mode_flags = vvt_exhaust_mode_flags | 8;
        vvt_exhaust_transition_complete = false;
      }
      if (((vehicle_mode_flags & 8) == 0) || (vvt_low_load_active == false)) {
        vvt_exhaust_mode_flags = vvt_exhaust_mode_flags & 0xfa | 2;
      }
      if (((vehicle_mode_flags & 8) != 0) && (vvt_low_load_active != false)) {
        vvt_exhaust_mode_flags = vvt_exhaust_mode_flags & 0xf5 | 1;
      }
    }
  }
  else {
    _vvt_exhaust_adv_base = (ushort)vvt_exhaust_fallback_angle_zero;
  }
  _vvt_start_time._7_1_ =
       lookup_2D_uint8_interpolated
                 ('\b',coolant_temp_engine_stopped,CAL_vvt_start_timer,
                  CAL_vvt_start_timer_X_coolant_temp);
  vvt_start_time = (ushort)(byte)_vvt_start_time * 20;
  obd_ii_vvt_inlet_angle_error_bank1 = vvt_inlet_target_bank1 - obd_ii_vvt_inlet_position_bank1;
  if (DAT_40001e79 == 0) {
    obd_ii_vvt_inlet_angle_error_bank1 = 0;
  }
  obd_ii_vvt_inlet_angle_error_bank2 = vvt_inlet_target_bank2 - obd_ii_vvt_inlet_angle_bank2;
  if (DAT_40001e7a == 0) {
    obd_ii_vvt_inlet_angle_error_bank2 = 0;
  }
  obd_ii_vvt_exhaust_error_bank1 =
       obd_ii_vvt_exhaust_target_bank1 + obd_ii_vvt_exhaust_position_bank1;
  if (DAT_40001e7b == 0) {
    obd_ii_vvt_exhaust_error_bank1 = 0;
  }
  obd_ii_vvt_exhaust_error_bank2 =
       obd_ii_vvt_exhaust_target_bank2 + obd_ii_vvt_exhaust_position_bank2;
  if (DAT_40001e7c == 0) {
    obd_ii_vvt_exhaust_error_bank2 = 0;
  }
  if (((engine_state_failure_flags & 0x20) == 0) &&
     (((vvt_bank_inhibit_flags & 1) == 0 || ((vvt_bank_inhibit_flags & 4) == 0)))) {
    _vvt_intake_advance_coolant_offset._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,coolant_temp,CAL_vvt_intake_advance_coolant_offset,
                    CAL_vvt_intake_advance_coolant_offset_X_temp);
    vvt_intake_adv_net = vvt_intake_adv - (byte)_vvt_intake_advance_coolant_offset;
    if (vvt_intake_adv_net < 0) {
      vvt_intake_adv_net = 0;
    }
    if (((vvt_bank_inhibit_flags & 1) == 0) &&
       (vvt_inlet_taget_calc_bank1 = vvt_intake_adv_net, 172 < vvt_intake_adv_net)) {
      vvt_inlet_taget_calc_bank1 = 172;
    }
    if (((vvt_bank_inhibit_flags & 4) == 0) &&
       (vvt_inlet_taget_calc_bank2 = vvt_intake_adv_net, 172 < vvt_intake_adv_net)) {
      vvt_inlet_taget_calc_bank2 = 172;
    }
    if ((vvt_intake_mode_flags & 1) != 0) {
      vvt_intake_base =
           lookup_3D_uint8_interpolated
                     (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_intake_advance_base,CAL_vvt_intake_advance_base_X_engine_speed,
                      CAL_vvt_intake_advance_base_Y_load);
      vvt_intake_net = (ushort)vvt_intake_base - (ushort)(byte)_vvt_intake_advance_coolant_offset;
      if (vvt_intake_net < 0) {
        vvt_intake_net = 0;
      }
    }
    if ((((DAT_400025eb == 1) && (DAT_400025e7 == 0)) && (vvt_start_time < runtime_since_start)) &&
       ((vvt_bank_inhibit_flags & 1) == 0)) {
      vvt_inlet_error_b1_scaled = (uint)(short)CAL_vvt_error_gain_startup;
      vvt_inlet_error_b1_scaled =
           (int)(short)obd_ii_vvt_inlet_angle_error_bank1 * vvt_inlet_error_b1_scaled;
      DAT_40002572 = (short)(vvt_inlet_error_b1_scaled >> 8) +
                     (ushort)((int)vvt_inlet_error_b1_scaled < 0 &&
                             (vvt_inlet_error_b1_scaled & 0xff) != 0);
      DAT_40002578 = (int)DAT_40002572 + (DAT_40002574 >> 8);
      if (vvt_inlet_b1_zero_timer == 0) {
        DAT_400025c4 = DAT_400025c4 | 1;
        DAT_40002578 = -400;
      }
      if ((vvt_inlet_target_bank1 != 0) && ((DAT_400025c4 & 1) != 0)) {
        DAT_400025c4 = DAT_400025c4 & 0xfe;
        DAT_40002574 = 0;
      }
      if (DAT_40002578 < 0x191) {
        if (DAT_40002578 < -400) {
          DAT_40002578 = -400;
        }
      }
      else {
        DAT_40002578 = 400;
      }
      DAT_400016d8 = (short)(DAT_40002578 >> 1) + 400;
    }
    else {
      if (DAT_400025eb == 0) {
        if (runtime_since_start < vvt_start_time) {
          if (DAT_400025d2 != 0) {
            DAT_400025d2 = 0;
            if ((short)u16_angle_1_4deg_400016c8 < (short)obd_ii_vvt_inlet_position_bank1) {
              u16_angle_1_4deg_400016c8 = obd_ii_vvt_inlet_position_bank1;
            }
            else if ((short)obd_ii_vvt_inlet_position_bank1 < (short)u16_angle_1_4deg_400016d0) {
              u16_angle_1_4deg_400016d0 = obd_ii_vvt_inlet_position_bank1;
            }
            u32_angle_1_4deg_400025a4 =
                 u32_angle_1_4deg_400025a4 + (int)(short)obd_ii_vvt_inlet_position_bank1;
            DAT_400025b4 = DAT_400025b4 + 1;
          }
        }
        else {
          if (DAT_400025b4 == 0) {
            DAT_400025e0 = 0;
          }
          else {
            DAT_400025e0 = (int)u32_angle_1_4deg_400025a4 / DAT_400025b4;
          }
          uVar3 = libc_abs((ulonglong)DAT_400025e0);
          DAT_400025e7 = (byte)((longlong)((int)(uVar3 ^ DAT_4000cb58) >> 1) -
                                ((uVar3 ^ DAT_4000cb58) & uVar3) >> 0x18) >> 7;
          DAT_400025eb = 1;
          DAT_400025d2 = DAT_4000ca3d;
        }
      }
      DAT_400016d8 = 1;
      DAT_40002572 = 0;
      DAT_40002574 = 0;
      DAT_40002578 = 0;
    }
    if (((DAT_400025ea == 1) && (DAT_400025e6 == 0)) &&
       ((vvt_start_time < runtime_since_start && ((vvt_bank_inhibit_flags & 4) == 0)))) {
      uVar2 = (int)(short)obd_ii_vvt_inlet_angle_error_bank2 *
              (int)(short)CAL_vvt_error_gain_startup;
      DAT_4000257c = (short)(uVar2 >> 8) + (ushort)((int)uVar2 < 0 && (uVar2 & 0xff) != 0);
      DAT_40002584 = (int)DAT_4000257c + (DAT_40002580 >> 8);
      if (vvt_inlet_b2_zero_timer == 0) {
        DAT_400025c4 = DAT_400025c4 | 2;
        DAT_40002584 = -400;
      }
      if ((vvt_inlet_target_bank2 != 0) && ((DAT_400025c4 & 2) != 0)) {
        DAT_400025c4 = DAT_400025c4 & 0xfd;
        DAT_40002580 = 0;
      }
      if (DAT_40002584 < 0x191) {
        if (DAT_40002584 < -400) {
          DAT_40002584 = -400;
        }
      }
      else {
        DAT_40002584 = 400;
      }
      DAT_400016da = (short)(DAT_40002584 >> 1) + 400;
    }
    else {
      if (DAT_400025ea == '\0') {
        if (runtime_since_start < vvt_start_time) {
          if (DAT_400025d1 != '\0') {
            DAT_400025d1 = '\0';
            if ((short)u16_angle_1_4deg_400016ca < (short)obd_ii_vvt_inlet_angle_bank2) {
              u16_angle_1_4deg_400016ca = obd_ii_vvt_inlet_angle_bank2;
            }
            else if ((short)obd_ii_vvt_inlet_angle_bank2 < (short)u16_angle_1_4deg_400016d2) {
              u16_angle_1_4deg_400016d2 = obd_ii_vvt_inlet_angle_bank2;
            }
            u32_angle_1_4deg_400025a8 =
                 u32_angle_1_4deg_400025a8 + (int)(short)obd_ii_vvt_inlet_angle_bank2;
            uint32_t_400025b8 = uint32_t_400025b8 + 1;
          }
        }
        else {
          if (uint32_t_400025b8 == 0) {
            u32_angle_1_4deg_400025dc = 0;
          }
          else {
            u32_angle_1_4deg_400025dc = (int)u32_angle_1_4deg_400025a8 / (int)uint32_t_400025b8;
          }
          uVar3 = libc_abs((ulonglong)u32_angle_1_4deg_400025dc);
          DAT_400025e6 = (byte)((longlong)((int)(uVar3 ^ DAT_4000cb58) >> 1) -
                                ((uVar3 ^ DAT_4000cb58) & uVar3) >> 0x18) >> 7;
          DAT_400025ea = '\x01';
          DAT_400025d1 = DAT_4000ca3d;
        }
      }
      DAT_400016da = 1;
      DAT_4000257c = 0;
      DAT_40002580 = 0;
      DAT_40002584 = 0;
    }
  }
  else {
    DAT_400016da = 1;
    DAT_400016d8 = 1;
    DAT_4000257c = 0;
    DAT_40002572 = 0;
    DAT_40002580 = 0;
    DAT_40002574 = 0;
    DAT_40002584 = 0;
    DAT_40002578 = 0;
  }
  if (((engine_state_failure_flags & 0x40) == 0) &&
     (((vvt_bank_inhibit_flags & 2) == 0 || ((vvt_bank_inhibit_flags & 8) == 0)))) {
    _vvt_exhaust_comp_temp._7_1_ =
         lookup_2D_uint8_interpolated
                   (16,coolant_temp,CAL_vvt_exhaust_comp_temp,
                    CAL_vvt_exhaust_comp_temp_X_coolant_temp);
    vvt_adv_net = _vvt_exhaust_adv_base - (byte)_vvt_exhaust_comp_temp;
    if (vvt_adv_net < 0) {
      vvt_adv_net = 0;
    }
    if (((vvt_bank_inhibit_flags & 2) == 0) &&
       (vvt_exhaust_taget_calc_bank1 = vvt_adv_net, 0x8c < vvt_adv_net)) {
      vvt_exhaust_taget_calc_bank1 = 0x8c;
    }
    if (((vvt_bank_inhibit_flags & 8) == 0) &&
       (vvt_exhaust_taget_calc_bank2 = vvt_adv_net, 0x8c < vvt_adv_net)) {
      vvt_exhaust_taget_calc_bank2 = 0x8c;
    }
    if ((vvt_exhaust_mode_flags & 1) != 0) {
      vvt_adv_exhaust_base =
           lookup_3D_uint8_interpolated
                     (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                      CAL_vvt_exhaust_advance_base,CAL_vvt_exhaust_advance_base_X_engine_speed,
                      CAL_vvt_exhaust_advance_base_Y_load);
      vvt_exhaust_net2___ = (ushort)vvt_adv_exhaust_base - (ushort)(byte)_vvt_exhaust_comp_temp;
      if (vvt_exhaust_net2___ < 0) {
        vvt_exhaust_net2___ = 0;
      }
    }
    if ((((DAT_400025e9 == '\x01') && (DAT_400025e5 == 0)) && (vvt_start_time < runtime_since_start)
        ) && ((vvt_bank_inhibit_flags & 2) == 0)) {
      uVar2 = (int)(short)obd_ii_vvt_exhaust_error_bank1 * (int)(short)CAL_vvt_error_gain_startup;
      DAT_40002588 = (short)(uVar2 >> 8) + (ushort)((int)uVar2 < 0 && (uVar2 & 0xff) != 0);
      DAT_40002590 = (int)DAT_40002588 + (DAT_4000258c >> 8);
      if ((vvt_exhaust_b1_zero_timer == '\0') && (DAT_400025ca == '\0')) {
        DAT_400025c4 = DAT_400025c4 | 4;
        DAT_40002590 = -400;
        if ((short)(ushort)CAL_vvt_exhaust_min_position_unknown <
            (short)obd_ii_vvt_exhaust_position_bank1) {
          DAT_400025ca = '\x01';
        }
      }
      if ((obd_ii_vvt_exhaust_target_bank1 != 0) && ((DAT_400025c4 & 4) != 0)) {
        DAT_400025c4 = DAT_400025c4 & 0xfb;
        DAT_4000258c = 0;
      }
      if (DAT_40002590 < 0x191) {
        if (DAT_40002590 < -400) {
          DAT_40002590 = -400;
        }
      }
      else {
        DAT_40002590 = 400;
      }
      DAT_400016dc = (short)(DAT_40002590 >> 1) + 400;
    }
    else {
      if (DAT_400025e9 == '\0') {
        if (runtime_since_start < vvt_start_time) {
          if (DAT_400025d0 != '\0') {
            DAT_400025d0 = '\0';
            if ((short)u16_angle_1_4deg_400016cc < (short)obd_ii_vvt_exhaust_position_bank1) {
              u16_angle_1_4deg_400016cc = obd_ii_vvt_exhaust_position_bank1;
            }
            else if ((short)obd_ii_vvt_exhaust_position_bank1 < (short)u16_angle_1_4deg_400016d4) {
              u16_angle_1_4deg_400016d4 = obd_ii_vvt_exhaust_position_bank1;
            }
            u32_angle_1_4deg_400025ac =
                 u32_angle_1_4deg_400025ac + (int)(short)obd_ii_vvt_exhaust_position_bank1;
            DAT_400025bc = DAT_400025bc + 1;
          }
        }
        else {
          if (DAT_400025bc == 0) {
            DAT_400025d8 = 0;
          }
          else {
            DAT_400025d8 = (int)u32_angle_1_4deg_400025ac / DAT_400025bc;
          }
          uVar3 = libc_abs((ulonglong)DAT_400025d8);
          DAT_400025e5 = (byte)((longlong)((int)(uVar3 ^ DAT_4000cb58) >> 1) -
                                ((uVar3 ^ DAT_4000cb58) & uVar3) >> 0x18) >> 7;
          DAT_400025e9 = '\x01';
          DAT_400025d0 = DAT_4000ca3d;
        }
      }
      DAT_400016dc = 1;
      DAT_40002588 = 0;
      DAT_4000258c = 0;
      DAT_40002590 = 0;
    }
    if ((((DAT_400025e8 == 1) && (DAT_400025e4 == 0)) && (vvt_start_time < runtime_since_start)) &&
       ((vvt_bank_inhibit_flags & 8) == 0)) {
      uVar2 = (int)(short)obd_ii_vvt_exhaust_error_bank2 * (int)(short)CAL_vvt_error_gain_startup;
      DAT_40002594 = (short)(uVar2 >> 8) + (ushort)((int)uVar2 < 0 && (uVar2 & 0xff) != 0);
      DAT_4000259c = (int)DAT_40002594 + (DAT_40002598 >> 8);
      if ((vvt_exhaust_b2_zero_timer == '\0') && (DAT_400025cb == '\0')) {
        DAT_400025c4 = DAT_400025c4 | 8;
        DAT_4000259c = -400;
        if ((short)(ushort)CAL_vvt_exhaust_min_position_unknown <
            (short)obd_ii_vvt_exhaust_position_bank2) {
          DAT_400025cb = 1;
        }
      }
      if ((obd_ii_vvt_exhaust_target_bank2 != 0) && ((DAT_400025c4 & 8) != 0)) {
        DAT_400025c4 = DAT_400025c4 & 0xf7;
        DAT_40002598 = 0;
      }
      if (DAT_4000259c < 0x191) {
        if (DAT_4000259c < -400) {
          DAT_4000259c = -400;
        }
      }
      else {
        DAT_4000259c = 400;
      }
      DAT_400016de = (short)(DAT_4000259c >> 1) + 400;
    }
    else {
      if (DAT_400025e8 == 0) {
        if (runtime_since_start < vvt_start_time) {
          if (DAT_400025cf != 0) {
            DAT_400025cf = 0;
            if ((short)DAT_400016ce < (short)obd_ii_vvt_exhaust_position_bank2) {
              DAT_400016ce = obd_ii_vvt_exhaust_position_bank2;
            }
            else if ((short)obd_ii_vvt_exhaust_position_bank2 < (short)DAT_400016d6) {
              DAT_400016d6 = obd_ii_vvt_exhaust_position_bank2;
            }
            u32_angle_1_4deg_400025b0 =
                 u32_angle_1_4deg_400025b0 + (int)(short)obd_ii_vvt_exhaust_position_bank2;
            DAT_400025c0 = DAT_400025c0 + 1;
          }
        }
        else {
          if (DAT_400025c0 == 0) {
            DAT_400025d4 = 0;
          }
          else {
            DAT_400025d4 = (int)u32_angle_1_4deg_400025b0 / DAT_400025c0;
          }
          uVar3 = libc_abs((ulonglong)DAT_400025d4);
          DAT_400025e4 = (byte)((longlong)((int)(uVar3 ^ DAT_4000cb58) >> 1) -
                                ((uVar3 ^ DAT_4000cb58) & uVar3) >> 0x18) >> 7;
          DAT_400025e8 = 1;
          DAT_400025cf = DAT_4000ca3d;
        }
      }
      DAT_400016de = 1;
      DAT_40002594 = 0;
      DAT_40002598 = 0;
      DAT_4000259c = 0;
    }
  }
  else {
    DAT_400016de = 1;
    DAT_400016dc = 1;
    DAT_40002594 = 0;
    DAT_40002588 = 0;
    DAT_40002598 = 0;
    DAT_4000258c = 0;
    DAT_4000259c = 0;
    DAT_40002590 = 0;
  }
  if ((((((vvt_exhaust_mode_flags & 1) == 0) || ((vvt_intake_mode_flags & 1) == 0)) ||
       ((engine_state_failure_flags & 0x40) != 0)) || ((engine_state_failure_flags & 0x20) != 0)) ||
     ((((vvt_bank_inhibit_flags & 1) != 0 || ((vvt_bank_inhibit_flags & 2) != 0)) &&
      (((vvt_bank_inhibit_flags & 4) != 0 || ((vvt_bank_inhibit_flags & 8) != 0)))))) {
    DAT_400025cc = 0;
  }
  else {
    if (((vvt_bank_inhibit_flags & 1) == 0) && ((vvt_bank_inhibit_flags & 2) == 0)) {
      sVar1 = (short)((ulonglong)
                      (((longlong)(short)obd_ii_vvt_exhaust_target_bank1 +
                       (longlong)(short)vvt_inlet_target_bank1) -
                       ((longlong)vvt_exhaust_net2___ + (longlong)vvt_intake_net) << 0x20) >> 0x21);
    }
    else {
      sVar1 = (short)((ulonglong)
                      (((longlong)(short)obd_ii_vvt_exhaust_target_bank2 +
                       (longlong)(short)vvt_inlet_target_bank2) -
                       ((longlong)vvt_exhaust_net2___ + (longlong)vvt_intake_net) << 0x20) >> 0x21);
    }
    if (sVar1 < 0x100) {
      if (sVar1 < 0) {
        DAT_400025cc = 0;
      }
      else {
        DAT_400025cc = (undefined1)sVar1;
      }
    }
    else {
      DAT_400025cc = 0xff;
    }
  }
  if (((obd_ii_mode2f_flags_enabled & 0x1000) == 0) || ((obd_ii_mode2f_flags_state & 0x1000) == 0))
  {
    uVar4 = (uint)DAT_400016d8 * 10 & 0xffff;
    uVar6 = (uint)DAT_400016dc * 10 & 0xffff;
    uVar2 = (uint)DAT_40008804 * (uint)DAT_400016da >> 10 & 0xffff;
    uVar5 = (uint)DAT_40008804 * (uint)DAT_400016de >> 10 & 0xffff;
  }
  else {
    uVar4 = (int)((uint)DAT_4000238e * 10000) >> 8;
    uVar2 = (uint)DAT_40008804 * (uint)DAT_4000238e >> 8;
    uVar6 = uVar4;
    uVar5 = uVar2;
  }
  vvt_inlet_update_b1(uVar4);
  vvt_inlet_update_b2(uVar2);
  vvt_exhaust_update_b1(uVar6);
  vvt_exhaust_update_b2(uVar5);
  return;
}



void vvt_200hz(void)

{
                    // vvt tagets are incrementally moved towards calculated target. In the startup
                    // case, they are set to the calc target immediately.
  if (vvt_start_time < runtime_since_start) {
    vvt_timer_20hz_unknown1 = vvt_timer_20hz_unknown1 + 1;
    if (vvt_intake_transition_complete) {
      vvt_inlet_target_bank1 = vvt_inlet_taget_calc_bank1;
      vvt_inlet_target_bank2 = vvt_inlet_taget_calc_bank2;
    }
    if (vvt_exhaust_transition_complete) {
      obd_ii_vvt_exhaust_target_bank1 = vvt_exhaust_taget_calc_bank1;
      obd_ii_vvt_exhaust_target_bank2 = vvt_exhaust_taget_calc_bank2;
    }
    if (vvt_timer_20hz_unknown1 == 10) {
      vvt_timer_20hz_unknown1 = 0;
      if ((((engine_state_failure_flags & 0b00100000) == 0) && ((vvt_bank_inhibit_flags & 1) == 0))
         || ((vvt_bank_inhibit_flags & 0b00000100) == 0)) {
        if ((vvt_bank_inhibit_flags & 1) == 0) {
          if (!vvt_intake_transition_complete) {
            if ((short)vvt_inlet_target_bank1 < (short)vvt_inlet_taget_calc_bank1) {
              vvt_inlet_target_bank1 = vvt_inlet_target_bank1 + 1;
            }
            else if ((short)vvt_inlet_taget_calc_bank1 < (short)vvt_inlet_target_bank1) {
              vvt_inlet_target_bank1 = vvt_inlet_target_bank1 - 1;
            }
          }
          DAT_40002574 = DAT_40002574 +
                         (int)(short)obd_ii_vvt_inlet_angle_error_bank1 * (int)DAT_40008814;
          if ((int)DAT_40002574 < 0x19001) {
            if ((int)DAT_40002574 < -0x19000) {
              DAT_40002574 = &DAT_fffe7000;
            }
          }
          else {
            DAT_40002574 = &DAT_00019000;
          }
        }
        else {
          vvt_inlet_taget_calc_bank1 = 0;
          vvt_inlet_target_bank1 = 0;
        }
        if ((vvt_bank_inhibit_flags & 0b00000100) == 0) {
          if (!vvt_intake_transition_complete) {
            if ((short)vvt_inlet_target_bank2 < (short)vvt_inlet_taget_calc_bank2) {
              vvt_inlet_target_bank2 = vvt_inlet_target_bank2 + 1;
            }
            else if ((short)vvt_inlet_taget_calc_bank2 < (short)vvt_inlet_target_bank2) {
              vvt_inlet_target_bank2 = vvt_inlet_target_bank2 - 1;
            }
          }
          DAT_40002580 = DAT_40002580 +
                         (int)(short)obd_ii_vvt_inlet_angle_error_bank2 * (int)DAT_40008814;
          if ((int)DAT_40002580 < 0x19001) {
            if ((int)DAT_40002580 < -0x19000) {
              DAT_40002580 = &DAT_fffe7000;
            }
          }
          else {
            DAT_40002580 = &DAT_00019000;
          }
        }
        else {
          vvt_inlet_taget_calc_bank2 = 0;
          vvt_inlet_target_bank2 = 0;
        }
        if ((vvt_inlet_target_bank1 == vvt_inlet_taget_calc_bank1) &&
           (vvt_inlet_target_bank2 == vvt_inlet_taget_calc_bank2)) {
          vvt_intake_transition_complete = true;
          if ((vvt_intake_mode_flags & 1) == 0) {
            vvt_intake_mode_flags = vvt_intake_mode_flags & 0b11110111;
          }
          else {
            vvt_intake_mode_flags = vvt_intake_mode_flags & 0b11111011;
          }
        }
      }
      else {
        vvt_intake_transition_complete = false;
        vvt_inlet_taget_calc_bank1 = 0;
        vvt_inlet_target_bank1 = 0;
        vvt_inlet_taget_calc_bank2 = 0;
        vvt_inlet_target_bank2 = 0;
      }
      if (((engine_state_failure_flags & 0x40) == 0) &&
         (((vvt_bank_inhibit_flags & 2) == 0 || ((vvt_bank_inhibit_flags & 8) == 0)))) {
        if ((vvt_bank_inhibit_flags & 2) == 0) {
          if (!vvt_exhaust_transition_complete) {
            if ((short)obd_ii_vvt_exhaust_target_bank1 < (short)vvt_exhaust_taget_calc_bank1) {
              obd_ii_vvt_exhaust_target_bank1 = obd_ii_vvt_exhaust_target_bank1 + 1;
            }
            else if ((short)vvt_exhaust_taget_calc_bank1 < (short)obd_ii_vvt_exhaust_target_bank1) {
              obd_ii_vvt_exhaust_target_bank1 = obd_ii_vvt_exhaust_target_bank1 - 1;
            }
          }
          DAT_4000258c = DAT_4000258c +
                         (int)(short)obd_ii_vvt_exhaust_error_bank1 * (int)DAT_40008814;
          if ((int)DAT_4000258c < 0x19001) {
            if ((int)DAT_4000258c < -0x19000) {
              DAT_4000258c = &DAT_fffe7000;
            }
          }
          else {
            DAT_4000258c = &DAT_00019000;
          }
        }
        else {
          vvt_exhaust_taget_calc_bank1 = 0;
          obd_ii_vvt_exhaust_target_bank1 = 0;
        }
        if ((vvt_bank_inhibit_flags & 0b00001000) == 0) {
          if (!vvt_exhaust_transition_complete) {
            if ((short)obd_ii_vvt_exhaust_target_bank2 < (short)vvt_exhaust_taget_calc_bank2) {
              obd_ii_vvt_exhaust_target_bank2 = obd_ii_vvt_exhaust_target_bank2 + 1;
            }
            else if ((short)vvt_exhaust_taget_calc_bank2 < (short)obd_ii_vvt_exhaust_target_bank2) {
              obd_ii_vvt_exhaust_target_bank2 = obd_ii_vvt_exhaust_target_bank2 - 1;
            }
          }
          DAT_40002598 = DAT_40002598 +
                         (int)(short)obd_ii_vvt_exhaust_error_bank2 * (int)DAT_40008814;
          if ((int)DAT_40002598 < 0x19001) {
            if ((int)DAT_40002598 < -0x19000) {
              DAT_40002598 = &DAT_fffe7000;
            }
          }
          else {
            DAT_40002598 = &DAT_00019000;
          }
        }
        else {
          vvt_exhaust_taget_calc_bank2 = 0;
          obd_ii_vvt_exhaust_target_bank2 = 0;
        }
        if ((obd_ii_vvt_exhaust_target_bank1 == vvt_exhaust_taget_calc_bank1) &&
           (obd_ii_vvt_exhaust_target_bank1 == vvt_exhaust_taget_calc_bank1)) {
          vvt_exhaust_transition_complete = true;
          if ((vvt_exhaust_mode_flags & 1) == 0) {
            vvt_exhaust_mode_flags = vvt_exhaust_mode_flags & 0b11110111;
          }
          else {
            vvt_exhaust_mode_flags = vvt_exhaust_mode_flags & 0b11111011;
          }
        }
      }
      else {
        vvt_exhaust_transition_complete = false;
        vvt_exhaust_taget_calc_bank1 = 0;
        obd_ii_vvt_exhaust_target_bank1 = 0;
        vvt_exhaust_taget_calc_bank2 = 0;
        obd_ii_vvt_exhaust_target_bank2 = 0;
      }
    }
  }
  else {
    vvt_exhaust_transition_complete = false;
    vvt_intake_transition_complete = false;
  }
  return;
}



void vvt_update_zero_timers_100ms(void)

{
  if (vvt_inlet_target_bank1 == 0) {
    if (vvt_inlet_b1_zero_timer != 0) {
      vvt_inlet_b1_zero_timer = vvt_inlet_b1_zero_timer + 0xff;
    }
  }
  else {
    vvt_inlet_b1_zero_timer = CAL_vvt_zero_target_timeout;
  }
  if (vvt_inlet_target_bank2 == 0) {
    if (vvt_inlet_b2_zero_timer != 0) {
      vvt_inlet_b2_zero_timer = vvt_inlet_b2_zero_timer + 0xff;
    }
  }
  else {
    vvt_inlet_b2_zero_timer = CAL_vvt_zero_target_timeout;
  }
  if (obd_ii_vvt_exhaust_target_bank1 == 0) {
    if (vvt_exhaust_b1_zero_timer != 0) {
      vvt_exhaust_b1_zero_timer = vvt_exhaust_b1_zero_timer + 0xff;
    }
  }
  else {
    vvt_exhaust_b1_zero_timer = CAL_vvt_zero_target_timeout;
  }
  if (obd_ii_vvt_exhaust_target_bank2 == 0) {
    if (vvt_exhaust_b2_zero_timer != 0) {
      vvt_exhaust_b2_zero_timer = vvt_exhaust_b2_zero_timer + 0xff;
    }
  }
  else {
    vvt_exhaust_b2_zero_timer = CAL_vvt_zero_target_timeout;
  }
  return;
}



void vvt_inlet_update_b1(uint param_1)

{
  eTPU_calculate_and_set_channel_value('\x1c',(uint16_t)param_1);
  return;
}



void vvt_exhaust_update_b1(uint param_1)

{
  eTPU_calculate_and_set_channel_value(15,(uint16_t)param_1);
  return;
}



void vvt_inlet_update_b2(uint param_1)

{
  uint uVar1;
  undefined4 uVar2;
  
  WriteExternalEnableImmediate(0);
  uVar1 = emios_uc[2].uc._36_4_;
  if (param_1 < uVar1) {
    if (param_1 < 3) {
      uVar2 = emios_uc[2].uc._36_4_;
      emios_uc[2].uc._32_4_ = uVar2;
      uVar1 = emios_uc[2].uc._44_4_;
      emios_uc[2].uc._44_4_ = uVar1 & 0xffffdfff | 0x2000;
    }
    else {
      uVar1 = emios_uc[2].uc._40_4_;
      if (uVar1 < param_1 + 2) {
        emios_uc[2].uc._32_4_ = param_1;
      }
      else {
        emios_uc[2].uc._32_4_ = param_1;
        uVar1 = emios_uc[2].uc._44_4_;
        emios_uc[2].uc._44_4_ = uVar1 & 0xffffdfff | 0x2000;
      }
    }
  }
  else {
    emios_uc[2].uc._32_4_ = 0;
    uVar1 = emios_uc[2].uc._44_4_;
    emios_uc[2].uc._44_4_ = uVar1 & 0xffffefff | 0x1000;
  }
  return;
}



void vvt_exhaust_update_b2(uint param_1)

{
  uint uVar1;
  undefined4 uVar2;
  
  WriteExternalEnableImmediate(0);
  uVar1 = emios_uc[2].uc._68_4_;
  if (param_1 < uVar1) {
    if (param_1 < 3) {
      uVar2 = emios_uc[2].uc._68_4_;
      emios_uc[2].uc._64_4_ = uVar2;
      uVar1 = emios_uc[2].uc._76_4_;
      emios_uc[2].uc._76_4_ = uVar1 & 0xffffdfff | 0x2000;
    }
    else {
      uVar1 = emios_uc[2].uc._72_4_;
      if (uVar1 < param_1 + 2) {
        emios_uc[2].uc._64_4_ = param_1;
      }
      else {
        emios_uc[2].uc._64_4_ = param_1;
        uVar1 = emios_uc[2].uc._76_4_;
        emios_uc[2].uc._76_4_ = uVar1 & 0xffffdfff | 0x2000;
      }
    }
  }
  else {
    emios_uc[2].uc._64_4_ = 0;
    uVar1 = emios_uc[2].uc._76_4_;
    emios_uc[2].uc._76_4_ = uVar1 & 0xffffefff | 0x1000;
  }
  return;
}



void FUN_000af03c(uint param_1)

{
  uint uVar1;
  undefined4 uVar2;
  
  WriteExternalEnableImmediate(0);
  uVar1 = emios_uc[0].uc._196_4_;
  if (param_1 < uVar1) {
    if (param_1 < 3) {
      uVar2 = emios_uc[0].uc._196_4_;
      emios_uc[0].uc._192_4_ = uVar2;
      uVar1 = emios_uc[0].uc._204_4_;
      emios_uc[0].uc._204_4_ = uVar1 & 0xffffdfff | 0x2000;
    }
    else {
      uVar1 = emios_uc[0].uc._200_4_;
      if (uVar1 < param_1 + 2) {
        emios_uc[0].uc._192_4_ = param_1;
      }
      else {
        emios_uc[0].uc._192_4_ = param_1;
        uVar1 = emios_uc[0].uc._204_4_;
        emios_uc[0].uc._204_4_ = uVar1 & 0xffffdfff | 0x2000;
      }
    }
  }
  else {
    emios_uc[0].uc._192_4_ = 0;
    uVar1 = emios_uc[0].uc._204_4_;
    emios_uc[0].uc._204_4_ = uVar1 & 0xffffefff | 0x1000;
  }
  return;
}



void FUN_000af0ec(void)

{
  init_eMIOS(6,(byte *)(uint)DAT_40008744,0,0);
  siu_pcr[0xb9] = 0xecc;
  siu_pcr[0xcc] = 0x2cc;
  siu_pcr[0xbb] = 0x2cc;
  DAT_40002654 = DAT_400087e0;
  adc_smooth_state_init_tps();
  return;
}



void adc_smooth_state_init_tps(void)

{
  adc_smooth_state_init
            (&tps_smooth_filter_state,0x15cd,0x4ae5,0x4ae5,0x4013,0x38d4,0x4335,0x728f,0x4335);
  adc_smooth_state_init
            (&tps_unknown_history,0x15cd,0x4ae5,0x4ae5,0x4013,0x38d4,0x4335,0x728f,0x4335);
  adc_smooth_state_init
            (&struct_adc_smoothing_state_40006380,0x15cd,0x4ae5,0x4ae5,0x4013,0x38d4,0x4335,0x728f,
             0x4335);
  return;
}



void tps_limit_update_warmup(void)

{
  ushort uVar1;
  
  if (((engine_state_failure_flags & 0x400000) == 0) &&
     (((coolant_temp <= DAT_4000886f || (temp_engine_air <= DAT_40008749)) ||
      (engine_speed_3 <= DAT_40008704)))) {
    uVar1 = DAT_40002654;
    if ((coolant_temp < DAT_40008870) &&
       (uVar1 = DAT_400087e0,
       (int)((int)(short)DAT_40002654 + (uint)DAT_40008871) < (int)(short)DAT_400087e0)) {
      uVar1 = DAT_40002654 + DAT_40008871;
    }
  }
  else if ((int)(uint)DAT_40008872 < (int)((int)(short)DAT_40002654 - (uint)DAT_40008871)) {
    uVar1 = DAT_40002654 - DAT_40008871;
  }
  else {
    DAT_40002654 = DAT_40008872;
    uVar1 = DAT_40002654;
  }
  DAT_40002654 = uVar1;
  return;
}



void FUN_000af3a0(void)

{
  FUN_000af03c(0);
  siu_gpdo[0xbb] = 1;
  siu_gpdo[0xcc] = 0;
  return;
}



undefined8 tps_init_and_stability_capture(uint16_t tps_abs_smoothed,undefined2 param_2,bool param_3)

{
  int iVar1;
  longlong lVar2;
  int iVar3;
  byte i;
  undefined8 uVar4;
  
  uVar4 = 0;
  DAT_40002668 = &DAT_400040ec;
  if (param_3) {
    DAT_4000265c = 0xaa0;
    DAT_40002660 = 0;
    DAT_40002662 = 0;
    DAT_40002652 = 0;
    DAT_40002656 = 0;
    DAT_40002664 = 0;
    for (i = 0; i < 0x20; i = i + 1) {
      (&DAT_40006340)[i] = 0;
    }
  }
  if ((short)tps_abs_smoothed + -0x28 < 0x2a8) {
    iVar1 = DAT_4000265c >> 2;
    iVar3 = DAT_4000265c + -0xc;
    DAT_4000265c = 0x780;
    if (0x1e0 < iVar1) {
      DAT_4000265c = iVar3;
    }
  }
  throttle_command_actuator((short)(DAT_4000265c >> 2),tps_abs_smoothed,tps_abs_smoothed,param_3);
  DAT_40002662 = DAT_40002662 + 1;
  if (DAT_40002662 < 1000) {
    if ((ushort)(tps_abs_smoothed - 0x1ff) < 0x6c) {
      for (i = 15; i != 0; i = i - 1) {
        (&DAT_40006320)[i] = (&DAT_40006320)[i - 1];
      }
      DAT_40006320 = tps_abs_smoothed;
      lVar2 = libc_abs((ulonglong)DAT_4000633e - (ulonglong)tps_abs_smoothed);
      if ((int)lVar2 < 9) {
        DAT_40002652 = DAT_40002652 + 1;
        if (0x31 < DAT_40002652) {
          uVar4 = 1;
          DAT_400026ac = param_2;
          DAT_400026ae = tps_abs_smoothed;
        }
      }
      else {
        DAT_40002652 = 0;
      }
    }
    else {
      DAT_40002652 = 0;
    }
  }
  else if (DAT_40002658 < 2) {
    uVar4 = 3;
  }
  else {
    uVar4 = 2;
  }
  (&DAT_40006340)[DAT_40002664] = tps_abs_smoothed;
  i = 0;
  if ((byte)(DAT_40002664 + 1) < 0x20) {
    i = DAT_40002664 + 1;
  }
  DAT_40002664 = i;
  DAT_40002656 = (ushort)i;
  DAT_40002660 = tps_abs_smoothed;
  return uVar4;
}



byte FUN_000af628(ushort param_1,ushort param_2)

{
  byte bVar1;
  int iVar2;
  
  bVar1 = 0x6b < (ushort)(param_1 - 0x1ff);
  DAT_40004a3c = param_1;
  if ((bool)bVar1) {
    DAT_40004a3c = 0x23c;
  }
  DAT_40004a3e = param_2;
  if (0xc5 < (ushort)(param_2 - 0x6d0)) {
    DAT_40004a3e = 0x725;
    bVar1 = bVar1 | 2;
  }
  iVar2 = (uint)DAT_40004a3c * 0xfff +
          (uint)DAT_40008752 * ((uint)DAT_4000873e - (uint)DAT_40004a3c);
  DAT_40002632 = ((short)(iVar2 / 0xfff) + (short)(iVar2 >> 0x1f)) -
                 (short)((longlong)iVar2 * 0x80080081 >> 0x3f);
  iVar2 = (uint)DAT_40004a3c * 0xfff +
          (uint)DAT_40008754 * ((uint)DAT_4000873e - (uint)DAT_40004a3c);
  DAT_40002636 = ((short)(iVar2 / 0xfff) + (short)(iVar2 >> 0x1f)) -
                 (short)((longlong)iVar2 * 0x80080081 >> 0x3f);
  iVar2 = (uint)DAT_40004a3e * 0xfff +
          (uint)DAT_40008756 * ((uint)DAT_40008742 - (uint)DAT_40004a3e);
  DAT_40002634 = ((short)(iVar2 / 0xfff) + (short)(iVar2 >> 0x1f)) -
                 (short)((longlong)iVar2 * 0x80080081 >> 0x3f);
  iVar2 = (uint)DAT_40004a3e * 0xfff +
          (uint)DAT_40008758 * ((uint)DAT_40008742 - (uint)DAT_40004a3e);
  DAT_40002638 = ((short)(iVar2 / 0xfff) + (short)(iVar2 >> 0x1f)) -
                 (short)((longlong)iVar2 * 0x80080081 >> 0x3f);
  DAT_4000263a = (short)(0x3ffff / (int)((uint)DAT_40002636 - (uint)DAT_40002632));
  DAT_4000263c = (short)(0x3ffff / (int)((uint)DAT_40002638 - (uint)DAT_40002634));
  DAT_4000263e = (short)(0x3ffff / (int)(DAT_4000873e - 0x235));
  DAT_40002640 = (short)(0x3ffff / (int)(DAT_40008742 - 0x732));
  return bVar1;
}



// WARNING: Unable to use type for symbol _tps_torque_limit
// WARNING: Unable to use type for symbol bVar2

void throttle_and_torque_control(void)

{
  bool bVar1;
  byte bVar3;
  int iVar4;
  u16_factor_1_1023 _tps_request_plus_idle;
  char cVar5;
  uint8_t uVar6;
  bool _tps_sensor_track_d_preferred;
  u8_torque_2nm torque_limit_engine_speed_ips;
  u8_torque_2nm torque_limit_engine_speed_manual;
  u8_torque_2nm torque_limit_coolant_temp;
  u16_factor_1_1023 _tps_unknown5;
  longlong tps_diff;
  u8_factor_1_255 _tpssmooth_decrement;
  u8_factor_1_255 _tps_smooth_decrement2;
  u8_factor_1_255 _tpssmooth_increment__a;
  ulonglong _tpssmooth_increment__tour;
  u8_factor_1_255 _tpssmooth_increment2;
  u8_gear current_gear;
  enum_tps_smooth_step_flag tps_smoothing_step_flags_new;
  u16_factor_1_4095 _tps_commanded;
  u16_factor_1_1023 _tps_commanded_after_limits;
  uint tpssmooth_decrement_adj_by_gear;
  u16_factor_1_1023 _tps_request_idle;
  u16_factor_1_1023 _tps_request_driver2;
  u16_factor_1_1023 _tps_revlimit_max;
  u16_factor_1_4095 _tps_torque_limit;
  bool _tps_torque_limit_applied;
  byte bVar2;
  byte _tps_diff;
  u16_factor_1_4095 _tps_target;
  bool torque_reduction_applied___;
  
  _tps_torque_limit = torque_limit_tps___;
  tps_smoothing_step_flags_new = tps_smoothing_step_flags;
  _tps_target = obd_ii_commanded_throttle_actuator;
  _tps_request_idle = idle_tps_requested;
  _tps_request_driver2 = tps_requested2 << 2;
  _tps_revlimit_max = revlimit_tps_max << 2;
  torque_reduction_applied___ = false;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    paddle_shift_input();
  }
                    // CAL_revlimit_torque_clamp is always true
  if (((((revlimit_state_flags & 1) == 0) || ((revlimit_state_flags & 0b00001000) == 0)) ||
      ((short)_tps_request_driver2 <= (short)_tps_revlimit_max)) ||
     (CAL_revlimit_torque_clamp != true)) {
    revlimit_torque_cap_active = false;
  }
  else {
    revlimit_torque_cap_active = true;
    _tps_request_driver2 = _tps_revlimit_max;
  }
  _tps_request_plus_idle = _tps_request_driver2 + _tps_request_idle;
  _tps_commanded = _tps_request_plus_idle;
  if (_tps_torque_limit < 4096) {
    if ((trqlimit_external_request_flags___ & 0b00010000) == 0) {
      if (((trqlimit_external_request_flags___ & 0b00011111) == 0) ||
         ((int)(short)_tps_request_plus_idle <= (int)(uint)_tps_torque_limit)) {
        _tps_commanded = _tps_request_plus_idle;
        if (((trqlimit_external_request_flags___ & 0b00000010) != 0) &&
           ((int)(short)_tps_request_plus_idle < (int)(uint)_tps_torque_limit)) {
          _tps_commanded = _tps_torque_limit;
          if (1024 < _tps_torque_limit) {
            _tps_commanded = 1024;
          }
          torque_reduction_applied___ = true;
        }
      }
      else {
        torque_reduction_applied___ = true;
        _tps_commanded = _tps_torque_limit;
      }
    }
    else {
      if (0xfff < _tps_torque_limit) {
        _tps_torque_limit = 0xfff;
      }
      torque_reduction_applied___ = true;
      _tps_commanded = _tps_torque_limit;
    }
  }
  cVar5 = get_accel_pedal_diag_state();
  uVar6 = get_tps_system_state();
  if ((DAT_40002901 != 0) || (uVar6 == 2)) {
    _tps_commanded = (ushort)throttle_actuator_commanded << 4;
  }
  _tps_sensor_track_d_preferred = get_tps_sensor_track_d_preferred();
  if (((((!_tps_sensor_track_d_preferred) || (cVar5 == 1)) || (cVar5 == 2)) ||
      (((DAT_400029a2 != '\0' || (uVar6 == '\x01')) ||
       ((engine_state_failure_flags & 0x2000000) != 0)))) &&
     ((short)DAT_40008856 < (short)_tps_commanded)) {
    _tps_commanded = DAT_40008856;
  }
  cVar5 = DAT_40008869;
  if ((trqlimit_failure_condition_count___ != 0) &&
     (cVar5 = DAT_40008867, trqlimit_failure_condition_count___ == 1)) {
    cVar5 = DAT_40008868;
  }
  if ((misfire_condition_flags & 0x800) == 0) {
    if (((misfire_condition_flags & 0x60) != 0) &&
       ((int)((uint)DAT_40008859 << 4) < (int)(short)_tps_commanded)) {
      _tps_commanded = (ushort)DAT_40008859 << 4;
    }
  }
  else if ((int)cVar5 << 4 < (int)(short)_tps_commanded) {
    _tps_commanded = (short)cVar5 << 4;
  }
  if (DAT_400016e0 == 0) {
    DAT_400016e0 = 100;
    tps_limit_update_warmup();
  }
  else {
    DAT_400016e0 = DAT_400016e0 + -1;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    torque_limit_engine_speed_ips =
         lookup_2D_uint8_interpolated
                   ('\b',engine_speed_3,CAL_torque_limit_by_engine_speed_ips,
                    CAL_torque_limit_by_engine_speed_ips_X_engine_speed);
  }
  else {
    torque_limit_engine_speed_manual =
         lookup_2D_uint8_interpolated
                   ('\b',engine_speed_3,CAL_torque_limit_by_engine_speed_manual,
                    CAL_torque_limit_by_engine_speed_manual_X_engine_speed);
    torque_limit_engine_speed_ips = torque_limit_engine_speed_manual;
  }
  torque_limit_engine_speed = (ushort)torque_limit_engine_speed_ips << 1;
  torque_limit_coolant_temp =
       lookup_2D_uint8_interpolated
                 ('\x04',coolant_temp,CAL_torque_limit_by_coolant,
                  CAL_torque_limit_by_coolant_X_coolant);
  torque_limit_temp = (ushort)torque_limit_coolant_temp << 1;
  torque_limit = torque_limit_temp;
  if (torque_limit_engine_speed < torque_limit_temp) {
    torque_limit = torque_limit_engine_speed;
  }
  tps_requested_3 = _tps_commanded;
  if ((_tps_commanded == _tps_request_plus_idle) &&
     (tps_requested_3 = tps_driver_requested3___ * 4 + _tps_request_idle,
     0xfff < (short)tps_requested_3)) {
    tps_requested_3 = 0xfff;
  }
  if (((short)(ushort)DAT_4000ccb6 < (short)tps_rate_unknown) ||
     ((trqlimit_external_request_flags___ & 0x1f) != 0)) {
    torque_limit_cooldown_timer = DAT_4000ccb4;
  }
  else {
    bVar1 = torque_limit_cooldown_timer == 0;
    torque_limit_cooldown_timer = torque_limit_cooldown_timer + -1;
    if (bVar1) {
      torque_limit_cooldown_timer = 0;
    }
  }
  if ((revlimit_torque_cap_active == false) && ((trqlimit_external_request_flags___ & 31) == 0)) {
    u16_factor_1_1023_400016e4 =
         tps_apply_torque_limit
                   (torque_limit,inj_pw_limit___,tps_requested_3,&tps_torque_limit_applied);
    _tps_torque_limit_applied = tps_torque_limit_applied;
    if ((short)u16_factor_1_1023_400016e4 < (short)_tps_commanded) {
      _tps_commanded = u16_factor_1_1023_400016e4;
      if (((ushort)((ushort)CAL_revlimit_torque_limit_confirmation_threshold << 1) < torque_limit)
         && (torque_limit_cooldown_timer == 0)) {
        tps_torque_limit_applied = true;
        _tps_torque_limit_applied = tps_torque_limit_applied;
      }
    }
    else if (((int)(short)tps_requested_3 <= (int)(uint)u16_factor_1_1023_400016e4) &&
            (_tps_torque_limit_applied = false,
            (int)(uint)tps_unknown2 < (int)(short)tps_requested_3)) {
      _tps_torque_limit_applied = tps_torque_limit_applied;
    }
  }
  else {
    tps_torque_limit_applied = false;
    _tps_unknown5 =
         tps_apply_torque_limit
                   (torque_limit,inj_pw_limit___,tps_requested_3,&tps_torque_limit_applied);
    u16_factor_1_1023_400016e4 = _tps_unknown5;
    _tps_torque_limit_applied = tps_torque_limit_applied;
    if ((short)_tps_unknown5 < (short)_tps_commanded) {
      _tps_commanded = _tps_unknown5;
    }
  }
  tps_torque_limit_applied = _tps_torque_limit_applied;
  if ((short)DAT_40002654 < (short)_tps_commanded) {
    tps_torque_limit_applied = false;
    tps_commanded_after_limits = DAT_40002654;
  }
  else {
    tps_commanded_after_limits = _tps_commanded;
    if ((short)_tps_commanded < (short)DAT_400087e2) {
      tps_commanded_after_limits = DAT_400087e2;
    }
  }
  _tps_commanded_after_limits = tps_commanded_after_limits;
  if ((!torque_reduction_applied___) &&
     ((int)(uint)lfb_tps_max < (int)(short)tps_commanded_after_limits)) {
    tps_torque_limit_applied = false;
    _tps_commanded_after_limits = lfb_tps_max;
  }
  current_gear = car_current_gear;
  if (((COD_base[1] >> 0x15 & 3) == 2) &&
     ((ushort)((ushort)CAL_tpssmooth_parking_clutch_threshold << 2) < clutch_pos_voltage)) {
    current_gear = 0;
  }
  if (current_gear == 0) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[0];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[0];
    }
  }
  else if (current_gear == 1) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[1];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[1];
    }
  }
  else if (current_gear == 2) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[2];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[2];
    }
  }
  else if (current_gear == 3) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[3];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[3];
    }
  }
  else if (current_gear == 4) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[4];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[4];
    }
  }
  else if (current_gear == 5) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[5];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[5];
    }
  }
  else if (current_gear == 6) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[6];
    }
    else {
      tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[6];
    }
  }
  else if ((COD_base[0] >> 0xd & 7) == 1) {
    tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_ips[0];
  }
  else {
    tpssmooth_decrement_adj_by_gear = (uint)CAL_tpssmooth_decrement_comp_gears_manual[0];
  }
  tps_diff = libc_abs((longlong)(short)_tps_target - (longlong)(short)_tps_commanded_after_limits);
  iVar4 = (int)tps_diff >> 4;
  tps_diff_ = (undefined2)iVar4;
  _tpssmooth_decrement =
       lookup_2D_uint8_interpolated
                 ('\b',(uint8_t)iVar4,CAL_tpssmooth_decrement_by_delta,
                  CAL_tpssmooth_decrement_by_delta_X_tps_delta);
  tpssmooth_decrement_a =
       (u8_factor_1_255)((tpssmooth_decrement_adj_by_gear * _tpssmooth_decrement) / 0xff);
  _tps_smooth_decrement2 =
       lookup_2D_uint8_interpolated
                 ('\b',engine_speed_3,CAL_tpssmooth_decrement_by_rpm,
                  CAL_tpssmooth_decrement_by_rpm_X_rpm);
  bVar3 = tpssmooth_decrement_a;
  if (tpssmooth_decrement_a < _tps_smooth_decrement2) {
    bVar3 = _tps_smooth_decrement2;
  }
  tpssmooth_decrement = (uint16_t)bVar3;
  if ((obd_ii_cruise_status & 0x20000) != 0) {
    tpssmooth_decrement =
         (uint16_t)
         ((ulonglong)((longlong)(int)(uint)tpssmooth_decrement * (longlong)(int)(uint)DAT_400087c6)
         / 0xff);
  }
  if (tpssmooth_decrement == 0) {
    tpssmooth_decrement = 1;
  }
  _tps_diff = (byte)tps_diff_;
  tpssmooth_decrement_b = _tps_smooth_decrement2;
  if (((((uint)(int)(short)accel_pedal_pos2 < (uint)CAL_tpssmooth_parking_threshold_tps << 2) &&
       (car_speed_u8 < CAL_tpssmooth_parking_threshold_carspeed)) &&
      (car_current_gear <= CAL_tpssmooth_parking_threshold_gear)) &&
     ((((COD_base[0] >> 0xd & 7) != 1 && ((COD_base[1] >> 0x15 & 3) == 2)) &&
      (clutch_pos_voltage < (ushort)((ushort)CAL_tpssmooth_parking_clutch_threshold << 2))))) {
    _tpssmooth_increment__a =
         lookup_2D_uint8_interpolated
                   ('\b',_tps_diff,CAL_tpssmooth_increment_parking,
                    CAL_tpssmooth_increment_parking_X_tps_diff);
    DAT_40002676 = 1;
    tpssmooth_increment2 = _tpssmooth_increment__a;
  }
  else if ((vehicle_mode_flags & 0x100) == 0) {
    _tpssmooth_increment__tour._7_1_ =
         lookup_2D_uint8_interpolated
                   ('\b',_tps_diff,CAL_tpssmooth_increment_tour,
                    CAL_tpssmooth_increment_tour_X_tps_diff);
    DAT_40002676 = 0;
    tpssmooth_increment2 = (uint8_t)_tpssmooth_increment__tour;
  }
  else {
    tpssmooth_increment2 =
         lookup_2D_uint8_interpolated
                   ('\b',_tps_diff,CAL_tpssmooth_increment_sport,
                    CAL_tpssmooth_increment_sport_X_tps_diff);
    DAT_40002676 = 0;
  }
  if (current_gear == 0) {
    tpssmooth_increment_b = CAL_tpssmooth_increment_b_neutral_tour;
    if ((vehicle_mode_flags & 256) != 0) {
      tpssmooth_increment_b = CAL_tpssmooth_increment_b_neutral_sport;
    }
    DAT_40002676 = 0;
  }
  else {
    _tpssmooth_increment2 =
         lookup_2D_uint8_interpolated
                   ('\b',engine_speed_3,CAL_tpssmooth_increment_rpm,
                    CAL_tpssmooth_increment_rpm_X_rpm);
    tpssmooth_increment_b = _tpssmooth_increment2;
  }
  if (tpssmooth_increment_b == 0) {
    tpssmooth_increment_b = 1;
  }
  bVar2 = tpssmooth_increment2;
  if (tpssmooth_increment2 < tpssmooth_increment_b) {
    bVar2 = tpssmooth_increment_b;
  }
  tpssmooth_increment = (uint16_t)bVar2;
  if ((((_tps_target == tps_smooth) &&
       ((tpssmooth_increment != 1020 || ((short)_tps_commanded_after_limits <= (short)_tps_target)))
       ) && ((tpssmooth_decrement != 1020 ||
             ((short)_tps_target <= (short)_tps_commanded_after_limits)))) &&
     ((((trqlimit_external_request_flags___ & 0b00011111) == 0 ||
       (trqlimit_external_request_flags___ == 0b00001000)) &&
      (((revlimit_state_flags & 1) == 0 ||
       ((((revlimit_state_flags & 8) == 0 ||
         ((short)_tps_request_driver2 <= (short)_tps_revlimit_max)) ||
        (CAL_revlimit_torque_clamp != true)))))))) {
    tpssmooth_step_timer = tpssmooth_step_timer - 1;
    tps_smooth = _tps_target;
    if ((short)tpssmooth_step_timer < 1) {
      tpssmooth_step_timer = CAL_tpssmooth_step_timer;
      tps_smoothing_step_flags_new =
           tps_smoothing_step_flags_new & ~(TPS_SMOOTH_STEP_DOWN|TPS_SMOOTH_STEP_UP);
      if ((short)_tps_target < (short)_tps_commanded_after_limits) {
        tps_smooth = _tps_commanded_after_limits;
        if ((int)(uint)tpssmooth_increment <
            (int)(short)_tps_commanded_after_limits - (int)(short)_tps_target) {
          tps_smoothing_step_flags_new = tps_smoothing_step_flags_new | TPS_SMOOTH_STEP_UP;
          tps_smooth = _tps_target + tpssmooth_increment;
          if (0xfff < (short)(_tps_target + tpssmooth_increment)) {
            tps_smooth = 0xfff;
          }
        }
      }
      else {
        tps_smooth = _tps_commanded_after_limits;
        if (((short)_tps_commanded_after_limits < (short)_tps_target) &&
           ((int)(uint)tpssmooth_decrement <
            (int)(short)_tps_target - (int)(short)_tps_commanded_after_limits)) {
          tps_smoothing_step_flags_new = tps_smoothing_step_flags_new | TPS_SMOOTH_STEP_DOWN;
          tps_smooth = _tps_target - tpssmooth_decrement;
          if ((short)(_tps_target - tpssmooth_decrement) < 0) {
            tps_smooth = 0;
          }
        }
      }
    }
  }
  else {
    if ((short)_tps_commanded_after_limits < 0x1000) {
      tps_smooth = _tps_commanded_after_limits;
      if ((short)_tps_commanded_after_limits < 0) {
        tps_smooth = 0;
      }
    }
    else {
      tps_smooth = 0xfff;
    }
    tpssmooth_step_timer = 0;
    tps_smoothing_step_flags_new =
         tps_smoothing_step_flags_new & ~(TPS_SMOOTH_STEP_DOWN|TPS_SMOOTH_STEP_UP);
  }
  if ((DAT_40002901 != 0) || (uVar6 == 2)) {
    tps_smooth = (ushort)throttle_actuator_commanded << 4;
  }
  tps_smoothing_step_flags = tps_smoothing_step_flags_new;
  DAT_4000262c = (int)(short)_tps_commanded_after_limits;
  DAT_40002630 = _tps_commanded_after_limits;
  obd_ii_commanded_throttle_actuator = tps_smooth;
  return;
}



void throttle_command_actuator(short _tps_target,short param_2,uint16_t param_3,bool param_4)

{
  short sVar2;
  uint uVar1;
  uint16_t uVar4;
  longlong lVar3;
  uint16_t uVar5;
  bool _tps_sensor_track_d_preferred;
  bool _tps_sensor_track_d_preferred2;
  uint uVar6;
  longlong lVar7;
  undefined4 uVar8;
  longlong lVar9;
  longlong lVar10;
  int iVar11;
  longlong lVar12;
  int iVar13;
  ulonglong uVar14;
  int iVar15;
  
  iVar15 = (uint)DAT_4000874e * 8;
  lVar12 = (ulonglong)DAT_4000875a << 5;
  if (0x2ee00 < (uint)lVar12) {
    lVar12 = 0x2ee00;
  }
  uVar6 = (uint)sensor_adc_ecu_voltage;
  iVar11 = uVar6 * 0x20;
  if (param_4) {
    DAT_40002690 = 0;
    DAT_4000268a = param_3;
    DAT_4000268c = param_3;
    DAT_4000268e = param_3;
  }
  else {
    DAT_4000268e = DAT_4000268c;
    DAT_4000268c = DAT_4000268a;
    DAT_4000268a = DAT_40002688;
  }
  sVar2 = _tps_target - param_2;
  if (sVar2 < 0x1000) {
    if (sVar2 < -0xfff) {
      sVar2 = -0xfff;
    }
  }
  else {
    sVar2 = 0xfff;
  }
  DAT_40002688 = param_3;
  uVar4 = adc_smooth_lowpass(&struct_adc_smoothing_state_40006380,DAT_4000268e - param_3);
  if (DAT_40001f20 == '\0') {
    lVar10 = 0;
  }
  else {
    uVar1 = (uint)DAT_4000873a * 8 * (int)(short)uVar4;
    lVar10 = (longlong)((int)uVar1 / 10 + ((int)uVar1 >> 0x1f)) + (ulonglong)(uVar1 >> 0x1f);
  }
  uVar1 = (uint)DAT_4000874a * 8 * (int)sVar2;
  lVar9 = (longlong)((int)uVar1 / 100 + ((int)uVar1 >> 0x1f)) + (ulonglong)(uVar1 >> 0x1f);
  DAT_40002690 = DAT_40002690 + sVar2;
  uVar1 = iVar15 * DAT_40002690;
  lVar7 = (longlong)((int)uVar1 / 10000 + ((int)uVar1 >> 0x1f)) + (ulonglong)(uVar1 >> 0x1f);
  lVar3 = libc_abs(lVar7);
  iVar13 = (int)lVar12;
  if (iVar13 < (int)lVar3) {
    if ((int)lVar7 < 1) {
      lVar7 = -lVar12;
      DAT_40002690 = (iVar13 * -10000) / iVar15;
    }
    else {
      DAT_40002690 = (iVar13 * 10000) / iVar15;
      lVar7 = lVar12;
    }
  }
  uVar8 = (undefined4)lVar7;
  uVar5 = lookup_2D_uint16_interpolated
                    (16,param_3,(uint16_t *)&DAT_4000b312,(uint16_t *)&DAT_4000b2f2);
  uVar14 = lVar9 + lVar7 + ((ulonglong)uVar5 - 0x8000) + lVar10;
  iVar15 = (int)uVar14;
  if (iVar11 < iVar15) {
    iVar11 = 0x7fff;
    uVar6 = (uint)DAT_40008744;
  }
  else if (iVar15 < (int)(uVar6 * -0x20)) {
    iVar11 = -0x7fff;
    uVar6 = (uint)DAT_40008744;
  }
  else {
    iVar11 = ((int)((uVar14 & 0xffffffff) << 0xf) - iVar15) / iVar11;
    if (iVar11 < 0) {
      uVar6 = -((int)(iVar11 * (uint)DAT_40008744) / 0x7fff) & 0xffff;
    }
    else {
      uVar6 = (int)(iVar11 * (uint)DAT_40008744) / 0x7fff & 0xffff;
    }
  }
  if ((tps_control_scheme___ < 6) && (((uint)DAT_40008744 * 50) / 100 < uVar6)) {
    uVar6 = ((uint)DAT_40008744 * 0x32) / 100;
  }
  if (((uint)DAT_40008744 * 0x32) / 100 < uVar6) {
    if (DAT_400016e6 != 0) {
      DAT_400016e6 = DAT_400016e6 + -1;
    }
  }
  else {
    DAT_400016e6 = 100;
  }
  if (DAT_400016e6 == 0) {
    uVar6 = ((uint)DAT_40008744 * 0x32) / 100;
  }
  siu_gpdo[0xcc] = '\x01';
  if (DAT_40002901 == '\0') {
    if ((((ignition_on_flags & 1) == 0) && (obd_ii_engine_speed == 0)) && (DAT_40001f20 != '\0')) {
      FUN_000af03c(0);
      siu_gpdo[0xbb] = '\x01';
      uVar8 = 0;
    }
    else {
      _tps_sensor_track_d_preferred = get_tps_sensor_track_d_preferred();
      if ((((_tps_sensor_track_d_preferred) && (struct_tps_shaping_flags_40008168.state < 2)) &&
          (struct_tps_shaping_flags_40008168.current_input != '\0')) ||
         (((_tps_sensor_track_d_preferred2 = get_tps_sensor_track_d_preferred(),
           !_tps_sensor_track_d_preferred2 && (struct_tps_shaping_flags_4000817c.state < 2)) &&
          (struct_tps_shaping_flags_4000817c.current_input != '\0')))) {
        FUN_000af03c(0);
        siu_gpdo[0xbb] = 1;
        uVar8 = 0;
      }
      else {
        if (iVar11 < 0) {
          siu_gpdo[0xbb] = 1;
        }
        else {
          siu_gpdo[0xbb] = '\0';
        }
        FUN_000af03c(uVar6);
      }
    }
  }
  else {
    FUN_000af03c(0);
    siu_gpdo[0xbb] = '\x01';
    uVar8 = 0;
  }
  DAT_40002610 = sVar2;
  DAT_4000260a = (char)((uVar6 * 100) / (uint)DAT_40008744);
  DAT_40002612 = uVar4;
  DAT_40002618 = DAT_40002690;
  DAT_40002624 = (int)lVar10;
  DAT_40002614 = (int)lVar9;
  DAT_4000261c = uVar8;
  DAT_40002628 = (int)((ulonglong)uVar5 - 0x8000);
  DAT_40002620 = iVar15;
  return;
}



void tps_control_1000hz(void)

{
  u16_factor_1_4095 _tps_target;
  int iVar2;
  uint16_t tps_abs_smoothed;
  uint16_t tps_unknown_smooth_;
  undefined8 uVar1;
  byte bVar3;
  u16_factor_1_1023 uVar4;
  uint8_t uVar5;
  bool bVar6;
  u16_factor_1_1023 _tps_unknown2;
  char cVar7;
  bool _tps_sensor_track_d_preferred;
  uint8_t _tps_system_state;
  char _accel_pedal_diag_state;
  
  iVar2 = get_absolute_tps_();
  tps_absolute_ = (uint16_t)iVar2;
  iVar2 = get_tps_unknown();
  tps_unknown = (uint16_t)iVar2;
  iVar2 = get_tps3();
  tps_3 = (undefined2)iVar2;
  iVar2 = get_tps2___();
  tps_unknown_smooth_ = tps_unknown;
  DAT_40002608 = (undefined2)iVar2;
  tps_abs_smoothed = adc_smooth_lowpass(&tps_smooth_filter_state,tps_absolute_);
  tps_unknown_smooth_ = adc_smooth_lowpass(&tps_unknown_history,tps_unknown_smooth_);
  if (((((lbf_state_flags & 8) == 0) && ((engine_state_failure_flags & 0x10000) == 0)) &&
      (DAT_40001e49 == '\0')) && (DAT_400050ea < 9)) {
    if (((int)tps_control_scheme___ - 2U < 3) && (sensor_adc_ecu_voltage < DAT_4000894a)) {
      if (DAT_400016ea == 0) {
        tps_control_scheme___ = 5;
      }
      else {
        DAT_400016ea = DAT_400016ea + -1;
      }
    }
    else {
      DAT_400016ea = 5;
    }
  }
  else {
    tps_control_scheme___ = 8;
  }
  switch(tps_control_scheme___) {
  case 0:
    FUN_000af3a0();
    DAT_40002694 = 1000;
    if (DAT_40002658 == '\0') {
      DAT_40002694 = 100;
    }
    tps_control_scheme___ = 1;
    break;
  case 1:
    DAT_40002694 = DAT_40002694 + -1;
    if (DAT_40002694 < 1) {
      tps_control_scheme___ = 2;
      DAT_40002658 = DAT_40002658 + '\x01';
    }
    break;
  case 2:
    uVar1 = tps_init_and_stability_capture(tps_abs_smoothed,tps_unknown_smooth_,true);
    DAT_40002696 = (char)uVar1;
    tps_control_scheme___ = 3;
    break;
  case 3:
    uVar1 = tps_init_and_stability_capture(tps_abs_smoothed,tps_unknown_smooth_,false);
    DAT_40002696 = (char)uVar1;
    if (DAT_40002696 == 1) {
      FUN_000b1ecc(0,DAT_400026ae,DAT_400026ac);
      tps_control_scheme___ = 4;
    }
    else if (DAT_40002696 == 2) {
      FUN_000b1ecc(1,tps_abs_smoothed,tps_unknown_smooth_);
      if ((DAT_400031b9 & 0xbf) != 0) {
        DAT_40002900 = DAT_400031b9;
        DAT_400081b9 = 2;
        DAT_400081c0 = 0xffff;
      }
      obd_ii_throttle_body_range_perf = 1;
      DAT_400016e1 = 0;
      tps_control_scheme___ = 8;
    }
    else if (DAT_40002696 == 3) {
      tps_control_scheme___ = 0;
    }
    else {
      tps_control_scheme___ = 3;
    }
    break;
  case 4:
    bVar3 = FUN_000af628(DAT_400026ae,DAT_400026ac);
    if ((bVar3 & 1) == 0) {
      tps_control_scheme___ = 6;
    }
    else {
      if ((DAT_400031b9 & 0xbf) != 0) {
        DAT_40002900 = DAT_400031b9;
        DAT_400081b9 = 2;
        DAT_400081c0 = 0xffff;
      }
      obd_ii_throttle_body_range_perf = 1;
      tps_control_scheme___ = 8;
    }
    DAT_400016e1 = 0;
    break;
  case 5:
    DAT_400026ae = 572;
    DAT_400026ac = 1829;
    FUN_000af628(572,1829);
    FUN_000b1ecc(0,4999,4999);
    DAT_40002648 = 1;
    DAT_400016e1 = 0;
    tps_control_scheme___ = 6;
    break;
  case 6:
    tps_control2_(tps_abs_smoothed,tps_unknown_smooth_);
    throttle_and_torque_control();
    bVar6 = get_tps_sensor_track_d_preferred();
    if (bVar6) {
      tps_unknown_smooth_ = tps_abs_smoothed;
    }
    uVar4 = FUN_000c70c8();
    throttle_command_actuator(obd_ii_commanded_throttle_actuator,uVar4,tps_unknown_smooth_,true);
    tps_control_scheme___ = 7;
    break;
  case 7:
    tps_control2_(tps_abs_smoothed,tps_unknown_smooth_);
    uVar5 = get_tps_system_state();
    if (uVar5 == 2) {
      tps_control_scheme___ = 8;
    }
    else {
      throttle_and_torque_control();
      bVar6 = get_tps_sensor_track_d_preferred();
      if (bVar6) {
        tps_unknown_smooth_ = tps_abs_smoothed;
      }
      update_left_foot_brake_tps_inhibit();
      _tps_target = obd_ii_commanded_throttle_actuator;
      _tps_unknown2 = FUN_000c70c8();
      throttle_command_actuator(_tps_target,_tps_unknown2,tps_unknown_smooth_,false);
    }
    break;
  case 8:
    tps_system_state = 2;
    tps_control2_(tps_abs_smoothed,tps_unknown_smooth_);
    FUN_000af3a0();
    engine_state_failure_flags = engine_state_failure_flags | 0x10000;
    if ((lbf_state_flags & 8) != 0) {
      update_left_foot_brake_tps_inhibit();
    }
    break;
  default:
    tps_control_scheme___ = 8;
  }
  DAT_400031b9 = 0;
  cVar7 = FUN_000c70f0();
  if (cVar7 == '\x01') {
    DAT_40001f21 = DAT_40001f21 | 1;
  }
  else {
    DAT_40001f21 = DAT_40001f21 & 0xfe;
  }
  _tps_sensor_track_d_preferred = get_tps_sensor_track_d_preferred();
  if (_tps_sensor_track_d_preferred) {
    DAT_40001f21 = DAT_40001f21 | 2;
  }
  else {
    DAT_40001f21 = DAT_40001f21 & 0xfd;
  }
  if ((vehicle_mode_flags & 0x20) == 0) {
    DAT_40001f21 = DAT_40001f21 & 0xf7;
  }
  else {
    DAT_40001f21 = DAT_40001f21 | 8;
  }
  if ((COD_base[1] >> 0x15 & 3) == 2) {
    DAT_40001f21 = DAT_40001f21 & 0xef;
  }
  else {
    DAT_40001f21 = DAT_40001f21 | 0x10;
  }
  if (tps_control_scheme___ < 6) {
    DAT_40001f20 = 0;
  }
  else {
    if ((engine_state_failure_flags & 0x10) != 0) {
      DAT_40001f21 = DAT_40001f21 | 4;
    }
    if ((DAT_40001f20 < 9) && (8 < DAT_400050ea)) {
      obd_ii_throttle_limp_mode_conditions = 1;
    }
    if (tps_control_scheme___ < 8) {
      _tps_system_state = get_tps_system_state();
      if (((_tps_system_state == 1) || (cVar7 = get_accel_pedal_diag_state(), cVar7 == 1)) ||
         (_accel_pedal_diag_state = get_accel_pedal_diag_state(), _accel_pedal_diag_state == 2)) {
        DAT_40001f20 = '\b';
      }
      else if (((abs_esp_flags & 1) == 0) ||
              (((COD_base[0] >> 0x16 & 7) != 3 && ((COD_base[0] >> 0x16 & 7) != 2)))) {
        if (((COD_base[0] >> 0xd & 7) == 1) && ((trqlimit_external_request_flags___ & 0x10) != 0)) {
          DAT_40001f20 = 5;
        }
        else if (((COD_base[0] >> 0x19 & 7) == 0) || ((obd_ii_cruise_status & 2) == 0)) {
          DAT_40001f20 = 7;
        }
        else {
          DAT_40001f20 = 6;
        }
      }
      else {
        DAT_40001f20 = '\x04';
      }
    }
    else {
      DAT_40001f20 = '\t';
    }
    if ((50 < ecu_run_timer) && (DAT_400050f3 < DAT_40004b8d)) {
      DAT_40004b8d = DAT_400050f3;
    }
    if ((DAT_400050ea == 0) || (3 < DAT_400050ea)) {
      DAT_400016e8 = 3000;
    }
    else {
      bVar6 = DAT_400016e8 == 0;
      DAT_400016e8 = DAT_400016e8 + -1;
      if (bVar6) {
        DAT_400016e8 = 0;
      }
      if (((DAT_40002646 & 8) == 0) && (2 < (byte)(DAT_40001f20 - 1))) {
        DAT_40002646 = DAT_40002646 | 8;
      }
      if ((1 < (ulonglong)
               ((-((longlong)(-((ulonglong)DAT_40002646 & 2) << 0x20) >> 0x3f) -
                ((longlong)(-((ulonglong)DAT_40002646 & 1) << 0x20) >> 0x3f)) -
               ((longlong)(-((ulonglong)DAT_40002646 & 4) << 0x20) >> 0x3f))) ||
         ((DAT_400016e8 == 0 && ((DAT_40002646 & 8) != 0)))) {
        DAT_40002646 = DAT_40002646 | 0x10;
      }
    }
  }
  if ((short)obd_ii_commanded_throttle_actuator >> 4 < 0x100) {
    if ((short)obd_ii_commanded_throttle_actuator < 0) {
      DAT_40001f22 = 0;
    }
    else {
      DAT_40001f22 = (undefined1)((short)obd_ii_commanded_throttle_actuator >> 4);
    }
  }
  else {
    DAT_40001f22 = 0xff;
  }
  if (((((COD_base[0] >> 0x19 & 7) == 0) || (DAT_40001f20 != '\x06')) || (DAT_400050ea == 6)) ||
     ((DAT_40002642 & 1) != 0)) {
    DAT_40002698 = 0;
  }
  else {
    DAT_40002698 = DAT_40002698 + 1;
    if (499 < DAT_40002698) {
      DAT_40002698 = 0;
      DAT_40002642 = DAT_40002642 | 1;
    }
  }
  if ((DAT_400050ea == 0) || (3 < DAT_400050ea)) {
    DAT_4000269a = 0;
  }
  else if ((DAT_4000269a != 0xffff) &&
          (DAT_4000269a = DAT_4000269a + 1, DAT_40001f18 < DAT_4000269a)) {
    DAT_40001f18 = DAT_4000269a;
  }
  if (DAT_400050ea == 5) {
    if ((DAT_4000269c != 0xffff) && (DAT_4000269c = DAT_4000269c + 1, DAT_40001f16 < DAT_4000269c))
    {
      DAT_40001f16 = DAT_4000269c;
    }
  }
  else {
    DAT_4000269c = 0;
  }
  return;
}



int get_absolute_tps_(void)

{
  return (int)(uint)adc_dma_dest[0x30] >> 2;
}



int get_tps_unknown(void)

{
  return (int)(uint)adc_dma_dest[0x31] >> 2;
}



uint get_tps(void)

{
  return (int)(uint)adc_dma_dest[0x30] >> 6 & 0xff;
}



uint get_abs_throttle_pos_b(void)

{
  return (int)(uint)adc_dma_dest[0x31] >> 6 & 0xff;
}



int get_tps3(void)

{
  return (int)(uint)adc_dma_dest[0x30] >> 4;
}



int get_tps2___(void)

{
  return (int)(uint)adc_dma_dest[0x31] >> 4;
}



uint get_relative_tps(void)

{
  uint uVar1;
  
  uVar1 = get_absolute_tps_();
  return (int)((uVar1 & 0xffff) - (uint)DAT_40002632) >> 4 & 0xff;
}



void paddle_shift_input(void)

{
  paddle_shift_sensor_input_process();
  return;
}



ulonglong update_left_foot_brake_tps_inhibit(void)

{
  ushort uVar1;
  u16_factor_1_1023 uVar2;
  byte bVar4;
  longlong lVar3;
  byte _flags_old;
  uint8_t _flags_tmp;
  bool brake_active;
  
  _flags_tmp = false;
                    // DAT_400016eb doesn't appear to be initialize anywhere
  if (lfb_requires_init) {
    lfb_requires_init = false;
    lbf_entry_countdown_timer = (ushort)CAL_lfb_timer_entry << 5;
    lbf_hold_timer = (ushort)CAL_lfb_timer_hold << 5;
  }
  brake_active = false;
  if (((DAT_400031dc != 0) && ((brake_switch & 0x20) == 0)) ||
     (((brake_switch & 1) != 0 && ((brake_switch & 2) == 0)))) {
    brake_active = true;
  }
  if ((lbf_state_flags & 8) == 0) {
    if ((lbf_state_flags & 0x80) == 0) {
      lfb_tps_max = 0xfff;
      if (((((COD_base[1] >> 0x15 & 3) == 2) && ((clutch_pos_sensor & 0b00001000) == 0)) &&
          ((clutch_pos_sensor & 0b00010000) == 0)) &&
         (CAL_lfb_clutch_threshold < clutch_pos_voltage)) {
        lbf_entry_countdown_timer = (ushort)CAL_lfb_timer_entry << 5;
        lbf_state_flags = 0;
      }
      else {
        if ((ushort)((ushort)CAL_lfb_tps_max << 2) < accel_pedal_pos) {
          if (!brake_active) {
            lbf_state_flags = lbf_state_flags | 0b00100000;
          }
        }
        else {
          lbf_state_flags = lbf_state_flags & 0b11011111;
        }
        if (((lbf_state_flags & 0x20) == 0) ||
           (((engine_state_failure_flags & 0x400) == 0 &&
            (car_speed_u8 <= CAL_lfb_detect_carspeed_min)))) {
          lbf_entry_countdown_timer = (ushort)CAL_lfb_timer_entry << 5;
        }
        else if (brake_active) {
          if (lbf_entry_countdown_timer == 0) {
            lbf_state_flags = 0x80;
          }
          else {
            lbf_entry_countdown_timer = lbf_entry_countdown_timer - 1;
          }
        }
        else {
          lbf_entry_countdown_timer = (ushort)CAL_lfb_timer_entry << 5;
        }
        if ((lbf_state_flags & 0x80) != 0) {
          bVar4 = lbf_state_flags | 0b01000000;
          lbf_state_flags = lbf_state_flags | 0b01000001;
          if (!CAL_lfb_pulse_enable) {
            lbf_state_flags = bVar4;
          }
          lfb_pulse_toggle_timer = (u16_time_100ms)DAT_40008937;
          lbf_hold_timer = (ushort)CAL_lfb_timer_hold << 5;
          u16_time_ms_400026a6 = u16_time_ms_4000894c;
          u16_factor_1_1023_400026a0 = idle_tps_requested;
          DAT_4000269e = tps_u16 << 2;
          DAT_400026a8 = DAT_40008933;
        }
      }
    }
    if ((lbf_state_flags & 0b10000000) != 0) {
      bVar4 = lbf_state_flags | 0b00010000;
      if ((obd_ii_cruise_status & 2) == 0) {
        bVar4 = lbf_state_flags;
      }
      if ((int)(((int)(short)u16_factor_1_1023_400026a0 >> 2) + (uint)u8_factor_1_255_40008930) <
          (int)(short)tps_u16) {
        if (lbf_hold_timer != 0) {
          lbf_hold_timer = lbf_hold_timer - 1;
        }
      }
      else {
        lbf_hold_timer = (ushort)CAL_lfb_timer_hold << 5;
      }
      if (lbf_hold_timer == 0) {
        lbf_state_flags = bVar4 | 8;
      }
      else {
        if (brake_active) {
          _flags_tmp = (bVar4 & 0b01000000) == 0;
          u16_time_ms_400026a6 = u16_time_ms_4000894c;
          lbf_state_flags = bVar4 | 0b01000000;
        }
        else {
          lbf_state_flags = bVar4;
          if (DAT_400026be < (ushort)((ushort)DAT_40008935 << 2)) {
            if (u16_time_ms_400026a6 == 0) {
              lbf_state_flags = bVar4 & 0xbf;
            }
            else {
              u16_time_ms_400026a6 = u16_time_ms_400026a6 - 1;
            }
          }
          else {
            u16_time_ms_400026a6 = u16_time_ms_4000894c;
          }
        }
        bVar4 = lbf_state_flags & 0xfb;
        lbf_state_flags = lbf_state_flags | 4;
        if (!brake_active) {
          lbf_state_flags = bVar4;
        }
        if ((lbf_state_flags & 0x40) == 0) {
          DAT_400026a8 = DAT_40008934;
          if (DAT_40008934 == 0xff) {
            DAT_4000269e = 0x3ffc;
          }
          u16_factor_1_1023_400026a0 = 0x3ffc;
        }
        else {
          DAT_400026a8 = DAT_40008933;
          if (((bool)_flags_tmp) && ((short)tps_u16 < (short)DAT_4000269e >> 2)) {
            DAT_4000269e = tps_u16 << 2;
          }
          uVar2 = idle_tps_requested;
          if (!brake_active) {
            uVar2 = tps_commanded_after_limits;
          }
          u16_factor_1_1023_400026a0 = uVar2 << 2;
        }
        lVar3 = libc_abs((longlong)(short)DAT_4000269e - (longlong)(short)u16_factor_1_1023_400026a0
                        );
        if ((int)(uint)DAT_400026a8 < (int)lVar3) {
          uVar1 = -(ushort)DAT_400026a8;
          if ((short)DAT_4000269e < (short)u16_factor_1_1023_400026a0) {
            uVar1 = (ushort)DAT_400026a8;
          }
          DAT_4000269e = DAT_4000269e + uVar1;
        }
        else {
          DAT_4000269e = u16_factor_1_1023_400026a0;
        }
        if ((short)DAT_4000269e < 0x3ffd) {
          if ((short)DAT_4000269e < 0) {
            DAT_4000269e = 0;
          }
        }
        else {
          DAT_4000269e = 0x3ffc;
        }
        lfb_tps_max = (short)DAT_4000269e >> 2;
        if (((lbf_state_flags & 0x40) == 0) && (0xffe < lfb_tps_max)) {
          lbf_state_flags = 0;
          lbf_entry_countdown_timer = (ushort)CAL_lfb_timer_entry << 5;
          lfb_tps_max = 0xfff;
        }
      }
      _flags_old = lbf_state_flags & 0b11111110;
      lbf_state_flags = lbf_state_flags | 1;
      if (CAL_lfb_pulse_enable == false) {
        lbf_state_flags = _flags_old;
      }
    }
  }
  else {
    FUN_000af3a0();
  }
  if (((lbf_state_flags & 0x80) == 0) || ((lbf_state_flags & 1) == 0)) {
    lbf_state_flags = lbf_state_flags & 0xfd;
  }
  else if (lfb_pulse_toggle_timer == 0) {
    lfb_pulse_toggle_timer = (u16_time_100ms)DAT_40008937;
    lbf_state_flags = lbf_state_flags ^ 0b00000010;
  }
  return (ulonglong)(LZCOUNT((lbf_state_flags & 0x80) - 0x80) << 0x20) >> 0x25;
}



uint16_t get_accel_pedal_pos_unknown(uint16_t param_1)

{
  uint uVar1;
  
  DAT_400026be = param_1;
  if ((lbf_state_flags & 0x80) == 0) {
    DAT_400026aa = param_1 << 4;
  }
  else {
    if ((lbf_state_flags & 0x40) == 0) {
      DAT_400026aa = param_1 << 4;
    }
    else {
      uVar1 = (uint)DAT_400026aa;
      if ((lbf_state_flags & 4) == 0) {
        if ((uint)DAT_400026aa < (uint)param_1 << 4) {
          uVar1 = uVar1 + (uint)DAT_40008933 * 5;
        }
        else if ((uint)param_1 << 4 < (uint)DAT_400026aa) {
          uVar1 = uVar1 + (uint)DAT_40008933 * -5;
        }
        if ((int)((uint)DAT_40008936 << 6) < (int)uVar1) {
          uVar1 = (uint)DAT_40008936 << 6;
        }
        else if ((int)uVar1 < 0) {
          uVar1 = 0;
        }
      }
      else {
        uVar1 = uVar1 + (uint)DAT_40008933 * -5;
        if ((int)uVar1 < 1) {
          uVar1 = 0;
        }
      }
      DAT_400026aa = (ushort)uVar1;
    }
    param_1 = (uint16_t)((int)(uint)DAT_400026aa >> 4);
  }
  return param_1;
}



void FUN_000b1ecc(char param_1,short param_2,short param_3)

{
  byte i;
  byte k;
  uint uVar1;
  uint uVar2;
  
  if (DAT_4000416a == -0x5433) {
    lea_reset4();
  }
  if (DAT_400041f4 != -1) {
    DAT_400041f4 = DAT_400041f4 + 1;
  }
  if (((param_2 == 4999) && (param_3 == 4999)) && (DAT_40004264 != -1)) {
    DAT_40004264 = DAT_40004264 + 1;
  }
  if (param_1 == 0) {
    if ((DAT_400041f8 != 0) && (DAT_400041f6 != -1)) {
      DAT_400041f6 = DAT_400041f6 + 1;
    }
    if (DAT_40002658 == 1) {
      if (DAT_400041fa != -1) {
        DAT_400041fa = DAT_400041fa + 1;
      }
    }
    else if (DAT_400041fc != -1) {
      DAT_400041fc = DAT_400041fc + 1;
    }
    DAT_40004a40 = sensor_adc_ecu_voltage;
    DAT_40004a42 = adc_sampled_unknown[3];
    DAT_40004a45 = DAT_4000260a;
  }
  else {
    u32_time_5ms_400040e4 = runtime_since_start;
    u16_time_100ms_400041ec = ecu_run_timer;
    DAT_400040e8 = siu_rsr;
    u16_voltage_18_1023v_400041ee = sensor_adc_ecu_voltage;
    DAT_400041f0 = adc_sampled_unknown[3];
    DAT_400041fe = DAT_4000260a;
    DAT_40004a3c = 0x23c;
    DAT_40004a3e = 0x725;
    DAT_400041f6 = 0;
    if (DAT_400041f8 != 0xffff) {
      if (DAT_400041f8 < 0x20) {
        (&DAT_400041ac)[DAT_400041f8] = DAT_400041f4;
      }
      DAT_400041f8 = DAT_400041f8 + 1;
    }
    uVar2 = DAT_40002656 - 1;
    if (DAT_40002656 == 0) {
      uVar2 = 0x1f;
    }
    uVar2 = uVar2 & 0xff;
    for (i = 0; i < 32; i = i + 1) {
      uVar1 = uVar2 + 1;
      (&DAT_400040ec)[i] = (&DAT_40006340)[uVar2 & 0xff];
      uVar2 = 0;
      if ((uVar1 & 0xff) < 0x20) {
        uVar2 = uVar1;
      }
    }
  }
  if (DAT_4000416a != 0x1bad) {
    if (DAT_400041ff < 0x1f) {
      (&DAT_4000412c)[DAT_400041ff] = param_2;
      (&DAT_4000416c)[DAT_400041ff] = param_3;
      DAT_400041ff = DAT_400041ff + 1;
    }
    else {
      for (k = 0; DAT_40004168 = param_2, DAT_400041a8 = param_3, k < 0x1e; k = k + 1) {
        (&DAT_4000412c)[k] = (&DAT_4000412c)[k + 1];
        (&DAT_4000416c)[k] = (&DAT_4000416c)[k + 1];
      }
    }
    if (param_1 != '\0') {
      DAT_4000416a = 0x1bad;
      DAT_400041aa = 0x1bad;
    }
  }
  if ((1 < DAT_40002658) && (DAT_400041f2 != -1)) {
    DAT_400041f2 = DAT_400041f2 + 1;
  }
  return;
}



void init_globals(void)

{
  FUN_0006b448();
  FUN_000c5c14();
  obd_ii_tps_1_2_correlation = 0;
  DAT_400026c4 = 0;
  DAT_400026bc = 0;
  tps_u16 = 0;
  DAT_400026b8 = 0;
  DAT_400026c3 = 0;
  DAT_400026c2 = 0;
  return;
}



void FUN_000b23a0(void)

{
  etpu_mcr_addr[0x17d] = etpu_mcr_addr[0x17d] & 0x7fffffff | 0x80000000;
  if (DAT_400016f3 != 0) {
    knock_sampling_active = true;
  }
  DAT_400016f3 = DAT_400016f3 == 0;
  DAT_4000195c = DAT_4000195c + 1;
  return;
}



void knock_hw_init(void)

{
  siu_pcr[0x90] = 0xe84;
  FUN_000543b4(0x1e,2,(ulonglong)CAL_knock_agc_scaling_threshold,5000,1,0,10000000);
  INTC_PSR[0x62] = 0xf;
  etpu_mcr_addr[0x90] = etpu_mcr_addr[0x90] & 0xbfffffff | 0x40000000;
  return;
}



// WARNING: Unable to use type for symbol knock_sensor_v_odd
// WARNING: Unable to use type for symbol knock_sensor_v_even
// I think this builds a buffer of samples and then triggers analysis when the buffer is full.

void knock_interrupt_adc_process(void)

{
  uint knock_sensor_v_raw;
  uint16_t knock_sensor_v_odd;
  uint16_t knock_sensor_v_even;
  byte next_cylinder;
  bool not_last_cylinder;
  
                    // I'm not sure why the ADC values are divided by 16. Perhaps the ADC is
                    // oversampling.
  etpu_mcr_addr[0x179] = etpu_mcr_addr[0x179] & 0x7fffffff | 0x80000000;
  if (knock_sampling_active != false) {
    knock_sensor_v_even = knock_sensor_level_b2[1];
    knock_sensor_v_odd = knock_sensor_level_b1[1];
    if ((knock_curr_cylinder & 1) == 0) {
                    // odd cylinders
      knock_sensor_v_raw = (int)(uint)adc_dma_dest[0x34] >> 4;
                    // this appears to be some kind of auto gain
      knock_sensor_v_odd = (uint16_t)knock_sensor_v_raw;
      if ((knock_sensor_v_raw <= knock_sensor_level_b1[1]) &&
         (knock_sensor_v_odd = knock_sensor_level_b1[1],
         knock_sensor_v_raw < knock_sensor_level_b1[0])) {
        knock_sensor_level_b1[0] = (uint16_t)knock_sensor_v_raw;
      }
    }
    else {
                    // even cylinders
      knock_sensor_v_raw = (int)(uint)adc_dma_dest[0x35] >> 4;
      knock_sensor_v_even = (uint16_t)knock_sensor_v_raw;
      if ((knock_sensor_v_raw <= knock_sensor_level_b2[1]) &&
         (knock_sensor_v_even = knock_sensor_level_b2[1],
         knock_sensor_v_raw < knock_sensor_level_b2[0])) {
        knock_sensor_level_b2[0] = (uint16_t)knock_sensor_v_raw;
      }
    }
    knock_sensor_level_b1[1] = knock_sensor_v_odd;
    knock_sensor_level_b2[1] = knock_sensor_v_even;
    knock_level_scaled[knock_buffer_index] =
         (ushort)((int)((knock_sensor_v_raw - 0x200) * (uint)knock_sensitivity) /
                 (int)(uint)knock_agc_reference_level___);
                    // CAL_knock_mode is goertzel_32sample_x3 in the factory calibration.
    if (((CAL_knock_mode == spectral_128window) && (knock_buffer_index < 127)) ||
       ((CAL_knock_mode != spectral_128window &&
        ((int)(uint)knock_buffer_index < (int)(knock_buffer_size - 1))))) {
      knock_buffer_index = knock_buffer_index + 1;
    }
    else {
      knock_sampling_active = false;
      knock_buffer_count = knock_buffer_index;
      knock_buffer_index = 0;
      not_last_cylinder = knock_curr_cylinder < 5;
      next_cylinder = knock_curr_cylinder + 1;
      knock_curr_cylinder = 0;
      if (not_last_cylinder) {
        knock_curr_cylinder = next_cylinder;
      }
      knock_schedule_next_window(31,(uint)knock_window_center_angle[knock_curr_cylinder],1000);
      knock_sensor_new_data_available = true;
    }
  }
  return;
}



void FUN_000b262c(void)

{
  byte i;
  uint uVar1;
  short local_30 [24];
  
  uVar1 = 0;
  for (i = 0; i < 11; i = i + 1) {
    if (CAL_knock_agc_scaling_threshold < *(ushort *)PTR_ARRAY_000d5930[i]) {
      local_30[i] = 0;
    }
    else {
      local_30[i] = *(short *)PTR_ARRAY_000d5930[i];
    }
  }
  copy_and_sort(11,local_30,SHORT_ARRAY_40006900);
  for (i = 0; i < 11; i = i + 1) {
    if (SHORT_ARRAY_40006900[i] == 0) {
      uVar1 = uVar1 + 1 & 0xff;
    }
    else {
      SHORT_ARRAY_40006900[i - uVar1] = SHORT_ARRAY_40006900[i];
      SHORT_ARRAY_40006900[i] = 0;
    }
  }
  knock_freq_bin_count = 11 - (char)uVar1;
  return;
}



void knock_dsp_setup_bins_and_reset_state(void)

{
  byte i;
  
  for (i = 0; i < knock_freq_bin_count; i = i + 1) {
    (&BYTE_ARRAY_400067f0)[i] =
         (char)(((uint)(ushort)SHORT_ARRAY_40006900[i] << 6) /
               ((uint)CAL_knock_agc_scaling_threshold << 1));
  }
  if (knock_dsp_reset != false) {
    knock_dsp_reset = false;
    knock_sensor_level_b1[1] = 0;
    knock_sensor_level_b1[0] = 0x3ff;
    knock_sensor_level_b2[1] = 0;
    knock_sensor_level_b2[0] = 0x3ff;
    for (i = 0; i < 64; i = i + 1) {
      knock_energy_accum_per_bin[i] = 0;
    }
  }
  return;
}



void knock_agc_configure(void)

{
  if (((DAT_400016f1 == 1) && (knock_agc_override)) ||
     (((engine_speed_3 < CAL_knock_agc_threshold[0] ||
       (((uint)engine_speed_3 <
         (uint)CAL_knock_agc_threshold[0] + (uint)CAL_knock_agc_hysteresis_band &&
        (knock_gain_mode == 1)))) && (!knock_agc_override)))) {
    DAT_40001fd3 = 0;
    DAT_40001fd2 = 0;
    knock_gain_mode = 1;
    knock_agc_reference_level___ = 255;
  }
  else if (((DAT_400016f1 == 2) && (knock_agc_override)) ||
          (((engine_speed_3 < CAL_knock_agc_threshold[1] ||
            (((uint)engine_speed_3 <
              (uint)CAL_knock_agc_threshold[1] + (uint)CAL_knock_agc_hysteresis_band &&
             (knock_gain_mode == 2)))) && (!knock_agc_override)))) {
    DAT_40001fd3 = 1;
    DAT_40001fd2 = 0;
    knock_gain_mode = 2;
    knock_agc_reference_level___ = 128;
  }
  else if (((DAT_400016f1 == 3) && (knock_agc_override)) ||
          (((engine_speed_3 < CAL_knock_agc_threshold[2] ||
            (((uint)engine_speed_3 <
              (uint)CAL_knock_agc_threshold[2] + (uint)CAL_knock_agc_hysteresis_band &&
             (knock_gain_mode == 3)))) && (!knock_agc_override)))) {
    DAT_40001fd3 = 0;
    DAT_40001fd2 = 1;
    knock_gain_mode = 3;
    knock_agc_reference_level___ = 65;
  }
  else {
    DAT_40001fd3 = 1;
    DAT_40001fd2 = 1;
    knock_gain_mode = 4;
    knock_agc_reference_level___ = 33;
  }
  return;
}



void knock_dsp_mode1_goertzel_64sample(void)

{
  longlong lVar1;
  longlong lVar2;
  int iVar3;
  byte j;
  int iVar6;
  byte i;
  ulonglong uVar4;
  longlong lVar5;
  int iVar9;
  ulonglong uVar7;
  longlong lVar8;
  uint uVar10;
  ulonglong uVar11;
  uint local_70 [11];
  uint local_44 [17];
  
                    // This is set to 4 in default CAL and never called.
  if ((CAL_knock_mode == goertzel_64sample) && (knock_sensor_new_data_available)) {
    for (i = 0; i < knock_freq_bin_count; i = i + 1) {
      lVar2 = ((longlong)
               *(short *)(&DAT_000d56b0 + ((byte)(&BYTE_ARRAY_400067f0)[i] + 0x10 & 0x3f) * 2) &
              0x7fffffffU) * 2;
      j = 0;
      lVar1 = 0;
      lVar8 = 0;
      while( true ) {
        lVar5 = lVar1;
        iVar6 = (int)lVar5;
        iVar3 = (int)lVar2;
        if (0x3f < j) break;
        uVar10 = (uint)j;
        j = j + 1;
        lVar1 = ((((ulonglong)((longlong)iVar3 * (longlong)iVar6) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar3 * (longlong)iVar6 << 0x20) >> 0x2f) - lVar8) +
                (longlong)(short)knock_level_scaled[uVar10];
        lVar8 = lVar5;
      }
      iVar9 = (int)lVar8;
      uVar11 = (longlong)iVar6 * (longlong)iVar6 + (longlong)iVar9 * (longlong)iVar9;
      uVar10 = iVar6 * iVar9;
      uVar7 = ((ulonglong)uVar10 * lVar2 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar6 * (longlong)iVar9) >> 0x20) *
              (longlong)iVar3 + (longlong)(int)uVar10 * (longlong)(iVar3 >> 0x1f);
      uVar4 = (uVar7 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar10 * (longlong)iVar3 << 0x20) >> 0x2f;
      local_44[i] = (uint)(((((ulonglong)((longlong)iVar6 * (longlong)iVar6) >> 0x20) +
                             ((ulonglong)((longlong)iVar9 * (longlong)iVar9) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar6 * (longlong)iVar6,
                                   (longlong)iVar9 * (longlong)iVar9)) -
                            ((longlong)((int)uVar7 >> 0xf) + (ulonglong)(uVar11 < uVar4)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar11 - (int)uVar4) >> 6;
      lVar1 = 0;
      lVar8 = 0;
      for (j = knock_buffer_count - 0x3f; lVar5 = lVar1, iVar6 = (int)lVar5,
          j < (byte)(knock_buffer_count + 1); j = j + 1) {
        uVar10 = (uint)j;
        lVar1 = ((((ulonglong)((longlong)iVar3 * (longlong)iVar6) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar3 * (longlong)iVar6 << 0x20) >> 0x2f) - lVar8) +
                (longlong)(short)knock_level_scaled[uVar10];
        lVar8 = lVar5;
      }
      iVar9 = (int)lVar8;
      uVar11 = (longlong)iVar6 * (longlong)iVar6 + (longlong)iVar9 * (longlong)iVar9;
      uVar10 = iVar6 * iVar9;
      uVar7 = ((ulonglong)uVar10 * lVar2 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar6 * (longlong)iVar9) >> 0x20) *
              (longlong)iVar3 + (longlong)(int)uVar10 * (longlong)(iVar3 >> 0x1f);
      uVar4 = (uVar7 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar10 * (longlong)iVar3 << 0x20) >> 0x2f;
      local_70[i] = (uint)(((((ulonglong)((longlong)iVar6 * (longlong)iVar6) >> 0x20) +
                             ((ulonglong)((longlong)iVar9 * (longlong)iVar9) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar6 * (longlong)iVar6,
                                   (longlong)iVar9 * (longlong)iVar9)) -
                            ((longlong)((int)uVar7 >> 0xf) + (ulonglong)(uVar11 < uVar4)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar11 - (int)uVar4) >> 6;
    }
    PTR_40006a18 = (int *)0x0;
    DAT_40006a1c = 0;
    for (i = 0; i < knock_freq_bin_count; i = i + 1) {
      knock_energy_accum_per_bin[i] = local_44[i] << 1;
      if ((int)local_44[i] < (int)local_70[i]) {
        local_44[i] = local_70[i];
      }
      knock_freq_components___[i] = (int *)local_44[i];
      PTR_40006a18 = (int *)((int)PTR_40006a18 + (int)knock_freq_components___[i]);
      DAT_40006a1c = DAT_40006a1c + knock_energy_accum_per_bin[i];
    }
    knock_sensor_new_data_available = false;
  }
  return;
}



void knock_dsp_mode4_goertzel_3_overlapping_windows(void)

{
  int iVar1;
  longlong lVar2;
  longlong lVar3;
  int iVar4;
  ulonglong curr_cylinder;
  byte bVar5;
  int iVar8;
  byte j;
  ulonglong uVar6;
  longlong lVar7;
  int iVar11;
  ulonglong uVar9;
  longlong lVar10;
  byte i;
  byte bVar12;
  uint uVar13;
  ulonglong uVar14;
  uint local_d0 [11];
  uint local_a4 [11];
  uint local_78 [11];
  uint local_4c [19];
  
  if ((CAL_knock_mode == goertzel_32sample_x3) && (knock_sensor_new_data_available)) {
    if (knock_buffer_count < 0x5f) {
      j = knock_buffer_count - 0x1f;
      bVar12 = knock_buffer_count + 1;
    }
    else {
      j = 64;
      bVar12 = 96;
    }
    for (i = 0; i < knock_freq_bin_count; i = i + 1) {
      lVar3 = ((longlong)
               *(short *)(&DAT_000d56b0 +
                         (((byte)(&BYTE_ARRAY_400067f0)[i] & 0x7f) * 2 + 0x10 & 0x3f) * 2) &
              0x7fffffffU) * 2;
      bVar5 = 0;
      lVar2 = 0;
      lVar10 = 0;
      while( true ) {
        lVar7 = lVar2;
        iVar8 = (int)lVar7;
        iVar4 = (int)lVar3;
        if (0x1f < bVar5) break;
        uVar13 = (uint)bVar5;
        bVar5 = bVar5 + 1;
        lVar2 = ((((ulonglong)((longlong)iVar4 * (longlong)iVar8) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar4 * (longlong)iVar8 << 0x20) >> 0x2f) - lVar10) +
                (longlong)(short)knock_level_scaled[uVar13];
        lVar10 = lVar7;
      }
      iVar11 = (int)lVar10;
      uVar14 = (longlong)iVar8 * (longlong)iVar8 + (longlong)iVar11 * (longlong)iVar11;
      uVar13 = iVar8 * iVar11;
      iVar1 = iVar4 >> 0x1f;
      uVar9 = ((ulonglong)uVar13 * lVar3 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar8 * (longlong)iVar11) >> 0x20) *
              (longlong)iVar4 + (longlong)(int)uVar13 * (longlong)iVar1;
      uVar6 = (uVar9 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar13 * (longlong)iVar4 << 0x20) >> 0x2f;
      local_4c[i] = (uint)(((((ulonglong)((longlong)iVar8 * (longlong)iVar8) >> 0x20) +
                             ((ulonglong)((longlong)iVar11 * (longlong)iVar11) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar8 * (longlong)iVar8,
                                   (longlong)iVar11 * (longlong)iVar11)) -
                            ((longlong)((int)uVar9 >> 0xf) + (ulonglong)(uVar14 < uVar6)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar14 - (int)uVar6) >> 6;
      lVar2 = 0;
      lVar10 = 0;
      for (bVar5 = 0x20; lVar7 = lVar2, iVar8 = (int)lVar7, bVar5 < 0x40; bVar5 = bVar5 + 1) {
        uVar13 = (uint)bVar5;
        lVar2 = ((((ulonglong)((longlong)iVar4 * (longlong)iVar8) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar4 * (longlong)iVar8 << 0x20) >> 0x2f) - lVar10) +
                (longlong)(short)knock_level_scaled[uVar13];
        lVar10 = lVar7;
      }
      iVar11 = (int)lVar10;
      uVar14 = (longlong)iVar8 * (longlong)iVar8 + (longlong)iVar11 * (longlong)iVar11;
      uVar13 = iVar8 * iVar11;
      uVar9 = ((ulonglong)uVar13 * lVar3 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar8 * (longlong)iVar11) >> 0x20) *
              (longlong)iVar4 + (longlong)(int)uVar13 * (longlong)iVar1;
      uVar6 = (uVar9 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar13 * (longlong)iVar4 << 0x20) >> 0x2f;
      local_78[i] = (uint)(((((ulonglong)((longlong)iVar8 * (longlong)iVar8) >> 0x20) +
                             ((ulonglong)((longlong)iVar11 * (longlong)iVar11) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar8 * (longlong)iVar8,
                                   (longlong)iVar11 * (longlong)iVar11)) -
                            ((longlong)((int)uVar9 >> 0xf) + (ulonglong)(uVar14 < uVar6)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar14 - (int)uVar6) >> 6;
      lVar2 = 0;
      lVar10 = 0;
      for (bVar5 = j; lVar7 = lVar2, iVar8 = (int)lVar7, bVar5 < bVar12; bVar5 = bVar5 + 1) {
        uVar13 = (uint)bVar5;
        lVar2 = ((((ulonglong)((longlong)iVar4 * (longlong)iVar8) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar4 * (longlong)iVar8 << 0x20) >> 0x2f) - lVar10) +
                (longlong)(short)knock_level_scaled[uVar13];
        lVar10 = lVar7;
      }
      iVar11 = (int)lVar10;
      uVar14 = (longlong)iVar8 * (longlong)iVar8 + (longlong)iVar11 * (longlong)iVar11;
      uVar13 = iVar8 * iVar11;
      uVar9 = ((ulonglong)uVar13 * lVar3 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar8 * (longlong)iVar11) >> 0x20) *
              (longlong)iVar4 + (longlong)(int)uVar13 * (longlong)iVar1;
      uVar6 = (uVar9 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar13 * (longlong)iVar4 << 0x20) >> 0x2f;
      local_a4[i] = (uint)(((((ulonglong)((longlong)iVar8 * (longlong)iVar8) >> 0x20) +
                             ((ulonglong)((longlong)iVar11 * (longlong)iVar11) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar8 * (longlong)iVar8,
                                   (longlong)iVar11 * (longlong)iVar11)) -
                            ((longlong)((int)uVar9 >> 0xf) + (ulonglong)(uVar14 < uVar6)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar14 - (int)uVar6) >> 6;
      lVar2 = 0;
      lVar10 = 0;
      for (bVar5 = knock_buffer_count - 0x1f; lVar7 = lVar2, iVar8 = (int)lVar7,
          bVar5 < (byte)(knock_buffer_count + 1); bVar5 = bVar5 + 1) {
        uVar13 = (uint)bVar5;
        lVar2 = ((((ulonglong)((longlong)iVar4 * (longlong)iVar8) >> 0x20 & 0x7fff) << 0x11 |
                 (ulonglong)((longlong)iVar4 * (longlong)iVar8 << 0x20) >> 0x2f) - lVar10) +
                (longlong)(short)knock_level_scaled[uVar13];
        lVar10 = lVar7;
      }
      iVar11 = (int)lVar10;
      uVar14 = (longlong)iVar8 * (longlong)iVar8 + (longlong)iVar11 * (longlong)iVar11;
      uVar13 = iVar8 * iVar11;
      uVar9 = ((ulonglong)uVar13 * lVar3 >> 0x20) +
              (longlong)(int)((ulonglong)((longlong)iVar8 * (longlong)iVar11) >> 0x20) *
              (longlong)iVar4 + (longlong)(int)uVar13 * (longlong)iVar1;
      uVar6 = (uVar9 & 0x7fff) << 0x11 |
              (ulonglong)((longlong)(int)uVar13 * (longlong)iVar4 << 0x20) >> 0x2f;
      local_d0[i] = (uint)(((((ulonglong)((longlong)iVar8 * (longlong)iVar8) >> 0x20) +
                             ((ulonglong)((longlong)iVar11 * (longlong)iVar11) >> 0x20) +
                            (ulonglong)
                            CARRY8((longlong)iVar8 * (longlong)iVar8,
                                   (longlong)iVar11 * (longlong)iVar11)) -
                            ((longlong)((int)uVar9 >> 0xf) + (ulonglong)(uVar14 < uVar6)) &
                           0xffffffff) << 0x1a) | (uint)((int)uVar14 - (int)uVar6) >> 6;
    }
    curr_cylinder = (ulonglong)knock_curr_cylinder - 1 & 0xff;
    if (knock_curr_cylinder == 0) {
      curr_cylinder = 5;
    }
    *(undefined4 *)((int)&PTR_40006a18 + (int)(curr_cylinder << 2)) = 0;
    for (j = 0; j < knock_freq_bin_count; j = j + 1) {
      if ((int)local_4c[j] < (int)local_d0[j]) {
        local_4c[j] = local_d0[j];
      }
      if ((int)local_4c[j] < (int)local_a4[j]) {
        local_4c[j] = local_a4[j];
      }
      if ((int)local_4c[j] < (int)local_78[j]) {
        local_4c[j] = local_78[j];
      }
      knock_freq_components___[j] = (int *)local_4c[j];
      iVar4 = (int)(curr_cylinder << 2);
      *(int *)((int)&PTR_40006a18 + iVar4) =
           *(int *)((int)&PTR_40006a18 + iVar4) + (int)knock_freq_components___[j];
    }
    knock_update_unknown
              ((byte)curr_cylinder,*(int *)((int)&PTR_40006a18 + (int)(curr_cylinder << 2)));
    knock_sensor_new_data_available = false;
  }
  return;
}



void knock_dsp_mode2_goertzel_dual_window_64(void)

{
  ulonglong uVar1;
  byte i;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  ulonglong uVar7;
  int iVar8;
  ushort uVar9;
  short sVar10;
  int local_70 [11];
  int local_44 [17];
  
  iVar2 = 0;
  iVar3 = 0;
  iVar4 = 0;
  iVar5 = 0;
                    // This is set to 4 in default CAL and not called
  if ((CAL_knock_mode == goertzel_2window) && (knock_sensor_new_data_available)) {
    for (i = 0; i < knock_freq_bin_count; i = i + 1) {
      uVar7 = (ulonglong)knock_buffer_count - 0x3f & 0xff;
      for (uVar6 = 0; (uVar6 & 0xff) < 0x40; uVar6 = uVar6 + 1) {
        uVar1 = (longlong)(int)(uVar6 & 0xff) * (longlong)(int)(uint)(byte)(&BYTE_ARRAY_400067f0)[i]
        ;
        if (DAT_400026c9 == '\0') {
          uVar9 = knock_level_scaled[uVar6 & 0xff];
        }
        else {
          iVar8 = (int)(short)knock_level_scaled[uVar6 & 0xff] *
                  (int)(short)(&DAT_000d5730)[uVar6 & 0xff];
          uVar9 = ((short)(iVar8 / 0x7fff) + (short)(iVar8 >> 0x1f)) -
                  (short)((longlong)iVar8 * 0x80010003 >> 0x3f);
        }
        iVar2 = iVar2 + (int)(short)uVar9 *
                        (int)*(short *)(&DAT_000d56b0 + (int)((uVar1 + 0x10 & 0x3f) << 1));
        iVar3 = iVar3 + (int)(short)uVar9 *
                        (int)*(short *)(&DAT_000d56b0 + (int)((uVar1 & 0x3f) << 1));
        if (DAT_400026c9 == '\0') {
          sVar10 = *(short *)((int)knock_level_scaled + (int)((uVar7 & 0xff) << 1));
        }
        else {
          iVar8 = (int)*(short *)((int)knock_level_scaled + (int)((uVar7 & 0xff) << 1)) *
                  (int)*(short *)((int)&DAT_000d5730 + (int)((uVar7 & 0xff) << 1));
          sVar10 = ((short)(iVar8 / 0x7fff) + (short)(iVar8 >> 0x1f)) -
                   (short)((longlong)iVar8 * 0x80010003 >> 0x3f);
        }
        iVar4 = iVar4 + (int)sVar10 *
                        (int)*(short *)(&DAT_000d56b0 + (int)((uVar1 + 0x10 & 0x3f) << 1));
        iVar5 = iVar5 + (int)sVar10 * (int)*(short *)(&DAT_000d56b0 + (int)((uVar1 & 0x3f) << 1));
        uVar7 = uVar7 + 1;
      }
      iVar2 = iVar2 >> 0xf;
      iVar3 = iVar3 >> 0xf;
      local_44[i] = iVar2 * iVar2 + iVar3 * iVar3;
      iVar4 = iVar4 >> 0xf;
      iVar5 = iVar5 >> 0xf;
      local_70[i] = iVar4 * iVar4 + iVar5 * iVar5;
    }
    for (i = 0; i < knock_freq_bin_count; i = i + 1) {
      if (local_44[i] < local_70[i]) {
        local_44[i] = local_70[i];
      }
      if ((int)knock_freq_components___[i] < local_44[i]) {
        knock_freq_components___[i] = (int *)local_44[i];
      }
    }
    knock_sensor_new_data_available = false;
  }
  return;
}



void knock_dsp_mode3_fft_128point(void)

{
  int iVar1;
  ulonglong uVar2;
  ulonglong uVar3;
  int iVar4;
  int iVar5;
  ulonglong uVar6;
  ulonglong uVar7;
  longlong lVar8;
  byte i;
  ulonglong k;
  ulonglong j;
  uint32_t local_110 [68];
  
                    // This is set to 3 in default CAL and not called.
  if ((CAL_knock_mode == spectral_128window) && (knock_sensor_new_data_available)) {
    for (i = 0; i < 0x80; i = i + 1) {
      (&DAT_400063f0)[i] = (int)(short)knock_level_scaled[(byte)(&DAT_000d57b0)[i]];
      (&DAT_400065f0)[i] = 0;
    }
    for (DAT_400026ce = 0; DAT_400026ce < 7; DAT_400026ce = DAT_400026ce + 1) {
      i = 0;
      uVar6 = (ulonglong)(byte)(&DAT_40002ac8)[DAT_400026ce];
      lVar8 = 0;
      while (j = 0, i < 0x40) {
        for (k = 0; (k & 0xff) < uVar6; k = k + 1) {
          uVar7 = lVar8 + k;
          uVar2 = uVar7 & 0xff;
          uVar3 = uVar2 + uVar6 & 0xff;
          iVar4 = (*(int *)((int)&DAT_400063f0 + (int)(uVar3 << 2)) *
                   (int)*(short *)((int)&DAT_000d5830 + (int)((j & 0xff) << 1)) -
                  *(int *)((int)&DAT_400065f0 + (int)(uVar3 << 2)) *
                  (int)*(short *)((int)&PTR_DAT_000d58b0 + (int)((j & 0xff) << 1))) / 0x7fff;
          iVar5 = (*(int *)((int)&DAT_400063f0 + (int)(uVar3 << 2)) *
                   (int)*(short *)((int)&PTR_DAT_000d58b0 + (int)((j & 0xff) << 1)) +
                  *(int *)((int)&DAT_400065f0 + (int)(uVar3 << 2)) *
                  (int)*(short *)((int)&DAT_000d5830 + (int)((j & 0xff) << 1))) / 0x7fff;
          *(int *)((int)&DAT_400063f0 + (int)(uVar3 << 2)) =
               *(int *)((int)&DAT_400063f0 + (int)(uVar2 << 2)) - iVar4;
          *(int *)((int)&DAT_400065f0 + (int)(uVar3 << 2)) =
               *(int *)((int)&DAT_400065f0 + (int)(uVar2 << 2)) - iVar5;
          iVar1 = (int)((uVar7 & 0xff) << 2);
          *(int *)((int)&DAT_400063f0 + iVar1) = *(int *)((int)&DAT_400063f0 + iVar1) + iVar4;
          iVar1 = (int)((uVar7 & 0xff) << 2);
          *(int *)((int)&DAT_400065f0 + iVar1) = *(int *)((int)&DAT_400065f0 + iVar1) + iVar5;
          i = i + 1;
          j = j + (byte)(&DAT_40002ad0)[DAT_400026ce];
        }
        lVar8 = lVar8 + (uVar6 & 0x7f) * 2;
      }
    }
    for (i = 0; i < 0x40; i = i + 1) {
      local_110[i] = (&DAT_400063f0)[i] * (&DAT_400063f0)[i] +
                     (&DAT_400065f0)[i] * (&DAT_400065f0)[i];
      if ((int)knock_energy_accum_per_bin[i] < (int)local_110[i]) {
        knock_energy_accum_per_bin[i] = local_110[i];
      }
    }
    knock_sensor_new_data_available = false;
  }
  return;
}



void noop_2_100hz(void)

{
  return;
}



void flexcan_b_tx_351_unknown(undefined *data)

{
  byte bVar1;
  uint uVar2;
  uint32_t uVar3;
  byte i;
  byte *pbVar4;
  
  if (CAL_ecu_flexcan_config_unknown == 2) {
    pbVar4 = fcb_buffer[0xd].data;
    uVar2 = fcb_buffer[0xd].code_and_timestamp;
    fcb_buffer[0xd].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
    uVar3 = fcb_buffer[0xd].arb_id;
    fcb_buffer[0xd].arb_id = uVar3 & 0xe003ffff | 0xd440000;
    for (i = 0; i < 8; i = i + 1) {
      bVar1 = *data;
      data = data + 1;
      *pbVar4 = bVar1;
      pbVar4 = pbVar4 + 1;
    }
    uVar2 = fcb_buffer[0xd].code_and_timestamp;
    fcb_buffer[0xd].code_and_timestamp = uVar2 & 0xfff0ffff | 0x80000;
    uVar2 = fcb_buffer[0xd].code_and_timestamp;
    fcb_buffer[0xd].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  }
  else if (CAL_ecu_flexcan_config_unknown == 1) {
    pbVar4 = fca_buffer[0x17].data;
    uVar2 = fca_buffer[0x17].code_and_timestamp;
    fca_buffer[0x17].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
    uVar3 = fca_buffer[0x17].arb_id;
    fca_buffer[0x17].arb_id = uVar3 & 0xe003ffff | 0xd440000;
    for (i = 0; i < 8; i = i + 1) {
      bVar1 = *data;
      data = data + 1;
      *pbVar4 = bVar1;
      pbVar4 = pbVar4 + 1;
    }
    uVar2 = fca_buffer[0x17].code_and_timestamp;
    fca_buffer[0x17].code_and_timestamp = uVar2 & 0xfff0ffff | 0x80000;
    uVar2 = fca_buffer[0x17].code_and_timestamp;
    fca_buffer[0x17].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  }
  return;
}



void flexcan_b_tx_351(byte *data)

{
  byte bVar1;
  uint uVar2;
  uint32_t uVar3;
  byte i;
  byte *pbVar4;
  
  if (CAL_ecu_flexcan_config_unknown == 2) {
    pbVar4 = fcb_buffer[0xe].data;
    uVar2 = fcb_buffer[0xe].code_and_timestamp;
    fcb_buffer[0xe].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
    uVar3 = fcb_buffer[0xe].arb_id;
    fcb_buffer[0xe].arb_id = uVar3 & 0xe003ffff | 0xd440000;
    for (i = 0; i < 8; i = i + 1) {
      bVar1 = *data;
      data = data + 1;
      *pbVar4 = bVar1;
      pbVar4 = pbVar4 + 1;
    }
    uVar2 = fcb_buffer[0xe].code_and_timestamp;
    fcb_buffer[0xe].code_and_timestamp = uVar2 & 0xfff0ffff | 0x80000;
    uVar2 = fcb_buffer[0xe].code_and_timestamp;
    fcb_buffer[0xe].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  }
  else if (CAL_ecu_flexcan_config_unknown == 1) {
    pbVar4 = fca_buffer[24].data;
    uVar2 = fca_buffer[0x18].code_and_timestamp;
    fca_buffer[0x18].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
    uVar3 = fca_buffer[0x18].arb_id;
    fca_buffer[0x18].arb_id = uVar3 & 0xe003ffff | 0xd440000;
    for (i = 0; i < 8; i = i + 1) {
      bVar1 = *data;
      data = data + 1;
      *pbVar4 = bVar1;
      pbVar4 = pbVar4 + 1;
    }
    uVar2 = fca_buffer[0x18].code_and_timestamp;
    fca_buffer[0x18].code_and_timestamp = uVar2 & 0xfff0ffff | 0x80000;
    uVar2 = fca_buffer[0x18].code_and_timestamp;
    fca_buffer[0x18].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  }
  return;
}



bool flexcan_a_tx_351_redirect2(void)

{
  bool rv;
  
  rv = flexcan_a_tx_351_redirect(&DAT_40006a70);
  return rv;
}



void FUN_000b3d28(void)

{
  DAT_40006a84 = 0;
  DAT_40006a85 = 0;
  return;
}



bool FUN_000b3d4c(undefined *param_1)

{
  bool bVar1;
  undefined1 uVar2;
  int iVar3;
  
  bVar1 = DAT_40006a84 < 0x78;
  if (bVar1) {
    iVar3 = (((uint)DAT_40006a85 + (uint)DAT_40006a84) % 0x78) * 8;
    uVar2 = param_1[1];
    (&DAT_40006a86)[iVar3] = *param_1;
    (&DAT_40006a87)[iVar3] = uVar2;
    uVar2 = param_1[3];
    (&DAT_40006a88)[iVar3] = param_1[2];
    (&DAT_40006a89)[iVar3] = uVar2;
    uVar2 = param_1[5];
    (&DAT_40006a8a)[iVar3] = param_1[4];
    (&DAT_40006a8b)[iVar3] = uVar2;
    uVar2 = param_1[7];
    (&DAT_40006a8c)[iVar3] = param_1[6];
    (&DAT_40006a8d)[iVar3] = uVar2;
    DAT_40006a84 = DAT_40006a84 + 1;
  }
  return bVar1;
}



undefined8 thunk_FUN_000b3e54(ulonglong param_1,char param_2,undefined *param_3)

{
  bool bVar1;
  int iVar2;
  
  while( true ) {
    bVar1 = param_2 == '\0';
    param_2 = param_2 + -1;
    if (bVar1) break;
    **(undefined1 **)(&DAT_40006a7c + (int)((param_1 & 0xff) << 2)) = *param_3;
    iVar2 = ((uint)param_1 & 0xff) * 4;
    *(int *)(&DAT_40006a7c + iVar2) = *(int *)(&DAT_40006a7c + iVar2) + 1;
    param_3 = param_3 + 1;
  }
  return 1;
}



undefined8 FUN_000b3e54(ulonglong param_1,char param_2,undefined *param_3)

{
  bool bVar1;
  int iVar2;
  
  while( true ) {
    bVar1 = param_2 == 0;
    param_2 = param_2 + -1;
    if (bVar1) break;
    **(undefined1 **)(&DAT_40006a7c + (int)((param_1 & 0xff) << 2)) = *param_3;
    iVar2 = ((uint)param_1 & 0xff) * 4;
    *(int *)(&DAT_40006a7c + iVar2) = *(int *)(&DAT_40006a7c + iVar2) + 1;
    param_3 = param_3 + 1;
  }
  return 1;
}



void thunk_FUN_000b3eb4(ulonglong param_1,char param_2,undefined *param_3)

{
  bool bVar1;
  int iVar2;
  
  while( true ) {
    bVar1 = param_2 == '\0';
    param_2 = param_2 + -1;
    if (bVar1) break;
    *param_3 = **(undefined1 **)(&DAT_40006a7c + (int)((param_1 & 0xff) << 2));
    param_3 = param_3 + 1;
    iVar2 = ((uint)param_1 & 0xff) * 4;
    *(int *)(&DAT_40006a7c + iVar2) = *(int *)(&DAT_40006a7c + iVar2) + 1;
  }
  return;
}



void FUN_000b3eb4(ulonglong param_1,char param_2,undefined *param_3)

{
  bool bVar1;
  int iVar2;
  
  while( true ) {
    bVar1 = param_2 == '\0';
    param_2 = param_2 + -1;
    if (bVar1) break;
    *param_3 = **(undefined1 **)(&DAT_40006a7c + (int)((param_1 & 0xff) << 2));
    param_3 = param_3 + 1;
    iVar2 = ((uint)param_1 & 0xff) * 4;
    *(int *)(&DAT_40006a7c + iVar2) = *(int *)(&DAT_40006a7c + iVar2) + 1;
  }
  return;
}



undefined8 FUN_000b3ec8(byte param_1)

{
  undefined8 uVar1;
  undefined1 *p;
  
  if (param_1 < 10) {
    for (p = &DAT_40006e50 + (uint)param_1 * 0x1ac;
        p < (undefined1 *)((uint)param_1 * 0x1ac + 0x40006ffc); p = p + 1) {
      *p = 0;
    }
    DAT_40006a78 = DAT_40006a78 | 2;
    FUN_000b3d28();
    uVar1 = 0xc;
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



undefined8 FUN_000b3f4c(byte param_1,undefined1 param_2,undefined1 param_3,short param_4)

{
  undefined8 uVar1;
  
  if (param_1 < 10) {
    (&DAT_40006ff8)[(uint)param_1 * 0x1ac] = param_3;
    if (param_4 == 0) {
      param_4 = 1;
    }
    (&DAT_40006ff4)[(uint)param_1 * 0xd6] = param_4;
    (&DAT_40006ff6)[(uint)param_1 * 0xd6] = 1;
    (&DAT_40006ff9)[(uint)param_1 * 0x1ac] = param_2;
    (&DAT_40006ffa)[(uint)param_1 * 0x1ac] = 4;
    uVar1 = 1;
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



bool FUN_000b3ff8(byte param_1)

{
  if (param_1 < 10) {
    (&DAT_40006ffa)[(uint)param_1 * 0x1ac] = 1;
    DAT_40006a78 = DAT_40006a78 | 0x80;
  }
  return param_1 < 10;
}



void FUN_000b4048(void)

{
  byte i;
  
  for (i = 0; i < 10; i = i + 1) {
    if ((&DAT_40006ffa)[(uint)i * 0x1ac] == '\x04') {
      (&DAT_40006ffa)[(uint)i * 0x1ac] = 1;
    }
  }
  DAT_40006a78 = DAT_40006a78 | 0x80;
  return;
}



void FUN_000b40b8(byte param_1)

{
  byte i;
  
  if (param_1 < 10) {
    (&DAT_40006ffa)[(uint)param_1 * 0x1ac] = 0;
    for (i = 0; i < 10; i = i + 1) {
      if (((&DAT_40006ffa)[(uint)i * 0x1ac] & 1) != 0) {
        return;
      }
    }
    DAT_40006a78 = DAT_40006a78 & 0x7f;
  }
  return;
}



void FUN_000b4138(void)

{
  byte i;
  
  for (i = 0; i < 10; i = i + 1) {
    (&DAT_40006ffa)[(uint)i * 0x1ac] = 0;
  }
  DAT_40006a78 = DAT_40006a78 & 0x77;
  return;
}



void flexcan_counters_scheduler_tick(uint8_t schedule_slot)

{
  short sVar1;
  int iVar2;
  byte j;
  char cVar3;
  byte i;
  
  if ((DAT_40006a78 & 0x80) != 0) {
    cVar3 = '\0';
    for (i = 0; i < 10; i = i + 1) {
      if (((((&DAT_40006ffa)[(uint)i * 0x1ac] & 1) != 0) &&
          (schedule_slot == (&DAT_40006ff8)[(uint)i * 0x1ac])) &&
         (sVar1 = (&DAT_40006ff6)[(uint)i * 0xd6], (&DAT_40006ff6)[(uint)i * 0xd6] = sVar1 + -1,
         (short)(sVar1 + -1) == 0)) {
        (&DAT_40006ff6)[(uint)i * 0xd6] = (&DAT_40006ff4)[(uint)i * 0xd6];
        if ((int)(uint)(byte)(&DAT_40006ff9)[(uint)i * 0x1ac] < (int)(0x78 - (uint)DAT_40006a84)) {
          for (j = 0; j <= (byte)(&DAT_40006ff9)[(uint)i * 0x1ac]; j = j + 1) {
            iVar2 = func_0x000b41a0(cVar3 + j | (&DAT_40006ffa)[(uint)i * 0x1ac] & 0x80,i,j);
            if (iVar2 == 0) {
              (&DAT_40006ffa)[(uint)i * 0x1ac] = (&DAT_40006ffa)[(uint)i * 0x1ac] | 0x80;
            }
            else {
              (&DAT_40006ffa)[(uint)i * 0x1ac] = (&DAT_40006ffa)[(uint)i * 0x1ac] & 0x7f;
            }
          }
        }
        else {
          (&DAT_40006ffa)[(uint)i * 0x1ac] = (&DAT_40006ffa)[(uint)i * 0x1ac] | 0x80;
        }
      }
      cVar3 = cVar3 + 12;
    }
    if (((DAT_40006a78 & 8) == 0) && (DAT_40006a84 != 0)) {
      DAT_40006a78 = DAT_40006a78 | 8;
      flexcan_counters_update();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined8 diagnostic_tx_unknown(void)

{
  ushort uVar1;
  
  noop_000b4f34();
  if (DAT_40007f0a != 0) {
    if (DAT_40007f0a < 0x100) {
      uVar1 = DAT_40007f0a & 0xff;
      DAT_40007f0a = 0;
    }
    else {
      uVar1 = 0;
      DAT_40007f0a = DAT_40007f0a - 0x100;
    }
    do {
      _DAT_40006a74 = _DAT_40006a74 + (ushort)*_DAT_40006a80;
      _DAT_40006a80 = _DAT_40006a80 + 1;
      uVar1 = uVar1 - 1;
    } while ((uVar1 & 0xff) != 0);
    if (DAT_40007f0a != 0) {
      return 1;
    }
    flexcan_a_tx_351_redirect2();
  }
  return 0;
}



void FUN_000b4dd0(void)

{
  undefined1 *p;
  
  for (p = &DAT_40006a70; p < (undefined1 *)0x40007f0c; p = p + 1) {
    *p = 0;
  }
  return;
}



void flexcan_counters_update(void)

{
  if (((DAT_40006a78 & 0x80) != 0) && (DAT_40006a84 != '\0')) {
    FUN_000b4edc(&DAT_40006a86 + (uint)DAT_40006a85 * 8);
    DAT_40006a85 = DAT_40006a85 + 1;
    if (0x77 < DAT_40006a85) {
      DAT_40006a85 = 0;
    }
    DAT_40006a84 = DAT_40006a84 + -1;
    if (DAT_40006a84 == '\0') {
      DAT_40006a78 = DAT_40006a78 & 0xf7;
    }
  }
  return;
}



void FUN_000b4ed4(undefined4 param_1)

{
  DAT_40001980 = param_1;
  return;
}



undefined8 FUN_000b4edc(undefined *param_1)

{
  flexcan_b_tx_351_unknown(param_1);
  DAT_400016f8 = 4;
  return 1;
}



bool flexcan_a_tx_351_redirect(byte *data)

{
  flexcan_b_tx_351(data);
  return true;
}



undefined8 FUN_000b4f2c(undefined8 param_1,undefined8 param_2)

{
  return param_2;
}



void noop_000b4f34(void)

{
  return;
}



void flexcan_diagnostics_tx(void)

{
  DAT_400026e8 = DAT_400026e8 + 1;
  diagnostic_tx_unknown();
  return;
}



void flexcan_a_obd_send_messages(void)

{
  uint32_t uVar1;
  uint uVar2;
  byte i;
  uint uVar3;
  
  uVar2 = fca_buffer[0x16].code_and_timestamp;
  fca_buffer[0x16].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
  uVar1 = fca_buffer[0x16].arb_id;
  fca_buffer[0x16].arb_id = uVar1 & 0xe003ffff | 0x1fa00000;
  if (obd_ii_tx_messages_pending) {
    if (obd_ii_tx_messages_pending < 2) {
      uVar2 = 0;
    }
    else {
      uVar2 = (obd_ii_tx_messages_pending - 1) * 7 & 0xffff;
    }
    fca_buffer[0x16].data[0] = obd_ii_tx_messages_pending & 0xfU | 0x20;
    if ((uVar2 & 0xff) + 0xd < (uint)obd_ii_response_length) {
      for (i = 0; i < 7; i = i + 1) {
        fca_buffer[0x16].data[i + 1] = obd_ii_response[(uVar2 & 0xff) + (uint)i + 6];
      }
      if (obd_ii_tx_messages_pending < 0xff) {
        obd_ii_tx_messages_pending = (bool)(obd_ii_tx_messages_pending + '\x01');
      }
      else {
        obd_ii_tx_messages_pending = false;
      }
    }
    else {
      for (uVar3 = 0; (int)(uVar3 & 0xff) < (int)((obd_ii_response_length - uVar2) + -6);
          uVar3 = uVar3 + 1) {
        fca_buffer[0x16].data[(uVar3 & 0xff) + 1] =
             obd_ii_response[(uVar2 & 0xff) + (uVar3 & 0xff) + 6];
      }
      for (uVar2 = (obd_ii_response_length - uVar2) - 6 & 0xff; (uVar2 & 0xff) < 7;
          uVar2 = uVar2 + 1) {
        fca_buffer[0x16].data[(uVar2 & 0xff) + 1] = 0;
      }
      DAT_400026f5 = 0;
      DAT_400026f8 = 0;
      DAT_400026f3 = 0;
      obd_ii_tx_messages_pending = false;
    }
  }
  else if (obd_ii_response_length < 8) {
    fca_buffer[0x16].data[0] = (byte)obd_ii_response_length;
    for (uVar2 = 0; (uVar2 & 0xff) < (uint)obd_ii_response_length; uVar2 = uVar2 + 1) {
      fca_buffer[0x16].data[(uVar2 & 0xff) + 1] = obd_ii_response[uVar2 & 0xff];
    }
    for (uVar2 = obd_ii_response_length & 0xff; (uVar2 & 0xff) < 7; uVar2 = uVar2 + 1) {
      fca_buffer[0x16].data[(uVar2 & 0xff) + 1] = 0;
    }
    obd_ii_tx_messages_pending = false;
  }
  else {
    fca_buffer[0x16].data[0] = (byte)(obd_ii_response_length >> 8) | 0x10;
    fca_buffer[0x16].data[1] = (byte)obd_ii_response_length;
    for (i = 0; i < 6; i = i + 1) {
      fca_buffer[0x16].data[i + 2] = obd_ii_response[i];
    }
    obd_ii_tx_messages_pending = true;
  }
  uVar2 = fca_buffer[0x16].code_and_timestamp;
  fca_buffer[0x16].code_and_timestamp = uVar2 & 0xfff0ffff | 0x80000;
  uVar2 = fca_buffer[0x16].code_and_timestamp;
  fca_buffer[0x16].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  return;
}



void obd_ii_send_200hz(void)

{
  if ((DAT_400026f3 != 0) && (obd_ii_tx_messages_pending)) {
    if (DAT_400026f2 == '\0') {
      if (DAT_400026f8 == '\0') {
        if (DAT_400026f4 == '\0') {
          DAT_400026f8 = -1;
        }
        else {
          DAT_400026f8 = DAT_400026f4;
          DAT_400026f4 = '\0';
        }
      }
      if (DAT_400026f8 != '\0') {
        if (DAT_400026f9 == 0) {
          flexcan_a_obd_send_messages();
          DAT_400026f8 = DAT_400026f8 + -1;
          if (DAT_400026f8 == '\0') {
            DAT_400026f3 = '\0';
            DAT_400026f5 = 0;
            DAT_400026f8 = '\0';
            DAT_400026f4 = '\0';
            DAT_400026f2 = '\0';
          }
          if ((DAT_400026f5 & 0xf0) == 0xf0) {
            DAT_400026f9 = 0;
          }
          else {
            DAT_400026f9 = DAT_400026f5 / 5;
          }
        }
        else {
          DAT_400026f9 = DAT_400026f9 - 1;
        }
      }
    }
    else if (DAT_400026f2 == '\x01') {
      DAT_400026f3 = '\0';
    }
    else if (DAT_400026f2 == '\x02') {
      DAT_400026f3 = '\0';
      DAT_400026f5 = 0;
      DAT_400026f8 = '\0';
      DAT_400026f4 = '\0';
      DAT_400026f2 = '\0';
    }
  }
  return;
}



void init_flexcan_a(void)

{
  uint16_t uVar1;
  byte bVar2;
  uint uVar3;
  
  uVar3 = DAT_fffc0000;
  DAT_fffc0000 = uVar3 & 0xfdffffff | 0x2000000;
  do {
    uVar3 = DAT_fffc0000;
  } while ((uVar3 >> 0x19 & 1) == 1);
  uVar3 = DAT_fffc0000;
  DAT_fffc0000 = uVar3 & 0xefffffff | 0x10000000;
  do {
    uVar3 = DAT_fffc0000;
  } while ((uVar3 & 0x9000000) != 0x9000000);
  DAT_fffc0004 = 0x1510001;
  fca_buffer[0].code_and_timestamp = 0;
  uVar3 = fca_buffer[0].code_and_timestamp;
  fca_buffer[0].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[0].arb_id = 0x2dc0000;
  uVar3 = fca_buffer[0].code_and_timestamp;
  fca_buffer[0].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[1].code_and_timestamp = 0;
  uVar3 = fca_buffer[1].code_and_timestamp;
  fca_buffer[1].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[1].arb_id = 0x31c0000;
  uVar3 = fca_buffer[1].code_and_timestamp;
  fca_buffer[1].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[2].code_and_timestamp = 0;
  uVar3 = fca_buffer[2].code_and_timestamp;
  fca_buffer[2].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[2].arb_id = 0x8080000;
  uVar3 = fca_buffer[2].code_and_timestamp;
  fca_buffer[2].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[3].code_and_timestamp = 0;
  uVar3 = fca_buffer[3].code_and_timestamp;
  fca_buffer[3].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[3].arb_id = 0x101c0000;
  uVar3 = fca_buffer[3].code_and_timestamp;
  fca_buffer[3].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[4].code_and_timestamp = 0;
  uVar3 = fca_buffer[4].code_and_timestamp;
  fca_buffer[4].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[4].arb_id = 0x2140000;
  uVar3 = fca_buffer[4].code_and_timestamp;
  fca_buffer[4].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[5].code_and_timestamp = 0;
  uVar3 = fca_buffer[5].code_and_timestamp;
  fca_buffer[5].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[5].arb_id = 0x9400000;
  uVar3 = fca_buffer[5].code_and_timestamp;
  fca_buffer[5].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[6].code_and_timestamp = 0;
  uVar3 = fca_buffer[6].code_and_timestamp;
  fca_buffer[6].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[6].arb_id = 0xc400000;
  uVar3 = fca_buffer[6].code_and_timestamp;
  fca_buffer[6].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[8].code_and_timestamp = 0;
  fca_buffer[9].code_and_timestamp = 0;
  uVar3 = fca_buffer[9].code_and_timestamp;
  fca_buffer[9].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[9].arb_id = 0x1f7c0000;
  uVar3 = fca_buffer[9].code_and_timestamp;
  fca_buffer[9].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[10].code_and_timestamp = 0;
  uVar3 = fca_buffer[10].code_and_timestamp;
  fca_buffer[10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[10].arb_id = 0x1f800000;
  uVar3 = fca_buffer[10].code_and_timestamp;
  fca_buffer[10].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0xb].code_and_timestamp = 0;
  uVar3 = fca_buffer[0xb].code_and_timestamp;
  fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[0xb].arb_id = 0x14080000;
  uVar3 = fca_buffer[0xb].code_and_timestamp;
  fca_buffer[0xb].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0xc].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == '\x01') {
    uVar3 = fca_buffer[0xc].code_and_timestamp;
    fca_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    fca_buffer[0xc].arb_id = 0xd400000;
    uVar3 = fca_buffer[0xc].code_and_timestamp;
    fca_buffer[0xc].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fca_buffer[0xd].code_and_timestamp = 0;
  uVar3 = fca_buffer[0xd].code_and_timestamp;
  fca_buffer[0xd].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[0xd].arb_id = 0xc0c0000;
  uVar3 = fca_buffer[0xd].code_and_timestamp;
  fca_buffer[0xd].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0xe].code_and_timestamp = 0;
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  fca_buffer[0xe].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[0xe].arb_id = 0x2800000;
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  fca_buffer[0xe].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0xf].code_and_timestamp = 0;
  uVar3 = fca_buffer[0xf].code_and_timestamp;
  fca_buffer[0xf].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fca_buffer[0xf].arb_id = 0x1400000;
  uVar3 = fca_buffer[0xf].code_and_timestamp;
  fca_buffer[0xf].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x10].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x10].code_and_timestamp;
  fca_buffer[0x10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x10].arb_id = 0;
  uVar3 = fca_buffer[0x10].code_and_timestamp;
  fca_buffer[0x10].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x11].code_and_timestamp = 0;
  fca_buffer[0x12].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x12].code_and_timestamp;
  fca_buffer[0x12].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x12].arb_id = 0;
  uVar3 = fca_buffer[0x12].code_and_timestamp;
  fca_buffer[0x12].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x13].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x13].code_and_timestamp;
  fca_buffer[0x13].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x13].arb_id = 0;
  uVar3 = fca_buffer[0x13].code_and_timestamp;
  fca_buffer[0x13].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x14].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x14].code_and_timestamp;
  fca_buffer[0x14].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x14].arb_id = 0;
  uVar3 = fca_buffer[0x14].code_and_timestamp;
  fca_buffer[0x14].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x15].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x15].code_and_timestamp;
  fca_buffer[0x15].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x15].arb_id = 0;
  uVar3 = fca_buffer[0x15].code_and_timestamp;
  fca_buffer[0x15].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x16].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x16].code_and_timestamp;
  fca_buffer[0x16].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x16].arb_id = 0;
  uVar3 = fca_buffer[0x16].code_and_timestamp;
  fca_buffer[0x16].code_and_timestamp = uVar3 & 0xffff0000;
  fca_buffer[0x17].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == 1) {
    uVar3 = fca_buffer[0x17].code_and_timestamp;
    fca_buffer[0x17].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
    fca_buffer[0x17].arb_id = 0xd440000;
    uVar3 = fca_buffer[0x17].code_and_timestamp;
    fca_buffer[0x17].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fca_buffer[0x18].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == 1) {
    uVar3 = fca_buffer[0x18].code_and_timestamp;
    fca_buffer[0x18].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
    fca_buffer[0x18].arb_id = 0xd440000;
    uVar3 = fca_buffer[0x18].code_and_timestamp;
    fca_buffer[0x18].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fca_buffer[0x19].code_and_timestamp = 0;
  uVar3 = fca_buffer[0x19].code_and_timestamp;
  fca_buffer[0x19].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fca_buffer[0x19].arb_id = 0;
  uVar3 = fca_buffer[0x19].code_and_timestamp;
  fca_buffer[0x19].code_and_timestamp = uVar3 & 0xffff0000;
  DAT_fffc0010 = 0x1ff3ffff;
  DAT_fffc0014 = 0x1fc7ffff;
  DAT_fffc0018 = 0x1fe3ffff;
  DAT_fffc0024 = 0;
  DAT_fffc0028 = 0;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffffe | 1;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffffd | 2;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffffb | 4;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffff7 | 8;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffffef | 0x10;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffffdf | 0x20;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffffbf | 0x40;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffff7f | 0x80;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffeff | 0x100;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffdff | 0x200;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffffbff | 0x400;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffff7ff | 0x800;
  if (CAL_ecu_flexcan_config_unknown == '\x01') {
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xffffefff | 0x1000;
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xff7fffff | 0x800000;
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xfeffffff | 0x1000000;
  }
  else {
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xffffefff;
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xff7fffff;
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xfeffffff;
  }
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffdfff | 0x2000;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffffbfff | 0x4000;
  if (ecu_unlocked) {
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xffff7fff | 0x8000;
  }
  else {
    uVar3 = DAT_fffc0028;
    DAT_fffc0028 = uVar3 & 0xffff7fff;
  }
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffeffff | 0x10000;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfffbffff | 0x40000;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xfff7ffff;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffefffff | 0x100000;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffdfffff | 0x200000;
  uVar3 = DAT_fffc0028;
  DAT_fffc0028 = uVar3 & 0xffbfffff | 0x400000;
  bVar2 = INTC_PSR[0x9b];
  INTC_PSR[0x9b] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0x9c];
  INTC_PSR[0x9c] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0x9d];
  INTC_PSR[0x9d] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0x9e];
  INTC_PSR[0x9e] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0x9f];
  INTC_PSR[0x9f] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa0];
  INTC_PSR[0xa0] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa1];
  INTC_PSR[0xa1] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa2];
  INTC_PSR[0xa2] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa3];
  INTC_PSR[0xa3] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa4];
  INTC_PSR[0xa4] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa5];
  INTC_PSR[0xa5] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa6];
  INTC_PSR[0xa6] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa7];
  INTC_PSR[0xa7] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa8];
  INTC_PSR[0xa8] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xa9];
  INTC_PSR[0xa9] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xaa];
  INTC_PSR[0xaa] = bVar2 & 0xf0 | 2;
  bVar2 = INTC_PSR[0xab];
  INTC_PSR[0xab] = bVar2 & 0xf0 | 2;
  uVar3 = DAT_fffc0000;
  DAT_fffc0000 = uVar3 & 0xffffffc0 | 0x19;
  uVar1 = siu_pcr[0x53];
  siu_pcr[0x53] = uVar1 & 0xe3ff | 0x400;
  uVar1 = siu_pcr[0x54];
  siu_pcr[0x54] = uVar1 & 0xe3ff | 0x400;
  uVar3 = DAT_fffc0000;
  DAT_fffc0000 = uVar3 & 0xefffffff;
  flexcan_a_interrupt_reg_flag_high = 0xffffffff;
  flexcan_a_interrupt_reg_flag_low = 0xffffffff;
  return;
}



// Torque reduction requests

void flexcan_a_rx_B7(void)

{
  char cVar1;
  undefined4 uVar2;
  uint32_t uVar3;
  uint len_;
  char cVar4;
  uint i;
  undefined4 local_20;
  undefined4 local_1c;
  
  local_20 = 0;
  local_1c = 0;
  uVar3 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar3 & 0xfffffffe | 1;
  len_ = fca_buffer[0].code_and_timestamp;
  while ((len_ >> 0x18 & 1) != 0) {
    len_ = fca_buffer[0].code_and_timestamp;
  }
  len_ = fca_buffer[0].code_and_timestamp;
  if ((len_ >> 0x18 & 6) == 6) {
    len_ = fca_buffer[0].code_and_timestamp;
    fca_buffer[0].code_and_timestamp = len_ & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
  }
  else {
    len_ = fca_buffer[0].code_and_timestamp;
    if ((len_ >> 0x18 & 2) == 2) {
      if (((COD_base[1] >> 9 & 1) == 0) || ((COD_base[0] >> 0x16 & 7) == 0)) {
        DAT_4000284f = 0;
        DAT_4000284e = 0;
        flexcan_flags_unknown = flexcan_flags_unknown & 0xf8ff;
                    // first torque reduction req?
        torque_limit_external_req1 = 911;
                    // second torque reduction req?
        torque_limit_external_req2 = 911;
                    // third torque reduction req?
        torque_limit_external_req3 = 911;
      }
      else {
        uVar3 = fca_buffer[0].arb_id;
        if ((uVar3 >> 0x12 & 0x7ff) == 0xb7) {
          len_ = fca_buffer[0].code_and_timestamp;
          len_ = len_ >> 16 & 0b00001111;
          for (i = 0; (i & 255) < len_; i = i + 1) {
            *(byte *)((int)&local_20 + (i & 0xff)) = fca_buffer[0].data[i & 0xff];
          }
          if (len_ == 7) {
            flexcan_mesg_0xb7_is_7byte = true;
            cVar1 = local_1c._2_1_;
            cVar4 = checksum_xor_8(&local_20,6);
          }
          else {
            flexcan_mesg_0xb7_is_7byte = false;
            cVar1 = local_1c._0_1_;
            cVar4 = checksum_xor_8(&local_20,4);
          }
          i = (int)(local_20 & 0b11110000) >> 4;
          if (cVar1 == cVar4) {
            DAT_400029e8 = 0;
          }
          else if (DAT_400029e8 != -1) {
            DAT_400029e8 = DAT_400029e8 + 1;
          }
          if (i == (rolling_counter_can_mesg_0xb7 + 1 & 0b00001111)) {
            DAT_400029e9 = 0;
          }
          else if (DAT_400029e9 != -1) {
            DAT_400029e9 = DAT_400029e9 + 1;
          }
          rolling_counter_can_mesg_0xb7 = (uint8_t)i;
          torque_12bit_raw_signed = (local_20._1_1_ & 0xf) << 8 | (ushort)local_20._0_1_;
          if (torque_12bit_raw_signed < 4096) {
                    // positive req values
            if (torque_12bit_raw_signed < 2048) {
              flexcan_flags_unknown = flexcan_flags_unknown | 0b0000000100000000;
              torque_limit_external_req1 = ((short)torque_12bit_raw_signed >> 2) + 400;
            }
            else {
                    // negative req values
              flexcan_flags_unknown = flexcan_flags_unknown | 0b0000000100000000;
              torque_limit_external_req1 =
                   ((short)(torque_12bit_raw_signed | 0b1111100000000000) >> 2) +
                   (ushort)((short)(torque_12bit_raw_signed | 0b1111100000000000) < 0 &&
                           (local_20 & 0b00000011000000000000000000000000) != 0) + 400;
            }
          }
          else {
            flexcan_flags_unknown = flexcan_flags_unknown & 0b1111111011111111;
            torque_limit_external_req1 = 911;
          }
          i = (int)(local_20._1_1_ & 0xf0) >> 4;
          DAT_4000170c = (ushort)local_20._2_1_ << 4 | (ushort)i;
          if (DAT_4000170c < 4096) {
            if (DAT_4000170c < 2048) {
              flexcan_flags_unknown = flexcan_flags_unknown | 0b0000001000000000;
              torque_limit_external_req2 = ((short)DAT_4000170c >> 2) + 400;
            }
            else {
              flexcan_flags_unknown = flexcan_flags_unknown | 0b0000001000000000;
              torque_limit_external_req2 =
                   ((short)(DAT_4000170c | 0xf800) >> 2) +
                   (ushort)((short)(DAT_4000170c | 0xf800) < 0 && (i & 3) != 0) + 400;
            }
          }
          else {
            flexcan_flags_unknown = flexcan_flags_unknown & 0xfdff;
            torque_limit_external_req2 = 0x38f;
          }
          if (((local_20 & 1) == 0) || ((local_20 & 2) != 0)) {
            if (((local_20 & 2) == 0) || ((local_20 & 1) != 0)) {
              DAT_4000284f = 0;
              DAT_4000284e = 0;
            }
            else {
              DAT_4000284e = 1;
            }
          }
          else {
            DAT_4000284f = 1;
          }
          if (len_ == 7) {
            DAT_4000170e = (local_1c._1_1_ & 0xf) << 8 | (ushort)local_1c._0_1_;
            if (DAT_4000170e < 0x1000) {
              if (DAT_4000170e < 0x800) {
                flexcan_flags_unknown = flexcan_flags_unknown | 0x400;
                torque_limit_external_req3 = ((short)DAT_4000170e >> 2) + 400;
              }
              else {
                flexcan_flags_unknown = flexcan_flags_unknown | 0x400;
                torque_limit_external_req3 =
                     ((short)(DAT_4000170e | 0xf800) >> 2) +
                     (ushort)((short)(DAT_4000170e | 0xf800) < 0 && (local_1c & 0x3000000) != 0) +
                     400;
              }
            }
            else {
              flexcan_flags_unknown = flexcan_flags_unknown & 0xfbff;
              torque_limit_external_req3 = 0x38f;
            }
          }
          else {
            flexcan_flags_unknown = flexcan_flags_unknown & 0xfbff;
            torque_limit_external_req3 = 0x38f;
          }
          flexcan_flags_unknown = flexcan_flags_unknown | 0x40;
        }
      }
    }
  }
  len_ = fca_buffer[0].code_and_timestamp;
  fca_buffer[0].code_and_timestamp = len_ & 0xf0ffffff;
  uVar3 = fca_buffer[0].arb_id;
  fca_buffer[0].arb_id = uVar3 & 0xe003ffff | 0x2dc0000;
  len_ = fca_buffer[0].code_and_timestamp;
  fca_buffer[0].code_and_timestamp = len_ & 0xf0ffffff | 0x4000000;
  return;
}



void flexcan_a_rx_199(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  ushort uVar4;
  byte bVar5;
  byte local_10 [4];
  undefined4 local_c;
  
  local_10[0] = 0;
  local_10[1] = 0;
  local_10[2] = 0;
  local_10[3] = 0;
  local_c = 0;
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffffffd | 2;
  uVar3 = fca_buffer[1].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[1].code_and_timestamp;
  }
  uVar3 = fca_buffer[1].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[1].code_and_timestamp;
    fca_buffer[1].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[1].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) && (uVar2 = fca_buffer[1].arb_id, (uVar2 >> 0x12 & 0x7ff) == 199)
       ) {
      if ((COD_base[0] >> 0xd & 7) == 1) {
        for (bVar5 = 0; bVar5 < 8; bVar5 = bVar5 + 1) {
          local_10[bVar5] = fca_buffer[1].data[bVar5];
        }
        DAT_400026b2 = (ushort)local_10[0] * 0x100 + (ushort)local_10[1];
        DAT_400026b4 = (ushort)local_10[2] * 0x100 + (ushort)local_10[3];
        DAT_40002738 = local_c._0_1_;
        ips_state_flags = local_c._1_1_;
        uVar4 = ((byte)local_c & 0xf) << 8 | (ushort)local_c._2_1_;
        if (uVar4 < 0x1000) {
          if (uVar4 < 0x800) {
            DAT_400029de = DAT_400029de | 0x110;
            u16_torque_nm_4000173c = ((short)uVar4 >> 2) + 400;
          }
          else {
            DAT_400029de = DAT_400029de | 0x110;
            u16_torque_nm_4000173c =
                 ((short)(uVar4 | 0xf800) >> 2) +
                 (ushort)((short)(uVar4 | 0xf800) < 0 && (local_c & 0x300) != 0) + 400;
          }
        }
        else {
          DAT_400029de = DAT_400029de & 0b1111111011111111 | 0b00010000;
          u16_torque_nm_4000173c = 911;
        }
        DAT_4000173e = u16_torque_nm_4000173c;
        DAT_400029de = DAT_400029de & 0xfdff;
        if ((local_c & 0x80) == 0) {
          DAT_40002850 = 0;
        }
        else {
          DAT_40002850 = 1;
        }
      }
      else {
        DAT_40002850 = 0;
        DAT_400029de = DAT_400029de & 0xfcff;
        u16_torque_nm_4000173c = 0x38f;
        DAT_40002738 = 0;
      }
    }
  }
  uVar3 = fca_buffer[1].code_and_timestamp;
  fca_buffer[1].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[1].arb_id;
  fca_buffer[1].arb_id = uVar2 & 0xe003ffff | 0x31c0000;
  uVar3 = fca_buffer[1].code_and_timestamp;
  fca_buffer[1].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  return;
}



// from TCU

void flexcan_a_rx_202(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  byte i;
  enum_t6e_gear _buffer;
  byte bStack_f;
  byte bStack_e;
  
  __buffer = 0;
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffffffb | 4;
  uVar3 = fca_buffer[2].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[2].code_and_timestamp;
  }
  uVar3 = fca_buffer[2].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[2].code_and_timestamp;
    fca_buffer[2].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[2].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) &&
       (uVar2 = fca_buffer[2].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x202)) {
      if ((COD_base[0] >> 0xd & 7) == 1) {
        DAT_400029de = DAT_400029de | 1;
        for (i = 0; i < 8; i = i + 1) {
          (&_buffer)[i] = fca_buffer[2].data[i];
        }
        gear_index_auto = _buffer & 0b00001111;
        recent_shift_flags_ips = bStack_f & 1;
        ips_flags_faults_ = bStack_e & 0b01100000;
      }
      else {
        gear_index_auto = 15;
      }
    }
  }
  uVar3 = fca_buffer[2].code_and_timestamp;
  fca_buffer[2].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[2].arb_id;
  fca_buffer[2].arb_id = uVar2 & 0xe003ffff | 0x8080000;
  uVar3 = fca_buffer[2].code_and_timestamp;
  fca_buffer[2].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  return;
}



// This is probably data back from the dash

void flexcan_a_rx_407(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  byte bVar4;
  
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffffff7 | 8;
  uVar3 = fca_buffer[3].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[3].code_and_timestamp;
  }
  uVar3 = fca_buffer[3].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[3].code_and_timestamp;
    fca_buffer[3].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[3].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) &&
       (uVar2 = fca_buffer[3].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x407)) {
      ambiant_air_temp_unscaled = fca_buffer[3].data[0];
      DAT_40001789 = DAT_40001789 | 0b00100001;
      bVar4 = fca_buffer[3].data[1];
      dash_values[0] = bVar4 & 0b00000011;
      bVar4 = fca_buffer[3].data[1];
      dash_values[1] = (byte)(((ulonglong)bVar4 << 32) >> 34) & 0b00000011;
      bVar4 = fca_buffer[3].data[1];
      dash_values[2] = (byte)(((ulonglong)bVar4 << 32) >> 36) & 0b00000011;
      bVar4 = fca_buffer[3].data[1];
      dash_values[3] = (byte)(((ulonglong)bVar4 << 32) >> 38);
      bVar4 = fca_buffer[3].data[2];
                    // this appears to be the average fuel consumption reset request.
      dash_values[4] = bVar4 & 0b00000011;
    }
  }
  uVar3 = fca_buffer[3].code_and_timestamp;
  fca_buffer[3].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[3].arb_id;
  fca_buffer[3].arb_id = uVar2 & 0xe003ffff | 0x101c0000;
  uVar3 = fca_buffer[3].code_and_timestamp;
  fca_buffer[3].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  return;
}



// steering angle sensor

void flexcan_a_rx_85(void)

{
  byte bVar1;
  undefined4 uVar2;
  uint32_t uVar3;
  uint uVar4;
  byte i;
  byte data [5];
  
  data[0] = 0;
  data[1] = 0;
  data[2] = 0;
  data[3] = 0;
  uVar3 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar3 & 0xffffffef | 0x10;
  uVar4 = fca_buffer[4].code_and_timestamp;
  while ((uVar4 >> 0x18 & 1) != 0) {
    uVar4 = fca_buffer[4].code_and_timestamp;
  }
  uVar4 = fca_buffer[4].code_and_timestamp;
  if ((uVar4 >> 0x18 & 6) == 6) {
    uVar4 = fca_buffer[4].code_and_timestamp;
    fca_buffer[4].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
  }
  else {
    uVar4 = fca_buffer[4].code_and_timestamp;
    if ((((uVar4 >> 0x18 & 2) == 2) && ((COD_base[1] >> 0xc & 1) != 0)) &&
       (uVar3 = fca_buffer[4].arb_id, (uVar3 >> 0x12 & 0x7ff) == 0x85)) {
      DAT_400029e2 = DAT_400029e2 | 1;
      for (i = 0; i < 5; i = i + 1) {
        data[i] = fca_buffer[4].data[i];
      }
      steering_angle = CONCAT11(data[1],data[0]);
      steering_angle_rate___ = data[2];
      i = steering_angle_sensor_flags____ | 1;
      if ((data._0_4_ & 1) == 0) {
        i = steering_angle_sensor_flags____ & 0xfe;
      }
      bVar1 = i | 2;
      if ((data._0_4_ & 2) == 0) {
        bVar1 = i & 0xfd;
      }
      steering_angle_sensor_flags____ = bVar1 | 4;
      if ((data._0_4_ & 4) == 0) {
        steering_angle_sensor_flags____ = bVar1 & 0xfb;
      }
    }
  }
  uVar4 = fca_buffer[4].code_and_timestamp;
  fca_buffer[4].code_and_timestamp = uVar4 & 0xf0ffffff;
  uVar3 = fca_buffer[4].arb_id;
  fca_buffer[4].arb_id = uVar3 & 0xe003ffff | 0x2140000;
  uVar4 = fca_buffer[4].code_and_timestamp;
  fca_buffer[4].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
  return;
}



void flexcan_a_rx_250(void)

{
  ushort uVar1;
  bool bVar2;
  undefined4 uVar3;
  uint32_t uVar4;
  uint uVar5;
  byte bVar6;
  undefined4 local_10;
  undefined4 local_c;
  
  local_10 = 0;
  local_c = 0;
  uVar4 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar4 & 0xffffffdf | 0x20;
  uVar5 = fca_buffer[5].code_and_timestamp;
  while ((uVar5 >> 0x18 & 1) != 0) {
    uVar5 = fca_buffer[5].code_and_timestamp;
  }
  uVar5 = fca_buffer[5].code_and_timestamp;
  if ((uVar5 >> 0x18 & 6) == 6) {
    uVar5 = fca_buffer[5].code_and_timestamp;
    fca_buffer[5].code_and_timestamp = uVar5 & 0xf0ffffff | 0x4000000;
    uVar3 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar3;
  }
  else {
    uVar5 = fca_buffer[5].code_and_timestamp;
    if (((uVar5 >> 0x18 & 2) == 2) &&
       (uVar4 = fca_buffer[5].arb_id, (uVar4 >> 0x12 & 0x7ff) == 0x250)) {
      if ((COD_base[0] >> 0xd & 7) == 1) {
        DAT_400029de = DAT_400029de | 0x40;
        for (bVar6 = 0; bVar6 < 8; bVar6 = bVar6 + 1) {
          *(byte *)((int)&local_10 + (uint)bVar6) = fca_buffer[5].data[bVar6];
        }
        bVar2 = (local_10 & 0x1000000) == 0;
        if (bVar2) {
          DAT_40001780 = 0xff;
        }
        else {
          DAT_40001780 = local_10._1_1_;
        }
        ips_enforce_speed_limit = !bVar2;
        bVar2 = (local_10 & 0x2000000) == 0;
        if (bVar2) {
          engine_state_failure_flags = engine_state_failure_flags & 0xfffff7ff;
        }
        else {
          engine_state_failure_flags = engine_state_failure_flags | 0x800;
        }
        ip_message_250_flags_unknown = !bVar2;
        DAT_400029a2 = (byte)(-((ulonglong)local_10._0_1_ & 4) >> 0x18) >> 7;
        DAT_40001dec = local_10._2_1_;
        uVar1 = main_diagnostic_flags & 0xffdf;
        main_diagnostic_flags = main_diagnostic_flags | 0x20;
        if ((local_10 & 0b0000010000000000) == 0) {
          main_diagnostic_flags = uVar1;
        }
        shift_light_state_from_ips = (uint8_t)local_10;
        DAT_400029e6 = local_c._0_1_;
        DAT_400029e7 = 1;
        obd_ii_oil_temp_ips = local_c._1_1_;
        if (local_c._2_1_ < 0x80) {
          DAT_40001746 = 0xff;
        }
        else {
          DAT_40001746 = local_c._2_1_;
        }
      }
      else {
        ips_enforce_speed_limit = false;
        DAT_40001780 = 0xff;
        ip_message_250_flags_unknown = false;
        engine_state_failure_flags = engine_state_failure_flags & 0xfffff7ff;
        DAT_400029a2 = 0;
        DAT_40001dec = 0;
        main_diagnostic_flags = main_diagnostic_flags & 0xffdf;
        shift_light_state_from_ips = '\0';
        DAT_400029e6 = 0;
        DAT_40001746 = 0x80;
      }
    }
  }
  uVar5 = fca_buffer[5].code_and_timestamp;
  fca_buffer[5].code_and_timestamp = uVar5 & 0xf0ffffff;
  uVar4 = fca_buffer[5].arb_id;
  fca_buffer[5].arb_id = uVar4 & 0xe003ffff | 0x9400000;
  uVar5 = fca_buffer[5].code_and_timestamp;
  fca_buffer[5].code_and_timestamp = uVar5 & 0xf0ffffff | 0x4000000;
  uVar4 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar4 & 0xffffffdf | 0x20;
  return;
}



void flexcan_a_rx_310_311_x312(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  uint32_t arb_id;
  byte b0;
  byte b1;
  byte b2;
  byte b3;
  byte b4;
  byte b5;
  byte b6;
  byte b7;
  
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xffffffbf | 0x40;
  uVar3 = fca_buffer[6].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[6].code_and_timestamp;
  }
  uVar3 = fca_buffer[6].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[6].code_and_timestamp;
    fca_buffer[6].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[6].code_and_timestamp;
    if ((uVar3 >> 0x18 & 2) == 2) {
      uVar2 = fca_buffer[6].arb_id;
      if ((((uVar2 >> 0x12 & 0x7ff) == 0x310) ||
          (uVar2 = fca_buffer[6].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x311)) ||
         (uVar2 = fca_buffer[6].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x312)) {
        b0 = fca_buffer[6].data[0];
        b1 = fca_buffer[6].data[1];
        b2 = fca_buffer[6].data[2];
        b3 = fca_buffer[6].data[3];
        b4 = fca_buffer[6].data[4];
        b5 = fca_buffer[6].data[5];
        b6 = fca_buffer[6].data[6];
        b7 = fca_buffer[6].data[7];
        arb_id = fca_buffer[6].arb_id;
        if ((arb_id >> 0x12 & 0x7ff) == 0x310) {
          DAT_40002764 = CONCAT11(b0,b1);
          DAT_40002762 = CONCAT11(b2,b3);
          DAT_40002760 = CONCAT11(b4,b5);
          DAT_4000275e = CONCAT11(b6,b7);
          DAT_4000274c = (undefined2)((int)((uint)DAT_40002764 * 10) >> 2);
          DAT_4000274a = (undefined2)((int)((uint)DAT_40002762 * 10) >> 2);
          DAT_40002748 = (undefined2)((int)((uint)DAT_40002760 * 10) >> 2);
          DAT_40002746 = (undefined2)((int)((uint)DAT_4000275e * 10) >> 2);
        }
        else {
          uVar2 = fca_buffer[6].arb_id;
          if ((uVar2 >> 0x12 & 0x7ff) == 0x311) {
            DAT_4000274c = CONCAT11(b0,b1);
            DAT_4000274a = CONCAT11(b2,b3);
            DAT_40002748 = CONCAT11(b4,b5);
            DAT_40002746 = CONCAT11(b6,b7);
            DAT_40002756 = DAT_40002746;
            DAT_40002758 = DAT_40002748;
            DAT_4000275a = DAT_4000274a;
            DAT_4000275c = DAT_4000274c;
          }
          else {
            DAT_40002754 = CONCAT11(b0,b1);
            DAT_40002752 = CONCAT11(b2,b3);
            DAT_40002750 = CONCAT11(b4,b5);
            DAT_4000274e = CONCAT11(b6,b7);
          }
        }
        uVar3 = fca_buffer[6].code_and_timestamp;
        fca_buffer[6].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
      }
      else {
        uVar3 = fca_buffer[6].code_and_timestamp;
        fca_buffer[6].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc0008;
        DAT_40002714 = (undefined2)uVar1;
      }
    }
  }
  return;
}



void FUN_000b71e4(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xffffff7f | 0x80;
  return;
}



void FUN_000b71fc(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfffffeff | 0x100;
  return;
}



void flexcan_a_rx_7df(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  byte i;
  
  uVar3 = fca_buffer[9].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[9].code_and_timestamp;
  }
  uVar3 = fca_buffer[9].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[9].code_and_timestamp;
    fca_buffer[9].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[9].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) &&
       (uVar2 = fca_buffer[9].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x7df)) {
      for (i = 0; i < 8; i = i + 1) {
        obd_ii_request[i] = fca_buffer[9].data[i];
      }
      uVar3 = fca_buffer[9].code_and_timestamp;
      fca_buffer[9].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
      obd_ii_processing();
    }
  }
  uVar3 = fca_buffer[9].code_and_timestamp;
  fca_buffer[9].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[9].arb_id;
  fca_buffer[9].arb_id = uVar2 & 0xe003ffff | 0x1f7c0000;
  uVar3 = fca_buffer[9].code_and_timestamp;
  fca_buffer[9].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffffdff | 0x200;
  return;
}



void flexcan_a_rx_7e0(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  byte i;
  
  uVar3 = fca_buffer[10].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[10].code_and_timestamp;
  }
  uVar3 = fca_buffer[10].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[10].code_and_timestamp;
    fca_buffer[10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[10].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) &&
       (uVar2 = fca_buffer[10].arb_id, (uVar2 >> 0x12 & 0x7ff) == 0x7e0)) {
      for (i = 0; i < 8; i = i + 1) {
        obd_ii_request[i] = fca_buffer[10].data[i];
      }
      uVar3 = fca_buffer[10].code_and_timestamp;
      fca_buffer[10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
      obd_ii_processing();
    }
  }
  uVar3 = fca_buffer[10].code_and_timestamp;
  fca_buffer[10].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[10].arb_id;
  fca_buffer[10].arb_id = uVar2 & 0xe003ffff | 0x1f800000;
  uVar3 = fca_buffer[10].code_and_timestamp;
  fca_buffer[10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffffbff | 0x400;
  return;
}



void flexcan_a_rx_502(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  byte i;
  byte local_10 [8];
  
  local_10[0] = 0;
  local_10[1] = 0;
  local_10[2] = 0;
  local_10[3] = 0;
  local_10[4] = 0;
  local_10[5] = 0;
  local_10[6] = 0;
  local_10[7] = 0;
  DAT_40002716 = DAT_40002716 + 1;
  uVar3 = fca_buffer[0xb].code_and_timestamp;
  if ((uVar3 >> 0x18 & 15) == 8) {
    uVar3 = fca_buffer[0xb].code_and_timestamp;
    fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff;
    uVar2 = fca_buffer[0xb].arb_id;
    fca_buffer[0xb].arb_id = uVar2 & 0xe003ffff | 0x14080000;
    uVar3 = fca_buffer[0xb].code_and_timestamp;
    fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar2 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffff7ff | 0x800;
  }
  uVar3 = fca_buffer[0xb].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[0xb].code_and_timestamp;
  }
  uVar3 = fca_buffer[0xb].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar2 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffff7ff | 0x800;
    uVar3 = fca_buffer[0xb].code_and_timestamp;
    fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[0xb].code_and_timestamp;
    if ((uVar3 >> 0x18 & 2) == 2) {
      uVar2 = flexcan_a_interrupt_reg_flag_low;
      flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffff7ff | 0x800;
      uVar2 = fca_buffer[0xb].arb_id;
      if ((uVar2 >> 0x12 & 0x7ff) == 0x502) {
        for (i = 0; i < 8; i = i + 1) {
          local_10[i] = fca_buffer[0xb].data[i];
        }
        init_cod_base(local_10,0,false);
      }
      else {
        uVar3 = fca_buffer[0xb].code_and_timestamp;
        fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff;
        uVar2 = fca_buffer[0xb].arb_id;
        fca_buffer[0xb].arb_id = uVar2 & 0xe003ffff | 0x14080000;
      }
      uVar3 = fca_buffer[0xb].code_and_timestamp;
      fca_buffer[0xb].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    }
  }
  return;
}



void flexcan_a_rx_350(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xffffefff | 0x1000;
  uVar3 = fca_buffer[0xc].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[0xc].code_and_timestamp;
  }
  uVar3 = fca_buffer[0xc].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[0xc].code_and_timestamp;
    fca_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[0xc].code_and_timestamp;
    if ((uVar3 >> 0x18 & 2) == 2) {
      uVar2 = fca_buffer[0xc].arb_id;
      if (((uVar2 >> 0x12 & 0x7ff) == 0x350) && (CAL_ecu_flexcan_config_unknown == '\x01')) {
        DAT_40002728 = fca_buffer[0xc].data[0];
        DAT_40002729 = fca_buffer[0xc].data[1];
        DAT_4000272a = fca_buffer[0xc].data[2];
        DAT_4000272b = fca_buffer[0xc].data[3];
        DAT_4000272c = fca_buffer[0xc].data[4];
        DAT_4000272d = fca_buffer[0xc].data[5];
        DAT_4000272e = fca_buffer[0xc].data[6];
        DAT_4000272f = fca_buffer[0xc].data[7];
        uVar3 = fca_buffer[0xc].code_and_timestamp;
        fca_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc0008;
        DAT_40002714 = (undefined2)uVar1;
        func_0x000b4634(&DAT_40002728);
      }
      else {
        uVar3 = fca_buffer[0xc].code_and_timestamp;
        fca_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc0008;
        DAT_40002714 = (undefined2)uVar1;
      }
    }
    else {
      uVar3 = fca_buffer[0xc].code_and_timestamp;
      fca_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
      uVar1 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar1;
    }
  }
  return;
}



void flexcan_a_rx_303(void)

{
  int iVar1;
  undefined4 uVar2;
  uint32_t uVar3;
  uint uVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  byte i;
  uint8_t data_buffer [8];
  
  data_buffer[0] = '\0';
  data_buffer[1] = '\0';
  data_buffer[2] = '\0';
  data_buffer[3] = '\0';
  data_buffer[4] = '\0';
  data_buffer[5] = '\0';
  data_buffer[6] = '\0';
  data_buffer[7] = '\0';
  uVar3 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar3 & 0xffffdfff | 0x2000;
  uVar4 = fca_buffer[0xd].code_and_timestamp;
  while ((uVar4 >> 0x18 & 1) != 0) {
    uVar4 = fca_buffer[0xd].code_and_timestamp;
  }
  uVar4 = fca_buffer[0xd].code_and_timestamp;
  if ((uVar4 >> 0x18 & 6) == 6) {
    uVar4 = fca_buffer[0xd].code_and_timestamp;
    fca_buffer[0xd].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
  }
  else {
    uVar4 = fca_buffer[0xd].code_and_timestamp;
    if ((((uVar4 >> 0x18 & 2) == 2) && ((COD_base[1] >> 0xb & 1) != 0)) &&
       (uVar3 = fca_buffer[0xd].arb_id, (uVar3 >> 0x12 & 0x7ff) == 0x303)) {
      bVar5 = DAT_40001788 & 0xfb;
      DAT_40001788 = bVar5 | 1;
      for (i = 0; i < 7; i = i + 1) {
        data_buffer[i] = fca_buffer[0xd].data[i];
      }
      DAT_40002740 = data_buffer[1];
      iVar1 = (int)(data_buffer[1] & 0xc) >> 2;
      iVar6 = (int)(data_buffer[1] & 0x30) >> 4;
      if ((((longlong)(-((ulonglong)data_buffer[1] & 1) << 0x20) < 0) ||
          ((longlong)(-((ulonglong)data_buffer[1] & 2) << 0x20) < 0)) ||
         ((iVar1 == 1 || ((iVar1 == 2 || ((iVar6 + 0xffU & 0xff) < 2)))))) {
        DAT_40001788 = bVar5 | 5;
      }
                    // unused!
      if (iVar6 == 0) {
        iVar7 = ((((uint)data_buffer._0_4_ >> 8 & 0xf) << 8 | data_buffer._0_4_ & 0xff) - 2049) *
                20385;
        imu_accel_long___ =
             ((short)(iVar7 / 100000) + (short)(iVar7 >> 0x1f)) -
             (short)((longlong)iVar7 * 0x14f8b589 >> 0x3f);
      }
      else {
        imu_accel_long___ = 0;
      }
      if (iVar6 == 0) {
        iVar6 = (((int)(data_buffer[5] & 0xf0) >> 4 | ((uint)data_buffer._4_4_ >> 24) << 4) - 2049)
                * 20385;
        imu_accel_lat =
             ((short)(iVar6 / 100000) + (short)(iVar6 >> 0x1f)) -
             (short)((longlong)iVar6 * 0x14f8b589 >> 0x3f);
      }
      else {
        imu_accel_lat = 0;
      }
      if (iVar1 == 0) {
        imu_gyro = (((ushort)data_buffer[6] | (data_buffer[5] & 0xf) << 8) - 0x800) * 8;
                    // unused!
      }
      else {
        imu_gyro = 0;
      }
    }
  }
  uVar4 = fca_buffer[0xd].code_and_timestamp;
  fca_buffer[0xd].code_and_timestamp = uVar4 & 0xf0ffffff;
  uVar3 = fca_buffer[0xd].arb_id;
  fca_buffer[0xd].arb_id = uVar3 & 0xe003ffff | 0xc0c0000;
  uVar4 = fca_buffer[0xd].code_and_timestamp;
  fca_buffer[0xd].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
  return;
}



// WARNING: Unable to use type for symbol checksum_rx
// WARNING: Unable to use type for symbol checksum_rx_a4

void flexcan_a_rx_wheelspeeds(void)

{
  undefined4 uVar1;
  uint32_t uVar2;
  uint uVar3;
  checksum_8bit checksum_calc;
  checksum_8bit checksum_calc_a4;
  byte i;
  byte local_20 [8];
  byte checksum_rx;
  byte checksum_rx_a4;
  
  local_20[0] = 0;
  local_20[1] = 0;
  local_20[2] = 0;
  local_20[3] = 0;
  local_20[4] = 0;
  local_20[5] = 0;
  local_20[6] = 0;
  local_20[7] = 0;
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xffffbfff | 0x4000;
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  while ((uVar3 >> 0x18 & 1) != 0) {
    uVar3 = fca_buffer[0xe].code_and_timestamp;
  }
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  if ((uVar3 >> 0x18 & 6) == 6) {
    uVar3 = fca_buffer[0xe].code_and_timestamp;
    fca_buffer[0xe].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar1;
  }
  else {
    uVar3 = fca_buffer[0xe].code_and_timestamp;
    if (((uVar3 >> 0x18 & 2) == 2) && ((COD_base[1] >> 9 & 1) != 0)) {
      uVar2 = fca_buffer[0xe].arb_id;
      if ((uVar2 >> 0x12 & 0x7ff) == 0xa2) {
        for (i = 0; i < 7; i = i + 1) {
          local_20[i] = fca_buffer[0xe].data[i];
        }
        uVar3 = (int)((uint)local_20._4_4_ >> 0x10 & 0x3c) >> 2;
        checksum_rx = local_20[6];
        checksum_calc = checksum_xor_8(local_20,6);
        if (checksum_rx == checksum_calc) {
          timer_wheelspeed_front_corrupt = 0;
          if (uVar3 == (DAT_40002720 + 1 & 0xf)) {
            DAT_400029eb = 0;
          }
          else if (DAT_400029eb != -1) {
            DAT_400029eb = DAT_400029eb + 1;
          }
          DAT_40002720 = (byte)uVar3;
          uVar3 = (local_20[1] & 0x3f) << 8 | (uint)local_20._0_4_ >> 0x18;
          if (uVar3 == 0x3fff) {
            wheel_speeds.LF = 0;
          }
          else {
            wheel_speeds.LF =
                 (short)((int)((uint)CAL_wheel_speed_multiplier_front * ((int)(uVar3 * 0x32) >> 3))
                        / 1000);
          }
          uVar3 = (int)(local_20[1] & 0xc0) >> 6 |
                  (local_20._0_4_ & 0xf) << 10 | ((uint)local_20._0_4_ >> 8 & 0xff) << 2;
          if (uVar3 == 0x3fff) {
            wheel_speeds.RF = 0;
          }
          else {
            wheel_speeds.RF =
                 (short)((int)((uint)CAL_wheel_speed_multiplier_front * ((int)(uVar3 * 0x32) >> 3))
                        / 1000);
          }
          uVar3 = (int)(local_20._0_4_ & 0xf0) >> 4 |
                  ((uint)local_20._4_4_ >> 0x10 & 3) << 0xc | ((uint)local_20._4_4_ >> 0x18) << 4;
          if (uVar3 == 0x3fff) {
            car_speed_div100 = 0;
            car_speed_flags_unknown = car_speed_flags_unknown | 4;
          }
          else {
            car_speed_div100 = (u16_speed_1_100kph)((int)(uVar3 * 0x32) >> 3);
            car_speed_flags_unknown = car_speed_flags_unknown & 0xfb;
          }
        }
        else if (timer_wheelspeed_front_corrupt != 0xff) {
          timer_wheelspeed_front_corrupt = timer_wheelspeed_front_corrupt + 1;
        }
        flexcan_flags_unknown = flexcan_flags_unknown | 1;
      }
      else {
        uVar2 = fca_buffer[0xe].arb_id;
        if ((uVar2 >> 0x12 & 0x7ff) == 0xa4) {
          uVar3 = fca_buffer[0xe].code_and_timestamp;
          flexcan_frame_len = (byte)(uVar3 >> 0x10) & 0xf;
          for (i = 0; i < flexcan_frame_len; i = i + 1) {
            local_20[i] = fca_buffer[0xe].data[i];
          }
          uVar3 = (int)(local_20._0_4_ & 0xf0) >> 4;
          checksum_rx_a4 = local_20[5];
          checksum_calc_a4 = checksum_xor_8(local_20,5);
          if (checksum_rx_a4 == checksum_calc_a4) {
            timer_wheelspeed_rear_corrupt = 0;
            if (uVar3 == (DAT_40002721 + 1 & 0xf)) {
              uint8_t_400029ed = 0;
            }
            else if (uint8_t_400029ed != 0xff) {
              uint8_t_400029ed = uint8_t_400029ed + 1;
            }
            DAT_40002721 = (byte)uVar3;
            if (flexcan_frame_len == 8) {
              abs_unknown[0] = local_20[6];
              abs_unknown[1] = local_20[7];
              abs_unknown2 = local_20[6];
              abs_unknown3 = local_20[7];
            }
            uVar3 = (local_20[1] & 0x3f) << 8 | (uint)local_20._0_4_ >> 0x18;
            if (uVar3 == 0x3fff) {
              wheel_speeds.LR = 0;
            }
            else {
              wheel_speeds.LR =
                   (short)((int)((uint)CAL_wheel_speed_multiplier_rear * ((int)(uVar3 * 0x32) >> 3))
                          / 1000);
            }
            uVar3 = (int)(local_20[1] & 0xc0) >> 6 |
                    (local_20._0_4_ & 0xf) << 10 | ((uint)local_20._0_4_ >> 8 & 0xff) << 2;
            if (uVar3 == 0x3fff) {
              wheel_speeds.RR = 0;
            }
            else {
              wheel_speeds.RR =
                   (short)((int)((uint)CAL_wheel_speed_multiplier_rear * ((int)(uVar3 * 0x32) >> 3))
                          / 1000);
            }
            brake_switch = brake_switch & 0xfc | local_20[4] & 3;
          }
          else if (timer_wheelspeed_rear_corrupt != 0xff) {
            timer_wheelspeed_rear_corrupt = timer_wheelspeed_rear_corrupt + '\x01';
          }
          flexcan_flags_unknown = flexcan_flags_unknown | 4;
        }
        else {
          uVar2 = fca_buffer[0xe].arb_id;
          if ((uVar2 >> 0x12 & 0x7ff) == 0xa8) {
            for (i = 0; i < 6; i = i + 1) {
              local_20[i] = fca_buffer[0xe].data[i];
            }
            if (((COD_base[0] >> 0x16 & 7) == 3) && ((local_20._0_4_ & 0x40000000) != 0)) {
              abs_esp_flags = abs_esp_flags | 0b00000100;
              DAT_40002851 = 1;
            }
            else {
              abs_esp_flags = abs_esp_flags & 0b11111011;
              DAT_40002851 = 0;
            }
            i = abs_esp_flags | 0b00001000;
            if ((local_20._0_4_ & 0x10000000) == 0) {
              i = abs_esp_flags & 0b11110111;
            }
            abs_esp_flags = i & 0b11101111;
            if ((local_20._0_4_ & 0x30000) == 0) {
              abs_esp_flags = i | 0b00010000;
            }
            DAT_40002705 = (byte)(-((ulonglong)local_20[1] & 8) >> 24) >> 7;
            DAT_40002706 = (byte)(-((ulonglong)local_20[1] & 0x20) >> 0x18) >> 7;
            abs_a8_flag2 = local_20[2] & 7;
            flexcan_flags_unknown = flexcan_flags_unknown | 0x10;
          }
        }
      }
    }
  }
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  fca_buffer[0xe].code_and_timestamp = uVar3 & 0xf0ffffff;
  uVar2 = fca_buffer[0xe].arb_id;
  fca_buffer[0xe].arb_id = uVar2 & 0xe003ffff | 0x2800000;
  uVar3 = fca_buffer[0xe].code_and_timestamp;
  fca_buffer[0xe].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  return;
}



void flexcan_a_rx_50_51_52_53(void)

{
  byte bVar1;
  undefined4 uVar2;
  undefined2 uVar3;
  uint uVar4;
  short i;
  ushort j;
  uint32_t uvar;
  
  uVar4 = fca_buffer[0xf].code_and_timestamp;
  while ((uVar4 >> 0x18 & 1) != 0) {
    uVar4 = fca_buffer[0xf].code_and_timestamp;
  }
  uVar4 = fca_buffer[0xf].code_and_timestamp;
  if ((uVar4 >> 0x18 & 6) == 6) {
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
    goto dev_mode_logging_done;
  }
  uVar4 = fca_buffer[0xf].code_and_timestamp;
  if (((uVar4 >> 0x18 & 2) != 2) || (!ecu_unlocked)) goto dev_mode_logging_done;
  DAT_40002734 = fca_buffer[0xf].data;
  uvar = fca_buffer[0xf].arb_id;
  if ((uvar >> 0x12 & 0x7ff) == 0x50) {
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    if (((uVar4 >> 16 & 0xf) == 4) &&
       (((uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4 &&
         (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x4000fffd)) ||
        (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0xffffd)))) {
      dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
      DAT_40002730 = fca_buffer[0x10].data;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
      uvar = fca_buffer[0x10].arb_id;
      fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
      fca_buffer[0x10].data._0_4_ = *(undefined4 *)dm_data_buffer;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x40000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
    }
    else {
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
    }
    goto dev_mode_logging_done;
  }
  uvar = fca_buffer[0xf].arb_id;
  if ((uvar >> 0x12 & 0x7ff) == 0x51) {
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    if (((uVar4 >> 0x10 & 0xf) == 4) &&
       (((uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4 &&
         (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x4000ffff)) ||
        (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0xfffff)))) {
      dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
      DAT_40002730 = fca_buffer[0x10].data;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
      uvar = fca_buffer[0x10].arb_id;
      fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
      fca_buffer[0x10].data._0_2_ = *(undefined2 *)dm_data_buffer;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x20000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
    }
    else {
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
    }
    goto dev_mode_logging_done;
  }
  uvar = fca_buffer[0xf].arb_id;
  if ((uvar >> 0x12 & 0x7ff) == 0x52) {
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    if (((uVar4 >> 0x10 & 0xf) == 4) &&
       (((uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4 &&
         (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x40010000)) ||
        (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x100000)))) {
      dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
      DAT_40002730 = fca_buffer[0x10].data;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
      uvar = fca_buffer[0x10].arb_id;
      fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
      fca_buffer[0x10].data[0] = *dm_data_buffer;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x10000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
    }
    else {
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
    }
    goto dev_mode_logging_done;
  }
  uvar = fca_buffer[0xf].arb_id;
  if ((uvar >> 0x12 & 0x7ff) != 0x53) {
    uvar = fca_buffer[0xf].arb_id;
    if ((uvar >> 0x12 & 0x7ff) == 0x54) {
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      if ((((uVar4 >> 0x10 & 0xf) == 8) && (uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4))
         && (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x4000fffd)) {
        DAT_40002734 = fca_buffer[0xf].data + 4;
        DAT_4000270c = (byte *)fca_buffer[0xf].data._0_4_;
        uVar4 = fca_buffer[0xf].code_and_timestamp;
        fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
        uVar2 = DAT_fffc0008;
        DAT_40002714 = (undefined2)uVar2;
        uVar2 = fca_buffer[0xf].data._4_4_;
        *(undefined4 *)DAT_4000270c = uVar2;
      }
      else {
        uVar4 = fca_buffer[0xf].code_and_timestamp;
        fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
        uVar2 = DAT_fffc0008;
        DAT_40002714 = (undefined2)uVar2;
      }
    }
    else {
      uvar = fca_buffer[0xf].arb_id;
      if ((uvar >> 0x12 & 0x7ff) == 0x55) {
        uVar4 = fca_buffer[0xf].code_and_timestamp;
        if ((((uVar4 >> 0x10 & 0xf) == 6) &&
            (uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4)) &&
           (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x4000ffff)) {
          DAT_40002734 = fca_buffer[0xf].data + 4;
          DAT_4000270c = (byte *)fca_buffer[0xf].data._0_4_;
          uVar4 = fca_buffer[0xf].code_and_timestamp;
          fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
          uVar2 = DAT_fffc0008;
          DAT_40002714 = (undefined2)uVar2;
          uVar3 = fca_buffer[0xf].data._4_2_;
          *(undefined2 *)DAT_4000270c = uVar3;
        }
        else {
          uVar4 = fca_buffer[0xf].code_and_timestamp;
          fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
          uVar2 = DAT_fffc0008;
          DAT_40002714 = (undefined2)uVar2;
        }
      }
      else {
        uvar = fca_buffer[0xf].arb_id;
        if ((uvar >> 0x12 & 0x7ff) == 0x56) {
          uVar4 = fca_buffer[0xf].code_and_timestamp;
          if ((((uVar4 >> 0x10 & 0xf) == 5) &&
              (uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4)) &&
             (uVar4 = fca_buffer[0xf].data._0_4_, uVar4 < 0x40010000)) {
            DAT_40002734 = fca_buffer[0xf].data + 4;
            DAT_4000270c = (byte *)fca_buffer[0xf].data._0_4_;
            uVar4 = fca_buffer[0xf].code_and_timestamp;
            fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
            uVar2 = DAT_fffc0008;
            DAT_40002714 = (undefined2)uVar2;
            bVar1 = fca_buffer[0xf].data[4];
            *DAT_4000270c = bVar1;
          }
          else {
            uVar4 = fca_buffer[0xf].code_and_timestamp;
            fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
            uVar2 = DAT_fffc0008;
            DAT_40002714 = (undefined2)uVar2;
          }
        }
        else {
          uvar = fca_buffer[0xf].arb_id;
          if ((uvar >> 0x12 & 0x7ff) == 0x57) {
            if (DAT_40002710 == 0) {
              uVar4 = fca_buffer[0xf].code_and_timestamp;
              if (((uVar4 >> 0x10 & 0xf) == 5) &&
                 (uVar4 = fca_buffer[0xf].data._0_4_, 0x3fffffff < uVar4)) {
                uVar4 = fca_buffer[0xf].data._0_4_;
                bVar1 = fca_buffer[0xf].data[4];
                if (uVar4 <= 0x40010000 - bVar1) {
                  DAT_40002734 = fca_buffer[0xf].data + 4;
                  DAT_4000270c = (byte *)fca_buffer[0xf].data._0_4_;
                  bVar1 = fca_buffer[0xf].data[4];
                  DAT_40002710 = (ushort)bVar1;
                  uVar4 = fca_buffer[0xf].code_and_timestamp;
                  fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
                  uVar2 = DAT_fffc0008;
                  DAT_40002714 = (undefined2)uVar2;
                  goto dev_mode_logging_done;
                }
              }
              uVar4 = fca_buffer[0xf].code_and_timestamp;
              fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
              uVar2 = DAT_fffc0008;
              DAT_40002714 = (undefined2)uVar2;
            }
            else {
              uVar4 = fca_buffer[0xf].code_and_timestamp;
              for (uVar4 = uVar4 >> 0x10 & 0xf; (uVar4 & 0xffff) != 0; uVar4 = uVar4 - 1) {
                bVar1 = *DAT_40002734;
                DAT_40002734 = DAT_40002734 + 1;
                *DAT_4000270c = bVar1;
                DAT_4000270c = DAT_4000270c + 1;
                DAT_40002710 = DAT_40002710 - 1;
              }
              uVar4 = fca_buffer[0xf].code_and_timestamp;
              fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
              uVar2 = DAT_fffc0008;
              DAT_40002714 = (undefined2)uVar2;
            }
          }
          else {
            uVar4 = fca_buffer[0xf].code_and_timestamp;
            fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
            uVar2 = DAT_fffc0008;
            DAT_40002714 = (undefined2)uVar2;
          }
        }
      }
    }
    goto dev_mode_logging_done;
  }
  uVar4 = fca_buffer[0xf].code_and_timestamp;
  if ((uVar4 >> 0x10 & 0xf) == 5) {
                    // address
    uVar4 = fca_buffer[0xf].data._0_4_;
    if (uVar4 < 0x40000000) {
LAB_000b877c:
      uVar4 = fca_buffer[0xf].data._0_4_;
      bVar1 = fca_buffer[0xf].data[4];
      if (0x100000 - bVar1 < uVar4) goto LAB_000b8908;
    }
    else {
      uVar4 = fca_buffer[0xf].data._0_4_;
      bVar1 = fca_buffer[0xf].data[4];
      if (0x40010000 - bVar1 < uVar4) goto LAB_000b877c;
    }
    DAT_40002710 = 0;
    DAT_40002734 = fca_buffer[0xf].data + 4;
    dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
    bVar1 = fca_buffer[0xf].data[4];
    DAT_40002712 = (ushort)bVar1;
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
    DAT_40002730 = fca_buffer[0x10].data;
    uVar4 = fca_buffer[0x10].code_and_timestamp;
    fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
    uvar = fca_buffer[0x10].arb_id;
    fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
    j = DAT_40002712;
    if (DAT_40002712 < 9) {
      for (; j != 0; j = j - 1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = (DAT_40002712 & 0xf) << 0x10 | uVar4 & 0xfff0ffff;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = 0;
    }
    else {
      for (i = 8; i != 0; i = i + -1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x80000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = DAT_40002712 - 8;
    }
    goto dev_mode_logging_done;
  }
LAB_000b8908:
  uVar4 = fca_buffer[0xf].code_and_timestamp;
  if ((uVar4 >> 0x10 & 0xf) == 6) {
    uVar4 = fca_buffer[0xf].data._0_4_;
    if (uVar4 < 0x40000000) {
LAB_000b894c:
      uVar4 = fca_buffer[0xf].data._0_4_;
      j = fca_buffer[0x10].code_and_timestamp._0_2_;
      if (0x100000 - j < uVar4) goto LAB_000b8ad8;
    }
    else {
      uVar4 = fca_buffer[0xf].data._0_4_;
      j = fca_buffer[0x10].code_and_timestamp._0_2_;
      if (0x40010000 - j < uVar4) goto LAB_000b894c;
    }
    DAT_40002710 = 0;
    DAT_40002734 = fca_buffer[0xf].data + 4;
    dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
    DAT_40002712 = fca_buffer[0xf].data._4_2_;
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
    uVar2 = DAT_fffc0008;
    DAT_40002714 = (undefined2)uVar2;
    DAT_40002730 = fca_buffer[0x10].data;
    uVar4 = fca_buffer[0x10].code_and_timestamp;
    fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
    uvar = fca_buffer[0x10].arb_id;
    fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
    j = DAT_40002712;
    if (DAT_40002712 < 9) {
      for (; j != 0; j = j - 1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = (DAT_40002712 & 0xf) << 0x10 | uVar4 & 0xfff0ffff;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = 0;
    }
    else {
      for (i = 8; i != 0; i = i + -1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x80000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = DAT_40002712 - 8;
    }
  }
  else {
LAB_000b8ad8:
    uVar4 = fca_buffer[0xf].code_and_timestamp;
    if ((uVar4 >> 0x10 & 0xf) == 4) {
      dm_data_buffer = (byte *)fca_buffer[0xf].data._0_4_;
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
      DAT_40002730 = fca_buffer[0x10].data;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0x8000000;
      uvar = fca_buffer[0x10].arb_id;
      fca_buffer[0x10].arb_id = uvar & 0xe003ffff | 0x1e800000;
      fca_buffer[0x10].data._0_4_ = 0xd2ef4;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xfff0ffff | 0x40000;
      uVar4 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar4 & 0xf0ffffff | 0xc000000;
    }
    else {
      uVar4 = fca_buffer[0xf].code_and_timestamp;
      fca_buffer[0xf].code_and_timestamp = uVar4 & 0xf0ffffff | 0x4000000;
      uVar2 = DAT_fffc0008;
      DAT_40002714 = (undefined2)uVar2;
    }
  }
dev_mode_logging_done:
  uvar = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uvar & 0xffff7fff | 0x8000;
  return;
}



void flexcan_a_interrupt(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x10 & 1) == 1) {
    flexcan_a_tx_7a0();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x11 & 1) == 1) {
    FUN_000b91bc();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x12 & 1) == 1) {
    FUN_000b91e8();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x13 & 1) == 1) {
    FUN_000b9214();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x14 & 1) == 1) {
    FUN_000b922c();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x15 & 1) == 1) {
    flexcan_a_tx_114();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x16 & 1) == 1) {
    FUN_000b945c();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x17 & 1) == 1) {
    flexcan_c_interrupt();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x18 & 1) == 1) {
    FUN_000b94d0();
  }
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  if ((uVar1 >> 0x19 & 1) == 1) {
    FUN_000b94e8();
  }
  return;
}



void flexcan_a_tx_7a0(void)

{
  byte bVar1;
  uint32_t uVar2;
  uint uVar3;
  short i;
  ushort j;
  
  uVar2 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar2 & 0xfffeffff | 0x10000;
  if (DAT_40002712 != 0) {
    DAT_40002730 = fca_buffer[0x10].data;
    uVar3 = fca_buffer[0x10].code_and_timestamp;
    fca_buffer[0x10].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
    uVar2 = fca_buffer[0x10].arb_id;
    fca_buffer[0x10].arb_id = uVar2 & 0xe003ffff | 0x1e800000;
    j = DAT_40002712;
    if (DAT_40002712 < 9) {
      for (; j != 0; j = j - 1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar3 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = (DAT_40002712 & 0xf) << 0x10 | uVar3 & 0xfff0ffff;
      uVar3 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar3 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = 0;
    }
    else {
      for (i = 8; i != 0; i = i + -1) {
        bVar1 = *dm_data_buffer;
        dm_data_buffer = dm_data_buffer + 1;
        *DAT_40002730 = bVar1;
        DAT_40002730 = DAT_40002730 + 1;
      }
      uVar3 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar3 & 0xfff0ffff | 0x80000;
      uVar3 = fca_buffer[0x10].code_and_timestamp;
      fca_buffer[0x10].code_and_timestamp = uVar3 & 0xf0ffffff | 0xc000000;
      DAT_40002712 = DAT_40002712 - 8;
    }
  }
  return;
}



void FUN_000b91bc(void)

{
  uint32_t uVar1;
  uint uVar2;
  
  uVar2 = fca_buffer[0x11].code_and_timestamp;
  if ((uVar2 >> 0x18 & 0xf) == 8) {
    uVar1 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfffdffff | 0x20000;
  }
  return;
}



void FUN_000b91e8(void)

{
  uint32_t uVar1;
  uint uVar2;
  
  uVar2 = fca_buffer[0x12].code_and_timestamp;
  if ((uVar2 >> 0x18 & 0xf) == 8) {
    uVar1 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfffbffff | 0x40000;
  }
  return;
}



void FUN_000b9214(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfff7ffff | 0x80000;
  return;
}



void FUN_000b922c(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xffefffff | 0x100000;
  return;
}



void flexcan_a_tx_114(void)

{
  uint32_t uVar1;
  uint uVar2;
  int iVar3;
  u16_rspeed_4rpm uVar4;
  byte bVar5;
  
  if ((engine_state_failure_flags & 0x8000) == 0) {
    bVar5 = (byte)((int)(uint)accel_pedal_pos >> 2);
    if (0x3ec < accel_pedal_pos) {
      bVar5 = 0xfb;
    }
  }
  else {
    bVar5 = 0xff;
  }
  uVar2 = fca_buffer[0x15].code_and_timestamp;
  if ((uVar2 >> 0x18 & 0xf) == 8) {
    uVar1 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar1 & 0xffdfffff | 0x200000;
  }
  if (DAT_4000284c != 0) {
    DAT_4000284c = 0;
    uVar2 = fca_buffer[0x15].code_and_timestamp;
    fca_buffer[0x15].code_and_timestamp = uVar2 & 0xf0ffffff | 0x8000000;
    uVar1 = fca_buffer[0x15].arb_id;
    fca_buffer[0x15].arb_id = uVar1 & 0xe003ffff | 0x4500000;
    if ((obd_ii_mode2f_flags_enabled & 0x8000) == 0) {
      uVar4 = get_engine_speed_tach();
      fca_buffer[0x15].data[0] = (byte)uVar4;
      fca_buffer[0x15].data[1] = (byte)(uVar4 >> 8);
    }
    else {
      fca_buffer[0x15].data[0] = (byte)obd_ii_mode2f_tach_commanded;
      fca_buffer[0x15].data[1] = (byte)(obd_ii_mode2f_tach_commanded >> 8);
    }
    fca_buffer[0x15].data[2] = 0;
    if ((engine_operating_state_flags & 1) == 0) {
      if ((((COD_base[0] >> 25 & 7) == 0) || ((obd_ii_cruise_status & 2) == 0)) ||
         ((obd_ii_cruise_status & 0x400) != 0)) {
        fca_buffer[0x15].data[3] = bVar5;
      }
      else {
        iVar3 = (short)cruise_tps_commanded * 0xfa;
        fca_buffer[0x15].data[3] =
             ((char)(iVar3 / 0x3ff) + (char)(iVar3 >> 0x1f)) -
             (char)((longlong)iVar3 * 0x80200803 >> 0x3f);
      }
    }
    else {
      fca_buffer[0x15].data[3] = 0;
    }
    fca_buffer[0x15].data[4] = driver_input_flags[1];
    fca_buffer[0x15].data[5] = driver_input_flags[0];
    fca_buffer[0x15].data[6] = 0;
    fca_buffer[0x15].data[7] = 0;
    uVar2 = fca_buffer[0x15].code_and_timestamp;
    fca_buffer[0x15].code_and_timestamp = uVar2 & 0xfff0ffff | 0x60000;
    uVar2 = fca_buffer[0x15].code_and_timestamp;
    fca_buffer[0x15].code_and_timestamp = uVar2 & 0xf0ffffff | 0xc000000;
  }
  return;
}



void FUN_000b945c(void)

{
  uint32_t uVar1;
  uint uVar2;
  
  uVar2 = fca_buffer[0x16].code_and_timestamp;
  if ((uVar2 >> 0x18 & 0xf) == 8) {
    uVar1 = flexcan_a_interrupt_reg_flag_low;
    flexcan_a_interrupt_reg_flag_low = uVar1 & 0xffbfffff | 0x400000;
  }
  return;
}



void flexcan_c_interrupt(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xff7fffff | 0x800000;
  if (CAL_ecu_flexcan_config_unknown == 1) {
    flexcan_counters_update();
  }
  return;
}



void FUN_000b94d0(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfeffffff | 0x1000000;
  return;
}



void FUN_000b94e8(void)

{
  uint32_t uVar1;
  
  uVar1 = flexcan_a_interrupt_reg_flag_low;
  flexcan_a_interrupt_reg_flag_low = uVar1 & 0xfdffffff | 0x2000000;
  return;
}



void obd_ii_processing(void)

{
  if ((obd_ii_request[0] & 0xf0) == 0x30) {
    DAT_400026f2 = obd_ii_request[0] & 0xf;
    DAT_400026f4 = obd_ii_request[1];
    DAT_400026f5 = obd_ii_request[2];
    DAT_400026f3 = 1;
  }
  else {
    obd_ii_tx_messages_pending = false;
    switch(obd_ii_request[1]) {
    default:
      break;
    case 1:
      obd_ii_mode01_processing();
      break;
    case 2:
      obd_ii_mode02_processing();
      break;
    case 3:
      obd_ii_mode03_processing();
      break;
    case 4:
      obd_ii_mode04_proccesing();
      break;
    case 6:
      obd_ii_mode06_processing();
      break;
    case 7:
      obd_ii_mode07_processing();
      break;
    case 8:
      obd_ii_mode08_processing();
      break;
    case 9:
      obd_ii_mode09_processing();
      break;
    case 10:
      if ((CAL_obd_ii_standards_supported == 1) && (CAL_obd_ii_diag_unknown != 0)) {
        obd_ii_mode0A_processing();
      }
      break;
    case 0x11:
      obd_ii_mode11_processing();
      break;
    case 0x13:
      obd_ii_mode13_processing();
      break;
    case 0x14:
      obd_ii_mode14_processing();
      break;
    case 0x22:
      obd_ii_mode22_processing();
      break;
    case 0x2f:
      obd_ii_mode2F_processing();
      break;
    case 0x3b:
      obd_ii_mode3B_processing();
      obd_clear_DTC_and_stored();
    }
    obd_ii_defer_send = false;
  }
  return;
}



void flexcan_a_tx_400(cluster_data *data)

{
  uint uVar1;
  uint32_t uVar2;
  
  uVar1 = fca_buffer[0x14].code_and_timestamp;
  fca_buffer[0x14].code_and_timestamp = uVar1 & 0xf0ffffff | 0x8000000;
  uVar2 = fca_buffer[0x14].arb_id;
  fca_buffer[0x14].arb_id = uVar2 & 0xe003ffff | 0x10000000;
  fca_buffer[0x14].data._0_2_ = data->fuel_usage_instantaneous;
  fca_buffer[0x14].data[2] = data->field7;
  fca_buffer[0x14].data[3] = data->cluster_flags;
  fca_buffer[0x14].data[4] = data->fuel_level_pct;
  fca_buffer[0x14].data[5] = data->temp_coolant;
  fca_buffer[0x14].data[6] = data->cluster_indicator_flags;
  uVar1 = fca_buffer[0x14].code_and_timestamp;
  fca_buffer[0x14].code_and_timestamp = uVar1 & 0xfff0ffff | 0x70000;
  uVar1 = fca_buffer[0x14].code_and_timestamp;
  fca_buffer[0x14].code_and_timestamp = uVar1 & 0xf0ffffff | 0xc000000;
  return;
}



void flexcan_a_tx_403(uint16_t _fuel_range_remaining,uint16_t _mileage_instantaneous___,
                     uint16_t _fuel_usage_average___)

{
  uint uVar1;
  uint32_t uVar2;
  
  uVar1 = fca_buffer[0x19].code_and_timestamp;
  fca_buffer[0x19].code_and_timestamp = uVar1 & 0xf0ffffff | 0x8000000;
  uVar2 = fca_buffer[0x19].arb_id;
                    // Data packages are
                    // 
                    // param 1: 10 bits
                    // param 2: 10 bits
                    // param 3: 10 bits
  fca_buffer[0x19].arb_id = uVar2 & 0xe003ffff | 0x100c0000;
  fca_buffer[0x19].data[0] = (byte)((int)(uint)_fuel_range_remaining >> 2);
  fca_buffer[0x19].data[1] =
       (byte)(((ulonglong)(uint)(int)(short)_fuel_range_remaining & 0b00000011) << 6) |
       (byte)((int)(uint)_mileage_instantaneous___ >> 4) & 0b00111111;
  fca_buffer[0x19].data[2] =
       (byte)(((ulonglong)(uint)(int)(short)_mileage_instantaneous___ & 0b00001111) << 4) |
       (byte)((int)(uint)_fuel_usage_average___ >> 6) & 0b00001111;
  fca_buffer[0x19].data[3] =
       (byte)(((ulonglong)(uint)(int)(short)_fuel_usage_average___ & 0xffff) << 2);
  uVar1 = fca_buffer[0x19].code_and_timestamp;
  fca_buffer[0x19].code_and_timestamp = uVar1 & 0xfff0ffff | 0x40000;
  uVar1 = fca_buffer[0x19].code_and_timestamp;
  fca_buffer[0x19].code_and_timestamp = uVar1 & 0xf0ffffff | 0xc000000;
  return;
}



// 133hz

void flexcan_a_tx_102(void)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  uint32_t uVar4;
  short _torque_combustion;
  ulonglong _torque_driver;
  short _torque_driver2;
  byte i;
  
  if (((((engine_state_failure_flags & 4) == 0) && ((engine_state_failure_flags & 0x10000) == 0)) &&
      ((LEA_obd_ii_P0316_flags & 2) == 0)) && ((LEA_obd_ii_P0101_flags & 2) == 0)) {
    _torque_driver = (ulonglong)(short)torque_alphaN_net;
    if ((short)torque_alphaN_net < 0) {
      _torque_driver = 0;
    }
  }
  else {
    _torque_driver = 4095;
  }
  if ((((engine_state_failure_flags & 0x10) == 0) && (trqlimit_failure_condition_count___ != 6)) &&
     ((misfire_condition_flags & 0x800) == 0)) {
    _torque_combustion = (torque_net_engine_combustion - 400) * 4;
  }
  else {
    _torque_combustion = 2047;
  }
  uVar3 = fca_buffer[0x15].code_and_timestamp;
  fca_buffer[0x15].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  uVar4 = fca_buffer[0x15].arb_id;
  fca_buffer[0x15].arb_id = uVar4 & 0xe003ffff | 0x4080000;
  _torque_driver2 = (short)_torque_driver;
  if ((_torque_driver2 == 4095) && (_torque_combustion == 2047)) {
    fca_buffer[0x15].data[0] = 255;
    fca_buffer[0x15].data[1] = 255;
    fca_buffer[0x15].data[2] = 127;
  }
  else {
    bVar1 = (byte)(_torque_combustion >> 4);
    if (_torque_driver2 == 0xfff) {
      fca_buffer[0x15].data[0] = 255;
      fca_buffer[0x15].data[1] =
           (byte)(((longlong)_torque_combustion & 0xffffffffU) << 4) | 0b00001111;
      fca_buffer[0x15].data[2] = bVar1;
    }
    else {
      bVar2 = (byte)(_torque_driver2 >> 6);
      if (_torque_combustion == 2047) {
        fca_buffer[0x15].data[0] = (byte)((_torque_driver & 0xff) << 2);
        fca_buffer[0x15].data[1] = bVar2 & 0b00001111 | 0b11110000;
        fca_buffer[0x15].data[2] = 0b01111111;
      }
      else {
        fca_buffer[0x15].data[0] = (byte)((_torque_driver & 0b11111111) << 2);
        fca_buffer[0x15].data[1] =
             (byte)(((longlong)_torque_combustion & 0xffffffffU) << 4) | bVar2 & 0b00001111;
        fca_buffer[0x15].data[2] = bVar1;
      }
    }
  }
  for (i = 3; i < 8; i = i + 1) {
    fca_buffer[0x15].data[i] = 0;
  }
  uVar3 = fca_buffer[0x15].code_and_timestamp;
  fca_buffer[0x15].code_and_timestamp = uVar3 & 0xfff0ffff | 0x30000;
  uVar3 = fca_buffer[0x15].code_and_timestamp;
  fca_buffer[0x15].code_and_timestamp = uVar3 & 0xf0ffffff | 0xc000000;
  return;
}



void FUN_000b9a50(void)

{
  uint uVar1;
  
  uVar1 = DAT_fffc0020;
  DAT_fffc0020 = uVar1 & 0xfffffffb | 4;
  return;
}



void FUN_000b9a68(void)

{
  uint uVar1;
  
  uVar1 = DAT_fffc0020;
  DAT_fffc0020 = uVar1 & 0xfffffffd | 2;
  return;
}



void flexcan_a_tx_503(void)

{
  uint uVar1;
  uint32_t uVar2;
  
  uVar1 = fca_buffer[0xb].code_and_timestamp;
  fca_buffer[0xb].code_and_timestamp = uVar1 & 0xf0ffffff | 0x8000000;
  uVar2 = fca_buffer[0xb].arb_id;
  fca_buffer[0xb].arb_id = uVar2 & 0xe003ffff | 0x140c0000;
  fca_buffer[0xb].data[0] = (byte)COD_base[0];
  fca_buffer[0xb].data[1] = COD_base[0]._2_1_;
  fca_buffer[0xb].data[2] = COD_base[0]._1_1_;
  fca_buffer[0xb].data[3] = COD_base[0]._0_1_;
  fca_buffer[0xb].data[4] = (byte)COD_base[1];
  fca_buffer[0xb].data[5] = COD_base[1]._2_1_;
  fca_buffer[0xb].data[6] = COD_base[1]._1_1_;
  fca_buffer[0xb].data[7] = COD_base[1]._0_1_;
  uVar1 = fca_buffer[0xb].code_and_timestamp;
  fca_buffer[0xb].code_and_timestamp = uVar1 & 0xfff0ffff | 0x80000;
  uVar1 = fca_buffer[0xb].code_and_timestamp;
  fca_buffer[0xb].code_and_timestamp = uVar1 & 0xf0ffffff | 0xc000000;
  return;
}



undefined2 FUN_000b9b90(void)

{
  return DAT_4000170c;
}



uint get_ambiant_air_temp(void)

{
  return ((uint)ambiant_air_temp_unscaled * 10000) / 0x3205 & 0xff;
}



byte get_dash_value0___(void)

{
  return dash_values[0];
}



bool get_fuel_reset_button(void)

{
  return (bool)dash_values[4];
}



ulonglong FUN_000b9bd0(void)

{
  return (ulonglong)(LZCOUNT(flexcan_frame_len - 8) << 32) >> 37;
}



enum_t6e_gear get_determination_auto(void)

{
  enum_t6e_gear rv;
  
  if (((gear_index_auto == NO_GEAR) || (gear_index_auto == GEAR_2)) || (gear_index_auto == 15)) {
    rv = NO_GEAR;
  }
  else {
    rv = gear_index_auto - GEAR_2;
    if (gear_index_auto == GEAR_1) {
      rv = GEAR_1;
    }
  }
  return rv;
}



// IPS TCU message?

void flexcan_a_tx_d2_100hz
               (u8_factor_1_255 tps,byte engine_flag_1,byte paddle_shift_flags,
               byte ips_calibration_flags,u8_speed_kph cruise_target_kph,byte cruise_status_flags,
               byte revlimit_byte_lo,byte revlimit_byte_hi)

{
  uint uVar1;
  uint32_t uVar2;
  
  uVar1 = fca_buffer[0x12].code_and_timestamp;
  fca_buffer[0x12].code_and_timestamp = uVar1 & 0xf0ffffff | 0x8000000;
  uVar2 = fca_buffer[0x12].arb_id;
  fca_buffer[0x12].arb_id = uVar2 & 0xe003ffff | 0x3480000;
  fca_buffer[0x12].data[0] = tps;
  fca_buffer[0x12].data[1] = engine_flag_1;
  fca_buffer[0x12].data[2] = paddle_shift_flags;
  fca_buffer[0x12].data[3] = ips_calibration_flags;
  fca_buffer[0x12].data[4] = cruise_target_kph;
  fca_buffer[0x12].data[5] = cruise_status_flags;
  fca_buffer[0x12].data[6] = revlimit_byte_lo;
  fca_buffer[0x12].data[7] = revlimit_byte_hi;
  uVar1 = fca_buffer[0x12].code_and_timestamp;
  fca_buffer[0x12].code_and_timestamp = uVar1 & 0xfff0ffff | 0x80000;
  uVar1 = fca_buffer[0x12].code_and_timestamp;
  fca_buffer[0x12].code_and_timestamp = uVar1 & 0xf0ffffff | 0xc000000;
  return;
}



byte checksum_xor_8(byte *data,byte size)

{
  byte val;
  
  val = 0;
  if (size != 0) {
    val = *data;
    while (size = size - 1, size != 0) {
      data = data + 1;
      val = val ^ *data;
    }
  }
  return val;
}



void init_flexcan_filters(void)

{
  uint16_t uVar1;
  byte bVar2;
  uint uVar3;
  
  uVar3 = DAT_fffc8000;
  DAT_fffc8000 = uVar3 & 0xfdffffff | 0x2000000;
  do {
    uVar3 = DAT_fffc8000;
  } while ((uVar3 >> 0x19 & 1) == 1);
  uVar3 = DAT_fffc8000;
  DAT_fffc8000 = uVar3 & 0xefffffff | 0x10000000;
  do {
    uVar3 = DAT_fffc8000;
  } while ((uVar3 & 0x9000000) != 0x9000000);
  DAT_fffc8004 = 0x510001;
  fcb_buffer[0].code_and_timestamp = 0;
  uVar3 = fcb_buffer[0].code_and_timestamp;
  fcb_buffer[0].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
  fcb_buffer[0].arb_id = 0;
  uVar3 = fcb_buffer[0].code_and_timestamp;
  fcb_buffer[0].code_and_timestamp = uVar3 & 0xffff0000;
  fcb_buffer[1].code_and_timestamp = 0;
  fcb_buffer[2].code_and_timestamp = 0;
  fcb_buffer[3].code_and_timestamp = 0;
  fcb_buffer[4].code_and_timestamp = 0;
  fcb_buffer[5].code_and_timestamp = 0;
  uVar3 = fcb_buffer[5].code_and_timestamp;
  fcb_buffer[5].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fcb_buffer[5].arb_id = 0x14800000;
  uVar3 = fcb_buffer[5].code_and_timestamp;
  fcb_buffer[5].code_and_timestamp = uVar3 & 0xffff0000;
  fcb_buffer[6].code_and_timestamp = 0;
  uVar3 = fcb_buffer[6].code_and_timestamp;
  fcb_buffer[6].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
  fcb_buffer[6].arb_id = 0x14840000;
  uVar3 = fcb_buffer[6].code_and_timestamp;
  fcb_buffer[6].code_and_timestamp = uVar3 & 0xffff0000;
  fcb_buffer[7].code_and_timestamp = 0;
  fcb_buffer[8].code_and_timestamp = 0;
  fcb_buffer[9].code_and_timestamp = 0;
  fcb_buffer[10].code_and_timestamp = 0;
  fcb_buffer[0xb].code_and_timestamp = 0;
  fcb_buffer[0xc].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == '\x02') {
    uVar3 = fcb_buffer[0xc].code_and_timestamp;
    fcb_buffer[0xc].code_and_timestamp = uVar3 & 0xf0ffffff | 0x4000000;
    fcb_buffer[0xc].arb_id = 0xd400000;
    uVar3 = fcb_buffer[0xc].code_and_timestamp;
    fcb_buffer[0xc].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fcb_buffer[0xd].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == '\x02') {
    uVar3 = fcb_buffer[0xd].code_and_timestamp;
    fcb_buffer[0xd].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
    fcb_buffer[0xd].arb_id = 0xd440000;
    uVar3 = fcb_buffer[0xd].code_and_timestamp;
    fcb_buffer[0xd].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fcb_buffer[0xe].code_and_timestamp = 0;
  if (CAL_ecu_flexcan_config_unknown == '\x02') {
    uVar3 = fcb_buffer[0xe].code_and_timestamp;
    fcb_buffer[0xe].code_and_timestamp = uVar3 & 0xf0ffffff | 0x8000000;
    fcb_buffer[0xe].arb_id = 0xd440000;
    uVar3 = fcb_buffer[0xe].code_and_timestamp;
    fcb_buffer[0xe].code_and_timestamp = uVar3 & 0xffff0000;
  }
  fcb_buffer[0xf].code_and_timestamp = 0;
  DAT_fffc8010 = 0x1fffffff;
  DAT_fffc8014 = 0x1fffffff;
  DAT_fffc8018 = 0x1fffffff;
  DAT_fffc8024 = 0;
  DAT_fffc8028 = 0;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffffe;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffffd;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffffb;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffff7;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xffffffef;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xffffffdf | 0x20;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xffffffbf | 0x40;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xffffff7f;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffeff;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffdff;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffffbff;
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xfffff7ff;
  if (CAL_ecu_flexcan_config_unknown == '\x02') {
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffefff | 0x1000;
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffdfff | 0x2000;
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffbfff | 0x4000;
  }
  else {
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffefff;
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffdfff;
    uVar3 = DAT_fffc8028;
    DAT_fffc8028 = uVar3 & 0xffffbfff;
  }
  uVar3 = DAT_fffc8028;
  DAT_fffc8028 = uVar3 & 0xffff7fff;
  bVar2 = INTC_PSR[0xb5];
  INTC_PSR[0xb5] = bVar2 & 0xf0 | 3;
  bVar2 = INTC_PSR[0xb6];
  INTC_PSR[0xb6] = bVar2 & 0xf0 | 3;
  bVar2 = INTC_PSR[0xbc];
  INTC_PSR[0xbc] = bVar2 & 0xf0 | 3;
  bVar2 = INTC_PSR[0xbd];
  INTC_PSR[0xbd] = bVar2 & 0xf0 | 3;
  bVar2 = INTC_PSR[0xbe];
  INTC_PSR[0xbe] = bVar2 & 0xf0 | 3;
  uVar1 = siu_pcr[0x57];
  siu_pcr[0x57] = uVar1 & 0xe3ff | 0x400;
  uVar1 = siu_pcr[0x58];
  siu_pcr[0x58] = uVar1 & 0xe3ff | 0x400;
  uVar3 = DAT_fffc8000;
  DAT_fffc8000 = uVar3 & 0xefffffff;
  DAT_fffc802c = 0xffffffff;
  flexcan_c_flag_interrupt_reg_low = 0xffffffff;
  return;
}



void flexcan_b_rx_520(void)

{
  undefined4 uVar1;
  uint uVar2;
  uint32_t uVar3;
  byte bVar4;
  byte bVar5;
  
  uVar2 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar2 & 0xffffffdf | 0x20;
  uVar2 = fcb_buffer[5].code_and_timestamp;
  while ((uVar2 >> 0x18 & 1) != 0) {
    uVar2 = fcb_buffer[5].code_and_timestamp;
  }
  uVar2 = fcb_buffer[5].code_and_timestamp;
  if ((uVar2 >> 0x18 & 6) == 6) {
    uVar2 = fcb_buffer[5].code_and_timestamp;
    fcb_buffer[5].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc8008;
    DAT_40002768 = (undefined2)uVar1;
  }
  else {
    uVar2 = fcb_buffer[5].code_and_timestamp;
    if ((uVar2 >> 0x18 & 2) == 2) {
      uVar3 = fcb_buffer[5].arb_id;
      if ((uVar3 >> 0x12 & 0x7ff) == 0x520) {
        bVar4 = fcb_buffer[5].data[0];
        bVar5 = fcb_buffer[5].data[1];
        DAT_4000276a = CONCAT11(bVar4,bVar5);
        bVar4 = fcb_buffer[5].data[2];
        bVar5 = fcb_buffer[5].data[3];
        DAT_4000276e = CONCAT11(bVar4,bVar5);
        bVar4 = fcb_buffer[5].data[4];
        DAT_4000276c = bVar4 & 1;
        DAT_40002770 = lookup_2D_uint16_interpolated
                                 (8,DAT_4000276a,uint16_t_ARRAY_4000ed7a,uint16_t_ARRAY_4000ed6a);
        uVar2 = fcb_buffer[5].code_and_timestamp;
        fcb_buffer[5].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
      }
      else {
        uVar2 = fcb_buffer[5].code_and_timestamp;
        fcb_buffer[5].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
      }
    }
    else {
      uVar2 = fcb_buffer[5].code_and_timestamp;
      fcb_buffer[5].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
      uVar1 = DAT_fffc8008;
      DAT_40002768 = (undefined2)uVar1;
    }
  }
  return;
}



void flexcan_b_rx_521(void)

{
  undefined4 uVar1;
  uint uVar2;
  uint32_t uVar3;
  byte bVar4;
  byte bVar5;
  
  uVar2 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar2 & 0xffffffbf | 0x40;
  uVar2 = fcb_buffer[6].code_and_timestamp;
  while ((uVar2 >> 0x18 & 1) != 0) {
    uVar2 = fcb_buffer[6].code_and_timestamp;
  }
  uVar2 = fcb_buffer[6].code_and_timestamp;
  if ((uVar2 >> 0x18 & 6) == 6) {
    uVar2 = fcb_buffer[6].code_and_timestamp;
    fcb_buffer[6].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc8008;
    DAT_40002768 = (undefined2)uVar1;
  }
  else {
    uVar2 = fcb_buffer[6].code_and_timestamp;
    if ((uVar2 >> 0x18 & 2) == 2) {
      uVar3 = fcb_buffer[6].arb_id;
      if ((uVar3 >> 0x12 & 0x7ff) == 0x521) {
        bVar4 = fcb_buffer[6].data[0];
        bVar5 = fcb_buffer[6].data[1];
        DAT_40002772 = CONCAT11(bVar4,bVar5);
        bVar4 = fcb_buffer[6].data[2];
        bVar5 = fcb_buffer[6].data[3];
        DAT_40002776 = CONCAT11(bVar4,bVar5);
        bVar4 = fcb_buffer[6].data[4];
        DAT_40002774 = bVar4 & 1;
        DAT_40002778 = lookup_2D_uint16_interpolated
                                 (8,DAT_40002772,uint16_t_ARRAY_4000ed7a,uint16_t_ARRAY_4000ed6a);
        uVar2 = fcb_buffer[6].code_and_timestamp;
        fcb_buffer[6].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
      }
      else {
        uVar2 = fcb_buffer[6].code_and_timestamp;
        fcb_buffer[6].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
      }
    }
    else {
      uVar2 = fcb_buffer[6].code_and_timestamp;
      fcb_buffer[6].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
      uVar1 = DAT_fffc8008;
      DAT_40002768 = (undefined2)uVar1;
    }
  }
  return;
}



void FUN_000ba5e8(void)

{
  uint uVar1;
  
  uVar1 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar1 & 0xffffff7f | 0x80;
  return;
}



void FUN_000ba600(void)

{
  uint uVar1;
  
  uVar1 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar1 & 0xfffffdff | 0x200;
  return;
}



void flexcan_b_rx_350_aux(void)

{
  undefined4 uVar1;
  uint uVar2;
  uint32_t uVar3;
  
  uVar2 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar2 & 0xffffefff | 0x1000;
  uVar2 = fcb_buffer[0xc].code_and_timestamp;
  while ((uVar2 >> 0x18 & 1) != 0) {
    uVar2 = fcb_buffer[0xc].code_and_timestamp;
  }
  uVar2 = fcb_buffer[0xc].code_and_timestamp;
  if ((uVar2 >> 0x18 & 6) == 6) {
    uVar2 = fcb_buffer[0xc].code_and_timestamp;
    fcb_buffer[0xc].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
    uVar1 = DAT_fffc8008;
    DAT_40002768 = (undefined2)uVar1;
  }
  else {
    uVar2 = fcb_buffer[0xc].code_and_timestamp;
    if ((uVar2 >> 0x18 & 2) == 2) {
      uVar3 = fcb_buffer[0xc].arb_id;
      if (((uVar3 >> 0x12 & 0x7ff) == 0x350) && (CAL_ecu_flexcan_config_unknown == '\x02')) {
        DAT_40002780 = fcb_buffer[0xc].data[0];
        DAT_40002781 = fcb_buffer[0xc].data[1];
        DAT_40002782 = fcb_buffer[0xc].data[2];
        DAT_40002783 = fcb_buffer[0xc].data[3];
        DAT_40002784 = fcb_buffer[0xc].data[4];
        DAT_40002785 = fcb_buffer[0xc].data[5];
        DAT_40002786 = fcb_buffer[0xc].data[6];
        DAT_40002787 = fcb_buffer[0xc].data[7];
        uVar2 = fcb_buffer[0xc].code_and_timestamp;
        fcb_buffer[0xc].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
        func_0x000b4634(&DAT_40002780);
      }
      else {
        uVar2 = fcb_buffer[0xc].code_and_timestamp;
        fcb_buffer[0xc].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
        uVar1 = DAT_fffc8008;
        DAT_40002768 = (undefined2)uVar1;
      }
    }
    else {
      uVar2 = fcb_buffer[0xc].code_and_timestamp;
      fcb_buffer[0xc].code_and_timestamp = uVar2 & 0xf0ffffff | 0x4000000;
      uVar1 = DAT_fffc8008;
      DAT_40002768 = (undefined2)uVar1;
    }
  }
  return;
}



// flexcan C is not connected on federal cars or... any cars?

void flexcan_c_interrupt(void)

{
  uint uVar1;
  
  uVar1 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar1 & 0xffffdfff | 0x2000;
  if (CAL_ecu_flexcan_config_unknown == 2) {
                    // This branch is active in the default config
    flexcan_counters_update();
  }
  return;
}



void FUN_000ba858(void)

{
  uint uVar1;
  
  uVar1 = flexcan_c_flag_interrupt_reg_low;
  flexcan_c_flag_interrupt_reg_low = uVar1 & 0xffffbfff | 0b0100000000000000;
  return;
}



void FUN_000ba870(void)

{
  uint uVar1;
  
  uVar1 = DAT_fffc8020;
  DAT_fffc8020 = uVar1 & 0b11111111111111111111111111111011 | 0b00000100;
  return;
}



void FUN_000ba888(void)

{
  uint uVar1;
  
  uVar1 = DAT_fffc8020;
  DAT_fffc8020 = uVar1 & 0b11111111111111111111111111111101 | 0b00000010;
  return;
}



void obd_ii_set_mode01_supported_pids(void)

{
  obd_ii_mode01_supported_pids_0_20[0] = 0xff;
  obd_ii_mode01_supported_pids_0_20[1] = 0xff;
  obd_ii_mode01_supported_pids_0_20[2] = 0xb9;
  obd_ii_mode01_supported_pids_0_20[3] = 0x93;
  obd_ii_mode01_supported_pids_20_40[0] = 0x80;
  obd_ii_mode01_supported_pids_20_40[1] = 7;
  obd_ii_mode01_supported_pids_20_40[2] = 0xe0;
  obd_ii_mode01_supported_pids_20_40[3] = 1;
  obd_ii_mode01_supported_pids_40_60[0] = 0xfe;
  obd_ii_mode01_supported_pids_40_60[1] = 0xd0;
  obd_ii_mode01_supported_pids_40_60[2] = 0x80;
  obd_ii_mode01_supported_pids_40_60[3] = 1;
  obd_ii_mode01_supported_pids_60_80[0] = 0x60;
  obd_ii_mode01_supported_pids_60_80[1] = 0;
  obd_ii_mode01_supported_pids_60_80[2] = 2;
  obd_ii_mode01_supported_pids_60_80[3] = 1;
  obd_ii_mode01_supported_pids_80_100[0] = 0;
  obd_ii_mode01_supported_pids_80_100[1] = 4;
  obd_ii_mode01_supported_pids_80_100[2] = 0;
  obd_ii_mode01_supported_pids_80_100[3] = 0xc;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void obd_ii_mode01_processing(void)

{
  int iVar1;
  ulonglong uVar2;
  uint _tps;
  byte bVar4;
  uint uVar3;
  uint absolute_throttle_pos_b;
  byte bVar5;
  byte bVar6;
  uint i;
  uint control_module_voltage;
  uint map_kPa;
  uint _car_speed;
  int _fuel_pressure_relative_kPa;
  
  bVar6 = 1;
  obd_ii_response[0] = 0x41;
  for (i = 2; (i & 0xff) < obd_ii_request[0] + 1; i = i + 1) {
    bVar4 = obd_ii_request[i & 0xff];
    if (bVar4 < 0x9f) {
      switch(bVar4) {
      case 0:
                    // get supported pids
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_ii_mode01_supported_pids_0_20[0];
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_mode01_supported_pids_0_20[1];
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_mode01_supported_pids_0_20[2];
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_mode01_supported_pids_0_20[3];
        break;
      case 1:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_MIL_and_DTC;
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_common_tests_complete;
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_common_test_available;
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_engine_tests_completeness;
        break;
      case 2:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_DTC_causing_FF >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_DTC_causing_FF;
        break;
      case 3:
        uVar2 = get_fuel_system_status_flags();
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)uVar2;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = 0;
        break;
      case 4:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_engine_speed == 0) {
          bVar6 = bVar6 + 2;
          obd_ii_response[bVar4] = 0;
        }
        else {
          bVar6 = bVar6 + 2;
          obd_ii_response[bVar4] = obd_ii_calc_engine_load;
        }
        break;
      case 5:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_engine_coolant_temp;
        break;
      case 6:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_stft_bank1;
        break;
      case 7:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_ltft_bank1;
        break;
      case 8:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_stft_bank2;
        break;
      case 9:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_ltft_bank2;
        break;
      case 10:
        _fuel_pressure_relative_kPa =
             (int)((uint)fuel_pressure_abs - (uint)obd_ii_atmospheric_baro) / 30;
        if (_fuel_pressure_relative_kPa < 0) {
          _fuel_pressure_relative_kPa = 0;
        }
        else if (0xff < _fuel_pressure_relative_kPa) {
          _fuel_pressure_relative_kPa = 0xff;
        }
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)_fuel_pressure_relative_kPa;
        break;
      case 0xb:
        map_kPa = obd_ii_manifold_pressure / 10;
        if (0xff < map_kPa) {
          map_kPa = 0xff;
        }
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)map_kPa;
        break;
      case 0xc:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_engine_speed >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_engine_speed;
        break;
      case 0xd:
        _car_speed = car_speed_div100 / 100;
        if (0xff < _car_speed) {
          _car_speed = 0xff;
        }
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)_car_speed;
        break;
      case 0xe:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] =
             (char)((int)obd_ii_ign_adv_per_cylinder[0] -
                    ((int)obd_ii_ign_adv_per_cylinder[0] >> 31) >> 1) + 128;
        break;
      case 0xf:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)((uint)iat * 0xa0 >> 8);
        break;
      case 0x10:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_maf_flow >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_maf_flow;
        break;
      case 0x11:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        _tps = get_tps();
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)_tps;
        break;
      case 0x13:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = CAL_obd_ii_o2_sensors_present;
        break;
      case 0x14:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_o2_sensor1_voltage < 0x105) {
          bVar4 = (byte)((int)((uint)obd_ii_o2_sensor1_voltage * 0x100 -
                              (uint)obd_ii_o2_sensor1_voltage) / 0x105);
        }
        else {
          bVar4 = 0xff;
        }
        bVar5 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = bVar4;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar5] = obd_ii_stft_bank1;
        break;
      case 0x15:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_o2_sensor2_voltage < 0x105) {
          bVar4 = (byte)((int)((uint)obd_ii_o2_sensor2_voltage * 0x100 -
                              (uint)obd_ii_o2_sensor2_voltage) / 0x105);
        }
        else {
          bVar4 = 0xff;
        }
        bVar5 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = bVar4;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar5] = 0xff;
        break;
      case 0x18:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_o2_sensor5_voltage < 0x105) {
          bVar4 = (byte)((int)((uint)obd_ii_o2_sensor5_voltage * 0x100 -
                              (uint)obd_ii_o2_sensor5_voltage) / 0x105);
        }
        else {
          bVar4 = 0xff;
        }
        bVar5 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = bVar4;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar5] = obd_ii_stft_bank2;
        break;
      case 0x19:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_o2_sensor6_voltage < 0x105) {
          bVar4 = (byte)((int)((uint)obd_ii_o2_sensor6_voltage * 0x100 -
                              (uint)obd_ii_o2_sensor6_voltage) / 0x105);
        }
        else {
          bVar4 = 0xff;
        }
        bVar5 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = bVar4;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar5] = 0xff;
        break;
      case 0x1c:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = CAL_obd_ii_standards_supported;
        break;
      case 0x1f:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)((ulonglong)runtime_since_start / 200 >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)((ulonglong)runtime_since_start / 200);
        break;
      case 0x20:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_ii_mode01_supported_pids_20_40[0];
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_mode01_supported_pids_20_40[1];
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_mode01_supported_pids_20_40[2];
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_mode01_supported_pids_20_40[3];
        break;
      case 0x21:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] =
             (byte)((ulonglong)obd_ii_distance_traveled_with_MIL / 10000 >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)((ulonglong)obd_ii_distance_traveled_with_MIL / 10000);
        break;
      case 0x2e:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)_obd_ii_commanded_evap_purge;
        break;
      case 0x2f:
        bVar4 = fuel_level_lookup_unfiltered
                          ((uint8_t)(&switchD_000ba9ac::switchdataD_400010c8)[bVar4]);
        bVar5 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar5] = bVar4;
        break;
      case 0x30:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_warmups_since_code_cleared;
        break;
      case 0x31:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_distance_since_codes_cleared_km >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_distance_since_codes_cleared_km;
        break;
      case 0x32:
        iVar1 = (int)(short)obd_ii_evap_purge_pressure + (int)DAT_400019f4;
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (iVar1 < 0x334) {
          if (iVar1 < -0x333) {
            bVar5 = bVar6 + 2;
            obd_ii_response[bVar4] = 0xe0;
            bVar6 = bVar6 + 3;
            obd_ii_response[bVar5] = 1;
          }
          else {
            bVar5 = bVar6 + 2;
            obd_ii_response[bVar4] = (byte)((uint)(iVar1 * 40) >> 8);
            bVar6 = bVar6 + 3;
            obd_ii_response[bVar5] = (char)iVar1 * 40;
          }
        }
        else {
          bVar5 = bVar6 + 2;
          obd_ii_response[bVar4] = 0x1f;
          bVar6 = bVar6 + 3;
          obd_ii_response[bVar5] = 0xff;
        }
        break;
      case 0x33:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)(obd_ii_atmospheric_baro / 10);
        break;
      case 0x40:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_ii_mode01_supported_pids_40_60[0];
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_mode01_supported_pids_40_60[1];
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_mode01_supported_pids_40_60[2];
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_mode01_supported_pids_40_60[3];
        break;
      case 0x41:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = 0;
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_common_tests_complete;
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = (byte)(obd_ii_monitor_status_this_drive_cycle >> 8);
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = (byte)obd_ii_monitor_status_this_drive_cycle;
        break;
      case 0x42:
                    // unit here is 1/1000 V
        control_module_voltage = (uint)(((int)(uint)adc_dma_dest[0x14] >> 4) * 18000) / 1023;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(control_module_voltage >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)control_module_voltage;
        break;
      case 0x43:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        if (obd_ii_engine_speed == 0) {
          bVar4 = bVar6 + 2;
          obd_ii_response[(byte)(bVar6 + 1)] = 0;
          bVar6 = bVar6 + 3;
          obd_ii_response[bVar4] = 0;
        }
        else {
          bVar4 = bVar6 + 2;
          obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_load_abs >> 8);
          bVar6 = bVar6 + 3;
          obd_ii_response[bVar4] = (byte)obd_ii_load_abs;
        }
        break;
      case 0x44:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        uVar2 = (ulonglong)((longlong)(int)(uint)afr_commanded * 0x3394a09d9033) >> 32;
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] =
             (byte)((((((longlong)(int)(uint)afr_commanded * 0x8013 - uVar2 << 32) >> 33) + uVar2 <<
                     32) >> 42) >> 8);
        uVar2 = (ulonglong)((longlong)(int)(uint)afr_commanded * 0x3394a09d9033) >> 32;
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] =
             (byte)(((((longlong)(int)(uint)afr_commanded * 0x8013 - uVar2 << 32) >> 0b00100001) +
                     uVar2 << 32) >> 42);
        break;
      case 0x45:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        uVar3 = get_relative_tps();
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)uVar3;
        break;
      case 0x46:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        uVar3 = get_ambiant_air_temp();
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)(((uVar3 & 0xff) * 0xa0) / 0xff);
        break;
      case 0x47:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        absolute_throttle_pos_b = get_abs_throttle_pos_b();
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)absolute_throttle_pos_b;
        break;
      case 0x49:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)((int)(uint)accelerator_pedal_pos_d >> 2);
        break;
      case 0x4a:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)((int)(uint)accelerator_pedal_pos_e >> 2);
        break;
      case 0x4c:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = (byte)((short)obd_ii_commanded_throttle_actuator >> 4);
        break;
      case 0x51:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = CAL_obd_ii_fuel_type;
        break;
      case 0x60:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_ii_mode01_supported_pids_60_80[0];
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_mode01_supported_pids_60_80[1];
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_mode01_supported_pids_60_80[2];
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_mode01_supported_pids_60_80[3];
        break;
      case 0x62:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_engine_actual_torque_percent;
        break;
      case 99:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_engine_reference_torque_nm >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_engine_reference_torque_nm;
        break;
      case 0x77:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = 1;
        obd_ii_response[(byte)(bVar6 + 2)] = (byte)((uint)chargecooler_temp_div_160 * 160 >> 8);
                    // these two bytes could probably be reused
        obd_ii_response[(byte)(bVar6 + 3)] = 0;
        bVar4 = bVar6 + 5;
        obd_ii_response[(byte)(bVar6 + 4)] = 0;
        bVar6 = bVar6 + 6;
        obd_ii_response[bVar4] = 0;
        break;
      case 0x80:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = obd_ii_mode01_supported_pids_80_100[0];
        obd_ii_response[(byte)(bVar6 + 2)] = obd_ii_mode01_supported_pids_80_100[1];
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = obd_ii_mode01_supported_pids_80_100[2];
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = obd_ii_mode01_supported_pids_80_100[3];
        break;
      case 0x8e:
        bVar4 = bVar6 + 1;
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar6 = bVar6 + 2;
        obd_ii_response[bVar4] = obd_ii_engine_friction_percent_torque;
        break;
      case 0x9d:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_fuel_rate1 >> 8);
        obd_ii_response[(byte)(bVar6 + 2)] = (byte)obd_ii_fuel_rate1;
        bVar4 = bVar6 + 4;
        obd_ii_response[(byte)(bVar6 + 3)] = (byte)(obd_ii_fuel_rate2 >> 8);
        bVar6 = bVar6 + 5;
        obd_ii_response[bVar4] = (byte)obd_ii_fuel_rate2;
        break;
      case 0x9e:
        obd_ii_response[bVar6] = obd_ii_request[i & 0xff];
        bVar4 = bVar6 + 2;
        obd_ii_response[(byte)(bVar6 + 1)] = (byte)(obd_ii_engine_exhaust_flow_rate >> 8);
        bVar6 = bVar6 + 3;
        obd_ii_response[bVar4] = (byte)obd_ii_engine_exhaust_flow_rate;
      }
    }
  }
  if (bVar6 < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = (ushort)bVar6;
    flexcan_a_obd_send_messages();
  }
  return;
}



ulonglong get_fuel_system_status_flags(void)

{
  ulonglong uVar1;
  ulonglong uVar2;
  
  uVar1 = 0;
  if (obd_ii_engine_speed != 0) {
    if ((DAT_40001e90 == 2) && (DAT_40001e92 == 2)) {
      uVar1 = 2;
    }
    else {
      if (((DAT_40001e90 == 8) || (DAT_40001e92 == 8)) &&
         ((DAT_40001e90 == 2 || (DAT_40001e92 == 2)))) {
        uVar1 = 0x10;
      }
      if (DAT_40001e90 == 8) {
        uVar2 = uVar1 | 8;
      }
      else if ((DAT_40001e90 == 2) && (uVar1 == 0)) {
        uVar2 = 2;
      }
      else if ((DAT_40001e90 & 0x400) == 0) {
        uVar2 = uVar1 | 1;
        if ((DAT_40001e90 & 1) == 0) {
          uVar2 = uVar1;
        }
      }
      else {
        uVar2 = uVar1 | 4;
      }
      if (DAT_40001e92 == 8) {
        uVar1 = uVar2 | 0x80;
      }
      else if ((DAT_40001e92 == 2) && ((uVar2 & 0x10) == 0)) {
        uVar1 = uVar2 | 2;
      }
      else if ((DAT_40001e92 & 0x400) == 0) {
        uVar1 = uVar2 | 0x20;
        if ((DAT_40001e92 & 1) == 0) {
          uVar1 = uVar2;
        }
      }
      else {
        uVar1 = uVar2 | 0x40;
      }
    }
  }
  return uVar1;
}



// no filtering of raw level to account for slosh!

uint8_t fuel_level_lookup_unfiltered(uint8_t param_1)

{
  uint max_fuel_level;
  
  max_fuel_level = (COD_base[0] >> 4 & 127) * 3;
  if (0xff < max_fuel_level) {
    max_fuel_level = 0xff;
  }
  if (max_fuel_level < fuel_level_raw) {
    param_1 = 0xff;
  }
  else if (max_fuel_level != 0) {
    param_1 = (uint8_t)((int)((uint)fuel_level_raw * 256 - (uint)fuel_level_raw) /
                       (int)max_fuel_level);
  }
  return param_1;
}



u8_percent__125 engine_torque_pct_calc(u16_torque_nm torque)

{
  int iVar1;
  ushort torque_divisor;
  
  if (engine_speed_2 == 0) {
    iVar1 = 125;
  }
  else {
    torque_divisor = CAL_obd_ii_engine_reference_torque_manual;
    if ((COD_base[0] >> 0xd & 7) == 1) {
      torque_divisor = CAL_obd_ii_engine_reference_torque_ips;
    }
    if (torque_divisor == 0) {
      iVar1 = 255;
    }
    else {
      iVar1 = ((short)torque * 100) / (int)(uint)torque_divisor + 125;
    }
    if (iVar1 < 256) {
      if (iVar1 < 125) {
        iVar1 = 125;
      }
    }
    else {
      iVar1 = 255;
    }
  }
  return (u8_percent__125)iVar1;
}



uint16_t get_fuel_rate2(void)

{
  uint uVar1;
  
  uVar1 = (int)((uint)fuel_usage_instantaneous * (uint)CAL_fuel_usage_to_flow_scaling) / 0x682a;
  if (0xffff < uVar1) {
    uVar1 = 0xffff;
  }
  return (uint16_t)uVar1;
}



u16_flow_kg_h get_exhaust_flow_rate(void)

{
  u16_flow_50mg_s flow_per_bank;
  u16_flow_kg_h rv;
  byte i;
  longlong flow_sum;
  ulonglong flow_scaled;
  
  flow_sum = 0;
  for (i = 0; i < 2; i = i + 1) {
    flow_per_bank = get_exhaust_flow_per_bank_safe(i);
    flow_sum = flow_sum + (ulonglong)flow_per_bank;
  }
  flow_scaled = (flow_sum * 18 + 50U & 0xffffffff) / 100;
  rv = 0xffff;
  if (flow_scaled < 0xffff) {
    rv = (u16_flow_kg_h)flow_scaled;
  }
  return rv;
}



void obd_ii_update_calculated_engine_flow_rates(void)

{
  obd_ii_engine_actual_torque_percent = engine_torque_pct_calc(obd_ii_engine_torque);
  obd_ii_engine_friction_percent_torque = engine_torque_pct_calc(-engine_friction_torque);
  obd_ii_engine_reference_torque_nm = CAL_obd_ii_engine_reference_torque_manual;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    obd_ii_engine_reference_torque_nm = CAL_obd_ii_engine_reference_torque_ips;
  }
  obd_ii_fuel_rate1 = get_fuel_rate2();
  obd_ii_fuel_rate2 = get_fuel_rate2();
  obd_ii_engine_exhaust_flow_rate = get_exhaust_flow_rate();
  return;
}



u8_percent__125 get_actual_engine_torque(void)

{
  return obd_ii_engine_actual_torque_percent;
}



u8_percent__125 get_engine_friction_torque_pct(void)

{
  return obd_ii_engine_friction_percent_torque;
}



uint16_t get_engine_reference_torque(void)

{
  return obd_ii_engine_reference_torque_nm;
}



void obd_ii_set_mode02_supported_pids(void)

{
  obd_ii_FF_supported_pids_0_20[0] = 0x7f;
  obd_ii_FF_supported_pids_0_20[1] = 0xff;
  obd_ii_FF_supported_pids_0_20[2] = 0x80;
  obd_ii_FF_supported_pids_0_20[3] = 3;
  obd_ii_FF_supported_pids_20_40[0] = 0;
  obd_ii_FF_supported_pids_20_40[1] = 6;
  obd_ii_FF_supported_pids_20_40[2] = 0x20;
  obd_ii_FF_supported_pids_20_40[3] = 1;
  obd_ii_FF_supported_pids_40_60[0] = 0x7e;
  obd_ii_FF_supported_pids_40_60[1] = 0xd0;
  obd_ii_FF_supported_pids_40_60[2] = 0x80;
  obd_ii_FF_supported_pids_40_60[3] = 1;
  obd_ii_FF_supported_pids_60_80[0] = 0;
  obd_ii_FF_supported_pids_60_80[1] = 0;
  obd_ii_FF_supported_pids_60_80[2] = 2;
  obd_ii_FF_supported_pids_60_80[3] = 0;
  return;
}



void obd_ii_mode02_processing(void)

{
  uint i;
  byte bVar1;
  byte bVar2;
  
  bVar2 = 1;
  obd_ii_response[0] = 0x42;
  for (i = 2; i < obd_ii_request[0] + 1; i = i + 2 & 0xff) {
    if ((((obd_ii_DTC_causing_FF != 0) || (obd_ii_request[i] == 0)) || (obd_ii_request[i] == 0x20))
       || (((obd_ii_request[i] == 0x40 || (obd_ii_request[i] == 0x60)) || (obd_ii_request[i] == 0x2)
           ))) {
      switch(obd_ii_request[i]) {
      case 0:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        obd_ii_response[(byte)(bVar2 + 2)] = obd_ii_FF_supported_pids_0_20[0];
        obd_ii_response[(byte)(bVar2 + 3)] = obd_ii_FF_supported_pids_0_20[1];
        bVar1 = bVar2 + 5;
        obd_ii_response[(byte)(bVar2 + 4)] = obd_ii_FF_supported_pids_0_20[2];
        bVar2 = bVar2 + 6;
        obd_ii_response[bVar1] = obd_ii_FF_supported_pids_0_20[3];
        break;
      case 2:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_DTC_causing_FF >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_DTC_causing_FF;
        break;
      case 3:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)obd_ii_FF_fuel_system_status;
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = 0;
        break;
      case 4:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_calc_engine_load;
        break;
      case 5:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_engine_coolant_temp_C;
        break;
      case 6:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_stft_bank1;
        break;
      case 7:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_ltft_bank1;
        break;
      case 8:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_stft_bank2;
        break;
      case 9:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_ltft_bank2;
        break;
      case 10:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_fuel_pressure;
        break;
      case 0xb:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_intake_manifold_pressure;
        break;
      case 0xc:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_FF_engine_speed >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_engine_speed;
        break;
      case 0xd:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_car_speed;
        break;
      case 0xe:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_ign_adv;
        break;
      case 0xf:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_iat;
        break;
      case 0x10:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_FF_maf_flow_1 >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_maf_flow_1;
        break;
      case 0x11:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_tps_x4;
        break;
      case 0x1f:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_FF_runtime_since_start >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_runtime_since_start;
        break;
      case 0x20:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        obd_ii_response[(byte)(bVar2 + 2)] = obd_ii_FF_supported_pids_20_40[0];
        obd_ii_response[(byte)(bVar2 + 3)] = obd_ii_FF_supported_pids_20_40[1];
        bVar1 = bVar2 + 5;
        obd_ii_response[(byte)(bVar2 + 4)] = obd_ii_FF_supported_pids_20_40[2];
        bVar2 = bVar2 + 6;
        obd_ii_response[bVar1] = obd_ii_FF_supported_pids_20_40[3];
        break;
      case 0x2e:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_evap_purge_cmd;
        break;
      case 0x2f:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = fuel_tank_level;
        break;
      case 0x33:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_atmo_pressure._0_1_;
        break;
      case 0x40:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        obd_ii_response[(byte)(bVar2 + 2)] = obd_ii_FF_supported_pids_40_60[0];
        obd_ii_response[(byte)(bVar2 + 3)] = obd_ii_FF_supported_pids_40_60[1];
        bVar1 = bVar2 + 5;
        obd_ii_response[(byte)(bVar2 + 4)] = obd_ii_FF_supported_pids_40_60[2];
        bVar2 = bVar2 + 6;
        obd_ii_response[bVar1] = obd_ii_FF_supported_pids_40_60[3];
        break;
      case 0x42:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_FF_ecu_voltage >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_ecu_voltage;
        break;
      case 0x43:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)((ushort)obd_ii_FF_load_abs_percentage >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_load_abs_percentage;
        break;
      case 0x44:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar1 = bVar2 + 3;
        obd_ii_response[(byte)(bVar2 + 2)] = (byte)(obd_ii_FF_afr_commanded >> 8);
        bVar2 = bVar2 + 4;
        obd_ii_response[bVar1] = (byte)obd_ii_FF_afr_commanded;
        break;
      case 0x45:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_tps_relative;
        break;
      case 0x46:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_ambiant_air_temp;
        break;
      case 0x47:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_abs_tps_b;
        break;
      case 0x49:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_accelerator_pos_d;
        break;
      case 0x4a:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_accelerator_pos_e;
        break;
      case 0x4c:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = obd_ii_FF_throttle_target_pos;
        break;
      case 0x51:
        obd_ii_response[bVar2] = obd_ii_request[i];
        bVar1 = bVar2 + 2;
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        bVar2 = bVar2 + 3;
        obd_ii_response[bVar1] = CAL_obd_ii_fuel_type;
        break;
      case 0x60:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        obd_ii_response[(byte)(bVar2 + 2)] = obd_ii_FF_supported_pids_60_80[0];
        obd_ii_response[(byte)(bVar2 + 3)] = obd_ii_FF_supported_pids_60_80[1];
        bVar1 = bVar2 + 5;
        obd_ii_response[(byte)(bVar2 + 4)] = obd_ii_FF_supported_pids_60_80[2];
        bVar2 = bVar2 + 6;
        obd_ii_response[bVar1] = obd_ii_FF_supported_pids_60_80[3];
        break;
      case 0x77:
        obd_ii_response[bVar2] = obd_ii_request[i];
        obd_ii_response[(byte)(bVar2 + 1)] = obd_ii_request[i + 1];
        obd_ii_response[(byte)(bVar2 + 2)] = 1;
        obd_ii_response[(byte)(bVar2 + 3)] = obd_ii_FF_chargecooler_temp;
        obd_ii_response[(byte)(bVar2 + 4)] = 0;
        bVar1 = bVar2 + 6;
        obd_ii_response[(byte)(bVar2 + 5)] = 0;
        bVar2 = bVar2 + 7;
        obd_ii_response[bVar1] = 0;
      }
    }
  }
  if (bVar2 < 2) {
    obd_ii_defer_send = true;
  }
  else {
    obd_ii_response_length = (ushort)bVar2;
    flexcan_a_obd_send_messages();
  }
  return;
}



void obd_ii_mode03_processing(void)

{
  byte i;
  uint uVar1;
  uint uVar2;
  
  obd_ii_response[0] = 0x43;
  obd_ii_response[1] = obd_DTC_count;
  uVar2 = 2;
  for (i = 0; i < obd_DTC_count; i = i + 1) {
    uVar1 = uVar2 + 1;
    obd_ii_response[uVar2 & 0xff] = (byte)(obd_ii_dtc_current[i] >> 8);
    uVar2 = uVar2 + 2;
    obd_ii_response[uVar1 & 0xff] = (byte)obd_ii_dtc_current[i];
  }
  obd_ii_response_length = (ushort)uVar2 & 0xff;
  flexcan_a_obd_send_messages();
  return;
}



void FUN_000bdd38(void)

{
  obd_MIL_and_DTC = obd_DTC_count | 0x80;
  if ((obd_ii_montior_passes_bitfield & 3) == 0) {
    obd_MIL_and_DTC = obd_DTC_count;
  }
  return;
}



void obd_ii_record_confirmed_dtc(short param_1)

{
  if (obd_DTC_count < 0x7f) {
    obd_ii_dtc_current[obd_DTC_count] = param_1;
    obd_DTC_count = obd_DTC_count + 1;
  }
  return;
}



void obd_ii_mode3B_processing(void)

{
  obd_ii_response[0] = 0x7b;
  if (obd_ii_request[2] == 1) {
    set_vin_byte(obd_ii_request[3],3);
    set_vin_byte(obd_ii_request[4],4);
    set_vin_byte(obd_ii_request[5],5);
    set_vin_byte(obd_ii_request[6],6);
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response_length = 2;
    flexcan_a_obd_send_messages();
  }
  else if (obd_ii_request[2] == 2) {
    set_vin_byte(obd_ii_request[3],7);
    set_vin_byte(obd_ii_request[4],8);
    set_vin_byte(obd_ii_request[5],9);
    set_vin_byte(obd_ii_request[6],10);
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response_length = 2;
    flexcan_a_obd_send_messages();
  }
  else if (obd_ii_request[2] == 3) {
    set_vin_byte(obd_ii_request[3],11);
    set_vin_byte(obd_ii_request[4],12);
    set_vin_byte(obd_ii_request[5],13);
    set_vin_byte(obd_ii_request[6],14);
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response_length = 2;
    flexcan_a_obd_send_messages();
  }
  else if (obd_ii_request[2] == 4) {
    set_vin_byte(obd_ii_request[3],15);
    set_vin_byte(obd_ii_request[4],16);
    obd_ii_response[1] = obd_ii_request[2];
    obd_ii_response_length = 2;
    flexcan_a_obd_send_messages();
  }
  return;
}



ulonglong extract_sign_bit_from_27c5(void)

{
  return (-(ulonglong)DAT_400027c5 << 32) >> 63;
}



void init_esci_a(void)

{
  uint32_t uVar1;
  uint16_t uVar2;
  
  esci_a.sr = 0xffffffff;
  esci_a.cr1 = 0;
  uVar1 = esci_a.cr1;
  esci_a.cr1 = uVar1 & 0xfffffff7 | 8;
  uVar1 = esci_a.cr1;
  esci_a.cr1 = uVar1 & 0xfffffffb | 4;
  uVar1 = esci_a.cr1;
  esci_a.cr1 = uVar1 & 0xe000ffff | 0x1000000;
  uVar1 = esci_a.cr1;
  esci_a.cr1 = uVar1 & 0xffffffdf | 0x20;
  esci_a.cr2 = 0x2000;
  uVar2 = esci_a.cr2;
  esci_a.cr2 = uVar2 & 0xdfff | 0x2000;
  esci_a.lcr = 0;
  esci_a.lpr = 0xc5990000;
  siu_pcr[0x59] = 0x400;
  siu_pcr[0x5a] = 0x400;
  INTC_PSR[0x92] = '\x02';
  return;
}



undefined1 FUN_000be0d8(void)

{
  uint uVar1;
  
  do {
  } while (DAT_400027c5 == 0);
  INTC_PSR[0x92] = '\0';
  uVar1 = (uint)DAT_400027c6;
  DAT_400027c5 = DAT_400027c5 + -1;
  DAT_400027c6 = DAT_400027c6 + 1 & 0x1f;
  INTC_PSR[0x92] = '\x02';
  return (&DAT_40008148)[uVar1];
}



void eSCI_A_read_unknown_interrupt(void)

{
  undefined1 uVar1;
  uint32_t uVar2;
  
  uVar2 = esci_a.sr;
  if ((uVar2 >> 0x1d & 1) != 0) {
    uVar1 = esci_a.dr._1_1_;
    uVar2 = esci_a.sr;
    esci_a.sr = uVar2 & 0xdfffffff | 0x20000000;
    if (DAT_400027c5 < 0x20) {
      (&DAT_40008148)[DAT_400027c7] = uVar1;
      DAT_400027c7 = DAT_400027c7 + 1 & 0x1f;
      DAT_400027c5 = DAT_400027c5 + 1;
    }
  }
  return;
}



void esci_tx_unknown(byte *data,uint8_t len)

{
  uint32_t uVar1;
  byte i;
  
  uVar1 = esci_a.cr1;
  esci_a.cr1 = uVar1 & 0xffffff7f;
  uVar1 = esci_a.sr;
  esci_a.sr = uVar1 & 0x7fffffff | 0x80000000;
  for (i = 0; i < len; i = i + 1) {
    esci_a_buffer[i] = data[i];
  }
  esci_a_buffer_len = len;
  esci_a.dr._1_1_ = esci_a_buffer[0];
  DAT_400027c4 = 1;
  if (1 < len) {
    uVar1 = esci_a.cr1;
    esci_a.cr1 = uVar1 & 0xffffff7f | 0b10000000;
  }
  return;
}



void eSCI_A_read_unknown_interrupt2(void)

{
  uint32_t uVar1;
  
  uVar1 = esci_a.cr1;
  if (((uVar1 >> 7 & 1) == 1) && (uVar1 = esci_a.sr, (int)uVar1 < 0)) {
    esci_a.dr._1_1_ = esci_a_buffer[DAT_400027c4];
    DAT_400027c4 = DAT_400027c4 + 1;
    uVar1 = esci_a.sr;
    esci_a.sr = uVar1 & 0x7fffffff | 0x80000000;
    if (DAT_400027c4 == esci_a_buffer_len) {
      uVar1 = esci_a.cr1;
      esci_a.cr1 = uVar1 & 0xffffff7f;
    }
  }
  return;
}



void eSCI_A_read_interrupt(void)

{
  eSCI_A_read_unknown_interrupt();
  eSCI_A_read_unknown_interrupt2();
  return;
}



undefined8 FUN_000be320(byte param_1)

{
  char cVar1;
  
  if (DAT_400027c1 < 0x17) {
    if (u8_time_5ms_40001881 == '\0') {
      DAT_400027c1 = 0;
    }
    u8_time_5ms_40001881 = '\x06';
    if (DAT_400027c1 == 0) {
      DAT_400027c1 = '\x01';
      DAT_400027c0 = param_1;
      DAT_40008110 = param_1;
    }
    else if (DAT_400027c1 == 1) {
      DAT_400027c1 = '\x02';
      DAT_400027c0 = DAT_400027c0 + param_1;
      DAT_40008111 = param_1;
    }
    else if (DAT_40008110 + 1 < (uint)DAT_400027c1) {
      if ((uint)DAT_400027c1 == DAT_40008110 + 2) {
        cVar1 = *(char *)((int)obd_ii_dtc_current + DAT_400027c1 + 0xff);
        (&DAT_40008110)[DAT_400027c1] = param_1;
        if ((param_1 == (byte)~DAT_400027c0) && (cVar1 == esci_seq_number)) {
          DAT_400027c1 = 0;
          return 1;
        }
        DAT_400027c5 = 0;
        DAT_400027c6 = 0;
        DAT_400027c7 = 0;
        DAT_400027c1 = '\0';
      }
      else {
        DAT_400027c1 = '\0';
      }
    }
    else {
      (&DAT_40008110)[DAT_400027c1] = param_1;
      DAT_400027c1 = DAT_400027c1 + 1;
      DAT_400027c0 = DAT_400027c0 + param_1;
    }
  }
  else {
    DAT_400027c5 = 0;
    DAT_400027c6 = 0;
    DAT_400027c7 = 0;
    DAT_400027c1 = 0;
  }
  return 0;
}



void esci_a_tx(byte *data,uint8_t len)

{
  int i;
  byte *sum;
  byte *b;
  byte v;
  
  *data = len;
  esci_seq_number = esci_seq_number + 1;
  data[len + 1] = esci_seq_number;
  sum = data + len + 2;
  *sum = 0;
  b = data;
  for (i = 0; i <= (int)(len + 1); i = i + 1) {
    v = *b;
    b = b + 1;
    *sum = *sum + v;
  }
  *sum = ~*sum;
  esci_tx_unknown(data,len + 3);
  return;
}



void FUN_000be558(void)

{
  byte data [3];
  undefined1 local_d;
  undefined1 local_c;
  
  DAT_400027d0 = DAT_400027d0 + 1;
  if (2 < (byte)(DAT_40001f20 - 1)) {
    DAT_40002646 = 0;
  }
  data[2] = DAT_40001f20 | DAT_40008688 << 7;
  data[1] = 0b10000001;
  local_d = DAT_40001f21;
  local_c = DAT_40001f22;
  esci_a_tx(data,4);
  return;
}



void FUN_000be608(void)

{
  ulonglong i;
  byte bVar3;
  undefined8 uVar1;
  ulonglong uVar2;
  
  while (i = extract_sign_bit_from_27c5(), (int)i != 0) {
    bVar3 = FUN_000be0d8();
    uVar1 = FUN_000be320(bVar3);
    if ((int)uVar1 != 0) {
      u8_time_5ms_400015b4 = 'd';
      if (DAT_40008111 == -0x80) {
        DAT_400050e8 = CONCAT11(DAT_40008112,DAT_40008113);
      }
      else if (DAT_40008111 == -0x7f) {
        DAT_400050ea = DAT_40008112;
        DAT_400050ec = DAT_40008114;
        DAT_400050ed = DAT_40008115;
        DAT_400050ee = DAT_40008116;
        DAT_400050ef = DAT_40008117;
        DAT_400050f0 = DAT_40008118;
        DAT_400050f1 = DAT_40008119;
        DAT_400050f2 = DAT_4000811a;
        DAT_400050f3 = DAT_4000811b;
        DAT_400050f4 = DAT_4000811c;
        DAT_400050f5 = DAT_4000811d;
        DAT_400050e8 = CONCAT11(DAT_4000811e,DAT_4000811f);
        uVar2 = calc_load_scale_unknown_tps___();
        if ((int)uVar2 == 0) {
          DAT_40008113 = DAT_40008113 | 0x40;
        }
        DAT_400050eb = DAT_40008113;
        if (DAT_40004bd8 < DAT_40008120) {
          DAT_40004bd8 = DAT_40008120;
        }
        if (DAT_40004bd9 < DAT_40008121) {
          DAT_40004bd9 = DAT_40008121;
        }
        if (DAT_40004bda < DAT_40008122) {
          DAT_40004bda = DAT_40008122;
        }
        if (DAT_40004bdb < DAT_40008123) {
          DAT_40004bdb = DAT_40008123;
        }
        if (DAT_40004bdc < DAT_40008124) {
          DAT_40004bdc = DAT_40008124;
        }
        DAT_400027cc = DAT_400027cc + 1;
        DAT_400027c8 = (short)DAT_400027d0 - (short)DAT_400027cc;
      }
    }
  }
  if (u8_time_5ms_400015b4 < PTR_DAT_40001710._0_1_) {
    PTR_DAT_40001710._0_1_ = u8_time_5ms_400015b4;
  }
  if (u8_time_5ms_400015b4 == '\0') {
    DAT_400050eb = DAT_400050eb | 0x80;
    DAT_400027c5 = 0;
    DAT_400027c6 = 0;
    DAT_400027c7 = 0;
  }
  return;
}



void cruise_control(void)

{
  short sVar1;
  int iVar2;
  u16_factor_1_1023 _tps_unknown;
  longlong lVar3;
  uint8_t uVar6;
  byte bVar7;
  uint uVar4;
  uint uVar5;
  
  if (!ign_voltage_above_threshold) {
    cruise_zero_unknown();
    obd_ii_cruise_status = 0;
  }
  if (DAT_40001c26 == 1) {
    driver_input_flags[1] = driver_input_flags[1] & 0b11111011 | 0b00001000;
  }
  else if ((obd_ii_cruise_status & 0b1000000000000000) == 0) {
    if (((obd_ii_cruise_status & 1) == 0) || ((ignition_on_flags & 1) == 0)) {
      driver_input_flags[1] = driver_input_flags[1] & 0b11110011;
      obd_ii_cruise_status = obd_ii_cruise_status & 0b11111111111111111111111101111100;
    }
    else if ((obd_ii_cruise_status & 2) == 0) {
      driver_input_flags[1] = driver_input_flags[1] & 0b11111011 | 0b00001000;
    }
    else {
      driver_input_flags[1] = driver_input_flags[1] & 0b11110111 | 0b00000100;
    }
  }
  else {
    driver_input_flags[1] = driver_input_flags[1] | 0b00001100;
  }
  if ((obd_ii_cruise_status & 0b00000010) == 0) {
    cruise_zero_unknown();
  }
  else {
    cruise_flags_unknown = 0;
    u16_speed_1_100kph_400027f0 = cruise_speed_target - u16_speed_1_100kph_40002806;
    uVar4 = (uint)(short)u16_speed_1_100kph_400027f0;
    lVar3 = libc_abs((longlong)((int)uVar4 / 100 + ((int)uVar4 >> 31)) + (ulonglong)(uVar4 >> 0x1f))
    ;
    if ((int)lVar3 < (int)(uint)CAL_cruise_speed_deadband >> 1) {
      obd_ii_cruise_status = obd_ii_cruise_status & 0xfffeffff | 0b10000000;
    }
    if ((obd_ii_cruise_status & 0b10000000) != 0) {
      uVar4 = (uint)(short)u16_speed_1_100kph_400027f0;
      lVar3 = libc_abs((longlong)((int)uVar4 / 100 + ((int)uVar4 >> 31)) + (ulonglong)(uVar4 >> 31))
      ;
      if ((int)(uint)CAL_cruise_speed_deadband < (int)lVar3) {
        cruise_zero_unknown();
        cruise_flags_unknown = cruise_flags_unknown | 0b00100000;
      }
    }
                    // PID tuning maybe?
    if ((COD_base[0] >> 0xd & 7) == 1) {
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_40008bda,s__40008bd6);
      uVar4 = (uint)(char)uVar6;
      bVar7 = lookup_2D_uint8_interpolated
                        (4,car_current_gear,CAL_cruise_integral_gain_ips,
                         CAL_cruise_integral_gain_ips_X_gear);
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_40008bea,s__40008be6);
      uVar5 = (uint)(char)uVar6;
      cruise_integral_gain = bVar7;
    }
    else if ((COD_base[0] >> 16 & 1) == 0) {
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_40008d6a,s__40008d66);
      uVar4 = (uint)(char)uVar6;
      bVar7 = lookup_2D_uint8_interpolated
                        (4,car_current_gear,CAL_cruise_integral_gain_manual_longbox,
                         CAL_cruise_integral_gain_manual_longbox_X_gear);
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_40008d7a,s__40008d76);
      uVar5 = (uint)(char)uVar6;
      cruise_integral_gain = bVar7;
    }
    else {
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_4000946e,s__4000946a);
      uVar4 = (uint)(char)uVar6;
      bVar7 = lookup_2D_uint8_interpolated
                        (4,car_current_gear,CAL_cruise_integral_gain_manual_cr,
                         CAL_cruise_integral_gain_manual_cr_X_gear);
      uVar6 = lookup_2D_uint8_interpolated(4,car_current_gear,&DAT_4000947e,s__4000947a);
      uVar5 = (uint)(char)uVar6;
      cruise_integral_gain = bVar7;
    }
    if ((int)((uint)CAL_cruise_speed_error_limit * 100) <
        (int)((uVar4 & 0xff) * (int)(short)u16_speed_1_100kph_400027f0) / 10) {
      DAT_400027e2 = (ushort)CAL_cruise_speed_error_limit * 100;
    }
    else if ((int)((uVar4 & 0xff) * (int)(short)u16_speed_1_100kph_400027f0) / 10 <
             (int)((uint)CAL_cruise_speed_error_limit * -100)) {
      DAT_400027e2 = (ushort)CAL_cruise_speed_error_limit * -100;
    }
    else {
      iVar2 = (uVar4 & 0xff) * (int)(short)u16_speed_1_100kph_400027f0;
      sVar1 = (short)(iVar2 >> 0b00011111);
      DAT_400027e2 = ((short)(iVar2 / 10) + sVar1) -
                     ((short)((short)(iVar2 / 0xa0000) + sVar1) >> 0xf);
    }
    if ((int)((uint)DAT_4000880f * 100) <
        (int)((uint)cruise_integral_gain * (int)DAT_400027fe) / 100) {
      DAT_400027e4 = (ushort)DAT_4000880f * 100;
    }
    else if ((int)((uint)cruise_integral_gain * (int)DAT_400027fe) / 100 <
             (int)((uint)DAT_4000880f * -100)) {
      DAT_400027e4 = (ushort)DAT_4000880f * -100;
    }
    else {
      DAT_400027e4 = ((short)((int)((uint)cruise_integral_gain * (int)DAT_400027fe) / 100) +
                     (DAT_400027fe >> 0xf)) -
                     ((short)((short)((int)((uint)cruise_integral_gain * (int)DAT_400027fe) /
                                     0x640000) + (DAT_400027fe >> 0xf)) >> 0xf);
    }
    if ((int)((uint)DAT_40008810 * 100) < (int)((uVar5 & 0xff) * (int)DAT_40002800)) {
      DAT_400027e6 = (ushort)DAT_40008810 * 100;
    }
    else if ((int)((uVar5 & 0xff) * (int)DAT_40002800) < (int)((uint)DAT_40008810 * -100)) {
      DAT_400027e6 = (ushort)DAT_40008810 * -100;
    }
    else {
      DAT_400027e6 = ((ushort)uVar5 & 0xff) * DAT_40002800;
    }
    obd_ii_cruise_status = obd_ii_cruise_status | 0x100000;
    _tps_unknown = (u16_factor_1_1023)
                   (((ulonglong)cruise_tps_unknown * 0xff) / (ulonglong)load_tps_max);
    if (0x3ff < _tps_unknown) {
      _tps_unknown = 0x3ff;
    }
    if ((COD_base[0] >> 0xd & 7) == 1) {
      cruise_tps_commanded =
           lookup_2D_uint16_interpolated
                     (16,_tps_unknown,CAL_tpstarget_tour_ips_X_pps,CAL_tpstarget_tour_ips);
    }
    else {
      cruise_tps_commanded =
           lookup_2D_uint16_interpolated
                     (16,_tps_unknown,CAL_tpstarget_tour_manual_X_pps,CAL_tpstarget_tour_manual);
    }
  }
  if ((((CAL_obd_ii_P0578 & 7) == 0) || ((ushort)(cruise_switch_unknown_voltage - 0x3b7) < 0x17)) ||
     (0x3a2 < (ushort)(cruise_switch_unknown_voltage - 0x2d))) {
    if (((CAL_obd_ii_P0578 & 7) != 0) && ((ushort)(cruise_switch_unknown_voltage - 0x3b7) < 0x17)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0578,&LEA_obd_ii_P0578_flags);
      if (DAT_400027f4 < DAT_4000d443) {
        DAT_400027f4 = DAT_400027f4 + 1;
      }
    }
    cruise_switch_unknown_voltage2 = 0;
    DAT_4000280a = (ushort)DAT_4000ca6e * 10;
  }
  else if (cruise_switch_unknown_voltage2 == 0) {
    cruise_switch_unknown_voltage2 = cruise_switch_unknown_voltage;
    DAT_4000280a = (ushort)DAT_4000ca6e * 10;
  }
  else if (((int)(cruise_switch_unknown_voltage2 - 10) < (int)(uint)cruise_switch_unknown_voltage)
          && ((uint)cruise_switch_unknown_voltage < cruise_switch_unknown_voltage2 + 10)) {
    if (((DAT_4000280a == 0) && (cruise_switch_unknown_voltage2 = 0, DAT_400027f4 != 0)) &&
       (DAT_400027f4 = DAT_400027f4 - 1, DAT_400027f4 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0578,&LEA_obd_ii_P0578_flags,&DAT_40004dc9,&DAT_40004dca,0x578,0);
    }
  }
  else {
    cruise_switch_unknown_voltage2 = 0;
  }
  if (DAT_400027f6 == 0) {
    if (((CAL_obd_ii_P0579 & 7) != 0) && (engine_is_running != false)) {
      if (DAT_40002819 < DAT_4000cbd0) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0579,&LEA_obd_ii_P0579_flags);
        if (DAT_400027f5 < DAT_4000d403) {
          DAT_400027f5 = DAT_400027f5 + 1;
        }
      }
      else if ((DAT_400027f5 != 0) && (DAT_400027f5 = DAT_400027f5 - 1, DAT_400027f5 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0579,&LEA_obd_ii_P0579_flags,&DAT_40004dcc,&DAT_40004dcd,0x579,0);
      }
    }
    DAT_40002818 = 0;
    DAT_400027f6 = (ushort)DAT_4000cbd1 * 0x14;
  }
  if ((engine_is_running != false) &&
     (((DAT_400027f4 == 0 || (DAT_400023de == '\0')) || (DAT_400027f5 == 0)))) {
    engine_state_failure_flags = engine_state_failure_flags | 0x100000;
  }
  return;
}



void cruise_zero_unknown(void)

{
  cruise_tps_commanded = 0;
  DAT_400027fe = 0;
  DAT_40002800 = 0;
  cruise_tps_unknown = 0;
  cruise_tps_factor = '\0';
  DAT_400027e6 = 0;
  DAT_400027e4 = 0;
  DAT_400027e2 = 0;
  DAT_400027e8 = 0;
  DAT_40001720 = 0xffff;
  obd_ii_cruise_status = obd_ii_cruise_status & 0xfdeac041;
  DAT_4000280c = 0x14;
  return;
}



void cruise2_5ms(void)

{
  bool bVar1;
  uint uVar2;
  ushort uVar6;
  uint uVar3;
  uint uVar4;
  short sVar7;
  int iVar5;
  char cVar8;
  uint uVar10;
  byte bVar11;
  longlong lVar9;
  byte bVar12;
  char cVar13;
  ulonglong uVar14;
  ulonglong uVar15;
  ulonglong uVar16;
  ulonglong uVar17;
  u8_rspeed_125_4_500rpm _engine_speed;
  
  _engine_speed = engine_speed_3;
  uVar4 = 0;
  uVar2 = (uint)idle_tps_requested;
  if (((cruise_speed_target == 0) || ((COD_base[0] >> 0xd & 7) == 1)) ||
     ((COD_base[0] >> 0xd & 7) == 2)) {
    uVar16 = (ulonglong)obd_ii_engine_speed;
  }
  else {
    uVar16 = ((ulonglong)
              ((longlong)(int)(uint)obd_ii_engine_speed * (longlong)(int)(uint)cruise_speed_target)
             / 100) / ((ulonglong)car_speed_div100 / 100) & 0xffff;
  }
  bVar11 = DAT_40008892;
  bVar12 = DAT_40008891;
  if ((COD_base[0] >> 0xd & 7) == 0) {
    bVar11 = DAT_40008863;
    bVar12 = DAT_40008862;
  }
  uVar15 = (ulonglong)bVar12;
  uVar14 = (ulonglong)bVar11;
  if ((((uint)bVar12 * (uint)DAT_40001723 < (uint)uVar16) ||
      ((uint)uVar16 < (uint)bVar11 * (uint)DAT_40001724)) || (200 < u16_time_100ms_40001b16)) {
    uVar6 = cruise_flags_unknown | 0x40;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
  }
  bVar1 = DAT_40002810 == 0;
  DAT_40002810 = DAT_40002810 + -1;
  if (bVar1) {
    DAT_40002810 = 0;
  }
  if (DAT_40002814 == 0) {
    obd_ii_cruise_status = obd_ii_cruise_status & 0xfffdffff;
  }
  else {
    DAT_40002814 = DAT_40002814 + -1;
    obd_ii_cruise_status = obd_ii_cruise_status | 0x20000;
  }
  if ((((revlimit_limp_mode_active == false) && ((engine_state_failure_flags & 4) == 0)) &&
      (((engine_state_failure_flags & 0x10000) == 0 &&
       ((((((engine_state_failure_flags & 0x8000) == 0 && ((engine_state_failure_flags & 0x10) == 0)
           ) && ((engine_state_failure_flags & 0x400) == 0)) &&
         (((engine_state_failure_flags & 0x800000) == 0 &&
          ((engine_state_failure_flags & 0x100000) == 0)))) && (DAT_40001e78 != '\0')))))) &&
     ((((COD_base[0] >> 0xd & 7) != 0 || ((COD_base[1] >> 0x15 & 3) == 2)) &&
      ((((COD_base[1] >> 9 & 1) != 0 &&
        (((((brake_switch & 0x22) == 0 && ((clutch_pos_sensor & 8) == 0)) &&
          ((flexcan_flags_unknown & 2) != 0)) && ((flexcan_flags_unknown & 8) != 0)))) &&
       ((((COD_base[0] >> 0x16 & 7) == 0 ||
         (((flexcan_flags_unknown & 0x80) != 0 && ((flexcan_flags_unknown & 0x20) != 0)))) &&
        ((lbf_state_flags & 0x10) == 0)))))))) {
    obd_ii_cruise_status = obd_ii_cruise_status & 0xffff7fff;
  }
  else {
    if ((lbf_state_flags & 0x10) == 0) {
      uVar6 = cruise_flags_unknown | 0x80;
      if ((obd_ii_cruise_status & 2) == 0) {
        uVar6 = cruise_flags_unknown;
      }
    }
    else {
      uVar6 = cruise_flags_unknown;
      if ((obd_ii_cruise_status & 2) != 0) {
        uVar6 = cruise_flags_unknown | 0x1000;
      }
    }
    cruise_flags_unknown = uVar6;
    obd_ii_cruise_status = obd_ii_cruise_status | 0x8000;
    cruise_zero_unknown();
    obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffffe;
    cruise_speed_target = 0;
  }
  if ((ushort)(cruise_switch_unknown_voltage - 0x3b7) < 0x17) {
    if (DAT_4000281b == '\0') {
      obd_ii_cruise_status = obd_ii_cruise_status & 0xfeffffff;
    }
    else {
      DAT_4000281b = DAT_4000281b + -1;
    }
  }
  else {
    DAT_4000281b = 'd';
  }
  if ((brake_switch & 0x11) != 0) {
    uVar6 = cruise_flags_unknown | 2;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    obd_ii_cruise_status = obd_ii_cruise_status | 0x1000000;
    DAT_4000281b = 'd';
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
  }
  if (((COD_base[1] >> 0x15 & 3) == 2) && (CAL_sensor_clutch_engaged_threshold < clutch_pos_voltage)
     ) {
    uVar6 = cruise_flags_unknown | 4;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    obd_ii_cruise_status = obd_ii_cruise_status | 0x1000000;
    DAT_4000281b = 'd';
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
  }
  if (car_current_gear < u8_gear_40001722) {
    uVar6 = cruise_flags_unknown | 0x400;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
  }
  if ((abs_esp_flags & 7) != 0) {
    uVar6 = cruise_flags_unknown | 8;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
  }
  if ((DAT_40002642 & 1) != 0) {
    uVar6 = cruise_flags_unknown | 0x10;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
  }
  if (((abs_esp_flags & 8) == 0) || (obd_ii_diag_override != false)) {
    obd_ii_cruise_status = obd_ii_cruise_status & 0xfff7ffff;
  }
  else {
    uVar6 = cruise_flags_unknown | 0x200;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
    obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffffe | 0x80000;
    cruise_speed_target = 0;
  }
  if (((abs_esp_flags & 0x10) == 0) || (obd_ii_diag_override != false)) {
    obd_ii_cruise_status = obd_ii_cruise_status & 0xff7fffff;
  }
  else {
    uVar6 = cruise_flags_unknown | 0x800;
    if ((obd_ii_cruise_status & 2) == 0) {
      uVar6 = cruise_flags_unknown;
    }
    cruise_flags_unknown = uVar6;
    cruise_zero_unknown();
    DAT_40002642 = DAT_40002642 & 0xfffe;
    obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffffe | 0x800000;
    cruise_speed_target = 0;
  }
  if (((((ushort)(cruise_switch_unknown_voltage - 0xe9) < 0x16) && ((ignition_on_flags & 1) != 0))
      && ((obd_ii_cruise_status & 0x8000) == 0)) &&
     ((((obd_ii_cruise_status & 0x40) == 0 && ((obd_ii_cruise_status & 0x80000) == 0)) &&
      ((obd_ii_cruise_status & 0x800000) == 0)))) {
    if (DAT_400027f8 != 0xff) {
      DAT_400027f8 = DAT_400027f8 + 1;
    }
    if (3 < DAT_400027f8) {
      DAT_400027f9 = 0;
      DAT_400027fa = 0;
      if ((obd_ii_cruise_status & 2) == 0) {
        if ((obd_ii_cruise_status & 1) != 0) {
          cruise_speed_target = 0;
          obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffffe | 0x40;
          DAT_400027f8 = 0;
        }
      }
      else {
        cruise_zero_unknown();
        cruise_flags_unknown = cruise_flags_unknown | 1;
        DAT_40002814 = (ushort)DAT_400087cd << 1;
        obd_ii_cruise_status = obd_ii_cruise_status | 0x40;
        DAT_400027f8 = 0;
      }
    }
  }
  else if (((((obd_ii_cruise_status & 0x1000000) == 0) && ((obd_ii_cruise_status & 1) != 0)) &&
           (((ushort)(cruise_switch_unknown_voltage - 0x6b) < 0xf &&
            ((((cruise_speed_target != 0 && (u8_gear_40001722 <= car_current_gear)) &&
              (CAL_cruise_speed_limit[1] < car_speed_u8)) &&
             ((uVar16 < uVar15 * 200 && (uVar14 * 200 < uVar16)))))))) &&
          ((obd_ii_cruise_status & 0x40) == 0)) {
    if (DAT_400027f9 != 0xff) {
      DAT_400027f9 = DAT_400027f9 + 1;
    }
    if (3 < DAT_400027f9) {
      DAT_400027f8 = 0;
      DAT_400027fa = 0;
    }
  }
  else if ((((obd_ii_cruise_status & 1) == 0) ||
           (0x18 < (ushort)(cruise_switch_unknown_voltage - 0x128))) ||
          ((obd_ii_cruise_status & 0x40) != 0)) {
    if (((((obd_ii_cruise_status & 1) == 0) ||
         (0x1d < (ushort)(cruise_switch_unknown_voltage - 0x176))) ||
        ((obd_ii_cruise_status & 2) == 0)) || ((obd_ii_cruise_status & 0x40) != 0)) {
      if ((ushort)(cruise_switch_unknown_voltage - 0x3b7) < 0x17) {
        if ((byte)(DAT_400027f8 - 4) < 0xec) {
          if ((obd_ii_cruise_status & 2) == 0) {
            obd_ii_cruise_status = obd_ii_cruise_status ^ 1;
            if ((obd_ii_cruise_status & 1) == 0) {
              cruise_speed_target = 0;
            }
          }
          else {
            cruise_zero_unknown();
            cruise_flags_unknown = cruise_flags_unknown | 1;
            DAT_40002814 = (ushort)DAT_400087cd << 1;
          }
        }
        DAT_400027f8 = 0;
        if ((byte)(DAT_400027f9 - 4) < 0xec) {
          uVar10 = obd_ii_cruise_status | 0x2010002;
          obd_ii_cruise_status = obd_ii_cruise_status | 0x10002;
          if (DAT_4000893c < accel_pedal_pos) {
            obd_ii_cruise_status = uVar10;
          }
        }
        DAT_400027f9 = 0;
        if (((((byte)(DAT_400027fa - 4) < 0xec) && (uVar14 * 200 < (ulonglong)obd_ii_engine_speed))
            && (((ulonglong)obd_ii_engine_speed < uVar15 * 200 &&
                ((u8_gear_40001722 <= car_current_gear && (CAL_cruise_speed_limit[1] < car_speed_u8)
                 ))))) && (car_speed_u8 < CAL_cruise_speed_limit[0])) {
          uVar3 = obd_ii_cruise_status | 0b00000010;
          cruise_speed_target = car_speed_div100;
          uVar10 = obd_ii_cruise_status & 0x10000;
          obd_ii_cruise_status = uVar3;
          if (uVar10 != 0) {
            DAT_40002810 = (ushort)DAT_4000880d * 4 + (ushort)DAT_4000880d;
          }
        }
        DAT_400027fa = 0;
        DAT_40001718 = '\x03';
        DAT_4000171b = DAT_4000171a;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffbf83;
        DAT_40002812 = 0;
      }
      else if ((ushort)(cruise_switch_unknown_voltage - 0x2d) < 0x3a3) {
        DAT_4000171b = DAT_4000171a;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffffc3;
        if (DAT_40001718 == '\0') {
          obd_ii_cruise_status = obd_ii_cruise_status | 0x40;
          DAT_400027f8 = 0;
          DAT_400027f9 = 0;
          DAT_400027fa = 0;
        }
        else {
          DAT_40001718 = DAT_40001718 + -1;
        }
      }
      else {
        obd_ii_cruise_status = obd_ii_cruise_status | 0x4000;
        if (DAT_40001719 == '\0') {
          DAT_400027f8 = 0;
          DAT_400027f9 = 0;
          DAT_400027fa = 0;
        }
      }
    }
    else if (DAT_40001718 == 0) {
      if ((((obd_ii_cruise_status & 0b00100000) == 0) &&
          ((ushort)((ushort)CAL_cruise_speed_limit[1] * 100 +
                   (ushort)CAL_cruise_speed_increment * 10) < cruise_speed_target)) &&
         (uVar14 * 200 < uVar16)) {
        cruise_speed_target = cruise_speed_target + (ushort)CAL_cruise_speed_increment * -10;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffff7f | 0x20;
      }
      if (DAT_4000171b == '\0') {
        obd_ii_cruise_status = obd_ii_cruise_status | 8;
        DAT_40002810 = (ushort)DAT_4000880d * 4 + (ushort)DAT_4000880d;
      }
      else {
        DAT_4000171b = DAT_4000171b + -1;
      }
      DAT_400027f8 = 0;
      DAT_400027f9 = 0;
      DAT_400027fa = 0;
    }
    else {
      DAT_40001718 = DAT_40001718 + -1;
    }
  }
  else if (((((obd_ii_cruise_status & 2) == 0) || ((obd_ii_cruise_status & 0x400) != 0)) ||
           (((obd_ii_cruise_status & 0x10000) != 0 || ((obd_ii_cruise_status & 0x2000000) != 0))))
          && ((obd_ii_cruise_status & 4) == 0)) {
    if (DAT_400027fa != 0xff) {
      DAT_400027fa = DAT_400027fa + 1;
    }
    if (3 < DAT_400027fa) {
      DAT_400027f8 = 0;
      DAT_400027f9 = 0;
    }
  }
  else {
    if (DAT_40001718 == '\0') {
      if ((((obd_ii_cruise_status & 0x10) == 0) &&
          (cruise_speed_target <
           (ushort)((ushort)CAL_cruise_speed_limit[0] * 100 +
                   (ushort)CAL_cruise_speed_increment * 10))) && (uVar16 < uVar15 * 200)) {
        cruise_speed_target = cruise_speed_target + (ushort)CAL_cruise_speed_increment * 10;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffff7f | 0x10;
      }
      if (DAT_4000171b == '\0') {
        obd_ii_cruise_status = obd_ii_cruise_status | 4;
        DAT_40002810 = (ushort)DAT_4000880d * 4 + (ushort)DAT_4000880d;
      }
      else {
        DAT_4000171b = DAT_4000171b + -1;
      }
    }
    else {
      DAT_40001718 = DAT_40001718 + -1;
    }
    DAT_400027fa = 0;
    DAT_400027f8 = 0;
    DAT_400027f9 = 0;
  }
  DAT_40001719 = 3;
  bVar1 = DAT_4000171e == '\0';
  DAT_4000171e = DAT_4000171e + -1;
  if (bVar1) {
    DAT_4000171e = '\0';
  }
  if (DAT_4000171e == '\0') {
    DAT_4000171e = '\x05';
    u16_speed_1_100kph_40002806 =
         (u16_speed_1_100kph)
         (((longlong)(int)(uint)DAT_4000886e * (longlong)(int)(uint)u16_speed_1_100kph_40002806 +
           (longlong)(int)(0xff - (uint)DAT_4000886e) * (longlong)(int)(uint)car_speed_div100 &
          0xffffffffU) / 0xff);
    if ((obd_ii_cruise_status & 2) != 0) {
      if (DAT_40001720 == 0xffff) {
        DAT_400027e8 = obd_ii_maf_flow;
        DAT_40001720 = obd_ii_maf_flow;
        PTR_DAT_40001728._0_2_ = obd_ii_maf_flow;
        obd_ii_cruise_status = obd_ii_cruise_status | 0x200000;
      }
      if (((obd_ii_cruise_status & 0x100000) != 0) && ((obd_ii_cruise_status & 0x200000) != 0)) {
        if ((int)DAT_400027e4 + (int)DAT_400027e6 + (int)DAT_400027e2 < (int)(uint)DAT_40001720) {
          if (0 < (int)DAT_400027e4 + (int)DAT_400027e6 + (int)DAT_400027e2) {
            DAT_40001720 = DAT_40001720 - (DAT_400027e4 + DAT_400027e6 + DAT_400027e2);
          }
        }
        else {
          DAT_40001720 = 0;
        }
        PTR_DAT_40001728._0_2_ = DAT_40001720;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffdfffff;
      }
      if ((obd_ii_cruise_status & 0x2000000) != 0) {
        uVar4 = cruise_speed_target / 100;
        if (0xff < uVar4) {
          uVar4 = 0xff;
        }
        bVar11 = lookup_2D_uint8_interpolated('\b',(uint8_t)uVar4,&DAT_4000e4e0,&DAT_4000e4d8);
        uVar4 = (uint)bVar11 * 100;
        if (uVar4 < DAT_40001720) {
          if ((int)(uint)u16_speed_1_100kph_40002806 < (int)(cruise_speed_target - 100)) {
            uVar10 = (int)(((uint)cruise_speed_target - (uint)u16_speed_1_100kph_40002806) * 0xff) /
                     (int)(uint)cruise_speed_target;
            if (0xff < (int)uVar10) {
              uVar10 = 0xff;
            }
            if ((int)uVar10 < 0) {
              uVar10 = 0;
            }
            DAT_4000281d = (byte)uVar10;
            if ((DAT_4000893e != 0) && (DAT_4000281d < DAT_4000893e)) {
              uVar10 = uVar4 + (int)((uVar10 & 0xff) *
                                    ((uint)PTR_DAT_40001728._0_2_ + (uint)bVar11 * -100)) /
                               (int)(uint)DAT_4000893e;
              if ((int)uVar10 < (int)uVar4) {
                uVar10 = uVar4;
              }
              DAT_40001720 = (ushort)uVar10;
            }
          }
          else {
            if (uVar4 < DAT_40001720) {
              DAT_40001720 = (ushort)uVar4;
            }
            DAT_4000281d = 0;
          }
        }
        else {
          obd_ii_cruise_status = obd_ii_cruise_status & 0xfdffffff;
        }
      }
      if ((int)((int)DAT_400027e4 + (uint)DAT_40001720 + (int)DAT_400027e6 + (int)DAT_400027e2) < 0)
      {
        uVar17 = 0;
      }
      else {
        uVar17 = (longlong)DAT_400027e4 + (ulonglong)DAT_40001720 +
                 (longlong)DAT_400027e6 + (longlong)DAT_400027e2;
        if (0xffff < (uVar17 & 0xffffffff)) {
          uVar17 = 0xffff;
        }
      }
      lVar9 = libc_abs(uVar17 - DAT_400027e8);
      if ((((int)(uint)DAT_4000886d < (int)lVar9) && (DAT_40002810 == 0)) &&
         ((obd_ii_cruise_status & 0x2000000) == 0)) {
        if ((ulonglong)DAT_400027e8 < (uVar17 & 0xffffffff)) {
          DAT_400027e8 = DAT_400027e8 + DAT_4000886d;
          obd_ii_cruise_status = obd_ii_cruise_status & 0xffffefff | 0x800;
        }
        else {
          DAT_400027e8 = DAT_400027e8 - DAT_4000886d;
          obd_ii_cruise_status = obd_ii_cruise_status & 0xfffff7ff | 0x1000;
        }
      }
      else if (((ulonglong)DAT_400027e8 < (uVar17 & 0xffffffff)) &&
              ((ulonglong)DAT_4000886d << 1 < (uVar17 - DAT_400027e8 & 0xffffffff))) {
        DAT_400027e8 = DAT_400027e8 + (ushort)DAT_4000886d * 2;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffefff | 0x800;
      }
      else {
        DAT_400027e8 = (ushort)uVar17;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffffe7ff;
      }
      iVar5 = (int)((uint)DAT_400027e8 * (uint)DAT_40001d50) / 100000 - (uint)DAT_40002310;
      if (iVar5 < 0) {
        cruise_tps_factor = 0;
      }
      else if (iVar5 < 1174) {
        cruise_tps_factor = (u8_factor_1_255)((iVar5 * 0xff) / 1173);
      }
      else {
        cruise_tps_factor = 255;
      }
      bVar11 = lookup_3D_uint8_interpolated
                         (20,20,(ushort)_engine_speed,(ushort)cruise_tps_factor,CAL_load_to_tps_max,
                          CAL_load_to_tps_max_X_engine_speed,CAL_load_to_tps_max_Y_load);
      uVar4 = (uint)bVar11 << 2;
      bVar11 = lookup_3D_uint8_interpolated
                         (20,20,(ushort)_engine_speed,0xff,CAL_load_to_tps_max,
                          CAL_load_to_tps_max_X_engine_speed,CAL_load_to_tps_max_Y_load);
      DAT_40001726 = (ushort)bVar11 << 2;
      cruise_tps_unknown = (short)uVar4 - (short)((int)uVar2 >> 2);
      if (uVar4 < (uint)((int)uVar2 >> 2)) {
        cruise_tps_unknown = 0;
      }
      uVar2 = obd_ii_cruise_status | 0x42000;
      obd_ii_cruise_status = obd_ii_cruise_status | 0x40000;
      if (DAT_4000280c == '\0') {
        obd_ii_cruise_status = uVar2;
      }
      bVar1 = DAT_4000280c == '\0';
      DAT_4000280c = DAT_4000280c + -1;
      if (bVar1) {
        DAT_4000280c = '\0';
      }
    }
  }
  bVar1 = DAT_4000171c == '\0';
  DAT_4000171c = DAT_4000171c + -1;
  if (bVar1) {
    DAT_4000171c = '\0';
  }
  if (DAT_4000171c == '\0') {
    DAT_4000171c = '\x14';
    sVar7 = DAT_4000280a + -1;
    if (DAT_4000280a == 0) {
      sVar7 = DAT_4000280a;
    }
    DAT_4000280a = sVar7;
    if ((obd_ii_cruise_status & 2) != 0) {
      if ((obd_ii_cruise_status & 0x400) == 0) {
        if ((DAT_40002816 < car_current_gear) && ((COD_base[0] >> 0xd & 7) == 1)) {
          bVar11 = lookup_2D_uint8_interpolated
                             ('\x04',DAT_40002816,CAL_cruise_integral_gain_ips,
                              CAL_cruise_integral_gain_ips_X_gear);
          bVar12 = lookup_2D_uint8_interpolated
                             ('\x04',car_current_gear,CAL_cruise_integral_gain_ips,
                              CAL_cruise_integral_gain_ips_X_gear);
          DAT_400027fe = (short)((int)((int)DAT_400027fe * (uint)bVar11) / (int)(uint)bVar12) +
                         (short)(((longlong)(int)(uint)DAT_400088af *
                                  (longlong)
                                  ((int)DAT_400027fe -
                                  (int)((int)DAT_400027fe * (uint)bVar11) / (int)(uint)bVar12) &
                                 0xffffffffU) / 0xff);
        }
        else if ((wheel_speed_front_accel <= (short)(ushort)DAT_400088b0) ||
                (u16_speed_1_100kph_400027f0 == 0)) {
          if ((int)DAT_400027fe + (int)(short)u16_speed_1_100kph_400027f0 / 10 <
              (int)((uint)DAT_400087ea * -0xfa)) {
            DAT_400027fe = (ushort)DAT_400087ea * -0xfa;
          }
          else if ((int)((uint)DAT_400087ea * 0xfa) <
                   (int)DAT_400027fe + (int)(short)u16_speed_1_100kph_400027f0 / 10) {
            DAT_400027fe = (ushort)DAT_400087ea * 0xfa;
          }
          else if (((((short)u16_speed_1_100kph_400027f0 < 0) && (cruise_tps_unknown != 0)) &&
                   ((obd_ii_cruise_status & 0x1000) == 0)) ||
                  (((0 < (short)u16_speed_1_100kph_400027f0 && (uVar4 < DAT_40001726)) &&
                   ((obd_ii_cruise_status & 0x800) == 0)))) {
            DAT_400027fe = DAT_400027fe +
                           (((short)u16_speed_1_100kph_400027f0 / 10 +
                            ((short)u16_speed_1_100kph_400027f0 >> 0xf)) -
                           ((short)((short)((int)(short)u16_speed_1_100kph_400027f0 / 0xa0000) +
                                   ((short)u16_speed_1_100kph_400027f0 >> 0xf)) >> 0xf));
          }
        }
      }
      else {
        DAT_400027fe = 0;
      }
      bVar1 = DAT_4000171d == '\0';
      DAT_4000171d = DAT_4000171d + -1;
      if (bVar1) {
        DAT_4000171d = '\0';
      }
      if (DAT_4000171d == '\0') {
        DAT_4000171d = '\x05';
        if (((DAT_4000280e == cruise_speed_target) && ((obd_ii_cruise_status & 0x400) == 0)) &&
           ((obd_ii_cruise_status & 0x2000) != 0)) {
          if (((int)(short)u16_speed_1_100kph_400027f0 - (int)(short)DAT_400027fc) / 10 <
              (int)((uint)DAT_400087eb * -0x19)) {
            DAT_40002800 = (ushort)DAT_400087eb * -0x19;
          }
          else if ((int)((uint)DAT_400087eb * 0x19) <
                   ((int)(short)u16_speed_1_100kph_400027f0 - (int)(short)DAT_400027fc) / 10) {
            DAT_40002800 = (ushort)DAT_400087eb * 0x19;
          }
          else {
            iVar5 = (int)(short)u16_speed_1_100kph_400027f0 - (int)(short)DAT_400027fc;
            sVar7 = (short)(iVar5 >> 0x1f);
            DAT_40002800 = ((short)(iVar5 / 10) + sVar7) -
                           ((short)((short)(iVar5 / 0xa0000) + sVar7) >> 0xf);
          }
        }
        else {
          DAT_40002800 = 0;
        }
        DAT_400027fc = u16_speed_1_100kph_400027f0;
        DAT_4000280e = cruise_speed_target;
      }
      DAT_40002816 = car_current_gear;
    }
    if ((obd_ii_cruise_status & 0x400) == 0) {
      DAT_40002802 = DAT_4000886a << 2;
      uVar4 = obd_ii_cruise_status;
    }
    else {
      DAT_40001720 = 0xffff;
      bVar1 = DAT_40002802 == 0;
      DAT_40002802 = DAT_40002802 + -1;
      if (bVar1) {
        DAT_40002802 = 0;
      }
      uVar4 = obd_ii_cruise_status & 0xffefff7f;
      if (DAT_40002802 == 0) {
        uVar6 = cruise_flags_unknown | 0x100;
        if ((obd_ii_cruise_status & 2) == 0) {
          uVar6 = cruise_flags_unknown;
        }
        obd_ii_cruise_status = obd_ii_cruise_status & 0xffefff7f;
        cruise_flags_unknown = uVar6;
        cruise_zero_unknown();
        uVar4 = obd_ii_cruise_status;
      }
    }
    obd_ii_cruise_status = uVar4;
    if ((obd_ii_cruise_status & 4) == 0) {
      if ((obd_ii_cruise_status & 0x100) != 0) {
        cruise_speed_target = car_speed_div100;
        if (((int)(uint)obd_ii_maf_flow < (int)((int)DAT_400027e4 + (uint)DAT_40001720)) &&
           (cruise_integral_gain != '\0')) {
          DAT_400027fe = (short)((int)(((uint)obd_ii_maf_flow - (uint)DAT_40001720) * 100) /
                                (int)(uint)cruise_integral_gain);
        }
        obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffeff;
      }
    }
    else {
      obd_ii_cruise_status = obd_ii_cruise_status & 0xffffff7f | 0x100;
      if (((ulonglong)cruise_speed_target / 100 < (ulonglong)CAL_cruise_speed_limit[0]) &&
         (uVar16 < uVar15 * 200)) {
        cruise_speed_target = cruise_speed_target + DAT_40008865;
      }
    }
    if ((obd_ii_cruise_status & 8) == 0) {
      if ((obd_ii_cruise_status & 0x200) != 0) {
        cruise_speed_target = car_speed_div100;
        obd_ii_cruise_status = obd_ii_cruise_status & 0xfffffdff;
      }
    }
    else {
      obd_ii_cruise_status = obd_ii_cruise_status & 0xffffff7f | 0x200;
      if (((ulonglong)CAL_cruise_speed_limit[1] < (ulonglong)cruise_speed_target / 100) &&
         (uVar14 * 200 < uVar16)) {
        cruise_speed_target = cruise_speed_target - DAT_40008866;
      }
    }
    if (((obd_ii_cruise_status & 0x400) == 0) ||
       (0x1d < (ushort)(cruise_switch_unknown_voltage - 0x176))) {
      DAT_40002804 = DAT_40008716;
    }
    else {
      bVar1 = DAT_40002804 == '\0';
      DAT_40002804 = DAT_40002804 + -1;
      if (bVar1) {
        DAT_40002804 = '\0';
      }
      if (DAT_40002804 == '\0') {
        uVar6 = cruise_flags_unknown | 0x2000;
        if ((obd_ii_cruise_status & 2) == 0) {
          uVar6 = cruise_flags_unknown;
        }
        cruise_flags_unknown = uVar6;
        cruise_zero_unknown();
      }
    }
  }
  if ((COD_base[1] >> 0x15 & 3) == 2) {
    if (ign_voltage_above_threshold == false) {
      DAT_40002817 = 0;
    }
    else if (clutch_pos_voltage < CAL_sensor_clutch_engaged_threshold) {
      DAT_40002817 = DAT_40002817 | 1;
    }
    else if (CAL_sensor_clutch_disengaged_threshold < clutch_pos_voltage) {
      DAT_40002817 = DAT_40002817 | 2;
    }
    if (((obd_ii_cruise_status & 2) != 0) && (DAT_40002817 != 3)) {
      cruise_flags_unknown = cruise_flags_unknown | 0x4000;
      cruise_zero_unknown();
    }
  }
  else {
    cruise_flags_unknown = cruise_flags_unknown & 0xbfff;
  }
  if (cruise_switch_unknown_voltage < 0x2d) {
    cVar13 = '\x05';
  }
  else if ((ushort)(cruise_switch_unknown_voltage - 0xe9) < 0x16) {
    cVar13 = '\0';
  }
  else if ((ushort)(cruise_switch_unknown_voltage - 0x6b) < 0xf) {
    cVar13 = '\x01';
  }
  else if ((ushort)(cruise_switch_unknown_voltage - 0x128) < 0x19) {
    cVar13 = '\x02';
  }
  else if ((ushort)(cruise_switch_unknown_voltage - 0x176) < 0x1e) {
    cVar13 = '\x03';
  }
  else if ((ushort)(cruise_switch_unknown_voltage - 0x3b7) < 0x17) {
    cVar13 = '\x06';
  }
  else {
    cVar13 = '\a';
    if (0x3cf < cruise_switch_unknown_voltage) {
      cVar13 = '\x04';
    }
  }
  cVar8 = DAT_40002818 + '\x01';
  if (cVar13 == cruise_switch_pos_unknown) {
    cVar8 = DAT_40002818;
  }
  DAT_40002818 = cVar8;
  cruise_switch_pos_unknown = cVar13;
  if ((DAT_400027f6 != 0) && (DAT_400027f6 = DAT_400027f6 + -1, DAT_400027f6 == 0)) {
    DAT_40002819 = cVar8;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void torque_model(void)

{
  bool bVar1;
  byte load_alphaN_lookup;
  byte load_alphaN_adjustment_learned;
  uint32_t load_to_torque;
  byte engine_friction_base;
  byte torque_external_request_min;
  uint _torque_to_load;
  ushort uVar5;
  ushort uVar6;
  ushort uVar7;
  ushort uVar8;
  ushort uVar9;
  ushort uVar10;
  int iVar2;
  short sVar11;
  int16_t torque_calc_net;
  ulonglong _load_from_torque_limit4;
  byte torque_to_tps_lookup;
  byte torque_to_tps_lea_lookup;
  byte torque_factor_base_engine_speed_load_lookup;
  byte _torque_limit_ign_base;
  longlong lVar12;
  longlong lVar13;
  ulonglong uVar14;
  u8_load_4mg_stroke uVar3;
  u8_load_4mg_stroke uVar4;
  u16_torque_nm _torque_limit_external_net;
  byte level_;
  ushort tps_for_alphaN;
  uint _load_from_torque_limit_scaled;
  ulonglong _load_from_torque_limit_scaled2;
  int _torque_reduction_factor_ign_calc;
  uint _load_from_torque_limit_scaled3;
  int _tps_unknown;
  ushort load_alphaN_adj_1byte;
  ulonglong tps_calc;
  uint tps_combined_request_1_255;
  
  trqlimit_flexcan_update();
  tps_combined_request_1_255 = (uint)tps_requested2 + ((int)(uint)idle_tps_requested >> 2) & 0xffff;
  _tps_unknown = (int)tps_combined_request_1_255 >> 2;
  tps_calc = CONCAT44(_tps_unknown,_tps_unknown);
  if ((uint)((int)(uint)u16_factor_1_1023_400016e4 >> 2) < tps_combined_request_1_255) {
    tps_calc = CONCAT44((int)(uint)u16_factor_1_1023_400016e4 >> 4,
                        (int)(uint)u16_factor_1_1023_400016e4 >> 4);
  }
  tps_for_alphaN = (ushort)tps_calc;
  if (255 < (tps_calc & 0xffff)) {
    tps_for_alphaN = 255;
  }
                    // lookup estimated load from alphaN model
  load_alphaN_lookup =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,tps_for_alphaN & 0xff,CAL_load_alphaN_base,
                  CAL_load_alphaN_base_X_engine_speed,CAL_load_alphaN_base_Y_tps);
  load_estimated_alphaN = (u16_load_1173mg_255stroke)(((uint)load_alphaN_lookup * 1173) / 0xff);
  load_alphaN_adjustment_learned =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,tps_for_alphaN & 0xff,LEA_load_alphaN_adj,
                  LEA_load_alphaN_adj_X_engine_speed,LEA_load_alphaN_adj_Y_tps);
  if (CAL_sensor_manifold_temp_sensor_present == 0) {
                    // in this default cal this is branch is dead
    load_learned_alphaN =
         (u16_load_1173mg_255stroke)
         (((int)(short)(ushort)load_alphaN_adjustment_learned *
          ((int)((uint)load_estimated_alphaN * (uint)air_density_ambiant) / 100)) / 20000);
  }
  else {
    load_learned_alphaN =
         (u16_load_1173mg_255stroke)
         (((int)(short)(ushort)load_alphaN_adjustment_learned *
          ((int)((uint)load_estimated_alphaN * (uint)air_density_manifold_temp) / 100)) / 20000);
  }
  if (load_learned_alphaN < 1174) {
                    // this is a load calc
    load_alphaN_adj_1byte =
         (ushort)((int)((uint)load_learned_alphaN * 256 - (uint)load_learned_alphaN) / 1173) & 0xff;
  }
  else {
    load_alphaN_adj_1byte = 0xff;
  }
                    // lookup estimated torque from load
  load_to_torque =
       lookup_3D_uint32_interpolated
                 (16,16,(uint)engine_speed_2,(uint)load_learned_alphaN,CAL_torque_load_to_torque,
                  CAL_torque_load_to_torque_X_engine_speed,CAL_torque_load_to_torque_Y_load);
  torque_estimated_alphaN = (u16_torque_nm)load_to_torque;
  engine_friction_base =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,load_alphaN_adj_1byte,
                  CAL_torque_engine_friction_speed_component,
                  CAL_torque_engine_friction_speed_component_X_engine_speed,
                  CAL_torque_engine_friction_speed_component_Y_load);
  torque_engine_friction_base = -(ushort)engine_friction_base;
  load_to_torque =
       lookup_3D_uint32_interpolated
                 (16,16,(uint)engine_speed_2,load_mass_per_stroke_raw & 0xffff,
                  CAL_torque_load_to_torque,CAL_torque_load_to_torque_X_engine_speed,
                  CAL_torque_load_to_torque_Y_load);
  torque_estimated_actual_load = (short)load_to_torque;
  engine_friction_torque = get_engine_friction_torque();
  if (((engine_is_running == false) || ((trqlimit_external_request_flags___ & 0b00011111) == 0)) ||
     (5 < trqlimit_failure_condition_count___)) {
    load_from_torque_limit5 = 4096;
    torque_limit_tps_current = 4096;
  }
  else {
    _torque_limit_external_net = torque_limit_external_net;
    if (1020 < (short)torque_limit_external_net) {
      _torque_limit_external_net = 1020;
    }
    torque_external_request_min =
         lookup_3D_uint8_interpolated
                   (16,16,(ushort)engine_speed_3,(short)_torque_limit_external_net >> 2 & 0xff,
                    CAL_torque_external_request_minimum,
                    CAL_torque_external_request_minimum_X_engine_speed,
                    CAL_torque_external_request_minimum_Y_torque);
                    // This doesn't make sense. This should not be torque values in nm.
    u16_torque_nm_4000287a = (u16_torque_nm)(((ulonglong)torque_external_request_min * 180) / 100);
    torque_external_request_final = _torque_limit_external_net + u16_torque_nm_4000287a;
    torque_limit_external_and_internal = torque_limit_internal___;
    if ((short)torque_external_request_final < (short)torque_limit_internal___) {
      torque_limit_external_and_internal = torque_external_request_final;
    }
                    // lookup the estimated load for a given torque target
    _torque_to_load =
         lookup_3D_uint32_interpolated
                   (16,16,(uint)engine_speed_2,(uint)torque_limit_external_and_internal,
                    CAL_torque_torque_to_load,CAL_torque_torque_to_load_X_engine_speed,
                    CAL_torque_torque_to_load_Y_torque);
    if (1380 < (_torque_to_load & 0xffff)) {
      _torque_to_load = 1380;
    }
    if (CAL_sensor_manifold_temp_sensor_present == 0) {
      _load_from_torque_limit_scaled =
           ((_torque_to_load & 0xffff) * 20000) / (uint)air_density_ambiant;
      _load_from_torque_limit_scaled2 =
           CONCAT44(_load_from_torque_limit_scaled,_load_from_torque_limit_scaled);
    }
    else {
      _load_from_torque_limit_scaled3 =
           ((_torque_to_load & 0xffff) * 20000) / (uint)air_density_manifold_temp;
      _load_from_torque_limit_scaled2 =
           CONCAT44(_load_from_torque_limit_scaled3,_load_from_torque_limit_scaled3);
    }
    _load_from_torque_limit4 = _load_from_torque_limit_scaled2 & 0xffff;
    if (_load_from_torque_limit4 < 1174) {
      load_from_torque_limit5 =
           (u16_load_1173mg_255stroke)
           (((int)(_load_from_torque_limit4 << 8) - (int)_load_from_torque_limit4) / 1173);
    }
    else {
      load_from_torque_limit5 = 255;
    }
    u16_torque_nm_40001744 =
         torque_external_limit2_tps___ -
         (torque_limit_internal___ - torque_limit_external_and_internal);
    torque_to_tps_lookup =
         lookup_3D_uint8_interpolated
                   (20,20,(ushort)engine_speed_3,load_from_torque_limit5 & 0xff,CAL_load_to_tps_max,
                    CAL_load_to_tps_max_X_engine_speed,CAL_load_to_tps_max_Y_load);
    torque_to_tps_cal = (ushort)torque_to_tps_lookup << 4;
    torque_to_tps_lea_lookup =
         lookup_3D_uint8_interpolated
                   (20,20,(ushort)engine_speed_3,load_from_torque_limit5 & 0xff,
                    LEA_torque_torque_to_tps_scaling,LEA_torque_torque_to_tps_scaling_X_engine_speed
                    ,LEA_torque_torque_to_tps_scaling_Y_load);
    _torque_to_tps_lea = (ushort)torque_to_tps_lea_lookup;
    if (torque_timer_unknown1 == 0) {
      torque_limit_tps_current =
           (u16_factor_1_1023)(((uint)torque_to_tps_cal * (int)(short)_torque_to_tps_lea) / 100);
    }
    else {
      torque_limit_tps_current = 4096;
    }
  }
                    // This table only has a single value, 0x68. So the lookup will always be 0x68.
  torque_factor_base_engine_speed_load_lookup =
       lookup_3D_uint8_interpolated
                 (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                  CAL_torque_factor_base_engine_speed_load,
                  CAL_torque_factor_base_engine_speed_load_X_engine_speed,
                  CAL_torque_factor_base_engine_speed_load_Y_load);
  torque_fact_base_speed_and_load = torque_factor_base_engine_speed_load_lookup - 52;
  if (torque_reduction_factor < 0xff) {
    _torque_reduction_factor_ign_calc =
         (int)((uint)torque_reduction_factor * 100 +
              ((torque_fact_base_speed_and_load + -52) * 25500) / 26) /
         (((torque_fact_base_speed_and_load + -52) * 100) / 26 + 100);
    intermediate_calc1 = (short)_torque_reduction_factor_ign_calc;
    if (intermediate_calc1 < 0) {
      torque_reduction_factor_ign = 0;
    }
    else if (intermediate_calc1 < 256) {
      torque_reduction_factor_ign = (u8_factor_1_255)_torque_reduction_factor_ign_calc;
    }
    else {
      torque_reduction_factor_ign = 0xff;
    }
  }
  else {
    torque_reduction_factor_ign = 0xff;
  }
  trqlimit_ign_base_delta_from_mbt = ign_mbt_modeled - ign_base;
  if (CAL_ign_enable_lea_knock_retard == false) {
                    // disabled in default cal
    ign_retard_knock_avg = 0;
  }
  else if (trqlimit_failure_condition_count___ == 0) {
    ign_retard_knock_avg =
         (u16_angle_1_4deg)
         ((ulonglong)
          (longlong)
          (int)((uint)ign_retard_knock[4] + (uint)ign_retard_knock[2] + (uint)ign_retard_knock[0] +
               (uint)ign_retard_knock[5] + (uint)ign_retard_knock[3] + (uint)ign_retard_knock[1]) /
         6);
  }
  else {
    ign_retard_knock_avg = 0;
    if (trqlimit_failure_condition_count___ < 6) {
      bVar1 = false;
      if (((coilpack_failure_flags & 1) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar5 = 0;
      }
      else {
        uVar5 = (ushort)ign_retard_knock[0];
      }
      bVar1 = false;
      if (((coilpack_failure_flags & 2) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar6 = 0;
      }
      else {
        uVar6 = (ushort)ign_retard_knock[1];
      }
      bVar1 = false;
      if (((coilpack_failure_flags & 4) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar7 = 0;
      }
      else {
        uVar7 = (ushort)ign_retard_knock[2];
      }
      bVar1 = false;
      if (((coilpack_failure_flags & 8) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar8 = 0;
      }
      else {
        uVar8 = (ushort)ign_retard_knock[3];
      }
      bVar1 = false;
      if (((coilpack_failure_flags & 0x10) != 0) || ((misfire_condition_flags & 0x20) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar9 = 0;
      }
      else {
        uVar9 = (ushort)ign_retard_knock[4];
      }
      bVar1 = false;
      if (((coilpack_failure_flags & 0x20) != 0) || ((misfire_condition_flags & 0x40) != 0)) {
        bVar1 = true;
      }
      if (bVar1) {
        uVar10 = 0;
      }
      else {
        uVar10 = (ushort)ign_retard_knock[5];
      }
      ign_retard_knock_avg =
           (u16_angle_1_4deg)
           ((int)(short)(uVar5 + uVar6 + uVar7 + uVar8 + uVar9 + uVar10) /
           (int)(6 - (uint)trqlimit_failure_condition_count___));
    }
  }
  if (trqlimit_ign_base_delta_from_mbt < 0) {
    trqlimit_ign_base_delta_from_mbt = 0;
  }
  if (torque_reduction_factor_ign < 0xff) {
    _torque_limit_ign_base =
         lookup_3D_uint8_interpolated
                   (16,16,(ushort)engine_speed_3,(ushort)torque_reduction_factor_ign,
                    CAL_torque_ign_retard_base,CAL_torque_ign_retard_base_X_engine_speed,
                    CAL_torque_ign_retard_base_Y_torque_reduction_factor);
    ign_comp_torque_reduction_unclipped =
         ign_retard_knock_avg +
         (((ushort)_torque_limit_ign_base + trqlimit_ign_base_delta_from_mbt + -255) -
         ign_comp_unknown2);
    ign_comp_torque_reduction = ign_comp_torque_reduction_unclipped;
    if (-1 < (short)ign_comp_torque_reduction_unclipped) {
      ign_comp_torque_reduction = 0;
    }
  }
  else {
    ign_comp_torque_reduction = 0;
  }
  trqlimit_intervention_level = 6;
  i16_angle_1_4deg_40002878 = 0;
  if ((ignition_on_flags & 1) != 0) {
    if ((misfire_condition_flags & 0b00100000) == 0) {
      if (((BYTE_ARRAY_400015c8[0] != 0) && ((coilpack_failure_flags & 1) == 0)) &&
         ((DAT_40001ce9 & 1) == 0)) {
        trqlimit_intervention_level = 5;
        i16_angle_1_4deg_40002878 = obd_ii_ign_adv_per_cylinder[0];
      }
      if (((BYTE_ARRAY_400015c8[2] != 0) && ((coilpack_failure_flags & 4) == 0)) &&
         ((DAT_40001ce9 & 4) == 0)) {
        trqlimit_intervention_level = trqlimit_intervention_level - 1;
        i16_angle_1_4deg_40002878 = i16_angle_1_4deg_40002878 + obd_ii_ign_adv_per_cylinder[2];
      }
      if (((BYTE_ARRAY_400015c8[4] != 0) && ((coilpack_failure_flags & 0x10) == 0)) &&
         ((DAT_40001ce9 & 0x10) == 0)) {
        trqlimit_intervention_level = trqlimit_intervention_level - 1;
        i16_angle_1_4deg_40002878 = i16_angle_1_4deg_40002878 + obd_ii_ign_adv_per_cylinder[4];
      }
    }
    if ((misfire_condition_flags & 0b01000000) == 0) {
      if (((BYTE_ARRAY_400015c8[1] != 0) && ((coilpack_failure_flags & 2) == 0)) &&
         ((DAT_40001ce9 & 2) == 0)) {
        trqlimit_intervention_level = trqlimit_intervention_level - 1;
        i16_angle_1_4deg_40002878 = i16_angle_1_4deg_40002878 + obd_ii_ign_adv_per_cylinder[1];
      }
      if (((BYTE_ARRAY_400015c8[3] != 0) && ((coilpack_failure_flags & 8) == 0)) &&
         ((DAT_40001ce9 & 8) == 0)) {
        trqlimit_intervention_level = trqlimit_intervention_level - 1;
        i16_angle_1_4deg_40002878 = i16_angle_1_4deg_40002878 + obd_ii_ign_adv_per_cylinder[3];
      }
      if (((BYTE_ARRAY_400015c8[5] != 0) && ((coilpack_failure_flags & 0x20) == 0)) &&
         ((DAT_40001ce9 & 0x20) == 0)) {
        trqlimit_intervention_level = trqlimit_intervention_level - 1;
        i16_angle_1_4deg_40002878 = i16_angle_1_4deg_40002878 + obd_ii_ign_adv_per_cylinder[5];
      }
    }
  }
  if (trqlimit_intervention_level < 6) {
    torque_ign_adv_from_intervention =
         ign_mbt_modeled -
         (short)((int)i16_angle_1_4deg_40002878 / (int)(6 - (uint)trqlimit_intervention_level));
  }
  else {
    torque_ign_adv_from_intervention = 0;
  }
  if (torque_ign_adv_from_intervention < 0) {
    torque_ign_adv_from_intervention = 0;
  }
  else if (0xff < torque_ign_adv_from_intervention) {
    torque_ign_adv_from_intervention = 255;
  }
  torque_fact_base_ign_intervention =
       lookup_3D_uint8_interpolated
                 (16,16,(ushort)engine_speed_3,torque_ign_adv_from_intervention & 0xff,
                  CAL_torque_factor_base_ign_intervention,
                  CAL_torque_factor_base_ign_intervention_X_engine_speed,
                  CAL_torque_factor_base_ign_intervention_Y_ign_adv);
  iVar2 = (uint)torque_fact_base_ign_intervention * 100 -
          (int)((0xff - (uint)torque_fact_base_ign_intervention) *
                (torque_fact_base_speed_and_load + -0x34) * 100) / 26;
  sVar11 = (short)(iVar2 >> 31);
  sVar11 = ((short)(iVar2 / 100) + sVar11) - ((short)((short)(iVar2 / 0x640000) + sVar11) >> 15);
  if (sVar11 < 0) {
    torque_fact_base = 0;
  }
  else {
    torque_fact_base = (byte)sVar11;
    if (0xff < sVar11) {
      torque_fact_base = 0xff;
    }
  }
  trqlimit6 = lookup_3D_uint8_interpolated
                        (16,16,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,CAL_torque__6,
                         CAL_torque__6_X_engine_speed,CAL_torque__6_Y_load);
  if ((engine_is_running == false) || (5 < trqlimit_failure_condition_count___)) {
    torque_calc_net = 0;
    torque_limit_internal___ = 0;
    u16_torque_nm_4000285e = 0;
    torque_limit_external_net = 0;
    torque_alphaN_net = 0;
    torque_limit_external_factor = 0xff;
  }
  else {
    if (((inj_flags & 1) == 0) || (ign_flags_unknown != 63)) {
      iVar2 = (uint)torque_fact_base *
              ((int)((int)torque_estimated_actual_load * (6 - (uint)trqlimit_intervention_level)) /
              6);
                    // I think this is simply dividing by 255
      obd_ii_engine_torque =
           ((short)(iVar2 / 255) + (short)(iVar2 >> 31)) -
           (short)((longlong)iVar2 * 0x80808081 >> 63);
    }
    else {
      obd_ii_engine_torque = 0;
    }
    torque_calc_net = obd_ii_engine_torque + engine_friction_torque;
                    // What are these limits?
    if (torque_calc_net < 912) {
      if (torque_calc_net < -112) {
        torque_calc_net = 65424;
      }
    }
    else {
      torque_calc_net = 911;
    }
    if ((engine_operating_state_flags & 1) == 0) {
      torque_alphaN_net = torque_estimated_alphaN + torque_engine_friction_base;
      if ((int)(short)torque_limit <
          (int)(short)torque_estimated_alphaN + (int)(short)torque_engine_friction_base) {
        torque_alphaN_net = torque_limit;
      }
    }
    else {
      torque_alphaN_net = 0;
    }
    if (((engine_operating_state_flags & 8) == 0) && ((inj_flags & 1) == 0)) {
      DAT_40002866 = ign_retard_knock_avg + (trqlimit_ign_base_delta_from_mbt - ign_comp_unknown2);
    }
    else {
      DAT_40002866 = ign_retard_knock_avg;
    }
    if ((short)DAT_40002866 < 0) {
      DAT_40002866 = 0;
    }
    else if (0xff < (short)DAT_40002866) {
      DAT_40002866 = 0xff;
    }
    if ((short)DAT_40002866 < 1) {
      u16_torque_nm_40002864 = 0;
    }
    else {
      DAT_40001751 = lookup_3D_uint8_interpolated
                               (16,16,(ushort)engine_speed_3,DAT_40002866 & 0xff,
                                CAL_torque_factor_base_ign_intervention,
                                CAL_torque_factor_base_ign_intervention_X_engine_speed,
                                CAL_torque_factor_base_ign_intervention_Y_ign_adv);
      iVar2 = (uint)DAT_40001751 * 100 -
              (int)((0xff - (uint)DAT_40001751) * (torque_fact_base_speed_and_load + -0x34) * 100) /
              0x1a;
      sVar11 = (short)(iVar2 >> 0x1f);
      sVar11 = ((short)(iVar2 / 100) + sVar11) -
               ((short)((short)(iVar2 / 0x640000) + sVar11) >> 0xf);
      if (sVar11 < 0) {
        DAT_40001752 = 0;
      }
      else {
        DAT_40001752 = (byte)sVar11;
        if (0xff < sVar11) {
          DAT_40001752 = 0xff;
        }
      }
      u16_torque_nm_40002864 =
           torque_estimated_actual_load -
           (((short)((int)((int)torque_estimated_actual_load * (uint)DAT_40001752) / 0xff) +
            (torque_estimated_actual_load >> 0xf)) -
           (short)((longlong)(int)((int)torque_estimated_actual_load * (uint)DAT_40001752) *
                   0x80808081 >> 0x3f));
    }
    if ((trqlimit_external_request_flags___ & 0b00011111) == 0) {
      torque_limit_external_factor = 0xff;
    }
    else {
      torque_limit_external_net = torque_external_limit1_ign___ - engine_friction_torque;
      if ((short)torque_limit_external_net < 0) {
        torque_limit_external_net = 0;
      }
      else if (1020 < (short)torque_limit_external_net) {
        torque_limit_external_net = 1020;
      }
      u16_torque_nm_4000283a = obd_ii_engine_torque - torque_limit_external_net;
      u16_torque_nm_4000285e = torque_external_limit2_tps___ - engine_friction_torque;
      if ((short)u16_torque_nm_4000285e < 0) {
        u16_torque_nm_4000285e = 0;
      }
      else if ((short)u16_torque_nm_4000285e < (short)torque_limit_external_net) {
        u16_torque_nm_4000285e = torque_limit_external_net;
      }
      else if (0x3fc < (short)u16_torque_nm_4000285e) {
        u16_torque_nm_4000285e = 0x3fc;
      }
      if ((short)torque_limit_external_net < torque_estimated_actual_load) {
        torque_limit_external_factor =
             (u8_factor_1_255)
             (((short)torque_limit_external_net * 0x100 - (int)(short)torque_limit_external_net) /
             (int)torque_estimated_actual_load);
      }
      else {
        torque_limit_external_factor = 0xff;
      }
      torque_limit_internal___ =
           (u16_torque_nm)
           ((((int)(short)u16_torque_nm_4000285e + (int)(short)u16_torque_nm_40002864) * 6) /
           (int)(6 - (uint)trqlimit_failure_condition_count___));
      if (1020 < (short)torque_limit_internal___) {
        torque_limit_internal___ = 1020;
      }
    }
  }
  constant_42 = 0x2a;
  DAT_40002846 = (ushort)torque_limit_external_factor - (ushort)trqlimit6;
  uVar14 = (ulonglong)trqlimit6;
  if ((DAT_40002846 < DAT_4000174a) || (trqlimit_failure_condition_count___ != 0)) {
    for (level_ = 6;
        (level_ != 0 &&
        ((int)((uint)level_ * -0x2a + 0xff) < (int)(uint)torque_limit_external_factor));
        level_ = level_ - 1) {
    }
    if ((level_ != 0) && (level_ < 6)) {
      lVar12 = (longlong)(int)((0xff - (uint)trqlimit6) * (6 - (uint)level_));
      uVar14 = lVar12 / 6 + (lVar12 >> 0x3f) & 0xffffffff;
      uVar14 = 0xff - (uVar14 - ((longlong)(uVar14 << 0x20) >> 0x3f)) & 0xff;
    }
    if ((level_ < 6) &&
       ((int)(((uint)torque_limit_external_factor + (uint)level_ * 0x2a) - (int)uVar14) < 0)) {
      lVar12 = libc_abs(((ulonglong)torque_limit_external_factor +
                        (longlong)(int)(uint)level_ * 0x2a) - uVar14);
      lVar13 = libc_abs((0xff - (longlong)(int)(uint)constant_42 * (longlong)(int)(level_ + 1)) -
                        (ulonglong)torque_limit_external_factor);
      if ((int)lVar13 < (int)lVar12) {
        level_ = level_ + 1;
      }
    }
    if (level_ < trqlimit_failure_condition_count___) {
      level_ = trqlimit_failure_condition_count___;
    }
    if ((uint)torque_limit_external_factor + (uint)constant_42 * (uint)level_ < 0x100) {
      torque_reduction_factor = torque_limit_external_factor + constant_42 * level_;
      if ((level_ != 0) && (level_ < 6)) {
        iVar2 = (int)((0xff - (uint)torque_reduction_factor) * 6) / (int)(6 - (uint)level_);
        torque_reduction_factor = '\0';
        if ((short)iVar2 < 0xff) {
          torque_reduction_factor = 0xff - (char)iVar2;
        }
      }
    }
    else {
      torque_reduction_factor = 0xff;
    }
  }
  else {
    torque_reduction_factor = torque_limit_external_factor;
    level_ = 0;
  }
  torque_net_engine_combustion = torque_calc_net;
  DAT_40002849 = level_;
  return;
}



u16_torque_nm get_engine_friction_torque(void)

{
  byte friction_base;
  byte bVar1;
  
  friction_base =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,(ushort)load_1,
                  CAL_torque_engine_friction_speed_component,
                  CAL_torque_engine_friction_speed_component_X_engine_speed,
                  CAL_torque_engine_friction_speed_component_Y_load);
  torque_engine_friction_base = -(ushort)friction_base;
  bVar1 = lookup_3D_uint8_interpolated
                    (8,8,(ushort)coolant_temp,(ushort)load_mass_per_stroke,
                     CAL_torque_engine_friction_temp_component,
                     CAL_torque_engine_friction_temp_component_X_coolant,
                     CAL_torque_engine_friction_temp_component_Y_load);
  torque_engine_friction_coolant = -(ushort)bVar1;
  bVar1 = lookup_2D_uint8_interpolated
                    (16,(uint8_t)((ulonglong)ac_load2____ / 40),CAL_torque_engine_ac_load_base,
                     CAL_torque_engine_ac_load_base_X_ac);
  torque_engine_friction_accessory = -(ushort)bVar1;
  torque_engine_friction_comp_engine_speed =
       lookup_2D_uint8_interpolated
                 ('\b',engine_speed_3,CAL_torque_engine_ac_load_scaler,
                  CAL_torque_engine_ac_load_scaler_X_engine_speed);
  torque_engine_friction_unknown_scaled =
       ((short)((int)((int)torque_engine_friction_accessory *
                     (uint)torque_engine_friction_comp_engine_speed) / 255) +
       (torque_engine_friction_accessory >> 15)) -
       (short)((longlong)
               (int)((int)torque_engine_friction_accessory *
                    (uint)torque_engine_friction_comp_engine_speed) * 0x80808081 >> 0x3f);
  return torque_engine_friction_coolant +
         torque_engine_friction_unknown_scaled + torque_engine_friction_base;
}



u16_factor_1_1023 calc_load_to_tps(int param_1)

{
  byte _load_to_tps_cal;
  byte _load_to_tps_lea;
  ushort _load_u8;
  u16_factor_1_1023 rv;
  uint _rv_tps;
  
  if (param_1 < 1381) {
    if (param_1 < 0) {
      param_1 = 0;
    }
  }
  else {
    param_1 = 1380;
  }
  if (CAL_sensor_manifold_temp_sensor_present == 0) {
    load_density_compensated =
         (u16_load_mg_stroke)((param_1 * 20000) / (int)(uint)air_density_ambiant);
  }
  else {
    load_density_compensated =
         (u16_load_mg_stroke)((param_1 * 20000) / (int)(uint)air_density_manifold_temp);
  }
  if (load_density_compensated < 1174) {
    _load_u8 = (ushort)((int)((uint)load_density_compensated * 0x100 -
                             (uint)load_density_compensated) / 0x495) & 0xff;
  }
  else {
    _load_u8 = 0xff;
  }
  _load_to_tps_cal =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,_load_u8,CAL_load_to_tps_max,
                  CAL_load_to_tps_max_X_engine_speed,CAL_load_to_tps_max_Y_load);
  _load_to_tps_lea =
       lookup_3D_uint8_interpolated
                 (20,20,(ushort)engine_speed_3,_load_u8,LEA_torque_torque_to_tps_scaling,
                  LEA_torque_torque_to_tps_scaling_X_engine_speed,
                  LEA_torque_torque_to_tps_scaling_Y_load);
  tps_from_load_lea = (ushort)_load_to_tps_lea;
  _rv_tps = ((uint)_load_to_tps_cal * 0x10 * (int)(short)(ushort)_load_to_tps_lea) / 100;
  rv = (u16_factor_1_1023)_rv_tps;
  if (0xfff < _rv_tps) {
    rv = 0xfff;
  }
  return rv;
}



u16_factor_1_1023
tps_apply_torque_limit
          (u16_torque_nm _torque_limit,uint _inj_pw_limit___,u16_factor_1_1023 _tps_requested,
          bool *param_4)

{
  bool bVar1;
  ushort uVar2;
  short sVar3;
  uint32_t _torque_to_load_lookup;
  byte bVar5;
  ulonglong torque_unknown7;
  longlong lVar4;
  uint uVar6;
  int iVar7;
  uint load_unknown;
  uint8_t _error_val_unknown;
  
  load_unknown = 0;
  if ((_torque_limit < 510) && (engine_speed_2 != 0)) {
    torque_adjusted1 =
         (u16_torque_nm)
         ((((int)(short)(_torque_limit - engine_friction_torque) +
           (int)(short)u16_torque_nm_40002864) * 6) /
         (int)(6 - (uint)trqlimit_failure_condition_count___));
    if ((short)torque_adjusted1 < 0) {
      torque_adjusted1 = 0;
    }
    _torque_to_load_lookup =
         lookup_3D_uint32_interpolated
                   (16,16,(uint)engine_speed_2,(uint)torque_adjusted1,CAL_torque_torque_to_load,
                    CAL_torque_torque_to_load_X_engine_speed,CAL_torque_torque_to_load_Y_torque);
    load_from_torque_adjusted = (u16_load_mg_stroke)_torque_to_load_lookup;
  }
  else {
    load_from_torque_adjusted = 0xffff;
  }
  if ((engine_speed_2 == 0) ||
     ((load_from_torque_adjusted == 0xffff && (0xfffe < (int)_inj_pw_limit___)))) {
    tps_unknown2 = 0xfff;
    *param_4 = false;
  }
  else {
    if ((int)(uint)load_from_torque_adjusted < (int)_inj_pw_limit___) {
      if (load_from_torque_adjusted < 2048) {
        load_unknown = (uint)load_from_torque_adjusted;
      }
      else {
        load_unknown = 2047;
      }
    }
    else if ((int)_inj_pw_limit___ < 2048) {
      load_unknown = _inj_pw_limit___ & 0xffff;
      if ((int)_inj_pw_limit___ < 0) {
        load_unknown = 0;
      }
    }
    else {
      load_unknown = 2047;
    }
    tps_unknown2 = calc_load_to_tps(load_unknown);
  }
  if (*param_4 == false) {
    torque_flags_unknown = 0;
    torque_or_tps_error_unknown = 0;
    u16_factor_1_1023_4000288e = 0;
    u16_factor_1_1023_40002890 = 0;
    DAT_40002892 = '\0';
    u16_factor_1_1023_40002898 = tps_unknown2;
    DAT_40002894 = (uint)tps_unknown2 << 10;
  }
  else {
    uVar2 = DAT_400019ea;
    if (2047 < DAT_400019ea) {
      uVar2 = 0x7ff;
    }
    torque_or_tps_error_unknown = (short)load_unknown - uVar2;
    if (torque_or_tps_error_unknown < 128) {
      _error_val_unknown = (char)torque_or_tps_error_unknown + 128;
      if (torque_or_tps_error_unknown < -0x80) {
        _error_val_unknown = '\0';
      }
    }
    else {
      _error_val_unknown = 255;
    }
    bVar5 = lookup_2D_uint8_interpolated
                      ('\b',_error_val_unknown,CAL_torque_unknown6,CAL_torque_unknown6_X_unknown);
    uVar6 = (int)torque_or_tps_error_unknown * (uint)bVar5;
    u16_factor_1_1023_4000288e =
         (short)((int)uVar6 >> 4) + (ushort)((int)uVar6 < 0 && (uVar6 & 0xf) != 0);
    if ((short)CAL_torque_unknown_tps_clamp1 < (short)u16_factor_1_1023_4000288e) {
      u16_factor_1_1023_4000288e = CAL_torque_unknown_tps_clamp1;
    }
    else if ((short)u16_factor_1_1023_4000288e < (short)-CAL_torque_unknown_tps_clamp2) {
      u16_factor_1_1023_4000288e = -CAL_torque_unknown_tps_clamp2;
    }
    iVar7 = (int)(short)u16_factor_1_1023_40002890;
    torque_unknown7._7_1_ =
         lookup_2D_uint8_interpolated
                   ('\b',_error_val_unknown,CAL_torque_unknown7,CAL_torque_unknown7_X_unknown);
    bVar1 = DAT_40002892 == 0;
    DAT_40002892 = DAT_40002892 + -1;
    if (bVar1) {
      DAT_40002892 = 0;
    }
    if (DAT_40002892 == '\0') {
      DAT_40002892 = DAT_40008989;
      lVar4 = libc_abs((longlong)torque_or_tps_error_unknown);
      if ((int)(uint)DAT_4000898a < (int)lVar4) {
        uVar6 = (uint)(byte)torque_unknown7 * (int)torque_or_tps_error_unknown;
        iVar7 = iVar7 + ((int)uVar6 >> 4) + (uint)((int)uVar6 < 0 && (uVar6 & 0xf) != 0);
      }
      sVar3 = (_tps_requested - tps_unknown2) - u16_factor_1_1023_4000288e;
      if (sVar3 < iVar7) {
        iVar7 = (int)sVar3;
        torque_flags_unknown = torque_flags_unknown | 0b00000010;
      }
      else if (iVar7 < (short)-(tps_unknown2 + u16_factor_1_1023_4000288e)) {
        iVar7 = (int)(short)-(tps_unknown2 + u16_factor_1_1023_4000288e);
        torque_flags_unknown = torque_flags_unknown | 0b00000010;
      }
      else {
        torque_flags_unknown = torque_flags_unknown & 0xfd;
      }
      if ((int)(uint)CAL_torque_unknown_tps_clamp3 < iVar7) {
        u16_factor_1_1023_40002890 = CAL_torque_unknown_tps_clamp3;
      }
      else if (iVar7 < (int)-(uint)CAL_torque_unknown_tps_clamp4) {
        u16_factor_1_1023_40002890 = -CAL_torque_unknown_tps_clamp4;
      }
      else {
        u16_factor_1_1023_40002890 = (u16_factor_1_1023)iVar7;
      }
    }
    u16_factor_1_1023_40002898 =
         u16_factor_1_1023_4000288e + u16_factor_1_1023_40002890 + tps_unknown2;
    if ((short)u16_factor_1_1023_40002898 < 0) {
      u16_factor_1_1023_40002898 = 0;
    }
    uVar6 = ((1024 - (uint)DAT_40008876) * DAT_40002894 >> 10) +
            (uint)DAT_40008876 * (uint)u16_factor_1_1023_40002898;
    if ((int)DAT_40002894 < (int)uVar6) {
      if ((int)(DAT_40002894 + DAT_4000ccb0) < (int)uVar6) {
        torque_flags_unknown = torque_flags_unknown | 0b00000100;
        DAT_40002894 = DAT_40002894 + DAT_4000ccb0;
      }
      else {
        torque_flags_unknown = torque_flags_unknown & 0xfb;
        DAT_40002894 = uVar6;
      }
    }
    else if ((int)uVar6 < (int)(DAT_40002894 - DAT_4000ccb2)) {
      torque_flags_unknown = torque_flags_unknown | 4;
      DAT_40002894 = DAT_40002894 - DAT_4000ccb2;
    }
    else {
      torque_flags_unknown = torque_flags_unknown & 0xfb;
      DAT_40002894 = uVar6;
    }
    if ((int)(short)_tps_requested << 10 < (int)DAT_40002894) {
      DAT_40002894 = (int)(short)_tps_requested << 10;
    }
  }
  return (short)((int)DAT_40002894 >> 10) +
         (ushort)((int)DAT_40002894 < 0 && (DAT_40002894 & 0x3ff) != 0);
}



void trqlimit_flexcan_update(void)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  bool bVar5;
  bool bVar6;
  
  bVar2 = false;
  bVar1 = false;
  if (((((COD_base[1] >> 9 & 1) == 0) || ((COD_base[0] >> 0x16 & 7) == 0)) ||
      ((LEA_obd_ii_P0316_flags & 2) != 0)) || (vehicle_mode == VM_LAUNCH_FALLBACK)) {
    torque_limit_intermediate_ign_ = 911;
    torque_limit_intermediate_tps_ = 911;
    u8_time_10ms_40002858 = 0;
    flexcan_flags_unknown = flexcan_flags_unknown & 0b1100011111111111;
    abs_esp_flags = abs_esp_flags & 0b11111100;
  }
  else if ((DAT_4000284f == 0) || ((flexcan_flags_unknown & 0b0000000100000000) == 0)) {
    if ((DAT_4000284e == 0) || ((flexcan_flags_unknown & 0b0000001000000000) == 0)) {
      torque_limit_intermediate_ign_ = 911;
      torque_limit_intermediate_tps_ = 911;
      u8_time_10ms_40002858 = 0;
      flexcan_flags_unknown = flexcan_flags_unknown & 0xc7ff;
      abs_esp_flags = abs_esp_flags & 0b11111100;
    }
    else {
      abs_esp_flags = abs_esp_flags & 0xfd | 1;
      if (((COD_base[0] >> 0x16 & 7) == 3) || ((COD_base[0] >> 0x16 & 7) == 2)) {
        if ((short)torque_limit_external_req2 < 0x29) {
          if (((engine_operating_state_flags & 1) == 0) &&
             ((short)torque_limit_external_req2 < (short)torque_alphaN_net)) {
            torque_limit_intermediate_ign_ = 911;
            torque_limit_intermediate_tps_ = 911;
            flexcan_flags_unknown = flexcan_flags_unknown & 0xefff;
          }
          else {
            torque_limit_intermediate_ign_ = torque_limit_external_req2;
            torque_limit_intermediate_tps_ = torque_limit_external_req2;
            flexcan_flags_unknown = flexcan_flags_unknown | 0x1000;
          }
        }
        else {
          torque_limit_intermediate_ign_ = 911;
          torque_limit_intermediate_tps_ = 911;
          flexcan_flags_unknown = flexcan_flags_unknown & 0xefff;
        }
      }
      else {
        flexcan_flags_unknown = flexcan_flags_unknown & 0xefff;
      }
      flexcan_flags_unknown = flexcan_flags_unknown & 0xd7ff;
      u8_time_10ms_40002858 = '\0';
    }
  }
  else {
    abs_esp_flags = abs_esp_flags & 0xfe | 2;
    if ((short)torque_alphaN_net < (short)torque_limit_external_req1) {
      if ((u8_time_10ms_40002858 == '\0') ||
         ((short)torque_alphaN_net < (short)torque_net_engine_combustion)) {
        torque_limit_intermediate_ign_ = 911;
        flexcan_flags_unknown = flexcan_flags_unknown & 0xf7ff;
        u8_time_10ms_40002858 = 0;
      }
      else {
        torque_limit_intermediate_ign_ = torque_limit_external_req1;
        flexcan_flags_unknown = flexcan_flags_unknown | 0x800;
      }
    }
    else {
      torque_limit_intermediate_ign_ = torque_limit_external_req1;
      flexcan_flags_unknown = flexcan_flags_unknown | 0x800;
      u8_time_10ms_40002858 = DAT_400086a4;
    }
    if (((flexcan_mesg_0xb7_is_7byte) && ((flexcan_flags_unknown & 0x400) != 0)) &&
       ((short)torque_limit_intermediate_ign_ < (short)torque_limit_external_req3)) {
      if ((short)torque_alphaN_net < (short)torque_limit_external_req3) {
        if ((short)torque_limit_intermediate_ign_ < (short)torque_alphaN_net) {
          torque_limit_intermediate_tps_ = torque_alphaN_net;
          flexcan_flags_unknown = flexcan_flags_unknown & 0xdfff;
        }
        else {
          torque_limit_intermediate_tps_ = torque_limit_intermediate_ign_;
          flexcan_flags_unknown = flexcan_flags_unknown & 0xdfff;
        }
      }
      else {
        torque_limit_intermediate_tps_ = torque_limit_external_req3;
        flexcan_flags_unknown = flexcan_flags_unknown | 0x2000;
      }
    }
    else {
      torque_limit_intermediate_tps_ = torque_limit_intermediate_ign_;
      if ((flexcan_flags_unknown & 0x800) == 0) {
        torque_limit_intermediate_tps_ = 0x38f;
      }
      flexcan_flags_unknown = flexcan_flags_unknown & 0xdfff;
    }
    flexcan_flags_unknown = flexcan_flags_unknown & 0xefff;
  }
  if ((DAT_40002850 == '\0') || ((DAT_400029de & 0x100) == 0)) {
    u8_time_10ms_40002876 = 200;
  }
  else if (recent_shift_flags_ips != '\0') {
    u8_time_10ms_40002876 = 200;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if (((DAT_40002850 == '\0') || ((DAT_400029de & 0x100) == 0)) || (u8_time_10ms_40002876 == '\0')
       ) {
      u16_torque_nm_40001764 = 0x38f;
      DAT_400029de = DAT_400029de & 0xf3ff;
      u8_time_10ms_40002859 = '\0';
    }
    else if ((short)torque_alphaN_net < (short)u16_torque_nm_4000173c) {
      if ((u8_time_10ms_40002859 == 0) ||
         ((short)torque_alphaN_net < (short)torque_net_engine_combustion)) {
        u16_torque_nm_40001764 = 911;
        u8_time_10ms_40002859 = 0;
        DAT_400029de = DAT_400029de & 0b1111001111111111;
      }
      else {
        u16_torque_nm_40001764 = u16_torque_nm_4000173c;
        DAT_400029de = DAT_400029de & 0b1111011111111111 | 0b0000010000000000;
      }
    }
    else {
      u16_torque_nm_40001764 = u16_torque_nm_4000173c;
      u8_time_10ms_40002859 = DAT_400086a4;
      DAT_400029de = DAT_400029de & 0b1111011111111111 | 0b0000010000000000;
    }
  }
  else {
    u16_torque_nm_40001764 = 911;
    DAT_400029de = DAT_400029de & 0xf3ff;
    u8_time_10ms_40002859 = 0;
  }
  if (((COD_base[0] >> 0xd & 7) == 1) && ((DAT_40002857 & 1) != 0)) {
    u16_torque_nm_40001766 = DAT_40001740;
    u16_torque_nm_40001768 = DAT_40001742;
    DAT_4000285c = 1;
    bVar5 = true;
  }
  else {
    u16_torque_nm_40001766 = 0x38f;
    u16_torque_nm_40001768 = 0x38f;
    DAT_4000285c = 0;
    bVar5 = false;
  }
  if (((flexcan_mesg_0xb7_is_7byte) || (DAT_4000285b != '\0')) || (bVar5)) {
    DAT_4000285d = 1;
    bVar6 = true;
  }
  else {
    DAT_4000285d = 0;
    bVar6 = false;
  }
  if ((((DAT_400029de & 0xc00) == 0) || ((flexcan_flags_unknown & 0x3800) == 0)) ||
     ((flexcan_flags_unknown & 0x1000) != 0)) {
    if ((((DAT_400029de & 0xc00) == 0) || ((flexcan_flags_unknown & 0x3800) == 0)) ||
       ((flexcan_flags_unknown & 0x1000) == 0)) {
      if ((flexcan_flags_unknown & 0x3800) == 0) {
        if ((DAT_40002857 & 1) == 0) {
          if ((DAT_400029de & 0xc00) == 0) {
            u16_torque_nm_4000175a = 0x38f;
            u16_torque_nm_4000175c = 0x38f;
            bVar2 = false;
            bVar1 = false;
          }
          else {
            u16_torque_nm_4000175a = u16_torque_nm_40001764;
            u16_torque_nm_4000175c = u16_torque_nm_40001764;
            bVar1 = true;
          }
        }
        else {
          u16_torque_nm_4000175a = u16_torque_nm_40001766;
          u16_torque_nm_4000175c = u16_torque_nm_40001768;
        }
      }
      else {
        u16_torque_nm_4000175a = torque_limit_intermediate_ign_;
        u16_torque_nm_4000175c = torque_limit_intermediate_tps_;
        bVar2 = true;
      }
    }
    else {
      u16_torque_nm_4000175a = torque_limit_intermediate_ign_;
      u16_torque_nm_4000175c = torque_limit_intermediate_tps_;
      bVar2 = true;
    }
  }
  else {
    bVar1 = (short)u16_torque_nm_40001764 <= (short)torque_limit_intermediate_ign_;
    if (bVar1) {
      u16_torque_nm_4000175a = u16_torque_nm_40001764;
    }
    else {
      u16_torque_nm_4000175a = torque_limit_intermediate_ign_;
    }
    bVar2 = !bVar1;
    if (bVar6) {
      if ((flexcan_mesg_0xb7_is_7byte) && (DAT_4000285b != '\0')) {
        if (((short)torque_limit_intermediate_tps_ < (short)u16_torque_nm_40001764) ||
           ((short)torque_limit_intermediate_tps_ < (short)u16_torque_nm_4000175a)) {
          if (((short)u16_torque_nm_40001764 < (short)torque_limit_intermediate_tps_) ||
             ((short)u16_torque_nm_40001764 < (short)u16_torque_nm_4000175a)) {
            u16_torque_nm_4000175c = u16_torque_nm_4000175a;
          }
          else {
            u16_torque_nm_4000175c = u16_torque_nm_40001764;
          }
        }
        else {
          u16_torque_nm_4000175c = torque_limit_intermediate_tps_;
        }
      }
      else if (flexcan_mesg_0xb7_is_7byte) {
        if ((short)u16_torque_nm_40001764 < (short)torque_limit_intermediate_tps_) {
          u16_torque_nm_4000175c = torque_limit_intermediate_tps_;
        }
        else {
          u16_torque_nm_4000175c = u16_torque_nm_40001764;
        }
      }
      else if (DAT_4000285b != '\0') {
        if ((short)torque_limit_intermediate_ign_ < (short)u16_torque_nm_40001764) {
          u16_torque_nm_4000175c = u16_torque_nm_40001764;
        }
        else {
          u16_torque_nm_4000175c = torque_limit_intermediate_ign_;
        }
      }
    }
    else {
      u16_torque_nm_4000175c = u16_torque_nm_4000175a;
    }
  }
  if ((lbf_state_flags & 0x80) == 0) {
    if (((((brake_switch & 0x11) == 0) || ((COD_base[0] >> 0xd & 7) != 1)) || (ips_state_flags == 0)
        ) || ((ips_state_flags == 9 || (obd_ii_diag_override)))) {
      if ((((short)u16_torque_nm_40001758 < 911) &&
          (((short)u16_torque_nm_40001758 < (short)torque_alphaN_net && (cruise_brake_timer___ == 0)
           ))) && (car_speed_div100 != 0)) {
        DAT_40002874 = 1;
        bVar3 = true;
      }
      else {
        u16_torque_nm_40001758 = 911;
        DAT_40002874 = 0;
        bVar3 = false;
      }
    }
    else {
      if ((car_speed_div100 == 0) &&
         ((short)accel_pedal_pos2 < (short)(ushort)CAL_cruise_accel_pedal_override_threshold_exit))
      {
        cruise_brake_timer___ = CAL_cruise_brake_timer____default;
        brake_timer2 = 20;
      }
      if (cruise_brake_timer___ == 0) {
        u16_torque_nm_40001758 = (u16_torque_nm)(((uint)DAT_400088dc << 8) / (uint)DAT_40001746);
      }
      else {
        u16_torque_nm_40001758 = (ushort)u8_torque_2nm_400088dd << 1;
      }
      DAT_40002874 = 0;
      bVar3 = false;
    }
  }
  else {
    u16_torque_nm_40001758 = 911;
    DAT_40002874 = 0;
    bVar3 = false;
    cruise_brake_timer___ = 0;
  }
  if (((((flexcan_flags_unknown & 0x3800) == 0) || ((flexcan_flags_unknown & 0x1000) == 0)) ||
      (!bVar2)) &&
     (((DAT_40002857 & 1) == 0 && ((short)u16_torque_nm_40001758 < (short)u16_torque_nm_4000175a))))
  {
    u16_torque_nm_4000175a = u16_torque_nm_40001758;
    bVar1 = false;
    bVar2 = false;
    if (((short)u16_torque_nm_4000175c <= (short)u16_torque_nm_40001758) ||
       (u16_torque_nm_4000175c == 911)) {
      u16_torque_nm_4000175c = u16_torque_nm_40001758;
    }
  }
  if ((((COD_base[1] >> 0x15 & 3) == 2) && ((clutch_pos_sensor & 8) == 0)) &&
     (CAL_sensor_clutch_disengaged_threshold < clutch_pos_voltage)) {
    if (((byte)(abs_a8_flag2 - 3U) < 2) &&
       ((10 < (short)u16_torque_nm_4000175a || (1500 < engine_speed_2)))) {
      DAT_40002871 = 8;
      torque_external_limit1_ign___ = u16_torque_nm_4000175a;
      torque_external_limit2_tps___ = u16_torque_nm_4000175c;
      if (bVar2) {
        flexcan_flags_unknown = flexcan_flags_unknown | 0x4000;
        DAT_400029de = DAT_400029de & 0xefff;
      }
    }
    else {
      torque_external_limit1_ign___ = 911;
      torque_external_limit2_tps___ = 911;
      flexcan_flags_unknown = flexcan_flags_unknown & 0xbfff;
      DAT_400029de = DAT_400029de & 0xefff;
      DAT_40002871 = 1;
    }
  }
  else {
    if (engine_speed_2 < u16_rspeed_rpm_4000874c) {
      if ((short)u16_torque_nm_4000175a < (short)(ushort)u8_torque_nm_40008746) {
        torque_external_limit1_ign___ = (u16_torque_nm)u8_torque_nm_40008746;
        DAT_40002871 = DAT_40002871 & 0xf6 | 2;
      }
      else {
        torque_external_limit1_ign___ = u16_torque_nm_4000175a;
        DAT_40002871 = DAT_40002871 & 0xf4;
      }
      if ((short)u16_torque_nm_4000175c < (short)(ushort)u8_torque_nm_40008746) {
        torque_external_limit2_tps___ = (u16_torque_nm)u8_torque_nm_40008746;
        DAT_40002871 = DAT_40002871 | 4;
      }
      else {
        torque_external_limit2_tps___ = u16_torque_nm_4000175c;
        DAT_40002871 = DAT_40002871 & 0xfb;
      }
    }
    else {
      torque_external_limit1_ign___ = u16_torque_nm_4000175a;
      torque_external_limit2_tps___ = u16_torque_nm_4000175c;
      DAT_40002871 = DAT_40002871 & 0xf0;
    }
    if (bVar2) {
      flexcan_flags_unknown = flexcan_flags_unknown | 0x4000;
      DAT_400029de = DAT_400029de & 0xefff;
    }
    else if (bVar1) {
      DAT_400029de = DAT_400029de | 0x1000;
      flexcan_flags_unknown = flexcan_flags_unknown & 0xbfff;
    }
    else {
      flexcan_flags_unknown = flexcan_flags_unknown & 0xbfff;
      DAT_400029de = DAT_400029de & 0xefff;
    }
  }
                    // cod_base[1] >> 9  is a check for ABS
                    // cod_base[0] >> 22 is a check for is not mapped, maybe cruise
                    // cod_base[1] >> 14 is a check for TCU
  if (((((COD_base[1] >> 9 & 1) == 0) || ((COD_base[0] >> 22 & 7) == 0)) || (DAT_4000284f == 0)) ||
     ((((flexcan_flags_unknown & 0x100) == 0 || ((flexcan_flags_unknown & 0x800) == 0)) ||
      ((flexcan_flags_unknown & 0x4000) == 0)))) {
    if (((((COD_base[1] >> 9 & 1) == 0) ||
         (((COD_base[0] >> 22 & 7) != 3 && ((COD_base[0] >> 22 & 7) != 2)))) ||
        (DAT_4000284e == '\0')) ||
       ((((flexcan_flags_unknown & 0x200) == 0 || ((flexcan_flags_unknown & 0x1000) == 0)) ||
        ((flexcan_flags_unknown & 0x4000) == 0)))) {
      if ((((COD_base[1] >> 0xe & 1) == 0) || ((COD_base[0] >> 0xd & 7) != 1)) ||
         ((DAT_40002857 & 1) == 0)) {
        if ((((COD_base[1] >> 0xe & 1) == 0) || ((COD_base[0] >> 0xd & 7) != 1)) ||
           ((DAT_40002850 == 0 ||
            ((((DAT_400029de & 0x100) == 0 || ((DAT_400029de & 0x400) == 0)) ||
             ((DAT_400029de & 0x1000) == 0)))))) {
          if ((((COD_base[1] >> 14 & 1) == 0) || ((COD_base[0] >> 0xd & 7) != 1)) ||
             ((u16_torque_nm_40001758 == 911 || (((brake_switch & 0x11) == 0 && (!bVar3)))))) {
            trqlimit_external_request_flags___ = 0;
            DAT_40002873 = 0;
          }
          else {
            trqlimit_external_request_flags___ = 0b00001000;
            DAT_40002873 = 0;
          }
        }
        else {
          trqlimit_external_request_flags___ = 0b00000100;
          if (DAT_40002873 == 0) {
            DAT_40002873 = 1;
            torque_timer_unknown1 = 50;
          }
        }
      }
      else {
        trqlimit_external_request_flags___ = 0b00010000;
        DAT_40002873 = 0;
      }
    }
    else {
      trqlimit_external_request_flags___ = 2;
      DAT_40002873 = 0;
    }
  }
  else {
    trqlimit_external_request_flags___ = 1;
    DAT_40002873 = 0;
  }
  u16_torque_nm_40001762 = u16_torque_nm_40001764;
  return;
}



void torque_model_200hz(void)

{
  u8_time_10ms uVar2;
  u8_time_10ms uVar3;
  u8_time_10ms uVar4;
  u8_time_10ms uVar5;
  uint uVar1;
  uint _torque_limit_tps2___;
  uint _torque_tps___;
  
  torque_timer_primary_unknown = torque_timer_primary_unknown + 0xff;
  if (torque_timer_primary_unknown == 0) {
    torque_timer_primary_unknown = 2;
    uVar2 = u8_time_10ms_40002858 + 0xff;
    if (u8_time_10ms_40002858 == 0) {
      uVar2 = u8_time_10ms_40002858;
    }
    uVar3 = u8_time_10ms_40002859 + 0xff;
    if (u8_time_10ms_40002859 == 0) {
      uVar3 = u8_time_10ms_40002859;
    }
    uVar4 = torque_timer_unknown1 + 0xff;
    if (torque_timer_unknown1 == 0) {
      uVar4 = torque_timer_unknown1;
    }
    uVar5 = u8_time_10ms_40002876 + 0xff;
    if (u8_time_10ms_40002876 == 0) {
      uVar5 = u8_time_10ms_40002876;
    }
    if (cruise_brake_timer___ != 0) {
      if ((car_speed_div100 == 0) && ((brake_switch & 0b00010001) != 0)) {
        cruise_brake_timer___ = cruise_brake_timer___ - 1;
      }
      else if (brake_timer2 == 0) {
        cruise_brake_timer___ = 0;
      }
      else {
        brake_timer2 = brake_timer2 + 0xff;
      }
    }
    u8_time_10ms_4000176b = u8_time_10ms_4000176b + 0xff;
    u8_time_10ms_40002858 = uVar2;
    u8_time_10ms_40002859 = uVar3;
    torque_timer_unknown1 = uVar4;
    u8_time_10ms_40002876 = uVar5;
    if ((u8_time_10ms_4000176b == 0) && (u8_time_10ms_4000176b = 2, DAT_40002874 != 0)) {
      if ((int)((int)(short)u16_torque_nm_40001758 + (uint)CAL_torque_hysteresis_threshold1) < 911)
      {
        u16_torque_nm_40001758 = u16_torque_nm_40001758 + CAL_torque_hysteresis_threshold1;
      }
      else {
        u16_torque_nm_40001758 = 911;
      }
    }
  }
  if ((torque_limit_tps_current < torque_limit_tps___) &&
     ((trqlimit_external_request_flags___ & 0b00010000) == 0)) {
    _torque_tps___ = (uint)DAT_4000885f;
  }
  else {
    _torque_tps___ = 255;
  }
  uVar1 = torque_limit_tps_accumlator * (256 - _torque_tps___);
  torque_limit_tps_accumlator =
       ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
       torque_limit_tps_current * _torque_tps___;
  _torque_limit_tps2___ =
       ((int)torque_limit_tps_accumlator >> 8) +
       (uint)((int)torque_limit_tps_accumlator < 0 && (torque_limit_tps_accumlator & 0xff) != 0);
  if ((_torque_limit_tps2___ < 4095) || (torque_limit_tps_current != 4096)) {
    torque_limit_tps___ = (u16_factor_1_4095)_torque_limit_tps2___;
  }
  else {
    torque_limit_tps___ = 4096;
    torque_limit_tps_accumlator = 0x100000;
  }
  return;
}



// UDS DTC clear
// 

void obd_ii_mode14_processing(void)

{
  if ((obd_ii_request[0] == 1) || (obd_ii_request[2] == 0xff)) {
    obd_clear_DTC_and_stored();
    obd_ii_response[0] = 0x54;
    obd_ii_response_length = 1;
    flexcan_a_obd_send_messages();
  }
  return;
}



void FUN_000c3fe0(uint param_1)

{
  eTPU_calculate_and_set_channel_value('\x10',(uint16_t)param_1);
  return;
}



// returns 1 if any failures

byte ac_compressor_criteria_check(void)

{
  ushort uVar1;
  byte bVar2;
  
  uVar1 = ac_compressor_flags | 0b00001000;
  if (CAL_ac_compressor_runtime_min < runtime_since_start) {
    uVar1 = ac_compressor_flags & 0xfff7;
  }
  if ((short)(ushort)CAL_ac_compressor_max_throttle < (short)accel_pedal_pos2 >> 2) {
    ac_compressor_flags = uVar1 | 1;
  }
  else {
    ac_compressor_flags = uVar1;
    if ((short)accel_pedal_pos2 >> 2 < (short)(ushort)DAT_400086b7) {
      ac_compressor_flags = uVar1 & 0xfffe;
    }
  }
  if ((ac_compressor_flags & 1) == 0) {
    DAT_400028ab = DAT_400086ca;
  }
  if (CAL_ac_compressor_max_coolant_temp_max < coolant_temp) {
    ac_compressor_flags = ac_compressor_flags | 2;
  }
  else if (coolant_temp < CAL_ac_compressor_max_coolant_temp_min) {
    ac_compressor_flags = ac_compressor_flags & 0xfffd;
  }
  if (CAL_ac_compressor_engine_speed_max < engine_speed_3) {
    if (DAT_400028de == '\0') {
      ac_compressor_flags = ac_compressor_flags | 4;
    }
  }
  else if (engine_speed_3 < CAL_ac_compressor_engine_speed_min) {
    ac_compressor_flags = ac_compressor_flags & 0xfffb;
    DAT_400028de = DAT_400086c6;
  }
  if (CAL_ac_compressor_engine_speed2[0] < engine_speed_3) {
    if ((DAT_400028e8 == 0) && ((ac_compressor_flags & 0x40) == 0)) {
      ac_compressor_flags = ac_compressor_flags | 0x40;
      DAT_400028ea = (ushort)DAT_40008787 * 10;
    }
  }
  else if (((engine_speed_3 < CAL_ac_compressor_engine_speed2[1]) && (DAT_400028ea == 0)) ||
          (car_speed_u8 == 0)) {
    ac_compressor_flags = ac_compressor_flags & 0xffbf;
    DAT_400028ea = 0;
    DAT_400028e8 = (ushort)DAT_40008786 * 10;
  }
  if (CAL_ac_compressor_deactivate_car_speed[0] < car_speed_u8) {
    ac_compressor_flags = ac_compressor_flags | 0x10;
  }
  else if (car_speed_u8 < CAL_ac_compressor_deactivate_car_speed[1]) {
    ac_compressor_flags = ac_compressor_flags & 0xffef;
  }
  if ((short)(ushort)u8_temp_1_10C_40008707 < (short)ac_evap_temp) {
    if ((short)(ushort)DAT_40008708 < (short)ac_evap_temp) {
      ac_compressor_flags = ac_compressor_flags & 0xffdf;
      DAT_400028e0 = (ushort)DAT_40008718 << 2;
    }
    else if ((ac_compressor_flags & 0x20) == 0) {
      DAT_400028e0 = (ushort)DAT_40008718 << 2;
    }
  }
  else if ((DAT_400028e0 == 0) && (DAT_400028e2 == 0)) {
    if ((ac_compressor_flags & 0x20) == 0) {
      FUN_000c4564();
    }
    ac_compressor_flags = ac_compressor_flags | 32;
  }
  if (engine_speed_2 < (ushort)((ushort)CAL_ac_compressor_engine_speed3[0] << 2)) {
    ac_compressor_flags = ac_compressor_flags | 0b10000000;
  }
  else if ((ushort)((ushort)CAL_ac_compressor_engine_speed3[1] << 2) < engine_speed_2) {
    ac_compressor_flags = ac_compressor_flags & 0xff7f;
  }
  if (DAT_400028a1 == 5) {
    bVar2 = 1;
  }
  else if (((ac_compressor_flags & 0b11111110) == 0) &&
          (((ac_compressor_flags & 0b00000001) == 0 ||
           (((ac_compressor_flags & 0b00000001) != 0 && (DAT_400028ab == 0)))))) {
    bVar2 = 0;
  }
  else {
    bVar2 = 1;
  }
  return bVar2;
}



ulonglong get_ac_cooling_fan_required(void)

{
  ulonglong uVar1;
  
  if (DAT_400031da == 0) {
    uVar1 = (-(ulonglong)DAT_400028c6 << 0x20) >> 0x3f;
  }
  else {
    DAT_400028c6 = (ushort)DAT_400086d5 * 10;
    uVar1 = 1;
  }
  return uVar1;
}



void ac_unknown2_10hz(void)

{
  if (DAT_400028a0 == 0) {
    if (DAT_400028a1 == 1) {
      DAT_400028a1 = 3;
    }
    else if (DAT_400028a1 == 2) {
      DAT_400028a1 = 3;
    }
    else if ((DAT_400028a1 == 4) && (DAT_400028ac == 0)) {
      DAT_400028a1 = 0;
    }
  }
  else if (DAT_400028a1 == 0) {
    DAT_400028a1 = 1;
  }
  else if (DAT_400028a1 == 4) {
    DAT_400028a1 = 1;
  }
  return;
}



int16_t clip_value(int16_t val,int16_t lower_bound,int16_t upper_bound)

{
  if ((lower_bound < val) && (lower_bound = upper_bound, val < upper_bound)) {
    lower_bound = val;
  }
  return lower_bound;
}



void FUN_000c4564(void)

{
  DAT_40001771 = DAT_4000871e;
  DAT_400028b2 = 0;
  DAT_400028b4 = 0;
  DAT_400028b6 = 0;
  DAT_400028dc = 0;
  DAT_400028b8 = 0;
  DAT_400028ba = 0;
  DAT_400028bc = 0;
  DAT_400028c4 = 0;
  DAT_40001773 = DAT_40008727;
  DAT_400028d2 = (ushort)DAT_4000873c * (ushort)CAL_ac_evap_timer_ticks_5ms;
  DAT_400028d4 = (ushort)DAT_4000873d * (ushort)CAL_ac_evap_timer_ticks_5ms;
  DAT_400028e4 = ac_evap_temp;
  DAT_400028e7 = 0;
  return;
}



void init_dev_ac(void)

{
                    // ac_duty_cycle???
  siu_pcr[0x82] = 0xe84;
  FUN_000543b4(0x10,2,(ulonglong)DAT_40008724,0,1,0,10000000);
  return;
}



void ac_compressor(void)

{
  byte bVar2;
  ulonglong uVar1;
  
  DAT_400028ac = (byte)(-(ulonglong)DAT_400031d8 >> 24) >> 7;
  bVar2 = ac_compressor_criteria_check();
  if (bVar2 == 0) {
                    // no failures
    if ((DAT_400028ac == 0) || (DAT_400028c2 != 0)) {
      DAT_400028a0 = 0;
      DAT_400028a9 = DAT_400086b8;
      u8_time_10ms_400028a8 = 0;
    }
    else {
      DAT_400028a0 = 1;
    }
  }
  else {
    if (((DAT_400028a1 != 0) && (DAT_400028a1 != 4)) && (DAT_400028a1 != 5)) {
      DAT_400028a1 = 4;
      DAT_400028c2 = 50;
    }
    DAT_400028a0 = 0;
    u8_time_10ms_400028a8 = 0;
    DAT_400028a9 = DAT_400086b8;
  }
  uVar1 = get_ac_cooling_fan_required();
  ac_cooling_fan_required = (uint8_t)uVar1;
  if ((ac_compressor_commaded == 0) &&
     (((obd_ii_mode2f_flags_state & 0x40000) == 0 || ((obd_ii_mode2f_flags_enabled & 0x40000) == 0))
     )) {
                    // disable ac compressor
    obd_ii_relay_status = obd_ii_relay_status & 0b11011111;
  }
  else {
                    // enable ac compressor
    obd_ii_relay_status = obd_ii_relay_status | 0b00100000;
  }
  obd_ii_ac_clutch_relay = (byte)(-((ulonglong)obd_ii_relay_status & 0b00100000) >> 24) >> 7;
  return;
}



void ac_200hz(void)

{
  bool bVar1;
  uint uVar2;
  short sVar3;
  uint8_t ac_unknown1;
  byte bVar5;
  longlong lVar4;
  uint8_t uVar7;
  longlong lVar6;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  
  u8_time_5ms_40001772 = u8_time_5ms_40001772 + 0xff;
  if (u8_time_5ms_40001772 == 0) {
    u8_time_5ms_40001772 = 2;
    if (u8_time_10ms_400028a8 != 0xff) {
      u8_time_10ms_400028a8 = u8_time_10ms_400028a8 + 1;
    }
  }
  FUN_000c541c();
  ac_10hz_timer = ac_10hz_timer + 0xff;
  if (ac_10hz_timer == 0) {
    ac_10hz_timer = 20;
    ac_unknown2_10hz();
    ac_unknown1 = lookup_2D_uint8_interpolated
                            (4,engine_speed_3,CAL_ac_load_limit,CAL_ac_load_limit_X_rpm);
    DAT_400028be = (ushort)ac_unknown1 * 40;
    u16_temp_1_10C_400028c0 = ac_evap_temp - u8_temp_1_10C_4000871f;
    if ((short)u16_temp_1_10C_400028c0 < 0x4b0) {
      if ((short)u16_temp_1_10C_400028c0 < -400) {
        uVar7 = '\0';
      }
      else {
        uVar7 = (uint8_t)((((longlong)(short)u16_temp_1_10C_400028c0 + 400) * 100 & 0xffffffffU) /
                         625);
      }
    }
    else {
      uVar7 = 0xff;
    }
    if (DAT_400028e6 == 0) {
      DAT_400028e2 = (byte)((ulonglong)
                            ((longlong)((int)(short)(ac_evap_temp ^ DAT_400028e4) >> 1) -
                            (longlong)(short)((ac_evap_temp ^ DAT_400028e4) & ac_evap_temp)) >> 0x18
                           ) >> 7;
      DAT_400028e4 = ac_evap_temp;
      DAT_400028e6 = DAT_40008719;
    }
    if (DAT_400028a1 == 0) {
      ac_compressor_commaded = 0;
      DAT_400028ae = 0;
      ac_load____ = 0;
      FUN_000c4564();
    }
    else if (DAT_400028a1 == 1) {
      if (DAT_400028a9 == '\0') {
        DAT_400028ae = '\x01';
      }
      if (obd_ii_ac_clutch_relay == 0) {
        ac_compressor_commaded = 1;
        ac_load____ = clip_value((ushort)DAT_40008729 * 0x28,2000,DAT_400028be);
        DAT_40001773 = DAT_40008727;
      }
      else if (DAT_40001773 == 0) {
        if (obd_ii_ac_clutch_relay != 0) {
          ac_load____ = clip_value(ac_load____ + DAT_400028bc,2000,DAT_400028be);
          DAT_40001771 = DAT_40001771 - 1;
          if (DAT_40001771 == 0) {
            DAT_400028a1 = '\x02';
            if (DAT_40008721 == 0) {
              DAT_400028b4 = 0;
            }
            else {
              bVar5 = lookup_2D_uint8_interpolated('\b',uVar7,&DAT_4000918a,&DAT_40009182);
              DAT_400028b4 = (ac_load____ + (ushort)DAT_40008736 * -0x28) -
                             u16_temp_1_10C_400028c0 * bVar5;
            }
            DAT_400028ee = u16_temp_1_10C_400028c0;
            DAT_400028b6 = 0;
            DAT_400028dc = 0;
            DAT_400028d2 = (ushort)DAT_4000873c * (ushort)CAL_ac_evap_timer_ticks_5ms;
            DAT_400028d4 = (ushort)DAT_4000873d * (ushort)CAL_ac_evap_timer_ticks_5ms;
          }
        }
      }
      else {
        DAT_40001773 = DAT_40001773 + -1;
        ac_load____ = clip_value((ushort)DAT_40008729 * 40,2000,DAT_400028be);
        DAT_40001771 = DAT_4000871e;
        bVar5 = lookup_2D_uint8_interpolated(8,uVar7,&DAT_4000918a,&DAT_40009182);
        DAT_400028f0 = clip_value((ushort)DAT_40008736 * 0x28 + u16_temp_1_10C_400028c0 * bVar5,2000
                                  ,DAT_400028be);
        DAT_400028bc = (short)(((ulonglong)DAT_400028f0 + (ulonglong)DAT_40008729 * -0x28 &
                               0xffffffff) / (ulonglong)DAT_4000871e);
      }
    }
    else if (DAT_400028a1 == '\x02') {
      bVar5 = lookup_2D_uint8_interpolated('\b',uVar7,&DAT_4000918a,&DAT_40009182);
      uVar2 = (uint)DAT_400028be;
      if ((int)((int)(short)u16_temp_1_10C_400028c0 * (uint)bVar5) < (int)(uint)DAT_400028be) {
        uVar2 = (int)(short)u16_temp_1_10C_400028c0 * (uint)bVar5;
      }
      DAT_400028b2 = (short)uVar2;
      if (DAT_40008721 == 0) {
        DAT_400028b4 = 0;
      }
      else if (DAT_400028d7 == '\0') {
        if ((short)(ushort)u8_temp_1_10C_40008707 < (short)ac_evap_temp) {
          DAT_400028d7 = CAL_ac_evap_timer_ticks_5ms + 0xff;
          lVar6 = (longlong)DAT_400028b4 +
                  (longlong)(int)(uint)DAT_40008721 * (longlong)(int)(short)u16_temp_1_10C_400028c0;
        }
        else {
          DAT_400028d7 = DAT_40008748 + -1;
          if (DAT_400028e2 == 0) {
            if ((int)((uint)DAT_40008718 * 4 + (uint)DAT_40008778 * -4) < (int)(uint)DAT_400028e0) {
              lVar6 = (longlong)DAT_400028b4 +
                      (longlong)(int)(uint)DAT_40008747 *
                      (longlong)(int)(short)u16_temp_1_10C_400028c0;
            }
            else {
              uVar2 = (int)(short)u16_temp_1_10C_400028c0 * (uint)DAT_40008779 * (uint)DAT_40008747;
              lVar6 = (longlong)DAT_400028b4 +
                      (longlong)((int)uVar2 / 10 + ((int)uVar2 >> 0x1f)) +
                      (ulonglong)(uVar2 >> 0x1f);
            }
          }
          else {
            lVar6 = (longlong)DAT_400028b4;
          }
        }
        lVar4 = libc_abs(lVar6);
        if ((int)lVar4 < (int)((uint)DAT_40008722 * 0x28)) {
          DAT_400028e7 = '\0';
          DAT_400028b4 = (short)lVar6;
          DAT_400028d2 = (ushort)DAT_4000873c * (ushort)CAL_ac_evap_timer_ticks_5ms;
          DAT_400028d4 = (ushort)DAT_4000873d * (ushort)CAL_ac_evap_timer_ticks_5ms;
        }
        else {
          DAT_400028e7 = '\x01';
          if ((int)lVar6 < 1) {
            if (DAT_400028d4 == 0) {
              if (DAT_400028b8 < 0x7d1) {
                DAT_400028ba = (ushort)DAT_40008736 * -0x28 + 2000;
              }
              else {
                DAT_400028ba = DAT_400028ba + (ushort)DAT_40008741 * -0x28;
                DAT_400028b4 = DAT_400028b4 + (ushort)DAT_40008741 * 0x28;
              }
              DAT_400028d4 = (ushort)DAT_4000873d * (ushort)CAL_ac_evap_timer_ticks_5ms;
            }
            else {
              DAT_400028b4 = (ushort)DAT_40008722 * -0x28;
            }
            DAT_400028d2 = (ushort)DAT_4000873c * (ushort)CAL_ac_evap_timer_ticks_5ms;
          }
          else {
            if (DAT_400028d2 == 0) {
              if ((int)(short)DAT_400028b8 < (int)(uint)DAT_400028be) {
                DAT_400028ba = DAT_400028ba + (ushort)DAT_40008740 * 0x28;
                DAT_400028b4 = DAT_400028b4 + (ushort)DAT_40008740 * -0x28;
              }
              else {
                DAT_400028ba = DAT_400028be + (ushort)DAT_40008736 * -0x28;
              }
              DAT_400028d2 = (ushort)DAT_4000873c * (ushort)CAL_ac_evap_timer_ticks_5ms;
            }
            else {
              DAT_400028b4 = (ushort)DAT_40008722 * 0x28;
            }
            DAT_400028d4 = (ushort)DAT_4000873d * (ushort)CAL_ac_evap_timer_ticks_5ms;
          }
        }
      }
      else {
        DAT_400028d7 = DAT_400028d7 + -1;
      }
      if (DAT_40008720 == 0) {
        DAT_400028b6 = 0;
        DAT_400028dc = 0;
      }
      else {
        if (DAT_400028d8 == '\0') {
          DAT_400028ec = u16_temp_1_10C_400028c0 - DAT_400028ee;
          DAT_400028dc = (ushort)DAT_40008720 * DAT_400028ec * 4;
          DAT_400028ee = u16_temp_1_10C_400028c0;
          DAT_400028d8 = DAT_4000870a;
        }
        DAT_400028d8 = DAT_400028d8 + -1;
        uVar2 = (int)DAT_400028b6 * (0x100 - (uint)DAT_4000870b) +
                (int)DAT_400028dc * (uint)DAT_4000870b;
        DAT_400028b6 = (short)(uVar2 >> 8) + (ushort)((int)uVar2 < 0 && (uVar2 & 0xff) != 0);
      }
      DAT_400028b8 = clip_value(DAT_400028ba + (ushort)DAT_40008736 * 0x28,2000,DAT_400028be);
      ac_load____ = clip_value(DAT_400028b6 + DAT_400028b2 + DAT_400028b8 + DAT_400028b4,2000,
                               DAT_400028be);
    }
    else if (DAT_400028a1 == 3) {
      DAT_400028bc = (ushort)DAT_40008723 * -10;
      ac_load____ = ac_load____ + DAT_400028bc;
      if (ac_load____ < 0x7d1) {
        ac_load____ = 2000;
        if (DAT_400028ae != '\0') {
          DAT_400028aa = DAT_400086cc;
        }
        DAT_400028ae = '\0';
        if (DAT_400028aa == '\0') {
          ac_compressor_commaded = 0;
          DAT_400028a1 = '\0';
          DAT_400028c2 = '2';
        }
      }
      else {
        DAT_400028aa = DAT_400086cc;
      }
    }
    else if (DAT_400028a1 == 4) {
      ac_compressor_commaded = 0;
      DAT_400028ae = '\0';
      ac_load____ = 0;
    }
    else if (DAT_400028a1 == 5) {
      ac_compressor_commaded = 0;
      DAT_400028ae = '\0';
      ac_load____ = 0;
    }
    ac_load2____ = ac_load____;
    DAT_400028c4 = (ushort)(((longlong)(int)(uint)ac_load____ * 0x13a5c & 0xffffffffU) /
                           ((ulonglong)sensor_adc_ecu_voltage * 100));
    FUN_000c3fe0((uint)DAT_400028c4);
    bVar1 = DAT_400028c2 == '\0';
    DAT_400028c2 = DAT_400028c2 + -1;
    if (bVar1) {
      DAT_400028c2 = '\0';
    }
    bVar2 = DAT_400028a9 == '\0';
    DAT_400028a9 = DAT_400028a9 + -1;
    if (bVar2) {
      DAT_400028a9 = '\0';
    }
    bVar3 = DAT_400028aa == '\0';
    DAT_400028aa = DAT_400028aa + -1;
    if (bVar3) {
      DAT_400028aa = '\0';
    }
    bVar4 = DAT_400028ab == '\0';
    DAT_400028ab = DAT_400028ab + -1;
    if (bVar4) {
      DAT_400028ab = '\0';
    }
    bVar1 = DAT_400028de == '\0';
    DAT_400028de = DAT_400028de + -1;
    if (bVar1) {
      DAT_400028de = '\0';
    }
    bVar1 = DAT_400028e0 == 0;
    DAT_400028e0 = DAT_400028e0 - 1;
    if (bVar1) {
      DAT_400028e0 = 0;
    }
    bVar1 = DAT_400028c6 == 0;
    DAT_400028c6 = DAT_400028c6 + -1;
    if (bVar1) {
      DAT_400028c6 = 0;
    }
    sVar3 = DAT_400028d4;
    if (DAT_400028e7 != 0) {
      sVar3 = DAT_400028d2 + -1;
      if (DAT_400028d2 == 0) {
        sVar3 = DAT_400028d2;
      }
      DAT_400028d2 = sVar3;
      sVar3 = DAT_400028d4 + -1;
      if (DAT_400028d4 == 0) {
        sVar3 = DAT_400028d4;
      }
    }
    DAT_400028d4 = sVar3;
    bVar1 = DAT_400028e6 == 0;
    DAT_400028e6 = DAT_400028e6 + -1;
    if (bVar1) {
      DAT_400028e6 = 0;
    }
    bVar1 = DAT_400028ea == 0;
    DAT_400028ea = DAT_400028ea + -1;
    if (bVar1) {
      DAT_400028ea = 0;
    }
    bVar1 = DAT_400028e8 == 0;
    DAT_400028e8 = DAT_400028e8 + -1;
    if (bVar1) {
      DAT_400028e8 = 0;
    }
  }
  return;
}



void FUN_000c541c(void)

{
  uint uVar1;
  
  uVar1 = DAT_4000198c;
  if (0xfffff < DAT_4000198c) {
    uVar1 = 0xfffff;
  }
  if (uVar1 == 0xfffff) {
    DAT_400028b0 = 0;
  }
  else {
    DAT_400028f8 = (ushort)(60000000 / (ulonglong)uVar1);
    uVar1 = (0x100 - (uint)DAT_4000887b) * DAT_400028f4;
    DAT_400028f4 = ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
                   (uint)DAT_4000887b * (uint)DAT_400028f8;
    DAT_400028b0 = (short)(DAT_400028f4 >> 8) +
                   (ushort)((int)DAT_400028f4 < 0 && (DAT_400028f4 & 0xff) != 0);
  }
  return;
}



void ac_check_unknown(void)

{
  ulonglong uVar1;
  short sVar2;
  
  if (((CAL_obd_ii_P0537 & 7) != 0) && (engine_is_running)) {
    if (ac_evap_temp_voltage < DAT_4000cb66) {
      DAT_400028ca = DAT_400028ca + 1;
      if (((DAT_400023e8 <= DAT_400028ca) && (DAT_400028ca = 0, DAT_400028c8 != 0)) &&
         (DAT_400028c8 = DAT_400028c8 - 1, DAT_400028c8 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0537,&LEA_obd_ii_P0537_flags,&DAT_40004dba,&DAT_40004dbb,0x537,0);
      }
    }
    else {
      DAT_400028ca = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0537,&LEA_obd_ii_P0537_flags);
      if (DAT_400028c8 < DAT_4000d44a) {
        DAT_400028c8 = DAT_400028c8 + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0538 & 7) != 0) && (engine_is_running != false)) {
    if (DAT_4000cb68 < ac_evap_temp_voltage) {
      DAT_400028ce = DAT_400028ce + 1;
      if (((DAT_400023e8 <= DAT_400028ce) && (DAT_400028ce = 0, DAT_400028cc != 0)) &&
         (DAT_400028cc = DAT_400028cc - 1, DAT_400028cc == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0538,&LEA_obd_ii_P0538_flags,&DAT_40004dbd,&DAT_40004dbe,0x538,0);
      }
    }
    else {
      DAT_400028ce = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0538,&LEA_obd_ii_P0538_flags);
      if (DAT_400028cc < DAT_4000d44b) {
        DAT_400028cc = DAT_400028cc + 1;
      }
    }
  }
  if ((LEA_obd_ii_P1422_flags & 1) != 0) {
    obd_ii_monitor_fail_transition
              (&CAL_obd_ii_P1422,&LEA_obd_ii_P1422_flags,&DAT_40004ea4,&DAT_40004ea5,0x1422,2);
    DAT_400028a1 = '\x05';
  }
  if ((((((CAL_obd_ii_P1422 & 7) == 0) || (engine_is_running == false)) ||
       ((LEA_obd_ii_P0646_flags & 2) != 0)) ||
      (((LEA_obd_ii_P0647_flags & 2) != 0 || (DAT_400028a0 == '\0')))) || (DAT_400028a1 == '\x05'))
  {
    DAT_400028fa = 0;
    DAT_400028fc = 0;
    DAT_400028fe = 0;
  }
  else {
    uVar1 = ((ulonglong)DAT_400028b0 * 10000) / ((ulonglong)engine_speed_2 * 0x7f);
    DAT_400028fe = (undefined2)uVar1;
    DAT_400028fa = (undefined2)
                   (((longlong)(int)(uint)engine_speed_2 *
                     (longlong)(int)((100 - (uint)DAT_4000cb4c) * 0x7f) & 0xffffffffU) / 10000);
    DAT_400028fc = (undefined2)
                   ((ulonglong)
                    ((longlong)(int)(uint)engine_speed_2 *
                    (longlong)(int)((DAT_4000cb4c + 100) * 0x7f)) / 10000);
    if ((obd_ii_ac_clutch_relay != '\0') && ((ushort)((ushort)DAT_4000cb5d * 0x32) < engine_speed_2)
       ) {
      if (((uVar1 & 0xffff) < (ulonglong)DAT_4000cb4c + 100) &&
         ((100 - (ulonglong)DAT_4000cb4c & 0xffffffff) < (uVar1 & 0xffff))) {
        sVar2 = DAT_400028d0 + -1;
        if (DAT_400028d0 == 0) {
          sVar2 = DAT_400028d0;
        }
        DAT_400028d0 = sVar2;
        obd_ii_monitor_pass(&CAL_obd_ii_P1422,&LEA_obd_ii_P1422_flags);
      }
      else {
        DAT_400028d0 = DAT_400028d0 + 1;
        if ((short)(ushort)DAT_4000cb5e <= DAT_400028d0) {
          DAT_400028d0 = 0;
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P1422,&LEA_obd_ii_P1422_flags,&DAT_40004ea4,&DAT_40004ea5,0x1422,2)
          ;
          DAT_400028a1 = 5;
        }
      }
    }
  }
  if ((((((LEA_obd_ii_P0537_flags & 2) != 0) || ((LEA_obd_ii_P0538_flags & 2) != 0)) ||
       ((LEA_obd_ii_P0646_flags & 2) != 0)) ||
      (((LEA_obd_ii_P0647_flags & 2) != 0 || ((LEA_obd_ii_P2612_flags & 2) != 0)))) ||
     ((LEA_obd_ii_P2613_flags & 2) != 0)) {
    DAT_400028a1 = 5;
  }
  return;
}



void FUN_000c5a54(void)

{
  DAT_400028c8 = DAT_4000d44a;
  DAT_400028cc = DAT_4000d44b;
  if (DAT_400028a1 == '\x05') {
    DAT_400028a1 = '\0';
  }
  obdii_update_dtc_state(&CAL_obd_ii_P0537,&LEA_obd_ii_P0537_flags,0x537,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0538,&LEA_obd_ii_P0538_flags,0x538,0);
  obdii_update_dtc_state(&CAL_obd_ii_P1422,&LEA_obd_ii_P1422_flags,0x1422,2);
  return;
}



void FUN_000c5b2c(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0537,&LEA_obd_ii_P0537_flags,&DAT_40004dba,&DAT_40004dbb,0x537,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0538,&LEA_obd_ii_P0538_flags,&DAT_40004dbd,&DAT_40004dbe,0x538,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P1422,&LEA_obd_ii_P1422_flags,&DAT_40004ea4,&DAT_40004ea5,0x1422,2);
  return;
}



void FUN_000c5c14(void)

{
  ushort uVar1;
  
  for (uVar1 = 0; uVar1 < 10; uVar1 = uVar1 + 1) {
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14) = 0;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 2) = 0;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 1) = 0;
  }
  for (uVar1 = 0; uVar1 < 4; uVar1 = uVar1 + 1) {
    *(undefined **)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 8) =
         &DAT_00002710;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0xc) = 10000;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0xe) = 10000;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0x10) = 0xffff;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 3) = 100;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 4) = 0x14;
  }
  DAT_400081c0 = &DAT_00002710;
  DAT_400081c4 = 10000;
  DAT_400081c6 = 10000;
  DAT_400081c8 = 0xffff;
  DAT_400081bb = 0x14;
  DAT_400081bc = 4;
  tps_system_state = 0;
  accel_pedal_diag_state = '\0';
  tps_sensor_track_d_preferred = true;
  DAT_40002933 = 1;
  for (uVar1 = 5; uVar1 < 10; uVar1 = uVar1 + 1) {
    *(undefined4 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 8) = 1000;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0xc) = 1000;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0xe) = 1000;
    *(undefined2 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 0x10) = 0xffff;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 3) = 0x32;
    *(undefined1 *)((int)&struct_tps_shaping_flags_40008168 + (uint)uVar1 * 0x14 + 4) = 10;
  }
  return;
}



void tps_control2_(uint16_t param_1,uint16_t param_2)

{
  bool bVar1;
  bool bVar2;
  undefined *puVar3;
  uint uVar4;
  u16_factor_1_1023 uVar5;
  u16_factor_1_1023 uVar6;
  short sVar7;
  undefined8 uVar8;
  longlong lVar9;
  longlong lVar10;
  
  bVar1 = false;
  lVar10 = 0;
  uVar8 = test_threshold(param_1,CAL_sensor_tps_voltage_theshold___[1],
                         CAL_sensor_tps_voltage_theshold___[0]);
  struct_tps_shaping_flags_40008168.current_input = (uint8_t)uVar8;
  struct_tps_shaping_flags_4000817c.current_input =
       tps_bounds_check(param_1,param_2,CAL_sensor_tps_voltage_theshold___[1],0xf5a,DAT_4000cb56,
                        DAT_4000cb54,0x6ae);
  if (struct_tps_shaping_flags_40008168.current_input == 0) {
    uVar4 = (uint)DAT_4000263a * ((uint)param_1 - (uint)DAT_40002632);
    uVar5 = (short)((int)uVar4 >> 6) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3f) != 0);
    DAT_40002908 = DAT_40002906;
    DAT_40002906 = DAT_40002904;
    uVar4 = (param_1 - 0x235) * (uint)DAT_4000263e;
    DAT_40002914 = (short)((int)uVar4 >> 6) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3f) != 0);
    DAT_40002904 = uVar5;
  }
  else {
    uVar5 = 0xfff;
    DAT_40002914 = 0xfff;
  }
  if (struct_tps_shaping_flags_4000817c.current_input == 0) {
    uVar4 = (uint)DAT_4000263c * ((uint)param_2 - (uint)DAT_40002634);
    uVar6 = (short)((int)uVar4 >> 6) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3f) != 0);
    DAT_40002910 = DAT_4000290e;
    DAT_4000290e = DAT_4000290c;
    uVar4 = (param_2 - 0x732) * (uint)DAT_40002640;
    DAT_40002916 = (short)((int)uVar4 >> 6) + (ushort)((int)uVar4 < 0 && (uVar4 & 0x3f) != 0);
    DAT_4000290c = uVar6;
  }
  else {
    uVar6 = 0xfff;
    DAT_40002916 = 0xfff;
  }
  tps_within_tolerance_unknown.current_input = abs_diff_le_u16(param_1,param_2,20);
  tps_signal_shaping_unknown(&tps_within_tolerance_unknown);
  tps_signal_shaping_unknown(&struct_tps_shaping_flags_40008168);
  tps_signal_shaping_unknown(&struct_tps_shaping_flags_4000817c);
  if (((((obd_ii_tps_1_2_correlation & 0xf) == 0) &&
       (struct_tps_shaping_flags_40008168.debounce == 0)) &&
      (struct_tps_shaping_flags_4000817c.debounce == 0)) &&
     ((struct_tps_shaping_flags_40008168.current_input == '\0' &&
      (struct_tps_shaping_flags_4000817c.current_input == '\0')))) {
    if ((int)(short)uVar6 < (int)(uint)DAT_4000ca84) {
      DAT_40002912 = uVar5 - uVar6;
      DAT_40002918 = DAT_40002914 - DAT_40002916;
      lVar9 = libc_abs((longlong)DAT_40002912);
      if ((int)(uint)DAT_4000ca82 < (int)lVar9) {
        DAT_400081a4 = '\x01';
        if ((short)uVar6 < (short)uVar5) {
          lVar10 = 1;
        }
        else {
          lVar10 = 2;
        }
      }
      else {
        DAT_400081a4 = '\0';
      }
    }
    else {
      DAT_400081a4 = '\0';
      DAT_40002912 = 0;
      DAT_40002918 = 0;
    }
  }
  else {
    DAT_400081a4 = '\0';
    DAT_40002912 = 0;
    DAT_40002918 = 0;
  }
  tps_signal_shaping_unknown((struct_tps_shaping_flags *)&DAT_400081a4);
  if (((tps_system_state == '\x02') || (8 < DAT_400050ea)) ||
     ((8 < DAT_40001f20 || (((obd_ii_relay_status & 0x10) != 0 || ((DAT_400031b9 & 0xbf) == 0))))))
  {
    if (DAT_400081b9 != '\x02') {
      DAT_400081b8 = 0;
      tps_signal_shaping_unknown((struct_tps_shaping_flags *)&DAT_400081b8);
    }
  }
  else {
    DAT_400081b8 = 1;
    tps_signal_shaping_unknown((struct_tps_shaping_flags *)&DAT_400081b8);
    DAT_40002900 = DAT_400031b9;
  }
  puVar3 = PTR_DAT_4000152c;
  if (lVar10 == 1) {
    tps_sensor_track_d_preferred = true;
    bVar2 = true;
  }
  else if (lVar10 == 2) {
    tps_sensor_track_d_preferred = false;
    bVar2 = false;
  }
  else if ((((obd_ii_tps_1_2_correlation & 3) == 0) &&
           (struct_tps_shaping_flags_40008168.debounce == 0)) &&
          (struct_tps_shaping_flags_40008168.current_input == '\0')) {
    if (((DAT_4000291c == 0) || ((obd_ii_tps_1_2_correlation & 0xc) != 0)) ||
       ((struct_tps_shaping_flags_4000817c.debounce != 0 ||
        (struct_tps_shaping_flags_4000817c.current_input != '\0')))) {
      tps_sensor_track_d_preferred = true;
      bVar2 = true;
    }
    else {
      tps_sensor_track_d_preferred = false;
      bVar2 = false;
    }
  }
  else if ((((obd_ii_tps_1_2_correlation & 0xc) == 0) &&
           (struct_tps_shaping_flags_4000817c.debounce == 0)) &&
          (struct_tps_shaping_flags_4000817c.current_input == '\0')) {
    if (tps_sensor_track_d_preferred == true) {
      DAT_4000291c = 1000;
    }
    tps_sensor_track_d_preferred = false;
    bVar2 = false;
  }
  else {
    tps_sensor_track_d_preferred = true;
    bVar2 = true;
    if (DAT_4000291a == 0) {
      DAT_4000291a = 1000;
    }
  }
  if ((bVar2) || (DAT_400081a4 == '\x01')) {
    DAT_4000291c = 0;
  }
  if ((DAT_4000291a == 1000) || (DAT_4000291c == 1000)) {
    PTR_DAT_40001528 = PTR_DAT_4000152c;
    PTR_DAT_4000152c = PTR_DAT_40001530;
    PTR_DAT_40001530 = PTR_DAT_40001534;
    PTR_DAT_40001534 = (undefined *)runtime_since_start;
    if ((puVar3 != &DAT_fffffff0) && (bVar1 = false, runtime_since_start - (int)puVar3 < 1000)) {
      bVar1 = true;
    }
  }
  sVar7 = DAT_4000291c + -1;
  if (DAT_4000291c == 0) {
    sVar7 = 0;
  }
  DAT_4000291c = sVar7;
  DAT_40002901 = DAT_4000291a != 0;
  if ((bool)DAT_40002901) {
    DAT_4000291a = DAT_4000291a + -1;
  }
  if ((((struct_tps_shaping_flags_40008168.state == '\x02') &&
       (struct_tps_shaping_flags_4000817c.state == '\x02')) || (DAT_400081b9 == '\x02')) ||
     ((tps_within_tolerance_unknown.state == '\x02' || (tps_system_state == '\x02')))) {
    tps_system_state = 2;
  }
  else if (((bVar1) || (struct_tps_shaping_flags_40008168.state == '\x02')) ||
          ((struct_tps_shaping_flags_4000817c.state == '\x02' ||
           ((DAT_400081a5 == '\x02' || (tps_system_state == '\x01')))))) {
    tps_system_state = 1;
  }
  else {
    tps_system_state = 0;
  }
  if (bVar2) {
    uVar6 = uVar5;
  }
  if (struct_tps_shaping_flags_40008168.state == 2) {
    if (struct_tps_shaping_flags_40008168.current_input == 2) {
      obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 1;
    }
    else if (struct_tps_shaping_flags_40008168.current_input == 1) {
      obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 2;
    }
  }
  if (struct_tps_shaping_flags_4000817c.state == 2) {
    if (struct_tps_shaping_flags_4000817c.current_input == 2) {
      obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 4;
    }
    else if (struct_tps_shaping_flags_4000817c.current_input == '\x01') {
      obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 8;
    }
  }
  if (DAT_400081a5 == 2) {
    obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 0b00010000;
  }
  if (tps_within_tolerance_unknown.state == 2) {
    obd_ii_tps_1_2_correlation = obd_ii_tps_1_2_correlation | 0b00100000;
  }
  if (tps_system_state == 2) {
    tps_u16 = (ushort)throttle_actuator_commanded << 4;
  }
  else {
    tps_u16 = uVar6;
    if ((short)uVar6 < 0) {
      tps_u16 = 0;
    }
  }
  tps_unknown2 = uVar6;
  DAT_400026b8 = (char)((ulonglong)(LZCOUNT(tps_system_state - 1) << 0x20) >> 0x25);
  DAT_400026c2 = (char)((ulonglong)(LZCOUNT(tps_system_state - 2) << 0x20) >> 0x25);
  return;
}



void accel_pedal_position_from_voltage
               (ushort _accel_pedal_pos_d_voltage,ushort _accel_pedal_pos_e_voltage)

{
  ulonglong _accel_pedal_pos_d_clipped;
  ulonglong _accel_pedal_pos_e_clipped;
  undefined8 uVar1;
  uint uVar4;
  ulonglong uVar2;
  u16_factor_1_1023 uVar5;
  longlong lVar3;
  uint16_t uVar6;
  uint16_t uVar7;
  
  _accel_pedal_pos_d_clipped =
       test_threshold(_accel_pedal_pos_d_voltage,CAL_sensor_accel_pedal_pos_d_threshold[1],
                      CAL_sensor_accel_pedal_pos_d_threshold[0]);
  accel_pedal_pos_d_clipped.current_input = (uint8_t)_accel_pedal_pos_d_clipped;
  _accel_pedal_pos_e_clipped =
       test_threshold(_accel_pedal_pos_e_voltage,CAL_sensor_accel_pedal_pos_e_threshold[1],
                      CAL_sensor_accel_pedal_pos_e_threshold[0]);
  accel_pedal_pos_e_clipped.current_input = (uint8_t)_accel_pedal_pos_e_clipped;
  uVar1 = test_threshold((ushort)((int)(uint)adc_dma_dest[0x25] >> 4),CAL_sensor_adc37_threshold[0],
                         CAL_sensor_adc37_threshold[1]);
  adc37_threshold.current_input = (uint8_t)uVar1;
  if (accel_pedal_pos_d_clipped.current_input == 0) {
    if (u16_factor_1_1023_400016a2 < _accel_pedal_pos_d_voltage) {
      uVar4 = pedalD_scale_to_10bit((uint)_accel_pedal_pos_d_voltage);
      uVar2 = (ulonglong)(int)uVar4;
    }
    else {
      uVar2 = 0;
    }
    DAT_40002924 = DAT_40002922;
    DAT_40002922 = DAT_40002920;
    DAT_40002920 = (undefined2)uVar2;
  }
  else {
    uVar2 = 0;
  }
  uVar7 = (uint16_t)uVar2;
  if (accel_pedal_pos_e_clipped.current_input == 0) {
    if (u16_factor_1_1023_400016a4 < _accel_pedal_pos_e_voltage) {
      uVar5 = accel_pedal_e_scale_voltage(_accel_pedal_pos_e_voltage);
    }
    else {
      uVar5 = 0;
    }
    DAT_4000292c = DAT_4000292a;
    DAT_4000292a = DAT_40002928;
    DAT_40002928 = uVar5;
  }
  else {
    uVar5 = 0;
  }
  if ((accel_pedal_pos_d_clipped.current_input == 0) &&
     (accel_pedal_pos_e_clipped.current_input == 0)) {
    lVar3 = libc_abs((uVar2 & 0xffff) - (ulonglong)uVar5);
    if ((int)(uint)DAT_4000ca58 < (int)lVar3) {
      struct_tps_shaping_flags_4000821c.current_input = 1;
    }
    else {
      struct_tps_shaping_flags_4000821c.current_input = 0;
    }
  }
  else {
    struct_tps_shaping_flags_4000821c.current_input = 0;
  }
  struct_tps_shaping_flags_400081f4.current_input =
       abs_diff_le_u16(_accel_pedal_pos_d_voltage,_accel_pedal_pos_e_voltage,5);
  tps_signal_shaping_unknown(&struct_tps_shaping_flags_400081f4);
  tps_signal_shaping_unknown(&accel_pedal_pos_d_clipped);
  tps_signal_shaping_unknown(&accel_pedal_pos_e_clipped);
  tps_signal_shaping_unknown(&adc37_threshold);
  tps_signal_shaping_unknown(&struct_tps_shaping_flags_4000821c);
  if ((((((DAT_400026c4 & 3) == 0) && (accel_pedal_pos_d_clipped.debounce == 0)) &&
       (accel_pedal_pos_d_clipped.current_input == '\0')) &&
      (((DAT_400026c4 & 0xc) == 0 && (accel_pedal_pos_e_clipped.debounce == 0)))) &&
     (accel_pedal_pos_e_clipped.current_input == '\0')) {
    if (struct_tps_shaping_flags_4000821c.current_input == '\x01') {
      if ((uVar2 & 0xffff) < (ulonglong)uVar5) {
        DAT_40002933 = '\x01';
      }
      else {
        DAT_40002933 = '\0';
      }
    }
    else {
      DAT_40002933 = '\x01';
    }
  }
  else if ((((DAT_400026c4 & 3) == 0) && (accel_pedal_pos_d_clipped.debounce == 0)) &&
          (accel_pedal_pos_d_clipped.current_input == '\0')) {
    DAT_40002933 = '\x01';
  }
  else if ((((DAT_400026c4 & 0xc) == 0) && (accel_pedal_pos_e_clipped.debounce == 0)) &&
          (accel_pedal_pos_e_clipped.current_input == '\0')) {
    DAT_40002933 = '\0';
  }
  else {
    DAT_40002933 = '\x01';
    uVar5 = 0;
    uVar7 = 0;
  }
  if (((accel_pedal_pos_d_clipped.state == '\x02') && (accel_pedal_pos_e_clipped.state == '\x02'))
     || ((struct_tps_shaping_flags_400081f4.state == '\x02' ||
         ((adc37_threshold.state == '\x02' || (accel_pedal_diag_state == '\x02')))))) {
    accel_pedal_diag_state = '\x02';
  }
  else if ((((accel_pedal_pos_d_clipped.state == '\x02') ||
            (accel_pedal_pos_e_clipped.state == '\x02')) ||
           (struct_tps_shaping_flags_4000821c.state == '\x02')) ||
          (accel_pedal_diag_state == '\x01')) {
    accel_pedal_diag_state = '\x01';
  }
  else {
    accel_pedal_diag_state = '\0';
  }
  if (accel_pedal_diag_state == '\x02') {
    accel_pedal_pos = 0;
  }
  else {
    uVar6 = uVar5;
    if (DAT_40002933 == 1) {
      uVar6 = uVar7;
    }
    accel_pedal_pos = get_accel_pedal_pos_unknown(uVar6);
  }
  if (accel_pedal_pos_d_clipped.state == 2) {
    if (accel_pedal_pos_d_clipped.current_input == 2) {
      DAT_400026c4 = DAT_400026c4 | 1;
    }
    else if (accel_pedal_pos_d_clipped.current_input == 1) {
      DAT_400026c4 = DAT_400026c4 | 2;
    }
  }
  if (accel_pedal_pos_e_clipped.state == 2) {
    if (accel_pedal_pos_e_clipped.current_input == 2) {
      DAT_400026c4 = DAT_400026c4 | 4;
    }
    else if (accel_pedal_pos_e_clipped.current_input == 1) {
      DAT_400026c4 = DAT_400026c4 | 8;
    }
  }
  if (struct_tps_shaping_flags_4000821c.state == 2) {
    DAT_400026c4 = DAT_400026c4 | 0x10;
  }
  if ((adc37_threshold.state == 2) && (adc37_threshold.current_input == '\x02')) {
    DAT_400026c4 = DAT_400026c4 | 0x20;
  }
  if ((adc37_threshold.state == 2) && (adc37_threshold.current_input == '\x01')) {
    DAT_400026c4 = DAT_400026c4 | 0x40;
  }
  if (struct_tps_shaping_flags_400081f4.state == 2) {
    DAT_400026c4 = DAT_400026c4 | 0x80;
  }
  accel_pedal_pos2 = accel_pedal_pos;
  DAT_400026bc = (char)((ulonglong)(LZCOUNT(accel_pedal_diag_state - 1) << 0x20) >> 0x25);
  DAT_400026c3 = (char)((ulonglong)(LZCOUNT(accel_pedal_diag_state - 2) << 0x20) >> 0x25);
  DAT_400022d2 = uVar7 - uVar5;
  return;
}



void tps_signal_shaping_unknown(struct_tps_shaping_flags *f)

{
  if (f->accum_timer != 0xffff) {
    if ((longlong)(-(ulonglong)f->current_input << 0x20) < 0) {
      f->accum_timer = f->accum_timer - (int)(char)f->decrement_rate;
      if ((int)f->accum_timer < 0) {
        f->accum_timer = 0;
      }
    }
    else {
      f->accum_timer = f->accum_timer + (int)*(char *)&f->increment_rate;
      if ((int)(uint)f->curr_threshold <= (int)f->accum_timer) {
        f->accum_timer = (uint)f->curr_threshold;
      }
    }
    if ((int)f->accum_timer < 0) {
      f->accum_timer = 0;
    }
    if ((int)(uint)f->curr_threshold < (int)f->accum_timer) {
      f->accum_timer = (uint)f->curr_threshold;
    }
    if (f->state == '\x02') {
      if ((int)(uint)f->curr_threshold <= (int)f->accum_timer) {
        f->state = '\0';
        f->curr_threshold = f->threshold_0;
        f->accum_timer = (uint)f->threshold_0;
      }
    }
    else if (f->accum_timer == 0) {
      f->state = '\x02';
      if (f->threshold_2 == 0xffff) {
        f->accum_timer = 0xffff;
      }
      else {
        f->curr_threshold = f->threshold_2;
      }
    }
    if (((int)f->accum_timer < 1) || ((int)(uint)f->curr_threshold <= (int)f->accum_timer)) {
      f->debounce = 0;
    }
    else {
      f->debounce = 1;
    }
  }
  return;
}



undefined8 test_threshold(ushort val,ushort max,ushort min)

{
  undefined8 uVar1;
  
  if (max < val) {
    uVar1 = 2;
  }
  else {
    uVar1 = 0;
    if (val < min) {
      uVar1 = 1;
    }
  }
  return uVar1;
}



uint8_t tps_bounds_check(ushort p1,ushort p2,ushort p3,ushort p4,ushort p5,ushort p6,ushort p7)

{
  uint8_t uVar1;
  
  if (((p5 < p2) || ((p1 < p7 && (p4 < p2)))) || ((p3 < p1 && (p4 < p2)))) {
                    // out of range
    uVar1 = 2;
  }
  else {
    uVar1 = 0;
    if (p2 < p6) {
      uVar1 = 1;
    }
  }
  return uVar1;
}



bool abs_diff_le_u16(uint16_t param_1,uint16_t param_2,uint16_t param_3)

{
  longlong lVar1;
  
  lVar1 = libc_abs((ulonglong)param_1 - (ulonglong)param_2);
  return (int)lVar1 <= (int)(uint)param_3;
}



u16_factor_1_1023 FUN_000c70c8(void)

{
  return tps_unknown2;
}



uint8_t get_tps_system_state(void)

{
  return tps_system_state;
}



uint8_t get_accel_pedal_diag_state(void)

{
  return accel_pedal_diag_state;
}



bool get_tps_sensor_track_d_preferred(void)

{
  return tps_sensor_track_d_preferred;
}



undefined1 FUN_000c70f0(void)

{
  return DAT_40002933;
}



void copyCOD2RAM(void)

{
  byte i;
  byte allBytesFF;
  uint16_t uVar1;
  
  for (i = 0; i < 68; i = i + 1) {
    *(undefined1 *)((int)COD_base + (uint)i) = *(undefined1 *)(i + 0x1c000);
  }
  allBytesFF = checkAllBytesAreFF(&DAT_0001c020,32);
  if (allBytesFF != 0) {
    for (i = 0; i < 32; i = i + 1) {
      program_version[i] = CAL_prog_version[i];
    }
    eeprom_update_flags = eeprom_update_flags | 0b00000100;
    EEPROM_commit_coding_to_flash();
  }
  uVar1 = CRC16((byte *)COD_base,64);
  if (cod_crc != uVar1) {
    for (i = 0; i < 68; i = i + 1) {
      *(undefined1 *)((int)COD_base + (uint)i) = 0xff;
    }
    for (i = 0; i < 32; i = i + 1) {
      program_version[i] = CAL_prog_version[i];
    }
    eeprom_update_flags = eeprom_update_flags | 0b00000100;
    EEPROM_commit_coding_to_flash();
  }
  i = libc_memcmp2(CAL_prog_version,program_version,0x1f);
  prog_version_mismatch = (byte)((byte)((ulonglong)-(longlong)(char)i >> 24) | (char)i >> 7) >> 7;
  return;
}



void EEPROM_commit_coding_to_flash(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  
  if (engine_speed_2 == 0) {
    bVar1 = INTC_PSR[0xaa];
    bVar3 = INTC_PSR[0xab];
    bVar2 = INTC_PSR[0xaa];
    INTC_PSR[0xaa] = bVar2 & 0xf0;
    bVar2 = INTC_PSR[0xab];
    INTC_PSR[0xab] = bVar2 & 0xf0;
    EEPROM_erase_coding();
    if ((eeprom_update_flags & 0b00001000) == 0) {
      cod_crc = CRC16((byte *)COD_base,64);
                    // write COD_base to flash
      flash_write_cod_data((byte *)COD_base_flash,(byte *)COD_base,68);
    }
    bVar2 = INTC_PSR[0xaa];
    INTC_PSR[0xaa] = bVar1 & 0xf | bVar2 & 0xf0;
    bVar1 = INTC_PSR[0xab];
    INTC_PSR[0xab] = bVar3 & 0xf | bVar1 & 0xf0;
    if ((eeprom_update_flags & 1) != 0) {
      flexcan_a_tx_503();
    }
    eeprom_update_flags = 0;
  }
  return;
}



void init_cod_base(byte *cod_new,uint8_t input_format,bool ignore_input_and_rebuild)

{
  if ((engine_speed_2 != 0) || (ignore_input_and_rebuild)) {
    if ((ignore_input_and_rebuild) && (engine_speed_2 == 0)) {
      COD_base[0] = cod_drive_pos & 1 |
                    (cod_symbol_display & 1) << 1 |
                    (cod_japan_seatbelt_warning & 1) << 2 |
                    (cod_rear_fog_fitted & 1) << 3 |
                    (cod_fuel_tank_capacity & 0x7f) << 4 |
                    (speed_units & 1) << 0xb |
                    (DAT_40002983 & 1) << 0xc |
                    (cod_trans_type & 7) << 0xd |
                    (DAT_40002985 & 1) << 0x10 |
                    (DAT_40002986 & 7) << 0x11 |
                    (DAT_40002987 & 1) << 0x14 |
                    (DAT_40002988 & 1) << 0x15 |
                    (DAT_40002989 & 7) << 0x16 |
                    (DAT_4000298a & 7) << 0x19 |
                    (DAT_4000298b & 7) << 0x1c | (uint)coding_oil_cooling_additional << 0x1f;
      COD_base[1] = cod_oil_sump_system & 1 |
                    (DAT_40002961 & 1) << 1 |
                    (DAT_40002962 & 3) << 2 |
                    (cod_power_fold_mirrors & 1) << 4 |
                    (DAT_40002964 & 1) << 5 |
                    (DAT_40002965 & 1) << 6 |
                    (DAT_40002966 & 1) << 7 |
                    (DAT_40002967 & 1) << 8 |
                    (DAT_40002968 & 1) << 9 |
                    (DAT_40002969 & 1) << 10 |
                    (DAT_4000296a & 1) << 0xb |
                    (DAT_4000296b & 1) << 0xc |
                    (DAT_4000296c & 1) << 0xd |
                    (DAT_4000296d & 1) << 0xe |
                    (DAT_4000296e & 1) << 0xf |
                    (DAT_4000296f & 3) << 0x10 |
                    (DAT_40002970 & 1) << 0x12 |
                    (DAT_40002971 & 1) << 0x13 |
                    (DAT_40002972 & 1) << 0x14 |
                    (DAT_40002973 & 3) << 0x15 |
                    (DAT_40002974 & 1) << 0x17 |
                    (DAT_40002975 & 1) << 0x18 |
                    (DAT_40002976 & 1) << 0x19 |
                    (DAT_40002977 & 1) << 0x1a |
                    (DAT_40002978 & 1) << 0x1b |
                    (DAT_40002979 & 1) << 0x1c |
                    (DAT_4000297a & 1) << 0x1d |
                    (DAT_4000297b & 1) << 0x1e | (uint)DAT_4000297c << 0x1f;
      eeprom_update_flags = eeprom_update_flags | 1;
      init_gear_cal();
      DAT_40004a48 = 1;
    }
  }
  else {
    if (input_format == 0) {
      COD_base[0] = CONCAT13(cod_new[3],CONCAT12(cod_new[2],CONCAT11(cod_new[1],*cod_new)));
      COD_base[1] = CONCAT13(cod_new[7],CONCAT12(cod_new[6],CONCAT11(cod_new[5],cod_new[4])));
    }
    else {
      COD_base[0] = *(uint32_t *)(cod_new + 4);
      COD_base[1] = *(uint32_t *)cod_new;
    }
    eeprom_update_flags = eeprom_update_flags | 1;
    init_gear_cal();
    DAT_40004a48 = 1;
  }
  return;
}



void set_vin_byte(char data,size_t size)

{
  byte i;
  
  if (engine_speed_2 == 0) {
    vin_in_memory[size & 0xff] = data;
    DAT_4000295c = DAT_4000295c | 1 << (size & 0x3f);
    if (DAT_4000295c == 0x1fff8) {
      for (i = 0; i < 17; i = i + 1) {
        COD_VIN[i] = vin_in_memory[i];
      }
      eeprom_update_flags = eeprom_update_flags | 0b00000010;
      for (i = 3; i < 17; i = i + 1) {
        vin_in_memory[i] = -1;
      }
      DAT_4000295c = 0;
      init_gear_cal();
    }
  }
  return;
}



void init_gear_cal(void)

{
  determine_vin_type();
  cod_decode_flags_and_validate();
  if ((COD_base[0] >> 16 & 1) == 0) {
    gear_lookup[0] = CAL_trans_gear_ratio_tour[0];
    gear_lookup[1] = CAL_trans_gear_ratio_tour[1];
    gear_lookup[2] = CAL_trans_gear_ratio_tour[2];
    gear_lookup[3] = CAL_trans_gear_ratio_tour[3];
    gear_lookup[4] = CAL_trans_gear_ratio_tour[4];
    gear_lookup[5] = CAL_trans_gear_ratio_tour[5];
    gear_lookup[6] = CAL_trans_gear_ratio_tour[6];
    gear_lookup[7] = CAL_trans_gear_ratio_tour[7];
    gear_lookup[8] = CAL_trans_gear_ratio_tour[8];
    gear_lookup[9] = CAL_trans_gear_ratio_tour[9];
    gear_lookup[10] = CAL_trans_gear_lookup_unknown2[0];
    gear_lookup[0xb] = CAL_trans_gear_lookup_unknown2[1];
  }
  else {
    gear_lookup[0] = CAL_trans_gear_ratio_sport[0];
    gear_lookup[1] = CAL_trans_gear_ratio_sport[1];
    gear_lookup[2] = CAL_trans_gear_ratio_sport[2];
    gear_lookup[3] = CAL_trans_gear_ratio_sport[3];
    gear_lookup[4] = CAL_trans_gear_ratio_sport[4];
    gear_lookup[5] = CAL_trans_gear_ratio_sport[5];
    gear_lookup[6] = CAL_trans_gear_ratio_sport[6];
    gear_lookup[7] = CAL_trans_gear_ratio_sport[7];
    gear_lookup[8] = CAL_trans_gear_ratio_sport[8];
    gear_lookup[9] = CAL_trans_gear_ratio_sport[9];
    gear_lookup[10] = CAL_trans_gear_ratio_sport[10];
    gear_lookup[0xb] = CAL_trans_gear_ratio_sport[0xb];
  }
  obd_ii_config_p0101 = CAL_obd_ii_P0101_manual;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    obd_ii_config_p0101 = CAL_obd_ii_P0101_ips;
  }
  init_obd_ii_config();
  vin_flags();
  init_traction_limits();
  return;
}



void service_coding_333ms(void)

{
  byte i;
  byte local_20;
  undefined1 local_1f;
  undefined1 local_1e;
  undefined1 local_1d;
  undefined1 local_1c;
  undefined1 local_1b;
  undefined1 local_1a;
  undefined1 local_19;
  
  local_20 = DAT_40002ad8;
  local_1f = DAT_40002ad9;
  local_1e = DAT_40002ada;
  local_1d = DAT_40002adb;
  local_1c = DAT_40002adc;
  local_1b = DAT_40002add;
  local_1a = DAT_40002ade;
  local_19 = DAT_40002adf;
  if (ecu_unlocked) {
    if (DAT_40002938 == 1) {
      DAT_40002938 = 0;
      init_cod_base(&DAT_40002940,1,false);
    }
    else if (DAT_40002938 == 2) {
      DAT_40002938 = 0;
      init_cod_base(&local_20,1,false);
    }
    else if (DAT_40002938 == 3) {
      DAT_40002938 = 0;
      for (i = 0; i < 17; i = i + 1) {
        COD_VIN[i] = -1;
      }
      eeprom_update_flags = eeprom_update_flags | 2;
    }
    else if (DAT_40002938 == 4) {
      DAT_40002938 = '\0';
      for (i = 0; i < 32; i = i + 1) {
        program_version[i] = -1;
      }
      eeprom_update_flags = eeprom_update_flags | 4;
    }
    else if (DAT_40002938 == 5) {
      DAT_40002938 = 0;
      eeprom_update_flags = eeprom_update_flags | 8;
    }
    else if (DAT_40002938 == 6) {
      DAT_40002938 = 0;
      for (i = 3; i < 11; i = i + 1) {
        set_vin_byte(*(undefined1 *)(i + 0x40002945),(uint)i);
      }
      for (i = 0xb; i < 17; i = i + 1) {
        set_vin_byte(*(undefined1 *)(i + 0x40002945),(uint)i);
      }
    }
    else if (DAT_40002938 == 7) {
      DAT_40002938 = 0;
      init_cod_base(&local_20,1,true);
    }
  }
  else {
    DAT_40002938 = 0;
  }
  return;
}



void determine_vin_type(void)

{
  if ((main_diagnostic_flags & 4) == 0) {
                    // Early Evoras have '122' in VIN locations 6-8. 2011+ cars have alphabetic
                    // model and engine codes.
                    // 
    if (((((byte)COD_VIN[5] < '0') || ('9' < (byte)COD_VIN[5])) || ((byte)COD_VIN[6] < '0')) ||
       ((('9' < (byte)COD_VIN[6] || ((byte)COD_VIN[7] < '0')) || ('9' < (byte)COD_VIN[7])))) {
      vin_type = VT_2011-2021;
    }
    else {
      vin_type = VT_2010-2011;
    }
  }
  return;
}



void cod_decode_flags_and_validate(void)

{
  byte coding_0_1st_byte;
  byte coding_0_2nd_byte;
  
  coding_0_1st_byte = (byte)(COD_base[0] >> 24);
  coding_oil_cooling_additional = (bool)(coding_0_1st_byte >> 7);
  DAT_4000298b = coding_0_1st_byte >> 4 & 7;
  DAT_4000298a = coding_0_1st_byte >> 1 & 7;
  DAT_40002989 = (byte)(COD_base[0] >> 0x16) & 7;
  DAT_40002988 = (byte)(COD_base[0] >> 0x15) & 1;
  DAT_40002987 = (byte)(COD_base[0] >> 0x14) & 1;
  DAT_40002986 = (byte)(COD_base[0] >> 17) & 7;
  DAT_40002985 = (byte)(COD_base[0] >> 16) & 1;
  cod_trans_type = (byte)(COD_base[0] >> 13) & 7;
  DAT_40002983 = (byte)(COD_base[0] >> 12) & 1;
  speed_units = (byte)(COD_base[0] >> 11) & 1;
  cod_fuel_tank_capacity = (byte)(COD_base[0] >> 4) & 127;
  cod_rear_fog_fitted = (byte)(COD_base[0] >> 3) & 1;
  cod_japan_seatbelt_warning = (byte)(COD_base[0] >> 2) & 1;
  cod_symbol_display = (byte)(COD_base[0] >> 1) & 1;
  cod_drive_pos = (byte)COD_base[0] & 1;
  coding_0_2nd_byte = (byte)(COD_base[1] >> 0x18);
  DAT_4000297c = coding_0_2nd_byte >> 7;
  DAT_4000297b = coding_0_2nd_byte >> 6 & 1;
  DAT_4000297a = coding_0_2nd_byte >> 5 & 1;
  DAT_40002979 = coding_0_2nd_byte >> 4 & 1;
  DAT_40002978 = coding_0_2nd_byte >> 3 & 1;
  DAT_40002977 = coding_0_2nd_byte >> 2 & 1;
  DAT_40002976 = coding_0_2nd_byte >> 1 & 1;
  DAT_40002975 = coding_0_2nd_byte & 1;
  DAT_40002974 = (byte)(COD_base[1] >> 0x17) & 1;
  DAT_40002973 = (byte)(COD_base[1] >> 0x15) & 3;
  DAT_40002972 = (byte)(COD_base[1] >> 0x14) & 1;
  DAT_40002971 = (byte)(COD_base[1] >> 0x13) & 1;
  DAT_40002970 = (byte)(COD_base[1] >> 0x12) & 1;
  DAT_4000296f = (byte)(COD_base[1] >> 0x10) & 3;
  DAT_4000296e = (byte)(COD_base[1] >> 0xf) & 1;
  DAT_4000296d = (byte)(COD_base[1] >> 0xe) & 1;
  DAT_4000296c = (byte)(COD_base[1] >> 0xd) & 1;
  DAT_4000296b = (byte)(COD_base[1] >> 0xc) & 1;
  DAT_4000296a = (byte)(COD_base[1] >> 0xb) & 1;
  DAT_40002969 = (byte)(COD_base[1] >> 10) & 1;
  DAT_40002968 = (byte)(COD_base[1] >> 9) & 1;
  DAT_40002967 = (byte)(COD_base[1] >> 8) & 1;
  DAT_40002966 = (byte)(COD_base[1] >> 7) & 1;
  DAT_40002965 = (byte)(COD_base[1] >> 6) & 1;
  DAT_40002964 = (byte)(COD_base[1] >> 5) & 1;
  cod_power_fold_mirrors = (byte)(COD_base[1] >> 4) & 1;
  DAT_40002962 = (byte)(COD_base[1] >> 2) & 3;
  DAT_40002961 = (byte)(COD_base[1] >> 1) & 1;
  cod_oil_sump_system = (byte)COD_base[1] & 1;
  if (((((COD_base[0] >> 0x1c & 7) < 3) && ((COD_base[0] >> 0x19 & 7) < 2)) &&
      ((COD_base[0] >> 0x16 & 7) == 3)) &&
     ((((((COD_base[0] >> 0xd & 7) != 0 || ((COD_base[1] >> 0x15 & 3) == 2)) &&
        (((COD_base[1] >> 10 & 1) != 0 &&
         (((COD_base[1] >> 9 & 1) != 0 && ((COD_base[1] >> 0x17 & 1) != 0)))))) &&
       (((int)COD_base[1] < 0 &&
        ((((COD_base[1] >> 0x18 & 1) == 0 && ((COD_base[1] >> 0x1d & 1) == 0)) &&
         ((COD_base[1] >> 8 & 1) == 0)))))) &&
      ((((COD_base[0] >> 0xd & 7) != 0 || ((COD_base[0] >> 0x10 & 1) != 0)) &&
       (((((COD_base[0] >> 0xd & 7) != 0 || ((COD_base[1] >> 0x13 & 1) != 0)) &&
         ((((COD_base[1] >> 0xc & 1) != 0 && ((COD_base[1] >> 0xb & 1) != 0)) &&
          ((COD_base[1] >> 0x1b & 1) != 0)))) &&
        ((((COD_base[0] >> 0xd & 7) != 0 || ((COD_base[0] >> 0x15 & 1) != 0)) &&
         ((COD_base[0] >> 0xd & 7) != 2)))))))))) {
    uint8_t_40001778 = 1;
  }
  else {
    uint8_t_40001778 = 0;
    main_diagnostic_flags = main_diagnostic_flags | 8;
  }
  return;
}



// Revlimit state flags:
// 
// 0x0001: limiter active/armed this cycle
// 0x0002: MAF correction applied (+)
// 0x0004: MAF correction applied ()
// 0x0008: torque clamp path enabled (revlimit loop running)
// 0x0010: torque clamp engaged/transient step active
// 0x0040: limiter event detected (pre-clamp pending)
// 0x0080: rpm target clipped to estimated max
// 0x0100: hard-capped to CAL_revlimit_max_engine_speed
// 0x0200: rpm estimate valid/in-bounds for clip logic
// 0x0400: speed-limit margin adjustment active
// 0x0800: MAF arbitration mode (overspeed/clip branch selector)

void revlimit(void)

{
  ushort uVar1;
  short sVar2;
  ushort _speed_limit;
  ushort uVar3;
  u32_rspeed_rpm revlimit_rpm_envelope_min;
  u32_rspeed_rpm revlimit_rpm_envelope_max;
  uint8_t revlimit_airflow_gain_from_rpm_delta_per_gear;
  uint8_t revlimit_airflow_gain_from_integrator_per_gear;
  uint8_t revlimit_airflow_gain_from_rpm_per_gear;
  uint8_t revlimit_escalation_integrator_step_per_gear;
  u32_rspeed_rpm uVar4;
  u16_rspeed_rpm _revlimit1;
  u32_rspeed_rpm uVar5;
  uint _revlimit_gear_comp1;
  uint _revlimit_gear_comp2;
  uint _revlimit_gear_comp3;
  ushort revlimit_gear_comp4;
  
  revlimit_trim_per_gear =
       lookup_2D_uint8_interpolated
                 (7,car_current_gear,CAL_revlimit_trim_per_gear,CAL_revlimit_trim_per_gear_X_gear);
  if ((ips_enforce_speed_limit == false) && (CAL_vehicle_speed_limit_enforce == false)) {
    _speed_limit = 0xff;
  }
  else {
                    // the default value here is 104
    _speed_limit = (ushort)CAL_vehicle_speed_limit;
  }
  revlimit_car_speed_limit = _speed_limit * 200;
  if (car_speed_unknown < 51000) {
    if ((car_speed_div100 == 0) || ((engine_state_failure_flags & 0x400) != 0)) {
      rpm_speed_estimated = 0;
    }
    else if ((uint)((int)((uint)car_speed_unknown * (uint)engine_speed_2) /
                   (int)(uint)car_speed_div100) < 0xffff) {
      rpm_speed_estimated =
           (ushort)((int)((uint)car_speed_unknown * (uint)engine_speed_2) /
                   (int)(uint)car_speed_div100);
    }
    else {
      rpm_speed_estimated = 0xffff;
    }
  }
  else {
    rpm_speed_estimated = 0;
  }
  revlimit_max = CAL_revlimit_max_with_speedlimit;
  if ((ips_enforce_speed_limit == false) && (CAL_vehicle_speed_limit_enforce == false)) {
                    // This is the default behavior for manual cars
    revlimit_max = 0;
  }
  if ((rpm_speed_estimated == 0) ||
     ((uint)revlimit_max + (uint)revlimit_trim_per_gear * -2 <= (uint)rpm_speed_estimated)) {
    revlimit_state_flags = revlimit_state_flags & 0xfdff;
    rpm_speed_estimated_clipped_tomax = revlimit_max;
  }
  else {
    rpm_speed_estimated_clipped_tomax = rpm_speed_estimated;
    revlimit_state_flags = revlimit_state_flags | 0x200;
  }
  if ((((vehicle_mode_flags & 0b10000000) == 0) || ((engine_state_failure_flags & 0xdceea77) != 0))
     || ((vvt_bank_inhibit_flags & 0xf) != 0)) {
    if ((COD_base[0] >> 0xd & 7) == 1) {
      revlimit_rpm_envelope_min =
           lookup_3D_uint32_interpolated
                     (4,4,(uint)coolant_temp,0,CAL_revlimit_speedbase_ips_tour,
                      CAL_revlimit_speedbase_ips_tour_X_coolant_temp,
                      CAL_revlimit_speedbase_ips_tour_Y_timer);
      revlimit_rpm_envelope_max =
           lookup_3D_uint32_interpolated
                     (4,4,(uint)coolant_temp,0xffff,CAL_revlimit_speedbase_ips_tour,
                      CAL_revlimit_speedbase_ips_tour_X_coolant_temp,
                      CAL_revlimit_speedbase_ips_tour_Y_timer);
    }
    else {
      revlimit_rpm_envelope_min =
           lookup_3D_uint32_interpolated
                     (4,4,(uint)coolant_temp,0,CAL_revlimit_speedbase_manual_tour,
                      CAL_revlimit_speedbase_manual_tour_X_coolant_temp,
                      CAL_revlimit_speedbase_manual_tour_Y_timer);
      revlimit_rpm_envelope_max =
           lookup_3D_uint32_interpolated
                     (4,4,(uint)coolant_temp,0xffff,CAL_revlimit_speedbase_manual_tour,
                      CAL_revlimit_speedbase_manual_tour_X_coolant_temp,
                      CAL_revlimit_speedbase_manual_tour_Y_timer);
    }
  }
  else if ((COD_base[0] >> 0xd & 7) == 1) {
    revlimit_rpm_envelope_min =
         lookup_3D_uint32_interpolated
                   (4,4,(uint)coolant_temp,0,CAL_revlimit_speedbase_ips_sport,
                    CAL_revlimit_speedbase_ips_sport_X_coolant_temp,
                    CAL_revlimit_speedbase_ips_sport_Y_timer);
    revlimit_rpm_envelope_max =
         lookup_3D_uint32_interpolated
                   (4,4,(uint)coolant_temp,0xffff,CAL_revlimit_speedbase_ips_sport,
                    CAL_revlimit_speedbase_ips_sport_X_coolant_temp,
                    CAL_revlimit_speedbase_ips_sport_Y_timer);
  }
  else {
    revlimit_rpm_envelope_min =
         lookup_3D_uint32_interpolated
                   (4,4,(uint)coolant_temp,0,CAL_revlimit_speedbase_manual_sport,
                    CAL_revlimit_speedbase_manual_sport_X_coolant_temp,
                    CAL_revlimit_speedbase_manual_sport_Y_timer);
    revlimit_rpm_envelope_max =
         lookup_3D_uint32_interpolated
                   (4,4,(uint)coolant_temp,0xffff,CAL_revlimit_speedbase_manual_sport,
                    CAL_revlimit_speedbase_manual_sport_X_coolant_temp,
                    CAL_revlimit_speedbase_manual_sport_Y_timer);
  }
  if ((runtime_since_start < (uint)CAL_revlimit_startup_delay * 50) &&
     (coolant_temp_engine_stopped <= CAL_revlimit_coolant_coldstart_threshold)) {
    revlimit_coldstart_rpm_envelope_min =
         lookup_2D_uint16_interpolated
                   (4,0,CAL_revlimit_coldstart_rpm_envelope,
                    CAL_revlimit_coldstart_rpm_envelope_X_index);
    revlimit_coldstart_rpm_envelope_max =
         lookup_2D_uint16_interpolated
                   (4,0xffff,CAL_revlimit_coldstart_rpm_envelope,
                    CAL_revlimit_coldstart_rpm_envelope_X_index);
    revlimit_startup_offset = 0;
    if (0 < (int)((revlimit_rpm_envelope_min & 0xffff) - (uint)revlimit_coldstart_rpm_envelope_min))
    {
      revlimit_startup_offset =
           (u16_rspeed_rpm)revlimit_rpm_envelope_min - revlimit_coldstart_rpm_envelope_min;
    }
    if ((int)((revlimit_rpm_envelope_max & 0xffff) - (uint)revlimit_coldstart_rpm_envelope_max) < 1)
    {
      revlimit_startup_max_offset = 0;
    }
    else {
      revlimit_startup_max_offset =
           (u16_rspeed_rpm)revlimit_rpm_envelope_max - revlimit_coldstart_rpm_envelope_max;
    }
  }
  else if (CAL_revlimit_coolant_coldstart_threshold < coolant_temp_engine_stopped) {
    revlimit_startup_offset = 0;
    revlimit_startup_max_offset = 0;
    revlimit_coldstart_rpm_envelope_min = (u16_rspeed_rpm)revlimit_rpm_envelope_min;
    revlimit_coldstart_rpm_envelope_max = (u16_rspeed_rpm)revlimit_rpm_envelope_max;
  }
  uVar4 = revlimit_rpm_envelope_min - revlimit_startup_offset;
  uVar5 = revlimit_rpm_envelope_max - revlimit_startup_max_offset;
  _revlimit1 = (u16_rspeed_rpm)uVar4;
  revlimit_current_val = (u16_rspeed_rpm)uVar5;
  rev_limit = _revlimit1;
  if ((((engine_state_failure_flags & 0xdceea77) == 0) && ((vvt_bank_inhibit_flags & 0xf) == 0)) &&
     ((misfire_condition_flags & 0x3000) == 0)) {
    revlimit_limp_mode_active = false;
  }
  else {
    revlimit_limp_mode_active = true;
    if (((uint)CAL_revlimit_limp_mode < (uVar4 & 0xffff)) ||
       ((uint)CAL_revlimit_limp_mode < (uVar5 & 0xffff))) {
      rev_limit = CAL_revlimit_limp_mode;
      if ((int)((uint)CAL_revlimit_limp_mode - ((uVar4 & 0xffff) - (uVar5 & 0xffff))) < 1) {
        revlimit_current_val = 0;
      }
      else {
        revlimit_current_val = CAL_revlimit_limp_mode - (_revlimit1 - revlimit_current_val);
      }
    }
  }
  revlimit_current = revlimit_current_val + (ushort)revlimit_trim_per_gear * -2;
  if (((rpm_speed_estimated_clipped_tomax == 0) ||
      (revlimit_current <= rpm_speed_estimated_clipped_tomax)) ||
     ((revlimit_state_flags & 0x200) == 0)) {
    revlimit_state_flags = revlimit_state_flags & 0xff7f;
  }
  else {
    revlimit_current = rpm_speed_estimated_clipped_tomax;
    revlimit_state_flags = revlimit_state_flags | 0x80;
  }
  if ((revlimit_max == 0) || (rev_limit <= revlimit_max)) {
    revlimit_state_flags = revlimit_state_flags & 0xfeff;
  }
  else {
    rev_limit = revlimit_max;
    uVar3 = revlimit_state_flags | 0x100;
    uVar1 = revlimit_state_flags & 0x80;
    revlimit_state_flags = uVar3;
    if (uVar1 == 0) {
      revlimit_current = revlimit_max + (ushort)revlimit_trim_per_gear * -2;
    }
  }
  revlimit_final_ = rev_limit;
                    // These are used in the revlimit interrupt handler to influence tps and torque
                    // trims
  revlimit_airflow_gain_from_rpm_delta_per_gear =
       lookup_2D_uint8_interpolated
                 (7,car_current_gear,CAL_revlimit_airflow_gain_from_rpm_delta,
                  CAL_revlimit_airflow_gain_from_rpm_delta_X_gear);
                    // The value here is 200 in first gear and 250 in all higher gears
  revlimit_airflow_gain_from_integrator_per_gear =
       lookup_2D_uint8_interpolated
                 (7,car_current_gear,CAL_revlimit_airflow_gain_from_integrator,
                  CAL_revlimit_airflow_gain_from_integrator_X_gear);
                    // This value is always zero
  revlimit_airflow_gain_from_rpm_per_gear =
       lookup_2D_uint8_interpolated
                 (7,car_current_gear,CAL_revlimit_airflow_gain_from_rpm,
                  CAL_revlimit_airflow_gain_from_rpm_X_gear);
  if (CAL_revlimit_overrun_count_threshold < revlimit_fuelcut_count) {
    revlimit_state_flags = revlimit_state_flags | 1;
    revlimit_esclated_timer = 40;
    if (((COD_base[0] >> 0xd & 7) == 1) && (enum_t6e_gear_400029cc == NO_GEAR)) {
      enum_t6e_gear_400029cc = gear_index_auto;
    }
  }
  else if (((ushort)((ushort)CAL_revlimit_overrspeed_time * 20) < revlimit_timer_ticks_past_limit)
          || ((rpm_speed_estimated < engine_speed_2 && (rpm_speed_estimated != 0)))) {
    revlimit_state_flags = revlimit_state_flags | 0x801;
    revlimit_esclated_timer = 40;
  }
  else if (((((((ulonglong)
                ((longlong)(int)(uint)tps_target_by_pps * (longlong)(int)(uint)load_tps_max) / 0xff
               & 0xffff) <= (ulonglong)revlimit_tps_max) || (revlimit_esclated_timer != 0)) &&
            ((int)((uint)u8_rspeed_10rpm_400088b2 * 10) < (int)(short)revlimit_engine_speed_delta))
           || (engine_speed_2 == 0)) ||
          ((((COD_base[0] >> 0xd & 7) == 1 && (gear_index_auto != enum_t6e_gear_400029cc)) &&
           ((int)((uint)u8_rspeed_10rpm_400088b2 * 10) < (int)(short)revlimit_engine_speed_delta))))
  {
    revlimit_state_flags = revlimit_state_flags & 0xf7f6;
    revlimit_maf_flow_bounded = 0;
    revlimit_tps_max = 0;
    revlimit_load = 0;
    revlimit_maf_flow_raw = 0;
    enum_t6e_gear_400029cc = NO_GEAR;
    revlimit_esclated_timer = 0;
  }
  if ((int)((uint)u8_rspeed_10rpm_400088b2 * 10) < (int)(short)revlimit_engine_speed_delta) {
    revlimit_fuelcut_count = 0;
  }
  revlimit_engine_speed_delta = revlimit_current - engine_speed_2;
  if ((int)((uint)DAT_40008894 * 100) <
      (int)((uint)revlimit_airflow_gain_from_rpm_delta_per_gear *
           (int)(short)revlimit_engine_speed_delta) / 5) {
    revlimit_flow_unknown2 = (ushort)DAT_40008894 * 100;
  }
  else if ((int)((uint)revlimit_airflow_gain_from_rpm_delta_per_gear *
                (int)(short)revlimit_engine_speed_delta) / 5 < (int)((uint)DAT_40008894 * -100)) {
    revlimit_flow_unknown2 = (ushort)DAT_40008894 * -100;
  }
  else {
    revlimit_flow_unknown2 =
         ((short)((int)((uint)revlimit_airflow_gain_from_rpm_delta_per_gear *
                       (int)(short)revlimit_engine_speed_delta) / 5) +
         ((short)revlimit_engine_speed_delta >> 0xf)) -
         ((short)((short)((int)((uint)revlimit_airflow_gain_from_rpm_delta_per_gear *
                               (int)(short)revlimit_engine_speed_delta) / 0x50000) +
                 ((short)revlimit_engine_speed_delta >> 0xf)) >> 0xf);
  }
  if ((int)((uint)DAT_40008895 * 100) <
      (int)((uint)revlimit_airflow_gain_from_integrator_per_gear * (int)DAT_400029aa) / 100) {
    revlimit_flow_unknown1 = (ushort)DAT_40008895 * 100;
  }
  else if ((int)((uint)revlimit_airflow_gain_from_integrator_per_gear * (int)DAT_400029aa) / 100 <
           (int)((uint)DAT_40008895 * -100)) {
    revlimit_flow_unknown1 = (ushort)DAT_40008895 * -100;
  }
  else {
    revlimit_flow_unknown1 =
         ((short)((int)((uint)revlimit_airflow_gain_from_integrator_per_gear * (int)DAT_400029aa) /
                 100) + (DAT_400029aa >> 0xf)) -
         ((short)((short)((int)((uint)revlimit_airflow_gain_from_integrator_per_gear *
                               (int)DAT_400029aa) / 0x640000) + (DAT_400029aa >> 0xf)) >> 0xf);
  }
  if ((int)((uint)DAT_40008899 * 100) <
      (int)((uint)revlimit_airflow_gain_from_rpm_per_gear * (int)(short)u16_rspeed_rpm_400029ac) /
      10) {
    DAT_400029b2 = (ushort)DAT_40008899 * 10;
  }
  else if ((int)((uint)revlimit_airflow_gain_from_rpm_per_gear * (int)(short)u16_rspeed_rpm_400029ac
                ) / 10 < (int)((uint)DAT_40008899 * -100)) {
    DAT_400029b2 = (ushort)DAT_40008899 * -10;
  }
  else {
    DAT_400029b2 = ((short)((int)((uint)revlimit_airflow_gain_from_rpm_per_gear *
                                 (int)(short)u16_rspeed_rpm_400029ac) / 10) +
                   ((short)u16_rspeed_rpm_400029ac >> 0xf)) -
                   ((short)((short)((int)((uint)revlimit_airflow_gain_from_rpm_per_gear *
                                         (int)(short)u16_rspeed_rpm_400029ac) / 0xa0000) +
                           ((short)u16_rspeed_rpm_400029ac >> 0xf)) >> 0xf);
  }
  if ((((revlimit_state_flags & 0x40) != 0) && ((revlimit_state_flags & 1) != 0)) &&
     (CAL_revlimit_overrun_count_threshold < revlimit_fuelcut_count)) {
    revlimit_escalation_integrator_step_per_gear =
         lookup_2D_uint8_interpolated
                   (7,car_current_gear,CAL_revlimit_escalation_integrator_step,
                    CAL_revlimit_escalation_integrator_step_X_gear);
    DAT_400029ba = (ushort)revlimit_escalation_integrator_step_per_gear * 25;
    sVar2 = DAT_400029aa;
    if (((int)((uint)DAT_40008897 * -0xfa) < (int)((int)DAT_400029aa - (uint)DAT_400029ba)) &&
       (sVar2 = DAT_400029aa + (ushort)revlimit_escalation_integrator_step_per_gear * -25,
       revlimit_tps_max == 0)) {
      sVar2 = DAT_400029aa;
    }
    DAT_400029aa = sVar2;
    revlimit_state_flags = revlimit_state_flags & 0xffbf | 0x10;
  }
  uVar3 = (ushort)(((ulonglong)revlimit_tps_max * 0xff) / (ulonglong)load_tps_max);
  if (1023 < uVar3) {
    uVar3 = 1023;
  }
  if ((COD_base[0] >> 0xd & 7) == 1) {
    revlimit_tps_target___ =
         lookup_2D_uint16_interpolated(16,uVar3,CAL_tpstarget_tour_ips_X_pps,CAL_tpstarget_tour_ips)
    ;
  }
  else {
    revlimit_tps_target___ =
         lookup_2D_uint16_interpolated
                   (16,uVar3,CAL_tpstarget_tour_manual_X_pps,CAL_tpstarget_tour_manual);
  }
  return;
}



void revlimit_200hz(void)

{
  bool bVar1;
  uint uVar2;
  ulonglong _revlimit_gear_comp5;
  longlong revlimit_maf_error_abs;
  byte revlimt_tps_max_from_load;
  u16_rspeed_rpm uVar3;
  ulonglong revlimit_maf_sum_filtered;
  bool speedlimit_timer;
  
  uVar2 = (int)(uint)idle_tps_requested >> 2;
  if (revlimit_current_val < engine_speed_2) {
    revlimit_timer_ticks_past_limit = revlimit_timer_ticks_past_limit + 1;
  }
  else if ((int)(uint)engine_speed_2 < (int)(revlimit_current_val - 50)) {
    revlimit_timer_ticks_past_limit = 0;
  }
  speedlimit_timer = vehicle_speed_limit_enforce_timer == 0;
  vehicle_speed_limit_enforce_timer = vehicle_speed_limit_enforce_timer + 0xff;
  if (speedlimit_timer) {
    vehicle_speed_limit_enforce_timer = 0;
  }
  if (vehicle_speed_limit_enforce_timer == 0) {
    vehicle_speed_limit_enforce_timer = 5;
    if (car_speed_unknown == 51000) {
      if (revlimit_car_speed_limit < car_speed_div100) {
        car_speed_unknown = car_speed_div100;
      }
      else {
        car_speed_unknown = revlimit_car_speed_limit;
      }
    }
    else if (revlimit_car_speed_limit < car_speed_unknown) {
      if (car_speed_div100 < revlimit_car_speed_limit) {
        car_speed_unknown = revlimit_car_speed_limit;
      }
      else if ((uint)car_speed_div100 <
               (uint)car_speed_unknown + (uint)CAL_vehicle_speed_limit_enforce_margin) {
        car_speed_unknown = car_speed_div100;
      }
      else if ((int)(uint)revlimit_car_speed_limit <
               (int)((uint)car_speed_unknown - (uint)CAL_vehicle_speed_limit_enforce_margin)) {
        car_speed_unknown = car_speed_unknown - CAL_vehicle_speed_limit_enforce_margin;
        revlimit_state_flags = revlimit_state_flags | 0x400;
      }
      else {
        car_speed_unknown = revlimit_car_speed_limit;
      }
    }
    else if (car_speed_unknown < revlimit_car_speed_limit) {
      if ((revlimit_state_flags & 1) == 0) {
        car_speed_unknown = revlimit_car_speed_limit;
      }
      else if ((uint)car_speed_unknown + (uint)CAL_vehicle_speed_limit_enforce_margin <
               (uint)revlimit_car_speed_limit) {
        car_speed_unknown = car_speed_unknown + CAL_vehicle_speed_limit_enforce_margin;
        revlimit_state_flags = revlimit_state_flags | 0x400;
      }
      else {
        car_speed_unknown = revlimit_car_speed_limit;
      }
    }
    else {
      revlimit_state_flags = revlimit_state_flags & 0xfbff;
    }
    if ((revlimit_state_flags & 1) != 0) {
      if (revlimit_maf_flow_bounded == 0) {
        _revlimit_gear_comp5._7_1_ =
             lookup_2D_uint8_interpolated
                       ('\a',car_current_gear,CAL_revlimit_airflow_threshold,
                        CAL_revlimit_airflow_threshold_X_gear);
        revlimit_airflow_threshold = (byte)_revlimit_gear_comp5;
        if ((revlimit_state_flags & 0b0000100000000000) == 0) {
          if ((ushort)((ushort)(byte)_revlimit_gear_comp5 * 200) < obd_ii_maf_flow) {
            revlimit_maf_flow_raw = (ushort)(byte)_revlimit_gear_comp5 * 200;
            revlimit_maf_flow_bounded = revlimit_maf_flow_raw;
          }
          else {
            revlimit_maf_flow_raw = obd_ii_maf_flow;
            revlimit_maf_flow_bounded = revlimit_maf_flow_raw;
          }
        }
        else if ((ushort)((ushort)(byte)_revlimit_gear_comp5 * 200) < obd_ii_maf_flow) {
          revlimit_maf_flow_bounded = (ushort)(byte)_revlimit_gear_comp5 * 200;
          revlimit_maf_flow_raw = obd_ii_maf_flow;
        }
        else {
          revlimit_maf_flow_raw = obd_ii_maf_flow;
          revlimit_maf_flow_bounded = obd_ii_maf_flow;
        }
      }
      revlimit_maf_sum_filtered =
           (longlong)(short)revlimit_flow_unknown2 +
           (longlong)(short)revlimit_flow_unknown1 + (ulonglong)revlimit_maf_flow_bounded & 0xffff;
      if ((int)((int)(short)revlimit_flow_unknown2 +
               (int)(short)revlimit_flow_unknown1 + (uint)revlimit_maf_flow_bounded) < 0) {
        revlimit_maf_sum_filtered = 0;
      }
      revlimit_maf_error_abs = libc_abs(revlimit_maf_sum_filtered - revlimit_maf_flow_raw);
      if (((int)(uint)CAL_revlimit_maf_error_max_10g < (int)revlimit_maf_error_abs) &&
         (((revlimit_state_flags & 0x10) == 0 ||
          (revlimit_fuelcut_count <= CAL_revlimit_overrun_count_threshold)))) {
        if (revlimit_maf_flow_raw < revlimit_maf_sum_filtered) {
          revlimit_maf_flow_raw = revlimit_maf_flow_raw + CAL_revlimit_maf_error_max_10g;
          revlimit_state_flags = revlimit_state_flags & 0xfffb | 2;
        }
        else {
          revlimit_maf_flow_raw = revlimit_maf_flow_raw - CAL_revlimit_maf_error_max_10g;
          revlimit_state_flags = revlimit_state_flags & 0xfffd | 4;
        }
      }
      else {
        revlimit_maf_flow_raw = (u16_flow_10mg_s)revlimit_maf_sum_filtered;
        revlimit_state_flags = revlimit_state_flags & 0xfff9;
      }
      if ((int)((int)((uint)revlimit_maf_flow_raw * (uint)DAT_40001d50) / 100000 -
               (uint)DAT_40002310) < 0) {
        revlimit_load = 0;
      }
      else if ((int)((int)((uint)revlimit_maf_flow_raw * (uint)DAT_40001d50) / 100000 -
                    (uint)DAT_40002310) < 1174) {
        revlimit_load =
             (short)((int)((uint)revlimit_maf_flow_raw * (uint)DAT_40001d50) / 100000) -
             DAT_40002310;
      }
      else {
        revlimit_load = 1173;
      }
      revlimt_tps_max_from_load =
           lookup_3D_uint8_interpolated
                     (20,20,(ushort)engine_speed_3,
                      (ushort)((int)((uint)revlimit_load * 256 - (uint)revlimit_load) / 1173) & 0xff
                      ,CAL_load_to_tps_max,CAL_load_to_tps_max_X_engine_speed,
                      CAL_load_to_tps_max_Y_load);
      revlimit_tps_max = (short)((uint)revlimt_tps_max_from_load << 2) - (short)uVar2;
      if ((uint)revlimt_tps_max_from_load << 2 < uVar2) {
        revlimit_tps_max = 0;
      }
      revlimit_state_flags = revlimit_state_flags | 8;
    }
    bVar1 = revlimit_esclated_timer == 0;
    revlimit_esclated_timer = revlimit_esclated_timer + 0xff;
    if (bVar1) {
      revlimit_esclated_timer = 0;
    }
    if ((revlimit_state_flags & 1) == 0) {
      DAT_400029aa = 0;
    }
    else if ((int)DAT_400029aa + (int)(short)revlimit_engine_speed_delta / 10 <
             (int)((uint)DAT_40008897 * -0xfa)) {
      DAT_400029aa = (ushort)DAT_40008897 * -0xfa;
    }
    else if ((int)((uint)DAT_40008897 * 0xfa) <
             (int)DAT_400029aa + (int)(short)revlimit_engine_speed_delta / 10) {
      DAT_400029aa = (ushort)DAT_40008897 * 0xfa;
    }
    else if (((((short)revlimit_engine_speed_delta < 0) && (revlimit_tps_max != 0)) &&
             ((revlimit_state_flags & 4) == 0)) ||
            (((0 < (short)revlimit_engine_speed_delta &&
              (revlimit_tps_max + uVar2 < (uint)DAT_40001782)) && ((revlimit_state_flags & 2) == 0))
            )) {
      DAT_400029aa = DAT_400029aa +
                     (((short)revlimit_engine_speed_delta / 10 +
                      ((short)revlimit_engine_speed_delta >> 0xf)) -
                     ((short)((short)((int)(short)revlimit_engine_speed_delta / 0xa0000) +
                             ((short)revlimit_engine_speed_delta >> 0xf)) >> 0xf));
    }
    bVar1 = DAT_400029b5 == 0;
    DAT_400029b5 = DAT_400029b5 + -1;
    if (bVar1) {
      DAT_400029b5 = 0;
    }
    if (DAT_400029b5 == '\0') {
      DAT_400029b5 = 2;
      if ((short)revlimit_engine_speed_delta < 1001) {
        uVar3 = revlimit_engine_speed_delta;
        if ((short)revlimit_engine_speed_delta < 50) {
          uVar3 = 0x32;
        }
        if ((((int)(short)revlimit_engine_speed_delta - (int)(short)u16_rspeed_rpm_400029b8) * 10) /
            (int)(short)uVar3 < (int)((uint)DAT_40008898 * -0x19)) {
          u16_rspeed_rpm_400029ac = (ushort)DAT_40008898 * -0x19;
        }
        else if ((((int)(short)revlimit_engine_speed_delta - (int)(short)u16_rspeed_rpm_400029b8) *
                 10) / (int)(short)uVar3 < 1) {
          u16_rspeed_rpm_400029ac =
               (u16_rspeed_rpm)
               ((((int)(short)revlimit_engine_speed_delta - (int)(short)u16_rspeed_rpm_400029b8) *
                10) / (int)(short)uVar3);
        }
        else {
          u16_rspeed_rpm_400029ac = 0;
        }
      }
      else {
        u16_rspeed_rpm_400029ac = 0;
      }
      u16_rspeed_rpm_400029b8 = revlimit_engine_speed_delta;
    }
  }
  if (revlimit_startup_offset != 0) {
    if ((int)((uint)revlimit_startup_offset - (uint)CAL_revlimit_startup_offset_decrement) < 1) {
      revlimit_startup_offset = 0;
    }
    else {
      revlimit_startup_offset = revlimit_startup_offset - CAL_revlimit_startup_offset_decrement;
    }
  }
  if (revlimit_startup_max_offset != 0) {
    if ((int)((uint)revlimit_startup_max_offset - (uint)CAL_revlimit_startup_offset_decrement) < 1)
    {
      revlimit_startup_max_offset = 0;
    }
    else {
      revlimit_startup_max_offset =
           revlimit_startup_max_offset - CAL_revlimit_startup_offset_decrement;
    }
  }
  return;
}



void can_sensors_unknown_200hz(void)

{
  bool bVar1;
  byte bVar2;
  longlong lat_accel_raw_abs;
  
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if ((DAT_400029de & 1) == 0) {
      bVar1 = DAT_4000178b == 0;
      DAT_4000178b = DAT_4000178b + -1;
      if (bVar1) {
        DAT_400029de = DAT_400029de & 0xfffd;
        DAT_4000178b = '(';
        init_gear_info_auto();
      }
    }
    else {
      DAT_400029de = DAT_400029de & 0xfffe | 2;
      DAT_4000178b = '(';
    }
    if ((DAT_400029de & 0b00010000) == 0) {
      bVar1 = DAT_4000178c == 0;
      DAT_4000178c = DAT_4000178c + -1;
      if (bVar1) {
        DAT_400029de = DAT_400029de & 0xffdf;
        DAT_4000178c = '(';
        ips_gear_control_reset();
      }
    }
    else {
      DAT_400029de = DAT_400029de & 0xffef | 0x20;
      DAT_4000178c = '(';
    }
    if ((DAT_400029de & 0x40) == 0) {
      bVar1 = DAT_4000178d == '\0';
      DAT_4000178d = DAT_4000178d + -1;
      if (bVar1) {
        DAT_400029de = DAT_400029de & 0xff7f;
        DAT_4000178d = '(';
        ips_data_zero();
      }
    }
    else {
      DAT_400029de = DAT_400029de & 0xffbf | 0x80;
      DAT_4000178d = '(';
    }
  }
  else {
    init_gear_info_auto();
    ips_gear_control_reset();
    ips_data_zero();
  }
                    // COD_base[1] >> 9 indicates presence of ABS
  if ((COD_base[1] >> 9 & 1) == 0) {
    zero_front_wheelspeeds();
    zero_rear_wheelspeeds();
    set_abs_A8_flags();
    zero_abs_flags();
  }
  else {
    if ((flexcan_flags_unknown & 1) == 0) {
      bVar1 = DAT_4000178e == '\0';
      DAT_4000178e = DAT_4000178e + -1;
      if (bVar1) {
        flexcan_flags_unknown = flexcan_flags_unknown & 0xfffd;
        DAT_4000178e = '\n';
        zero_front_wheelspeeds();
      }
    }
    else {
      flexcan_flags_unknown = flexcan_flags_unknown & 0xfffe | 2;
      DAT_4000178e = '\n';
    }
    if ((flexcan_flags_unknown & 4) == 0) {
      bVar1 = DAT_4000178f == '\0';
      DAT_4000178f = DAT_4000178f + -1;
      if (bVar1) {
        flexcan_flags_unknown = flexcan_flags_unknown & 0xfff7;
        DAT_4000178f = '\n';
        zero_rear_wheelspeeds();
      }
    }
    else {
      flexcan_flags_unknown = flexcan_flags_unknown & 0xfffb | 8;
      DAT_4000178f = '\n';
    }
    if ((flexcan_flags_unknown & 0x10) == 0) {
      bVar1 = DAT_40001790 == '\0';
      DAT_40001790 = DAT_40001790 + -1;
      if (bVar1) {
        flexcan_flags_unknown = flexcan_flags_unknown & 0xffdf;
        DAT_40001790 = 20;
        set_abs_A8_flags();
      }
    }
    else {
      flexcan_flags_unknown = flexcan_flags_unknown & 0xffef | 0x20;
      DAT_40001790 = '\x14';
    }
    if ((flexcan_flags_unknown & 0x20) == 0) {
      DAT_400029f0 = 0;
    }
    else if (DAT_400029f0 != -1) {
      DAT_400029f0 = DAT_400029f0 + 1;
    }
    if ((flexcan_flags_unknown & 0x40) == 0) {
      bVar1 = DAT_40001791 == '\0';
      DAT_40001791 = DAT_40001791 + -1;
      if (bVar1) {
        flexcan_flags_unknown = flexcan_flags_unknown & 0xff7f;
        DAT_40001791 = 10;
        zero_abs_flags();
      }
    }
    else {
      flexcan_flags_unknown = flexcan_flags_unknown & 0xffbf | 0x80;
      DAT_40001791 = 10;
    }
  }
  if ((((COD_base[1] >> 0xb & 1) == 0) || ((ignition_on_flags & 1) == 0)) ||
     (u16_time_100ms_40001846 <= u8_time_100ms_4000cc03)) {
    DAT_40001788 = 2;
    DAT_400029f9 = DAT_4000cbfe;
    DAT_400029fa = DAT_4000cc00;
    DAT_400029fc = (ushort)DAT_4000cbff * 0x14;
  }
  else {
    if ((DAT_40001788 & 1) == 0) {
      bVar1 = DAT_400029f9 == '\0';
      DAT_400029f9 = DAT_400029f9 + -1;
      if (bVar1) {
        DAT_40001788 = DAT_40001788 & 0xfd;
        DAT_400029f9 = DAT_4000cbfe;
        imu_zero_data();
      }
    }
    else {
      DAT_40001788 = DAT_40001788 & 0xfe | 2;
      DAT_400029f9 = DAT_4000cbfe;
    }
    if ((DAT_40001788 & 4) == 0) {
      DAT_40001788 = DAT_40001788 & 0xf7;
      DAT_400029fa = DAT_4000cc00;
    }
    else {
      bVar1 = DAT_400029fa == '\0';
      DAT_400029fa = DAT_400029fa + -1;
      if (bVar1) {
        DAT_40001788 = DAT_40001788 | 8;
        DAT_400029fa = DAT_4000cc00;
      }
    }
    if (((((DAT_40001788 & 2) == 0) || ((flexcan_flags_unknown & 2) == 0)) ||
        (((engine_state_failure_flags & 0x400) != 0 ||
         (((DAT_40001788 & 4) != 0 || (engine_speed_2 != 0)))))) || (car_speed_div100 != 0)) {
      DAT_400029fc = (ushort)DAT_4000cbff * 0x14;
    }
    else {
      lat_accel_raw_abs = libc_abs((longlong)imu_accel_lat);
      if ((int)(uint)CAL_sensor_lat_accel_raw_threshold < (int)lat_accel_raw_abs) {
        bVar1 = DAT_400029fc == 0;
        DAT_400029fc = DAT_400029fc + -1;
        if (bVar1) {
          DAT_40001788 = DAT_40001788 | 0b00010000;
          DAT_400029fc = (ushort)DAT_4000cbff * 20;
        }
      }
      else {
        DAT_40001788 = DAT_40001788 & 0b11101111;
        DAT_400029fc = (ushort)DAT_4000cbff * 20;
      }
    }
  }
  if ((COD_base[1] >> 0xc & 1) == 0) {
    DAT_400029e2 = 0;
    sas_timer_unknown = 0;
    zero_sas();
  }
  else if ((DAT_400029e2 & 1) == 0) {
    bVar1 = sas_timer_unknown == 0;
    sas_timer_unknown = sas_timer_unknown + -1;
    if (bVar1) {
      DAT_400029e2 = DAT_400029e2 & 0xfffd;
      sas_timer_unknown = 10;
      zero_sas();
    }
  }
  else {
    DAT_400029e2 = DAT_400029e2 & 0xfffe | 2;
    sas_timer_unknown = 10;
  }
  if (((ignition_on_flags & 1) == 0) || (engine_is_running == false)) {
    DAT_400029fe = 0;
    DAT_400029ff = 0;
    DAT_400029f8 = DAT_4000ca34;
  }
  else {
    DAT_4000178a = DAT_4000178a + -1;
    if (DAT_4000178a == '\0') {
      DAT_4000178a = '\x04';
      if ((COD_base[1] >> 10 & 1) == 0) {
        DAT_40001789 = 0;
        DAT_400029f8 = '\0';
      }
      else if ((DAT_40001789 & 1) == 0) {
        bVar1 = DAT_400029f8 == '\0';
        DAT_400029f8 = DAT_400029f8 + -1;
        if (bVar1) {
          DAT_40001789 = DAT_40001789 & 0xfd;
          DAT_400029f8 = DAT_4000ca34;
        }
        if (DAT_400029fe != -1) {
          DAT_400029fe = DAT_400029fe + '\x01';
        }
      }
      else {
        bVar2 = DAT_40001789 & 0xfe;
        DAT_40001789 = bVar2 | 2;
        DAT_400029f8 = DAT_4000ca34;
        if ((byte)(DAT_400029fe - 0x14U) < 0xb) {
          if (DAT_400029ff != 0xff) {
            DAT_400029ff = DAT_400029ff + 1;
          }
          if (2 < DAT_400029ff) {
            DAT_40001789 = bVar2 | 0x12;
          }
        }
        else {
          DAT_400029ff = 0;
        }
        DAT_400029fe = 0;
      }
    }
  }
  return;
}



void vin_flags(void)

{
  byte bVar1;
  
  if ((COD_base[0] >> 0xd & 7) == 0) {
    if ((COD_base[0] >> 0x15 & 1) == 1) {
      bVar1 = uint8_t_400029d8 & 0b11111000 | 0b00000111;
    }
    else {
      bVar1 = uint8_t_400029d8 & 0b11111000 | 0b00000001;
    }
  }
  else {
    bVar1 = uint8_t_400029d8 & 0xfe | 1;
    if ((COD_base[0] >> 0xd & 7) == 1) {
      bVar1 = uint8_t_400029d8 & 0xf8 | 3;
    }
  }
  uint8_t_400029d8 = bVar1;
  if (vin_type == VT_2010-2011) {
    main_diagnostic_flags = main_diagnostic_flags | 0b00000100;
  }
  else if (vin_type == VT_2011-2021) {
    if (((COD_VIN[4] == 'H') || (COD_VIN[4] == 'J')) || (COD_VIN[4] == 'K')) {
      uint8_t_400029d8 = uint8_t_400029d8 & 199 | 8;
      main_diagnostic_flags = main_diagnostic_flags | 4;
    }
    else if (COD_VIN[4] == 'M') {
      uint8_t_400029d8 = uint8_t_400029d8 & 199;
    }
    else {
      main_diagnostic_flags = main_diagnostic_flags | 4;
    }
  }
  else {
    main_diagnostic_flags = main_diagnostic_flags | 4;
  }
  uint8_t_400029d8 = uint8_t_400029d8 & 0xbf;
  if ((COD_base[0] >> 0x16 & 7) == 1) {
    DAT_400029d9 = DAT_400029d9 & 0b11110000;
  }
  else if ((COD_base[0] >> 0x16 & 7) == 3) {
    DAT_400029d9 = DAT_400029d9 & 0b11110000 | 1;
  }
  if (vin_type == VT_2011-2021) {
    switch(COD_VIN[6]) {
    case 'C':
    case 'D':
    case 'P':
    case 'V':
      DAT_400029d9 = DAT_400029d9 & 0xf | 0x40;
      if ((COD_VIN[6] == 'V') || (COD_VIN[6] == 'P')) {
        main_diagnostic_flags = main_diagnostic_flags | 4;
      }
      break;
    default:
      main_diagnostic_flags = main_diagnostic_flags | 4;
      break;
    case 'R':
      DAT_400029d9 = DAT_400029d9 & 0xf | 0x30;
      main_diagnostic_flags = main_diagnostic_flags | 4;
      break;
    case 'S':
      DAT_400029d9 = DAT_400029d9 & 0xf | 0x20;
      main_diagnostic_flags = main_diagnostic_flags | 4;
      break;
    case 'T':
      DAT_400029d9 = DAT_400029d9 & 0xf;
      main_diagnostic_flags = main_diagnostic_flags | 4;
      break;
    case 'X':
      main_diagnostic_flags = main_diagnostic_flags | 4;
      DAT_400029d9 = DAT_400029d9 & 0xf | 0x10;
    }
  }
  else {
    main_diagnostic_flags = main_diagnostic_flags | 4;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void misfire_external_override_check(void)

{
  uint8_t uVar1;
  ulonglong uVar2;
  short sVar3;
  
  uVar1 = misfire_detection_allowed_from_B7;
  if ((flexcan_flags_unknown & 8) != 0) {
    uVar2 = FUN_000b9bd0();
    if ((uVar2 & 0xff) == 0) {
      if (((COD_base[0] >> 0xd & 7) == 0) &&
         (((((vin_type == VT_2010-2011 && (COD_VIN[5] == '1')) && (COD_VIN[6] == '2')) &&
           ((COD_VIN[7] == '2' && (COD_VIN[3] == 'T')))) ||
          ((vin_type == VT_2011-2021 && ((COD_VIN[4] == 'M' && (COD_VIN[6] == 'T')))))))) {
        uVar1 = misfire_detection_allowed_from_B7;
        if ((flexcan_flags_unknown & 0x80) != 0) {
          if (((COD_base[0] >> 0x16 & 7) == 2) || ((COD_base[0] >> 0x16 & 7) == 3)) {
            sVar3 = FUN_000b9b90();
            if (sVar3 == 0x7ff) {
              misfire_detection_allowed_from_B7 = 0;
            }
            else {
              misfire_detection_allowed_from_B7 = 1;
            }
          }
          else if ((COD_base[0] >> 0x16 & 7) == 1) {
            sVar3 = FUN_000b9b90();
            if (sVar3 == 0xffe) {
              misfire_detection_allowed_from_B7 = '\0';
            }
            else {
              misfire_detection_allowed_from_B7 = '\x01';
            }
          }
          else {
            misfire_detection_allowed_from_B7 = '\0';
          }
          uVar1 = misfire_detection_allowed_from_B7;
          if (flexcan_mesg_0xb7_is_7byte != false) {
            misfire_detection_allowed_from_B7 = 1;
            uVar1 = misfire_detection_allowed_from_B7;
          }
        }
      }
      else {
        uVar1 = 1;
        if (vin_type == VT_NONE) {
          uVar1 = misfire_detection_allowed_from_B7;
        }
      }
    }
    else if (_uint8_t_400029d8 == _abs_unknown3) {
      misfire_detection_allowed_from_B7 = 0;
      uVar1 = misfire_detection_allowed_from_B7;
    }
    else {
      misfire_detection_allowed_from_B7 = 1;
      uVar1 = misfire_detection_allowed_from_B7;
    }
  }
  misfire_detection_allowed_from_B7 = uVar1;
  return;
}



void obd_ii_monitors_misc1(void)

{
  bool bVar1;
  uint uVar2;
  ulonglong uVar3;
  
  bVar1 = false;
  if (((((COD_base[0] >> 0xd & 7) == 1) && ((CAL_obd_ii_P0101 & 7) != 0)) && (engine_is_running)) &&
     (((ignition_on_flags & 1) != 0 && (engine_speed_2 != 0)))) {
    if (((DAT_400029de & 2) == 0) || (((DAT_400029de & 0x20) == 0 || ((DAT_400029de & 0x80) == 0))))
    {
      if ((DAT_400029ee != 0) && (DAT_400029ee = DAT_400029ee - 1, DAT_400029ee == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0101,&LEA_obd_ii_P0101_flags,&DAT_40004ea7,&DAT_40004ea8,0x101,3);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0101,&LEA_obd_ii_P0101_flags);
      if (DAT_400029ee < DAT_4000d44d) {
        DAT_400029ee = DAT_400029ee + 1;
      }
    }
  }
  if (((((COD_base[1] >> 9 & 1) != 0) && ((CAL_obd_ii_P0122 & 7) != 0)) &&
      (engine_is_running != false)) && (((ignition_on_flags & 1) != 0 && (engine_speed_2 != 0)))) {
    if ((((flexcan_flags_unknown & 2) == 0) ||
        (((flexcan_flags_unknown & 8) == 0 || ((flexcan_flags_unknown & 0x20) == 0)))) ||
       ((flexcan_flags_unknown & 0x80) == 0)) {
      if ((DAT_400029e4 != 0) && (DAT_400029e4 = DAT_400029e4 - 1, DAT_400029e4 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,&DAT_40004ead,&DAT_40004eae,0x122,3);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags);
      if (DAT_400029e4 < DAT_4000d44e) {
        DAT_400029e4 = DAT_400029e4 + 1;
      }
    }
  }
  if (((((COD_base[1] >> 0xb & 1) != 0) && ((CAL_obd_ii_P0123 & 7) != 0)) &&
      (u8_time_100ms_4000cc03 < u16_time_100ms_40001846)) && ((ignition_on_flags & 1) != 0)) {
    if ((DAT_40001788 & 2) == 0) {
      if ((DAT_400029f5 != 0) && (DAT_400029f5 = DAT_400029f5 - 1, DAT_400029f5 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,&DAT_40004eb0,&DAT_40004eb1,0x123,3);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags);
      if (DAT_400029f5 < DAT_4000d464) {
        DAT_400029f5 = DAT_400029f5 + 1;
      }
    }
  }
  if (((COD_base[1] >> 0xb & 1) != 0) && ((CAL_obd_ii_P0513 & 7) != 0)) {
    if (((DAT_40001788 & 8) == 0) && ((DAT_40001788 & 0x10) == 0)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0513,&LEA_obd_ii_P0513_flags);
      if (DAT_400029f6 < DAT_4000d465) {
        DAT_400029f6 = DAT_400029f6 + 1;
      }
    }
    else if ((DAT_400029f6 != 0) && (DAT_400029f6 = DAT_400029f6 - 1, DAT_400029f6 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0513,&LEA_obd_ii_P0513_flags,&DAT_40004ebf,&DAT_40004ec0,0x513,3);
    }
  }
  if ((DAT_400029f6 == 0) || (DAT_400029f5 == 0)) {
    DAT_40001788 = DAT_40001788 | 0x20;
  }
  else {
    DAT_40001788 = DAT_40001788 & 0xdf;
  }
  if (((((COD_base[1] >> 10 & 1) != 0) && ((CAL_obd_ii_P0155 & 7) != 0)) &&
      ((ignition_on_flags & 1) != 0)) && (engine_is_running != false)) {
    if ((DAT_40001789 & 2) == 0) {
      if ((DAT_400029f7 != 0) && (DAT_400029f7 = DAT_400029f7 - 1, DAT_400029f7 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,&DAT_40004eb3,&DAT_40004eb4,0x155,3);
      }
    }
    else {
      obd_ii_monitor_pass(&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags);
      if (DAT_400029f7 < DAT_4000d44c) {
        DAT_400029f7 = DAT_400029f7 + 1;
      }
    }
  }
  if ((((COD_base[0] >> 0xd & 7) == 1) && ((CAL_obd_ii_P0302 & 7) != 0)) &&
     ((ignition_on_flags & 1) != 0)) {
    if ((((DAT_400029de & 0x80) == 0) || (DAT_400029e7 == '\0')) ||
       (DAT_400029e6 == (byte)(CAL_ecu_ips_mesg_unknown << 4 | 6))) {
      if (DAT_400029e6 == (byte)(CAL_ecu_ips_mesg_unknown << 4 | 6)) {
        obd_ii_monitor_pass(&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags);
        if (DAT_400029f3 < DAT_4000d459) {
          DAT_400029f3 = DAT_400029f3 + 1;
        }
      }
    }
    else if ((DAT_400029f3 != 0) && (DAT_400029f3 = DAT_400029f3 - 1, DAT_400029f3 == 0)) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,&DAT_40004eb6,&DAT_40004eb7,0x302,3);
    }
  }
  if (((COD_base[1] >> 9 & 1) != 0) && ((CAL_obd_ii_P0316 & 7) != 0)) {
    if ((ignition_on_flags & 1) == 0) {
      misfire_detection_allowed_from_B7 = 0xff;
      DAT_400029f4 = DAT_4000d44f;
    }
    else if ((((misfire_detection_allowed_from_B7 == 0xff) && (engine_speed_2 == 0)) &&
             (car_speed_u8 == '\0')) || (uVar3 = FUN_000b9bd0(), (uVar3 & 0xff) != 0)) {
      misfire_external_override_check();
      if (misfire_detection_allowed_from_B7 == '\x01') {
        if (DAT_400029f4 != 0) {
          DAT_400029f4 = DAT_400029f4 - 1;
          if (DAT_400029f4 == 0) {
            obd_ii_monitor_fail_transition
                      (&CAL_obd_ii_P0316,&LEA_obd_ii_P0316_flags,&DAT_40004eb9,&DAT_40004eba,0x316,3
                      );
          }
          else {
            uVar3 = FUN_000b9bd0();
            if ((uVar3 & 0xff) == 0) {
              misfire_detection_allowed_from_B7 = 0xff;
            }
          }
        }
      }
      else if ((misfire_detection_allowed_from_B7 == '\0') &&
              (obd_ii_monitor_pass(&CAL_obd_ii_P0316,&LEA_obd_ii_P0316_flags),
              DAT_400029f4 < DAT_4000d44f)) {
        DAT_400029f4 = DAT_400029f4 + 1;
      }
    }
  }
  if (vehicle_mode == VM_LAUNCH_FALLBACK) {
    if ((((abs_esp_flags & 8) == 0) || (DAT_40002706 != '\0')) || (DAT_40002705 != '\0')) {
      bVar1 = true;
    }
  }
  else if (vehicle_mode == VM_TC_OFF) {
    if ((((abs_esp_flags & 8) == 0) && ((abs_esp_flags & 0x10) == 0)) ||
       ((DAT_40002706 != '\0' || (DAT_40002705 != '\0')))) {
      bVar1 = true;
    }
  }
  else if ((byte)(vehicle_mode - VM_RACE) < 3) {
    if ((((abs_esp_flags & 8) == 0) || (DAT_40002706 == '\0')) || (DAT_40002705 != '\0')) {
      bVar1 = true;
    }
  }
  else if (vehicle_mode == VM_SPORT) {
    if ((((abs_esp_flags & 8) != 0) || (DAT_40002706 != '\0')) || (DAT_40002705 == '\0')) {
      bVar1 = true;
    }
  }
  else if ((((abs_esp_flags & 8) != 0) || (DAT_40002706 != '\0')) || (DAT_40002705 != '\0')) {
    bVar1 = true;
  }
  if (((COD_base[1] >> 9 & 1) != 0) && ((CAL_obd_ii_P0416 & 7) != 0)) {
    if ((bVar1) && ((600 < DAT_400029f0 && (obd_ii_diag_override == false)))) {
      if (DAT_40001793 != '\0') {
        DAT_40001793 = DAT_40001793 + -1;
      }
    }
    else {
      DAT_40001793 = '\n';
    }
    if ((((((DAT_400029eb < 6) && (timer_wheelspeed_front_corrupt < 6)) && (uint8_t_400029ed < 6))
         && ((timer_wheelspeed_rear_corrupt < 6 && (DAT_400029e9 < 6)))) && (DAT_400029e8 < 6)) &&
       (DAT_40001793 != '\0')) {
      if ((((DAT_400029eb == 0) && (timer_wheelspeed_front_corrupt == '\0')) &&
          (uint8_t_400029ed == '\0')) &&
         (((timer_wheelspeed_rear_corrupt == '\0' && (DAT_400029e9 == 0)) &&
          ((DAT_400029e8 == 0 && (DAT_40001793 == '\n')))))) {
        if (DAT_400029f2 < 0x10) {
          DAT_400029f2 = DAT_400029f2 + 1;
        }
        else if (DAT_400029e5 < DAT_4000d45a) {
          DAT_400029e5 = DAT_400029e5 + 1;
          DAT_400029f2 = 0;
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0416,&LEA_obd_ii_P0416_flags);
        }
      }
    }
    else {
      DAT_400029e9 = 0;
      uint8_t_400029ed = '\0';
      DAT_400029eb = 0;
      DAT_400029e8 = 0;
      timer_wheelspeed_rear_corrupt = '\0';
      timer_wheelspeed_front_corrupt = '\0';
      DAT_40001793 = '\n';
      DAT_400029f2 = 0;
      if ((DAT_400029e5 != 0) && (DAT_400029e5 = DAT_400029e5 - 1, DAT_400029e5 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0416,&LEA_obd_ii_P0416_flags,&DAT_40004ebc,&DAT_40004ebd,0x416,3);
      }
    }
  }
  uVar2 = engine_state_failure_flags & 0xdfffffff;
  if (DAT_400029f7 == 0) {
    uVar2 = engine_state_failure_flags | 0x20000000;
  }
  engine_state_failure_flags = uVar2;
  return;
}



void init_gear_info_auto(void)

{
  gear_index_auto = 15;
  recent_shift_flags_ips = 0;
  ips_flags_faults_ = '\0';
  DAT_4000178b = 0;
  return;
}



void ips_gear_control_reset(void)

{
  DAT_40002850 = 0;
  DAT_400029de = DAT_400029de & 0b1110000011111111;
  u16_torque_nm_4000173c = 911;
  u8_time_10ms_40002859 = 0;
  DAT_4000178c = 0;
  DAT_40002738 = 0;
  return;
}



void ips_data_zero(void)

{
  ips_enforce_speed_limit = false;
  DAT_40001780 = 0xff;
  ip_message_250_flags_unknown = false;
  engine_state_failure_flags = engine_state_failure_flags & 0xfffff7ff;
  DAT_400029a2 = 0;
  DAT_40001dec = 0;
  main_diagnostic_flags = main_diagnostic_flags & 0xffdf;
  shift_light_state_from_ips = '\0';
  DAT_400029e6 = 0;
  DAT_40001746 = 0xff;
  obd_ii_oil_temp_ips = 0;
  DAT_4000178d = 0;
  return;
}



void zero_front_wheelspeeds(void)

{
  wheel_speeds.LF = 0;
  wheel_speeds.RF = 0;
  car_speed_div100 = 0;
  DAT_4000178e = 0;
  return;
}



void zero_rear_wheelspeeds(void)

{
  wheel_speeds.LR = 0;
  wheel_speeds.RR = 0;
  brake_switch = brake_switch | 2;
  DAT_4000178f = 0;
  return;
}



void set_abs_A8_flags(void)

{
  DAT_40002851 = 0;
  abs_esp_flags = abs_esp_flags & 0xfb;
  DAT_40001790 = 0;
  abs_a8_flag2 = 0;
  return;
}



void zero_abs_flags(void)

{
  DAT_4000284e = 0;
  DAT_4000284f = 0;
  flexcan_flags_unknown = flexcan_flags_unknown & 0x80ff;
  abs_esp_flags = abs_esp_flags & 0xfc;
  u8_time_10ms_40002858 = '\0';
  DAT_40001791 = 0;
  return;
}



void zero_sas(void)

{
  steering_angle = 0;
  steering_angle_rate___ = 0;
  sas_timer_unknown = 0;
  return;
}



void imu_zero_data(void)

{
  imu_accel_lat = 0;
  imu_gyro = 0;
  DAT_400029f9 = 0;
  return;
}



void FUN_000cb870(void)

{
  DAT_400029ee = DAT_4000d44d;
  DAT_400029e4 = DAT_4000d44e;
  DAT_400029f5 = DAT_4000d464;
  DAT_400029f7 = DAT_4000d44c;
  DAT_400029f3 = DAT_4000d459;
  DAT_400029f4 = DAT_4000d44f;
  DAT_400029e5 = DAT_4000d45a;
  DAT_400029f6 = DAT_4000d465;
  DAT_400029e6 = 0;
  DAT_400029e7 = 0;
  DAT_40001788 = 2;
  DAT_4000178e = 10;
  DAT_4000178f = 10;
  DAT_40001790 = 0x14;
  DAT_40001791 = 10;
  DAT_4000178b = 0x28;
  DAT_4000178c = 0x28;
  DAT_4000178d = 0x28;
  DAT_400029f9 = DAT_4000cbfe;
  DAT_400029fa = DAT_4000cc00;
  DAT_400029fc = (ushort)DAT_4000cbff * 0x14;
  sas_timer_unknown = 10;
  DAT_400029f8 = DAT_4000ca34;
  DAT_40001793 = 10;
  DAT_400029f2 = 0;
  misfire_detection_allowed_from_B7 = 0xff;
  obdii_update_dtc_state(&CAL_obd_ii_P0101,&LEA_obd_ii_P0101_flags,0x101,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,0x122,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,0x123,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,0x155,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,0x302,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0316,&LEA_obd_ii_P0316_flags,0x316,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0416,&LEA_obd_ii_P0416_flags,0x416,3);
  obdii_update_dtc_state(&CAL_obd_ii_P0513,&LEA_obd_ii_P0513_flags,0x513,3);
  return;
}



void FUN_000cbb24(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0101,&LEA_obd_ii_P0101_flags,&DAT_40004ea7,&DAT_40004ea8,0x101,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0122,&LEA_obd_ii_P0122_flags,&DAT_40004ead,&DAT_40004eae,0x122,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0123,&LEA_obd_ii_P0123_flags,&DAT_40004eb0,&DAT_40004eb1,0x123,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0155,&LEA_obd_ii_P0155_flags,&DAT_40004eb3,&DAT_40004eb4,0x155,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0302,&LEA_obd_ii_P0302_flags,&DAT_40004eb6,&DAT_40004eb7,0x302,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0316,&LEA_obd_ii_P0316_flags,&DAT_40004eb9,&DAT_40004eba,0x316,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0416,&LEA_obd_ii_P0416_flags,&DAT_40004ebc,&DAT_40004ebd,0x416,3);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0513,&LEA_obd_ii_P0513_flags,&DAT_40004ebf,&DAT_40004ec0,0x513,3);
  return;
}



void ips_shift_state_mgmt_1000hz(undefined4 *param_1)

{
  ushort input_x;
  char cVar2;
  uint uVar1;
  longlong lVar3;
  int iVar4;
  u16_torque_nm _torque_alphaN_net;
  u16_torque_nm _torque_net_unknown;
  
  _torque_alphaN_net = torque_alphaN_net;
  _torque_net_unknown = torque_net_engine_combustion;
  if ((COD_base[0] >> 0xd & 7) == 1) {
    if (u16_time_ms_40002a08 == 0) {
      cVar2 = 4;
      if (DAT_40002a01 == 0) {
        cVar2 = DAT_40002a01;
      }
    }
    else {
      u16_time_ms_40002a08 = u16_time_ms_40002a08 - 1;
      cVar2 = DAT_40002a01;
    }
    DAT_40002a01 = cVar2;
    cVar2 = DAT_40002a01;
    if (DAT_4000179e == 0) {
      cVar2 = 4;
      if (DAT_40002a01 == 0) {
        cVar2 = DAT_40002a01;
      }
    }
    else if (DAT_4000179e != 1000) {
      DAT_4000179e = DAT_4000179e + -1;
    }
    DAT_40002a01 = cVar2;
    if (((DAT_40002a01 != 0) && (DAT_40002a01 != 3)) && (DAT_40002a01 != 4)) {
      cVar2 = 30;
      if ((recent_shift_flags_ips == 0) && (cVar2 = DAT_400017a0 + -1, DAT_400017a0 == '\0')) {
        cVar2 = DAT_400017a0;
      }
      DAT_400017a0 = cVar2;
      if (DAT_400017a0 == 0) {
        DAT_40002a01 = 4;
      }
    }
    cVar2 = 0;
    if ((lbf_state_flags & 0x80) == 0) {
      cVar2 = DAT_40002a01;
    }
    input_x = DAT_400026b2;
    if ((int)(uint)DAT_400026b2 < (int)(short)obd_ii_idle_speed_target___) {
      input_x = obd_ii_idle_speed_target___;
    }
    DAT_40002a01 = cVar2;
    if (cVar2 == 0) {
      if ((lbf_state_flags & 0x80) == 0) {
        if ((DAT_40002738 & 2) == 0) {
          if ((DAT_40002738 & 1) != 0) {
            DAT_40002a01 = 2;
            u16_time_ms_40002a08 = 3000;
            *(u16_rspeed_rpm *)(param_1 + 13) = engine_speed_2;
            *(u16_rspeed_rpm *)((int)param_1 + 50) = engine_speed_2;
            FUN_000cc328(0x40008278);
          }
        }
        else {
          DAT_40002a01 = 1;
          u16_time_ms_40002a08 = 3000;
        }
        if (DAT_40002a01 != 0) {
          DAT_4000179e = 999;
        }
      }
      DAT_400017a0 = 20;
    }
    else if (cVar2 == 1) {
      _torque_alphaN_net = 0;
      if ((DAT_40002738 & 1) != 0) {
        *(u16_rspeed_rpm *)(param_1 + 0xd) = engine_speed_2;
        *(u16_rspeed_rpm *)((int)param_1 + 0x32) = engine_speed_2;
        DAT_40002a0a = lookup_2D_uint16_interpolated
                                 (4,input_x,(uint16_t *)&DAT_40008d36,(uint16_t *)&DAT_40008d2e);
        *param_1 = &DAT_40002a0a;
        FUN_000cc328(0x40008278);
        DAT_40002a01 = 2;
      }
    }
    else if (cVar2 == 2) {
      *(ushort *)((int)param_1 + 0x32) = input_x;
      *(u16_rspeed_rpm *)(param_1 + 0xd) = engine_speed_2;
      DAT_40002a0c = lookup_2D_uint16_interpolated
                               (4,input_x,uint16_t_ARRAY_4000d598,uint16_t_ARRAY_4000d590);
      if ((int)((uint)input_x - (uint)engine_speed_2) <= (int)(uint)DAT_40002a0c) {
        if (*(uint16_t *)*param_1 == DAT_40002a0a) {
          FUN_000cc328(0x40008278);
        }
        *param_1 = &DAT_400088f2;
      }
      ips_engine_speed_matching_pid_ctrl___(&ips_rev_match_ctrl_);
      _torque_alphaN_net = *(u16_torque_nm *)((int)param_1 + 66);
      if ((DAT_40002738 & 1) == 0) {
        DAT_40002a01 = 3;
        DAT_40002a04 = (short)_torque_net_unknown * 0xa00;
      }
      if ((int)(input_x - 200) < (int)(uint)engine_speed_2) {
        DAT_4000179e = 1000;
      }
    }
    else if (cVar2 == 3) {
      if (((DAT_400017a2 == 0) ||
          (iVar4 = (int)(short)torque_alphaN_net, iVar4 < (short)torque_net_engine_combustion)) ||
         ((lVar3 = libc_abs((longlong)(short)torque_net_engine_combustion -
                            (longlong)(short)torque_alphaN_net),
          (int)lVar3 < (int)(uint)DAT_4000179c || ((DAT_40002738 & 0b00000010) != 0)))) {
        DAT_40002a01 = 0;
      }
      else {
        uVar1 = (0xa00 - (uint)DAT_400017a1) * (DAT_40002a04 / 10);
        DAT_40002a04 = ((int)uVar1 >> 8) + (uint)((int)uVar1 < 0 && (uVar1 & 0xff) != 0) +
                       (uint)DAT_400017a1 * iVar4;
        iVar4 = DAT_40002a04 / 0xa00;
        if (iVar4 < 451) {
          if (iVar4 < DAT_4000890e) {
            iVar4 = (int)DAT_4000890e;
            DAT_40002a04 = DAT_4000890e * 2560;
          }
        }
        else {
          iVar4 = 450;
          DAT_40002a04 = 1152000;
        }
        _torque_alphaN_net = (u16_torque_nm)iVar4;
      }
    }
    else if ((cVar2 == '\x04') && (DAT_40002738 == 0)) {
      DAT_40002a01 = '\0';
    }
    if ((byte)(DAT_40002a01 - 1U) < 3) {
      FUN_000cc278(_torque_alphaN_net,1);
    }
    else {
      FUN_000cc278(_torque_alphaN_net,0);
    }
  }
  else {
    DAT_40001740 = 911;
    DAT_40001742 = 911;
    DAT_40002857 = 0;
  }
  return;
}



void FUN_000cc278(short param_1,char param_2)

{
  short sVar1;
  int iVar2;
  
  if (param_2 == 0) {
    DAT_40001740 = 911;
    DAT_40001742 = 911;
    DAT_40002857 = DAT_40002857 & 0xfe;
  }
  else {
    iVar2 = (int)param_1 * (int)(short)((short)(((ulonglong)DAT_40008910 << 0x20) >> 0x21) + 100);
    sVar1 = (short)(iVar2 >> 0x1f);
    DAT_40001742 = ((short)(iVar2 / 100) + sVar1) -
                   ((short)((short)(iVar2 / 0x640000) + sVar1) >> 0xf);
    if ((short)DAT_40001742 < (short)(ushort)DAT_40008911) {
      DAT_40001742 = (ushort)DAT_40008911;
    }
    DAT_40002857 = DAT_40002857 | 1;
    DAT_40001740 = param_1;
  }
  return;
}



void FUN_000cc328(int param_1)

{
  *(undefined1 *)(param_1 + 0x48) = 1;
  return;
}



void FUN_000cc334(undefined4 *param_1)

{
  param_1[0x15] = &DAT_40001798;
  param_1[0x16] = &DAT_40002a00;
  param_1[0x17] = &DAT_40001799;
  param_1[0x18] = &DAT_4000179a;
  *param_1 = &DAT_400088f2;
  param_1[1] = &DAT_400088f6;
  param_1[0xb] = &DAT_400088f8;
  param_1[0x11] = &DAT_400088fa;
  param_1[2] = &DAT_400088fc;
  param_1[0x13] = &DAT_400088fe;
  param_1[3] = &DAT_40008900;
  param_1[4] = &DAT_40008902;
  param_1[5] = &DAT_40008904;
  param_1[6] = &DAT_40008906;
  param_1[7] = &DAT_40008908;
  param_1[8] = &DAT_4000890a;
  param_1[9] = &DAT_4000890c;
  param_1[10] = &DAT_4000890e;
  *(undefined2 *)((int)param_1 + 0x32) = 0;
  *(undefined2 *)(param_1 + 0xd) = 0;
  *(undefined2 *)((int)param_1 + 0x36) = 0;
  *(undefined2 *)(param_1 + 0xc) = 0;
  *(undefined2 *)(param_1 + 0xe) = 0;
  *(undefined2 *)(param_1 + 0x10) = 0;
  *(undefined2 *)(param_1 + 0x14) = 0;
  *(undefined2 *)((int)param_1 + 0x42) = 0;
  *(undefined2 *)(param_1 + 0xd) = 0;
  *(undefined2 *)((int)param_1 + 0x32) = 0;
  FUN_000cc328(0x40008278);
  ips_engine_speed_matching_pid_ctrl___(&ips_rev_match_ctrl_);
  DAT_40002857 = 0;
  return;
}



void ips_engine_speed_matching_pid_ctrl___(byte *ips_speed_match_ctrl_struct)

{
  char cVar1;
  ulonglong uVar2;
  ulonglong uVar3;
  ulonglong uVar4;
  int iVar5;
  longlong lVar6;
  int iVar7;
  
  cVar1 = **(char **)(ips_speed_match_ctrl_struct + 0x60);
  *(short *)(ips_speed_match_ctrl_struct + 0x30) =
       *(short *)(ips_speed_match_ctrl_struct + 0x32) -
       *(short *)(ips_speed_match_ctrl_struct + 0x34);
  uVar2 = signed_var_shift_zero_floor
                    (**(char **)(ips_speed_match_ctrl_struct + 0x54),
                     (longlong)(int)*(short *)(ips_speed_match_ctrl_struct + 0x30) *
                     (longlong)(int)(uint)**(ushort **)ips_speed_match_ctrl_struct);
  if ((int)**(short **)(ips_speed_match_ctrl_struct + 0xc) < (int)uVar2) {
    uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0xc);
  }
  else if ((int)uVar2 < (int)**(short **)(ips_speed_match_ctrl_struct + 0x10)) {
    uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x10);
  }
  *(short *)(ips_speed_match_ctrl_struct + 0x38) = (short)uVar2;
  if (*(short *)(ips_speed_match_ctrl_struct + 0x50) == 0) {
    *(ushort *)(ips_speed_match_ctrl_struct + 0x50) =
         (ushort)**(byte **)(ips_speed_match_ctrl_struct + 0x4c);
    uVar2 = signed_var_shift_zero_floor
                      (**(char **)(ips_speed_match_ctrl_struct + 0x58),
                       (longlong)(int)(uint)**(ushort **)(ips_speed_match_ctrl_struct + 8) *
                       (longlong)
                       ((int)*(short *)(ips_speed_match_ctrl_struct + 0x36) -
                       (int)*(short *)(ips_speed_match_ctrl_struct + 0x34)));
    *(undefined2 *)(ips_speed_match_ctrl_struct + 0x36) =
         *(undefined2 *)(ips_speed_match_ctrl_struct + 0x34);
    if ((int)**(short **)(ips_speed_match_ctrl_struct + 0x1c) < (int)uVar2) {
      uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x1c);
    }
    else if ((int)uVar2 < (int)**(short **)(ips_speed_match_ctrl_struct + 0x20)) {
      uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x20);
    }
    *(short *)(ips_speed_match_ctrl_struct + 0x40) = (short)uVar2;
  }
  else {
    *(short *)(ips_speed_match_ctrl_struct + 0x50) =
         *(short *)(ips_speed_match_ctrl_struct + 0x50) + -1;
  }
  lVar6 = (longlong)*(short *)(ips_speed_match_ctrl_struct + 0x38) +
          (longlong)*(short *)(ips_speed_match_ctrl_struct + 0x40);
  iVar5 = (int)lVar6;
  if ((iVar5 < **(short **)(ips_speed_match_ctrl_struct + 0x24)) &&
     (**(short **)(ips_speed_match_ctrl_struct + 0x28) < iVar5)) {
    if (iVar5 < 1) {
      if (iVar5 < 0) {
        uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x24);
        uVar4 = **(short **)(ips_speed_match_ctrl_struct + 0x28) - lVar6;
      }
      else {
        uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x24);
        uVar4 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x28);
      }
    }
    else {
      uVar2 = **(short **)(ips_speed_match_ctrl_struct + 0x24) - lVar6;
      uVar4 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x28);
    }
  }
  else {
    uVar2 = 0;
    uVar4 = 0;
  }
  if ((ips_speed_match_ctrl_struct[0x48] == 0) &&
     (lVar6 = libc_abs((longlong)*(short *)(ips_speed_match_ctrl_struct + 0x30)),
     (int)lVar6 <= (int)(uint)**(ushort **)(ips_speed_match_ctrl_struct + 0x2c))) {
    uVar3 = signed_var_shift_zero_floor
                      (**(char **)(ips_speed_match_ctrl_struct + 0x5c),
                       (longlong)(int)*(short *)(ips_speed_match_ctrl_struct + 0x30) *
                       (longlong)(int)(uint)**(ushort **)(ips_speed_match_ctrl_struct + 4));
    uVar3 = uVar3 + *(uint *)(ips_speed_match_ctrl_struct + 0x3c);
  }
  else {
    ips_speed_match_ctrl_struct[0x48] = 0;
    uVar3 = signed_var_shift_zero_floor
                      (-cVar1,(longlong)**(short **)(ips_speed_match_ctrl_struct + 0x44));
  }
  if ((int)**(short **)(ips_speed_match_ctrl_struct + 0x14) <= (int)uVar2) {
    uVar2 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x14);
  }
  uVar2 = signed_var_shift_zero_floor(-cVar1,uVar2);
  if ((int)uVar4 <= (int)**(short **)(ips_speed_match_ctrl_struct + 0x18)) {
    uVar4 = (ulonglong)**(short **)(ips_speed_match_ctrl_struct + 0x18);
  }
  uVar4 = signed_var_shift_zero_floor(-cVar1,uVar4);
  if (((int)uVar3 <= (int)uVar2) && (uVar2 = uVar3, (int)uVar3 < (int)uVar4)) {
    uVar2 = uVar4;
  }
  *(int *)(ips_speed_match_ctrl_struct + 0x3c) = (int)uVar2;
  uVar2 = signed_var_shift_zero_floor(cVar1,uVar2);
  *(short *)(ips_speed_match_ctrl_struct + 0x3a) = (short)uVar2;
  iVar7 = (int)*(short *)(ips_speed_match_ctrl_struct + 0x3a) +
          (int)*(short *)(ips_speed_match_ctrl_struct + 0x40) +
          (int)*(short *)(ips_speed_match_ctrl_struct + 0x38);
  iVar5 = (int)**(short **)(ips_speed_match_ctrl_struct + 0x24);
  if ((iVar7 <= **(short **)(ips_speed_match_ctrl_struct + 0x24)) &&
     (iVar5 = iVar7, iVar7 < **(short **)(ips_speed_match_ctrl_struct + 0x28))) {
    iVar5 = (int)**(short **)(ips_speed_match_ctrl_struct + 0x28);
  }
  *(short *)(ips_speed_match_ctrl_struct + 0x42) = (short)iVar5;
  return;
}



// Does: Variable bit-shift helper on a signed 32-bit value (lower 32 bits of param_2).
// param_1 > 0: left shift by param_1.
// param_1 = 0: no change.
// param_1 < 0: arithmetic right shift by -param_1; if the shift would yield -1 (all sign bits),
// returns 0 instead (zero-floor for negative saturation).
// 
// 

ulonglong signed_var_shift_zero_floor(char param_1,ulonglong param_2)

{
  char cVar1;
  int iVar2;
  
  iVar2 = (int)param_2;
  if (param_1 < 1) {
    if (param_1 < 0) {
      cVar1 = -param_1;
      if ((iVar2 >> ((int)cVar1 & 0x3fU) == -1) && (iVar2 >> ((int)cVar1 + 1U & 0b00111111) == -1))
      {
        param_2 = 0;
      }
      else {
        param_2 = (ulonglong)(iVar2 >> ((int)cVar1 & 0b00111111U));
      }
    }
  }
  else {
    param_2 = (ulonglong)(uint)(iVar2 << ((int)param_1 & 0b00111111U));
  }
  return param_2;
}



void obd_ii_mode0A_processing(void)

{
  byte i;
  byte pdtc_count;
  uint uVar1;
  uint v;
  uint16_t pdtc_buffer [8];
  
  pdtc_count = 0;
  for (i = 0; i < 8; i = i + 1) {
    if (obd_ii_dtc_perm[(uint)i * 2] != 0) {
      pdtc_buffer[pdtc_count] = obd_ii_dtc_perm[(uint)i * 2];
      pdtc_count = pdtc_count + 1;
    }
  }
  obd_ii_response[0] = 0x4a;
  v = 2;
  obd_ii_response[1] = pdtc_count;
  for (i = 0; i < pdtc_count; i = i + 1) {
    uVar1 = v + 1;
    obd_ii_response[v & 0xff] = (byte)(pdtc_buffer[i] >> 8);
    v = v + 2;
    obd_ii_response[uVar1 & 0xff] = (byte)pdtc_buffer[i];
  }
  obd_ii_response_length = (ushort)v & 0xff;
  flexcan_a_obd_send_messages();
  return;
}



void obd_ii_set_perm_dtc(uint16_t param_1)

{
  byte i;
  
  i = 0;
  while( true ) {
    if (7 < i) {
      return;
    }
    if (obd_ii_dtc_perm[(uint)i * 2] == 0) break;
    i = i + 1;
  }
  obd_ii_dtc_perm[(uint)i * 2] = param_1;
  *(undefined1 *)(obd_ii_dtc_perm + (uint)i * 2 + 1) = 0;
  return;
}



void obd_ii_zero_perm_dtc(void)

{
  byte i;
  
  for (i = 0; i < 8; i = i + 1) {
    obd_ii_dtc_perm[(uint)i * 2] = 0;
    *(undefined1 *)(obd_ii_dtc_perm + (uint)i * 2 + 1) = 0;
  }
  return;
}



void init_traction_limits(void)

{
  if ((COD_base[0] >> 13 & 7) == 1) {
    LEA_traction_gear_speed_ratios[0] = CAL_traction_gear_speed_ratios_ips;
    LEA_traction_gear_speed_ratios[1] = CAL_traction_gear_speed_ratios_ips + 1;
    LEA_traction_gear_speed_ratios[2] = CAL_traction_gear_speed_ratios_ips + 2;
    LEA_traction_gear_speed_ratios[3] = CAL_traction_gear_speed_ratios_ips + 3;
    LEA_traction_gear_speed_ratios[4] = CAL_traction_gear_speed_ratios_ips + 4;
    LEA_traction_gear_speed_ratios[5] = CAL_traction_gear_speed_ratios_ips + 5;
    LEA_traction_slip_threshold_per_gear[1] = CAL_traction_slip_threshold_per_gear_ips;
    LEA_traction_slip_threshold_per_gear[2] = CAL_traction_slip_threshold_per_gear_ips + 1;
    LEA_traction_slip_threshold_per_gear[3] = CAL_traction_slip_threshold_per_gear_ips + 2;
    LEA_traction_slip_threshold_per_gear[4] = CAL_traction_slip_threshold_per_gear_ips + 3;
    LEA_traction_slip_threshold_per_gear[5] = CAL_traction_slip_threshold_per_gear_ips + 4;
  }
  else if ((COD_base[0] >> 16 & 1) == 0) {
    LEA_traction_gear_speed_ratios[0] = CAL_traction_gear_speed_ratios_long;
    LEA_traction_gear_speed_ratios[1] = CAL_traction_gear_speed_ratios_long + 1;
    LEA_traction_gear_speed_ratios[2] = CAL_traction_gear_speed_ratios_long + 2;
    LEA_traction_gear_speed_ratios[3] = CAL_traction_gear_speed_ratios_long + 3;
    LEA_traction_gear_speed_ratios[4] = CAL_traction_gear_speed_ratios_long + 4;
    LEA_traction_gear_speed_ratios[5] = CAL_traction_gear_speed_ratios_long + 5;
    LEA_traction_slip_threshold_per_gear[1] = CAL_traction_slip_threshold_per_gear_manual;
    LEA_traction_slip_threshold_per_gear[2] = CAL_traction_slip_threshold_per_gear_manual + 1;
    LEA_traction_slip_threshold_per_gear[3] = CAL_traction_slip_threshold_per_gear_manual + 2;
    LEA_traction_slip_threshold_per_gear[4] = CAL_traction_slip_threshold_per_gear_manual + 3;
    LEA_traction_slip_threshold_per_gear[5] = CAL_traction_slip_threshold_per_gear_manual + 4;
  }
  else {
    LEA_traction_gear_speed_ratios[0] = CAL_traction_gear_speed_ratios_cr;
    LEA_traction_gear_speed_ratios[1] = CAL_traction_gear_speed_ratios_cr + 1;
    LEA_traction_gear_speed_ratios[2] = CAL_traction_gear_speed_ratios_cr + 2;
    LEA_traction_gear_speed_ratios[3] = CAL_traction_gear_speed_ratios_cr + 3;
    LEA_traction_gear_speed_ratios[4] = CAL_traction_gear_speed_ratios_cr + 4;
    LEA_traction_gear_speed_ratios[5] = CAL_traction_gear_speed_ratios_cr + 5;
    LEA_traction_slip_threshold_per_gear[1] = CAL_traction_slip_threshold_per_gear_manual;
    LEA_traction_slip_threshold_per_gear[2] = CAL_traction_slip_threshold_per_gear_manual + 1;
    LEA_traction_slip_threshold_per_gear[3] = CAL_traction_slip_threshold_per_gear_manual + 2;
    LEA_traction_slip_threshold_per_gear[4] = CAL_traction_slip_threshold_per_gear_manual + 3;
    LEA_traction_slip_threshold_per_gear[5] = CAL_traction_slip_threshold_per_gear_manual + 4;
  }
  LEA_traction_slip_threshold_per_gear[0] = &CAL_traction_slip_threshold_1st_Gear;
  return;
}



bool tc_enable_lookup(void)

{
  bool rv;
  
  if (((CAL_traction_mode == TC_DISABLED) ||
      (((byte)COD_VIN[9] < 'F' && (CAL_traction_mode < TC_VARIABLE)))) ||
     (((COD_base[0] >> 0xd & 7) == 1 && (CAL_traction_mode == TC_EXTERNAL_ONLY)))) {
    rv = false;
  }
  else {
    rv = true;
  }
  return rv;
}



// WARNING: Unable to use type for symbol traction_car_speed_threshold
// This is not directly influenced by drive mode. It is dependent on input from the ESP unit to
// indicate relax dyanmics control.

void traction_main(void)

{
  ulonglong uVar1;
  byte bVar2;
  ulonglong _traction_steering_increase_rate2;
  u32_torque_nm positive_torque_current;
  uint power_unscaled;
  byte _current_gear;
  byte tc_new_flags;
  bool tc_enabled;
  byte i;
  ulonglong lat_accel_abs;
  byte j;
  byte gear;
  byte gear2;
  char cVar3;
  u8_gear tc_gear3_unknown;
  uint car_speed2;
  uint steering_and_lateral_disable_threshold;
  uint traction_car_speed_threshold;
  ulonglong _steering_fact_and_lat;
  byte _cluster_flags_traction_unknown2;
  byte _cluster_flags_traction_unknown3;
  byte tmp;
  uint _traction_steering_increase_rate;
  u16_speed_1_100kph car_speed1;
  uint traction_rpm_differential_calc;
  
  car_speed1 = car_speed_div100;
  car_speed2 = (uint)car_speed_div100;
  car_speed2 = (uint)car_speed_div100;
                    // variable TC or presence of TC?
  tc_enabled = tc_enable_lookup();
  if (tc_enabled) {
    _traction_steering_increase_rate =
         ((uint)traction_steering_increase_factor * (uint)CAL_traction_steering_rate_factor) / 100;
    _traction_steering_increase_rate2 = (ulonglong)(int)_traction_steering_increase_rate;
    if (CAL_traction_steering_increase_factor_min < _traction_steering_increase_rate) {
      _traction_steering_increase_rate2 = (ulonglong)CAL_traction_steering_increase_factor_min;
    }
    lat_accel_abs = libc_abs((longlong)lat_accel);
    _steering_fact_and_lat = _traction_steering_increase_rate2 + (lat_accel_abs & 0xffff) & 0xffff;
    traction_cornering_factor = (u8_factor_1_255)_steering_fact_and_lat;
    if (0xff < _steering_fact_and_lat) {
      traction_cornering_factor = 0xff;
    }
    if ((traction_intervention_flags & 0b00000100) == 0) {
      steering_and_lateral_disable_threshold = (uint)CAL_traction_inhibit_cornering_base;
    }
    else {
      steering_and_lateral_disable_threshold =
           (uint)CAL_traction_inhibit_cornering_base + (uint)CAL_traction_inhibit_cornering_offset;
    }
    if ((short)torque_net_engine_combustion < 0) {
      positive_torque_current = 0;
    }
    else {
      positive_torque_current = (u32_torque_nm)torque_net_engine_combustion;
      if (3276 < (short)torque_net_engine_combustion) {
        positive_torque_current = 3276;
      }
    }
                    // engine power, but without the constant scaling (9549). 
    power_unscaled = engine_speed_2 * positive_torque_current * 10;
                    // scale to kW * 100
    engine_power_corrected =
         (u16_power_1_100kw)
         (((longlong)
           (int)((((longlong)((int)power_unscaled / 955 + ((int)power_unscaled >> 31)) +
                  (ulonglong)(power_unscaled >> 31)) * 0x3f5 & 0xffffffff) /
                (ulonglong)obd_ii_atmospheric_baro) *
           (longlong)(((int)((uint)temp_engine_air * 4 + (uint)temp_engine_air) >> 3) + 0xe9) &
          0xffffffffU) * 0xdbeb61ef >> 0x28);
                    // cold start compensation
    if (((coolant_temp_engine_stopped < CAL_traction_coldstart_coolant_threshold) &&
        (maf_accumulated2 < 0xfff)) && ((COD_base[0] >> 0xd & 7) == 0)) {
      traction_comp_maf_accum =
           lookup_2D_uint16_interpolated
                     (4,maf_accumulated2,CAL_traction_comp_maf_accum_manual,
                      CAL_traction_comp_maf_accum_manual_X_maf_accum);
    }
    else {
      traction_comp_maf_accum = 0;
    }
                    // CAL_traction_mode always has value TC_ENABLED in the OEM configuration.
    if (((((byte)(car_current_gear - GEAR_1) < 6) && (car_speed1 != 0)) &&
        (engine_state_failure_flags == 0)) &&
       ((((COD_base[0] >> 0xd & 7) != 1 || (ips_flags_faults_ != 0)) ||
        (TC_VARIABLE < CAL_traction_mode)))) {
      if ((COD_base[0] >> 0xd & 7) == 1) {
        traction_car_speed_threshold = 0;
      }
      else {
        traction_car_speed_threshold = (uint)CAL_traction_threshold_car_speed * 100;
        if (car_speed2 < (uint)CAL_traction_threshold_car_speed * 100) {
          traction_car_speed_threshold = car_speed2;
        }
      }
      traction_power_based_rpm_threshold =
           lookup_2D_uint16_interpolated
                     (8,engine_power_corrected,CAL_traction_power_based_rpm_thresholds,
                      CAL_traction_power_based_rpm_thresholds_X_power);
      for (j = 0; j < 6; j = j + 1) {
        traction_rpm_differential_calc =
             (int)((car_speed1 - traction_car_speed_threshold) *
                  (uint)*LEA_traction_gear_speed_ratios[j]) / 1000;
        if (traction_rpm_differential_calc < 65536) {
          LEA_traction_rpm_differential_measured[j] = (u16_rspeed_rpm)traction_rpm_differential_calc
          ;
        }
        else {
          LEA_traction_rpm_differential_measured[j] = 65535;
        }
      }
      if (CAL_traction_inhibit_accel_pedal_min < accel_pedal_pos) {
        traction_inhibit_accel_pedal_timer = CAL_traction_inhibit_accel_pedal_timer;
      }
      else if ((traction_inhibit_accel_pedal_timer == 0) ||
              (((traction_intervention_flags & 4) == 0 &&
               ((traction_intervention_flags & 0x40) == 0)))) {
        traction_inhibit_accel_pedal_timer = 0;
      }
      tc_gear = 0;
      tc_gear2 = 0;
      for (i = 0; i < 6; i = i + 1) {
        if (((((uint)*LEA_traction_slip_threshold_per_gear[i] * 4 +
               (uint)*LEA_traction_slip_threshold_per_gear[i] + (uint)traction_comp_maf_accum + 500
               < (uint)LEA_traction_rpm_differential_measured[i]) ||
             (((traction_intervention_flags & 0x20) != 0 &&
              ((int)(((uint)*LEA_traction_slip_threshold_per_gear[i] -
                     (uint)CAL_track_slip_offset_unknown) * 5 + 500) <
               (int)(uint)LEA_traction_rpm_differential_measured[i])))) &&
            (((int)(short)obd_ii_idle_speed_target___ <
              (int)(uint)LEA_traction_rpm_differential_measured[i] ||
             ((COD_base[0] >> 0xd & 7) == 1)))) &&
           (LEA_traction_rpm_differential_measured[i] < uint16_t_4000cc38)) {
          tc_gear = i + 1;
        }
        if (traction_power_based_rpm_threshold < LEA_traction_rpm_differential_measured[i]) {
          tc_gear2 = i + 1;
        }
        if ((tc_gear != tc_gear2) || ((uint)tc_gear != i + 1)) {
          traction_per_gear_timer100ms_intervention[i] = CAL_traction_timer_per_gear_intervention;
        }
      }
      _cluster_flags_traction_unknown2 = traction_intervention_flags & 0b11111110;
      if (car_current_gear < tc_gear) {
        _cluster_flags_traction_unknown2 = traction_intervention_flags | 0b00000001;
      }
      _current_gear = car_current_gear;
      gear = car_current_gear;
      _cluster_flags_traction_unknown3 = _cluster_flags_traction_unknown2 & 0b11111101;
      if (car_current_gear < tc_gear2) {
        _cluster_flags_traction_unknown3 = _cluster_flags_traction_unknown2 | 2;
      }
      for (; gear < 6; gear = gear + 1) {
        if (traction_per_gear_timer100ms_intervention[gear] <
            CAL_traction_timer_per_gear_intervention) {
          _current_gear = gear + 1;
        }
      }
      if (car_current_gear < GEAR_2) {
        traction_intervention_flags = _cluster_flags_traction_unknown3 & 0b11000111;
      }
      else {
        uVar1 = (ulonglong)car_current_gear - 1 & 0xff;
        if ((accel_pedal_pos < 973) ||
           (((0 < wheel_speed_front_accel || ((_cluster_flags_traction_unknown3 & 0b01000000) != 0))
            && (((short)(ushort)CAL_traction_wheelspeed_front_accel_threshold <=
                 wheel_speed_front_accel ||
                (((_cluster_flags_traction_unknown3 & 0x40) == 0 ||
                 ((_cluster_flags_traction_unknown3 & 8) == 0)))))))) {
          traction_intervention_flags = _cluster_flags_traction_unknown3 & 0b11110111;
        }
        else {
          traction_intervention_flags = _cluster_flags_traction_unknown3 | 0b00001000;
        }
        if ((engine_speed_2 < traction_power_based_rpm_threshold) &&
           (((((int)(uint)engine_speed_2 <
               (int)(((uint)**(byte **)((int)LEA_traction_slip_threshold_per_gear +
                                       (int)(uVar1 << 2)) - (uint)DAT_4000cc47) * 5 + 500) &&
              (wheel_speed_front_accel <
               (short)(ushort)CAL_traction_wheelspeed_front_accel_threshold)) &&
             ((traction_intervention_flags & 0x40) == 0)) ||
            (((i = **(byte **)((int)LEA_traction_slip_threshold_per_gear + (int)(uVar1 << 2)),
              engine_speed_2 < (ushort)((ushort)i * 4 + (ushort)i + 500) &&
              ((traction_intervention_flags & 0b01000000) != 0)) &&
             ((traction_intervention_flags & 0b00010000) != 0)))))) {
          traction_intervention_flags = traction_intervention_flags | 0b00010000;
        }
        else {
          traction_intervention_flags = traction_intervention_flags & 0b11101111;
        }
        if ((COD_base[0] >> 0xd & 7) == 0) {
          if ((((int)(uint)engine_speed_2 <
                (int)(((uint)**(byte **)((int)LEA_traction_slip_threshold_per_gear +
                                        (int)(uVar1 << 2)) - (uint)CAL_track_slip_offset_unknown) *
                      5 + 500)) ||
              (((int)(uint)engine_speed_2 <
                (int)((int)(short)obd_ii_idle_speed_target___ -
                     ((uint)DAT_4000cc43 * 4 + (uint)DAT_4000cc43)) &&
               ((traction_intervention_flags & 0x40) == 0)))) ||
             (((int)(uint)engine_speed_2 < (int)(short)obd_ii_idle_speed_target___ &&
              (((traction_intervention_flags & 0x40) != 0 &&
               ((traction_intervention_flags & 0x20) != 0)))))) {
            traction_intervention_flags = traction_intervention_flags | 0x20;
          }
          else {
            traction_intervention_flags = traction_intervention_flags & 0xdf;
          }
        }
        else {
          traction_intervention_flags = traction_intervention_flags & 0xdf;
        }
      }
      cVar3 = 0;
      for (i = 0; (int)(uint)i < (int)(car_current_gear - 1); i = i + 1) {
        if (traction_per_gear_timer100ms_intervention[i] < CAL_traction_timer_per_gear_intervention)
        {
          cVar3 = i + 1;
        }
      }
      if (((((COD_base[1] >> 21 & 3) == 2) ||
           ((int)(uint)CAL_traction_steering_angle_max_unknown <= (int)(short)steering_angle)) ||
          ((int)(short)steering_angle <= (int)-(uint)CAL_traction_steering_angle_max_unknown)) ||
         ((steering_and_lateral_disable_threshold <= traction_cornering_factor ||
          ((abs_esp_flags & 7) != 0)))) {
        tc_timer_unknown1 = CAL_traction_timer_per_gear_intervention;
        tc_timer_unknown2 = CAL_tc_timer_intervention___;
        traction_intervention_flags = traction_intervention_flags & 0xbb;
      }
      else if (((((brake_switch & 0x11) == 0) &&
                ((traction_inhibit_accel_pedal_timer != 0 || ((obd_ii_cruise_status & 2) != 0)))) &&
               (car_current_gear < tc_gear)) &&
              (((traction_intervention_flags & 2) != 0 && (car_current_gear < _current_gear)))) {
        tc_new_flags = traction_intervention_flags & 0b10111111;
        tc_timer_unknown2 = CAL_tc_timer_intervention___;
        if ((tc_timer_unknown1 == 0) ||
           (tmp = traction_intervention_flags & 0b00000100,
           traction_intervention_flags = tc_new_flags, tmp != 0)) {
          traction_intervention_flags = tc_new_flags | 0b00000100;
        }
      }
      else if ((((((traction_intervention_flags & 0x10) == 0) &&
                 ((traction_intervention_flags & 8) == 0)) ||
                (((traction_inhibit_accel_pedal_timer == '\0' && ((obd_ii_cruise_status & 2) == 0))
                 || ((brake_switch & 0x11) != 0)))) && ((traction_intervention_flags & 0x20) == 0))
              || (cVar3 == '\0')) {
        tc_timer_unknown1 = CAL_traction_timer_per_gear_intervention;
        tc_timer_unknown2 = CAL_tc_timer_intervention___;
        traction_intervention_flags = traction_intervention_flags & 0xbb;
      }
      else {
        i = traction_intervention_flags & 0xfb;
        tc_timer_unknown1 = CAL_traction_timer_per_gear_intervention;
        if ((tc_timer_unknown2 == 0) ||
           (bVar2 = traction_intervention_flags & 0x40, traction_intervention_flags = i, bVar2 != 0)
           ) {
          traction_intervention_flags = i | 0x40;
        }
      }
      if (((traction_intervention_flags & 4) == 0) && ((traction_intervention_flags & 0x40) == 0)) {
        traction_target_gear = 15;
        traction_timer_intevention_gearchange = 0;
      }
      else {
        tc_gear3_unknown = 0;
        for (gear2 = 0; gear2 < 6; gear2 = gear2 + 1) {
          if (traction_per_gear_timer100ms_intervention[gear2] == '\0') {
            tc_gear3_unknown = gear2 + 1;
          }
        }
        if ((traction_intervention_flags & 4) == 0) {
          if ((int)(uint)CAL_traction_gear_offset_unknown <
              (int)((uint)car_current_gear - (uint)tc_gear3_unknown)) {
            tc_gear3_unknown = car_current_gear - CAL_traction_gear_offset_unknown;
          }
        }
        else if ((int)(uint)CAL_traction_gear_offset_unknown <
                 (int)((uint)tc_gear3_unknown - (uint)car_current_gear)) {
          tc_gear3_unknown = car_current_gear + CAL_traction_gear_offset_unknown;
        }
        if ((traction_target_gear == 15) ||
           ((tc_gear3_unknown != traction_target_gear &&
            (traction_timer_intevention_gearchange == 0)))) {
          traction_target_gear = tc_gear3_unknown;
          if ((traction_intervention_flags & 0x40) == 0) {
                    // default value here is 15
            traction_timer_intevention_gearchange = CAL_traction_timer_per_gear_intervention;
          }
          else {
                    // the default value here is 5
            traction_timer_intevention_gearchange = CAL_tc_timer_intervention___;
          }
        }
      }
    }
    else {
      for (i = 0; i < 6; i = i + 1) {
        LEA_traction_rpm_differential_measured[i] = 0;
        traction_per_gear_timer100ms_intervention[i] = CAL_traction_timer_per_gear_intervention;
      }
      traction_intervention_flags = 0;
      traction_power_based_rpm_threshold = 0;
      tc_timer_unknown1 = CAL_traction_timer_per_gear_intervention;
      tc_timer_unknown2 = CAL_tc_timer_intervention___;
      traction_inhibit_accel_pedal_timer = 0;
      traction_timer_intevention_gearchange = 0;
      tc_gear = 0;
      tc_gear2 = 0;
      traction_target_gear = '\x0f';
    }
    if ((COD_base[0] >> 0xd & 7) == 0) {
      if (car_speed_div100 == 0) {
        DAT_40002a1a = 0;
        cVar3 = DAT_40002a1a;
      }
      else {
        cVar3 = 1;
        if (4 < (byte)(car_current_gear - GEAR_2)) {
          cVar3 = DAT_40002a1a;
        }
      }
      DAT_40002a1a = cVar3;
      if (((clutch_pos_sensor & 1) == 0) ||
         (((car_current_gear != GEAR_1 ||
           (car_speed1 < (ushort)((ushort)CAL_traction_enable_speed * 100))) && (DAT_40002a1a != 1))
         )) {
        if (((traction_intervention_flags & 4) == 0) && ((traction_intervention_flags & 0x40) == 0))
        {
          traction_gear_for_validation = 15;
        }
        else if (traction_gear_for_validation == 15) {
          traction_gear_for_validation = car_current_gear;
        }
      }
      else {
        traction_gear_for_validation = car_current_gear;
      }
    }
    else {
      traction_gear_for_validation = car_current_gear;
      if (5 < (byte)(car_current_gear - GEAR_1)) {
        traction_gear_for_validation = 15;
      }
    }
  }
  else {
    for (i = 0; i < 6; i = i + 1) {
      LEA_traction_rpm_differential_measured[i] = 0;
      traction_per_gear_timer100ms_intervention[i] = CAL_traction_timer_per_gear_intervention;
    }
    traction_intervention_flags = 0;
    engine_power_corrected = 0;
    traction_cornering_factor = 0;
    traction_power_based_rpm_threshold = 0;
    traction_comp_maf_accum = 0;
    tc_timer_unknown1 = CAL_traction_timer_per_gear_intervention;
    tc_timer_unknown2 = CAL_tc_timer_intervention___;
    traction_inhibit_accel_pedal_timer = 0;
    traction_timer_intevention_gearchange = 0;
    tc_gear = 0;
    tc_gear2 = 0;
    traction_target_gear = 15;
    traction_gear_for_validation = 15;
  }
  return;
}



void traction_update_100ms(void)

{
  ulonglong steering_angle_abs;
  byte i;
  bool timer_is_zero;
  bool timer_is_zero2;
  
  timer_is_zero2 = traction_inhibit_accel_pedal_timer == 0;
  traction_inhibit_accel_pedal_timer = traction_inhibit_accel_pedal_timer + 0xff;
  if (timer_is_zero2) {
    traction_inhibit_accel_pedal_timer = 0;
  }
  for (i = 0; i < 6; i = i + 1) {
    if (traction_per_gear_timer100ms_intervention[i] != 0) {
      traction_per_gear_timer100ms_intervention[i] =
           traction_per_gear_timer100ms_intervention[i] + 0xff;
    }
  }
  timer_is_zero2 = tc_timer_unknown1 == 0;
  tc_timer_unknown1 = tc_timer_unknown1 + 0xff;
  if (timer_is_zero2) {
    tc_timer_unknown1 = 0;
  }
  timer_is_zero2 = tc_timer_unknown2 == 0;
  tc_timer_unknown2 = tc_timer_unknown2 + 0xff;
  if (timer_is_zero2) {
    tc_timer_unknown2 = 0;
  }
  timer_is_zero = traction_timer_intevention_gearchange == 0;
  traction_timer_intevention_gearchange = traction_timer_intevention_gearchange + 0xff;
  if (timer_is_zero) {
    traction_timer_intevention_gearchange = 0;
  }
  steering_angle_abs = libc_abs((longlong)(short)steering_angle);
  steering_angle_delta = 0;
  if ((ulonglong)steering_angle_previous_sample < (steering_angle_abs & 0xffff)) {
    steering_angle_delta = (u16_angle_1_10deg)steering_angle_abs - steering_angle_previous_sample;
  }
  if (0xff < steering_angle_delta) {
    steering_angle_delta = 0xff;
  }
  steering_angle_smoothed =
       ((256 - (uint)CAL_traction_steering_angle_smooth_factor) * steering_angle_smoothed >> 8) +
       (uint)CAL_traction_steering_angle_smooth_factor * (uint)steering_angle_delta;
  traction_steering_increase_factor = (u8_factor_1_255)(steering_angle_smoothed >> 8);
  steering_angle_previous_sample = (u16_angle_1_10deg)steering_angle_abs;
  return;
}



void fuel_pump_set_output(uint dutycycle)

{
  uint uVar1;
  undefined4 uVar2;
  
  WriteExternalEnableImmediate(0);
  uVar1 = emios_uc[0].uc._68_4_;
  if (dutycycle < uVar1) {
    if (dutycycle < 3) {
      uVar2 = emios_uc[0].uc._68_4_;
      emios_uc[0].uc._64_4_ = uVar2;
      uVar1 = emios_uc[0].uc._76_4_;
      emios_uc[0].uc._76_4_ = uVar1 & 0xffffdfff | 0x2000;
    }
    else {
      uVar1 = emios_uc[0].uc._72_4_;
      if (uVar1 < dutycycle + 2) {
        emios_uc[0].uc._64_4_ = dutycycle;
      }
      else {
        emios_uc[0].uc._64_4_ = dutycycle;
        uVar1 = emios_uc[0].uc._76_4_;
        emios_uc[0].uc._76_4_ = uVar1 & 0xffffdfff | 0x2000;
      }
    }
  }
  else {
    emios_uc[0].uc._64_4_ = 0;
    uVar1 = emios_uc[0].uc._76_4_;
    emios_uc[0].uc._76_4_ = uVar1 & 0xffffefff | 0x1000;
  }
  return;
}



void FUN_000cdfb0(void)

{
  DAT_40002a38 = 0;
  DAT_40002a54 = 0;
  fuel_pressure_target_clamped = '\0';
  inj_flow_required_or_estimated___ = 0;
  fuel_pressure_state_flags = '\0';
  fuel_pump_dutycycle_commanded = 0;
  fuel_pressure_lookup_relative = 0;
  DAT_40002a48 = DAT_40008965;
  fuel_pump_commanded_scaled = 0;
  DAT_40002a4c = 0;
  DAT_40002a4e = 0;
  DAT_40002a50 = (ushort)DAT_4000896f * 10;
  DAT_40002a52 = DAT_40008970;
  FUN_000ce058();
  return;
}



void FUN_000ce058(void)

{
  init_eMIOS(2,&DAT_00001f40,0,0);
  siu_pcr[0xb5] = 0xecc;
  return;
}



u8_pressure_50mbar fuel_pressure_lookup_target(void)

{
  byte bVar1;
  u8_pressure_50mbar lookup;
  u8_pressure_50mbar rv;
  
  if (sensor_adc_ign_voltage < (ushort)((ushort)CAL_ecu_ign_threshold << 2)) {
    fuel_pressure_state_flags = '\x01';
    rv = 0;
  }
  else {
    rv = CAL_fuel_pressure_max;
    if ((((fuel_pressure_state_flags & 1) == 0) || ((ignition_on_flags & 0x20) != 0)) ||
       ((ignition_on_flags & 0x40) == 0)) {
      if (((ignition_on_flags & 1) == 0) || (!engine_is_running)) {
        if (((fuel_pressure_state_flags & 2) == 0) || (DAT_40002a54 == 0)) {
          bVar1 = fuel_pressure_state_flags & 0b11110001;
          rv = 0;
          fuel_pressure_state_flags = bVar1 | 1;
          if (DAT_400031dd == '\0') {
            fuel_pressure_state_flags = bVar1;
          }
        }
      }
      else {
        if (((fuel_pressure_state_flags & 3) == 0) &&
           ((engine_state_failure_flags & 0x4000000) == 0)) {
          if ((maf_accumulated2 < DAT_400088f4) && ((fuel_pressure_state_flags & 8) != 0)) {
            fuel_pressure_state_flags = '\b';
          }
          else {
            fuel_pressure_state_flags = fuel_pressure_state_flags & 0xf4 | 4;
          }
        }
        else {
          fuel_pressure_state_flags = '\b';
        }
        DAT_40002a54 = 0;
        lookup = lookup_3D_uint8_interpolated
                           (8,8,(ushort)engine_speed_3,(ushort)load_mass_per_stroke,
                            CAL_fuel_pressure_target,CAL_fuel_pressure_target_X_engine_speed,
                            CAL_fuel_pressure_target_Y_load);
        rv = lookup;
      }
    }
    else {
      DAT_40002a54 = DAT_400087a6;
      fuel_pressure_state_flags = '\x02';
    }
  }
  return rv;
}



uint16_t fuel_pump_dc_to_pwm_scale(ushort param_1)

{
  int iVar1;
  
  iVar1 = (DAT_400017f9 - 0x80) * 5000;
  DAT_40002a60 = (short)((int)(uint)param_1 >> 1) +
                 (((short)(iVar1 / 0xff) + (short)(iVar1 >> 0x1f)) -
                 (short)((longlong)iVar1 * 0x80808081 >> 0x3f));
  if (param_1 == 0) {
    DAT_40002a60 = 7000;
  }
  else if ((short)DAT_40002a60 < 500) {
    DAT_40002a60 = 500;
  }
  else if (0x13ec < (short)DAT_40002a60) {
    DAT_40002a60 = 0x13ec;
  }
  return 8000 - (short)((ulonglong)DAT_40002a60 * 0x199999999d40 >> 0x2d);
}



uint estimate_required_injector_flow___(void)

{
  uint rv;
  uint v1;
  
  if (((inj_flags & 1) == 0) || (ign_flags_unknown != '?')) {
    v1 = 0;
    if (trqlimit_failure_condition_count___ < 6) {
      v1 = 6 - trqlimit_failure_condition_count___ & 0xff;
    }
    rv = (((int)(v1 * ((int)((uint)inj_fuel_mass_required * (uint)engine_speed_2) / 100)) / 6) * 18)
         / 1000 & 0xffff;
  }
  else {
    rv = 0;
  }
  return rv;
}



void fuel_pump(void)

{
  int iVar1;
  u8_pressure_50mbar fuel_pressure_target_raw;
  int pump_dc_new;
  uint inj_flow_required;
  uint32_t fuel_pump_commanded;
  uint8_t lookup_unknown2;
  u8_pressure_50mbar pressure_unknown;
  int _fuel_pump_commanded_scaled;
  
  fuel_pressure_target_raw = fuel_pressure_lookup_target();
  if (CAL_fuel_pressure_target_max < fuel_pressure_target_raw) {
    fuel_pressure_target = CAL_fuel_pressure_target_max;
  }
  else {
    fuel_pressure_target = fuel_pressure_target_raw;
    if (fuel_pressure_target_raw < CAL_fuel_pressure_target_min) {
      if ((fuel_pressure_state_flags & 0b00001110) == 0) {
        fuel_pressure_target = 0;
      }
      else {
        fuel_pressure_target = CAL_fuel_pressure_target_min;
      }
    }
  }
  fuel_pressure_target_clamped = fuel_pressure_target;
  inj_flow_required = estimate_required_injector_flow___();
  inj_flow_required_or_estimated___ = (undefined2)inj_flow_required;
  if (((obd_ii_mode2f_flags_enabled & 0x20000) == 0) || ((obd_ii_mode2f_flags_state & 0x20000) == 0)
     ) {
    if (((DAT_40002a38 == 0) && (DAT_40002a54 == 0)) ||
       (((ignition_on_flags & 1) == 0 || (fuel_pressure_target_clamped == 0)))) {
      fuel_pump_dutycycle_commanded = 0;
    }
    else {
      if ((fuel_pressure_state_flags & 0b00000010) == 0) {
        fuel_pressure_lookup_relative =
             (ushort)fuel_pressure_target_clamped * 50 - fuel_pressure_atmo_relative;
        if ((fuel_pressure_state_flags & 8) != 0) {
          if ((-1 < (short)fuel_pressure_lookup_relative) &&
             ((engine_state_failure_flags & 0x4000000) == 0)) {
            fuel_pressure_state_flags = fuel_pressure_state_flags & 0b11110111;
          }
          fuel_pressure_lookup_relative = 0;
        }
      }
      else {
        fuel_pressure_lookup_relative = 0;
      }
      if ((short)fuel_pressure_lookup_relative < 6251) {
        if ((short)fuel_pressure_lookup_relative < -6500) {
          pressure_unknown = 0;
        }
        else {
          pressure_unknown =
               (u8_pressure_50mbar)
               ((int)(&DAT_00001964 + (short)fuel_pressure_lookup_relative) / 50);
        }
      }
      else {
        pressure_unknown = 255;
      }
      fuel_pump_commanded =
           lookup_3D_uint32_interpolated
                     (8,8,(uint)fuel_pressure_target_clamped * 50,inj_flow_required & 0xffff,
                      CAL_fuel_pump_command,CAL_fuel_pump_command_X_pressure,
                      CAL_fuel_pump_command_Y_estimated_inj_flow);
      _fuel_pump_commanded_scaled =
           (int)((fuel_pump_commanded & 0xffff) * (uint)DAT_4000898c) /
           (int)(uint)sensor_adc_ecu_voltage;
      fuel_pump_commanded_scaled = (ushort)_fuel_pump_commanded_scaled;
      if (10000 < _fuel_pump_commanded_scaled) {
        fuel_pump_commanded_scaled = 10000;
      }
      if (((DAT_40001e90 & 2) == 0) || ((DAT_40001e92 & 2) == 0)) {
        fuel_pressure_state_flags = fuel_pressure_state_flags & 0b10011111;
      }
      else if (((DAT_40001e88 & 0x4000) == 0) || ((DAT_40001e8a & 0x4000) == 0)) {
        if (((DAT_40001e88 & 0x8000) == 0) || ((DAT_40001e8a & 0x8000) == 0)) {
          fuel_pressure_state_flags = fuel_pressure_state_flags & 159;
        }
        else {
          fuel_pressure_state_flags = fuel_pressure_state_flags | 64;
        }
      }
      else {
        fuel_pressure_state_flags = fuel_pressure_state_flags | 32;
      }
      lookup_unknown2 =
           lookup_2D_uint8_interpolated
                     (8,pressure_unknown,CAL_fuel_pump_proportional_gain,
                      CAL_fuel_pump_proportional_gain_X_error);
      iVar1 = (int)((int)(short)fuel_pressure_lookup_relative * (uint)lookup_unknown2) / 10;
      if ((int)((uint)DAT_40008966 * 100) < iVar1) {
        DAT_40002a4c = (ushort)DAT_40008966 * 100;
      }
      else if (iVar1 < (int)((uint)DAT_40008967 * -100)) {
        DAT_40002a4c = (ushort)DAT_40008967 * -100;
      }
      else {
        DAT_40002a4c = (short)iVar1;
      }
      pump_dc_new = (int)DAT_40002a4e + (uint)fuel_pump_commanded_scaled +
                    (int)DAT_40004266 + (int)DAT_40002a4c;
      if (pump_dc_new < 10001) {
        if (pump_dc_new < 0) {
          fuel_pump_dutycycle_commanded = 0;
        }
        else {
          fuel_pump_dutycycle_commanded = (ushort)pump_dc_new;
        }
      }
      else {
        fuel_pump_dutycycle_commanded = 10000;
      }
    }
  }
  else {
    fuel_pump_dutycycle_commanded = 5000;
  }
  fuel_pump_pwm_output = fuel_pump_dc_to_pwm_scale(fuel_pump_dutycycle_commanded);
  fuel_pump_set_output((uint)fuel_pump_pwm_output);
  return;
}



void fuel_pump_closed_loop_update(void)

{
  bool bVar1;
  char cVar4;
  short sVar3;
  uint uVar2;
  longlong lVar5;
  
  sVar3 = DAT_40002a4e;
  if ((((DAT_40002a38 == 0) || ((ignition_on_flags & 1) == 0)) ||
      (fuel_pressure_target_clamped == '\0')) ||
     (((fuel_pressure_state_flags & 4) == 0 || (DAT_40008968 == 0)))) {
    DAT_40002a4e = 0;
    fuel_pressure_error__ = 0;
    DAT_40002a68 = 0;
    DAT_40002a6c = 0;
    DAT_40002a6e = 0;
    DAT_40002a70 = 0;
    fuel_pressure_state_flags = fuel_pressure_state_flags & 0xef;
  }
  else {
    if (inj_flow_required_or_estimated___ == 0) {
      if (DAT_40008969 == '\0') {
        DAT_40002a4e = 0;
      }
      DAT_40002a48 = DAT_40008965;
    }
    else {
      cVar4 = DAT_40002a48 + -1;
      if (DAT_40002a48 == '\0') {
        cVar4 = DAT_40002a48;
      }
      DAT_40002a48 = cVar4;
      if (cVar4 == '\0') {
        DAT_40002a48 = DAT_40008965;
        lVar5 = libc_abs((longlong)(short)fuel_pressure_lookup_relative);
        if ((int)((uint)DAT_4000896a * 10) < (int)lVar5) {
          sVar3 = sVar3 + (((short)((int)((uint)DAT_40008968 *
                                         (int)(short)fuel_pressure_lookup_relative) / 10) +
                           ((short)fuel_pressure_lookup_relative >> 0xf)) -
                          ((short)((short)((int)((uint)DAT_40008968 *
                                                (int)(short)fuel_pressure_lookup_relative) / 0xa0000
                                          ) + ((short)fuel_pressure_lookup_relative >> 0xf)) >> 0xf)
                          );
        }
        DAT_40002a6e = ((10000 - fuel_pump_commanded_scaled) - DAT_40002a4c) - DAT_40004266;
        DAT_40002a70 = 1000 - (DAT_40002a4c + DAT_40004266 + fuel_pump_commanded_scaled);
        if (DAT_40002a6e < sVar3) {
          fuel_pressure_state_flags = fuel_pressure_state_flags | 0x10;
          sVar3 = DAT_40002a6e;
        }
        else if (sVar3 < DAT_40002a70) {
          fuel_pressure_state_flags = fuel_pressure_state_flags | 0x10;
          sVar3 = DAT_40002a70;
        }
        else {
          fuel_pressure_state_flags = fuel_pressure_state_flags & 0xef;
        }
        if ((short)((ushort)DAT_4000896b * 100) < sVar3) {
          DAT_40002a4e = (ushort)DAT_4000896b * 100;
        }
        else {
          DAT_40002a4e = sVar3;
          if (sVar3 < (short)((ushort)DAT_4000896c * -100)) {
            DAT_40002a4e = (ushort)DAT_4000896c * -100;
          }
        }
      }
    }
    fuel_pressure_error__ = DAT_40002a4e + DAT_40004266 + DAT_40002a4c;
    uVar2 = DAT_40002a68 * (0x100 - (uint)DAT_4000896d);
    DAT_40002a68 = ((int)uVar2 >> 8) + (uint)((int)uVar2 < 0 && (uVar2 & 0xff) != 0) +
                   (int)fuel_pressure_error__ * (uint)DAT_4000896d;
    DAT_40002a6c = (short)(DAT_40002a68 >> 8) +
                   (ushort)((int)DAT_40002a68 < 0 && (DAT_40002a68 & 0xff) != 0);
    if (DAT_4000896e == '\0') {
      DAT_40004266 = 0;
    }
    else if ((((((engine_state_failure_flags & 0x4000000) == 0) &&
               ((fuel_pressure_state_flags & 0x10) == 0)) &&
              (((fuel_pressure_state_flags & 0x20) == 0 &&
               ((((fuel_pressure_state_flags & 0x40) == 0 && ((engine_state_failure_flags & 1) == 0)
                 ) && (u8_temp_5_8_40c_40008976 <= temp_engine_air)))))) &&
             (((engine_state_failure_flags & 8) == 0 &&
              (u16_pressure_mbar_40008974 <= obd_ii_atmospheric_baro)))) &&
            (((engine_state_failure_flags & 2) == 0 &&
             (((u8_temp_5_8_40c_40008977 <= coolant_temp && ((LEA_obd_ii_P0462_flags & 2) == 0)) &&
              (((LEA_obd_ii_P0463_flags & 2) == 0 && (DAT_40008978 <= fuel_level)))))))) {
      sVar3 = DAT_40002a50 + -1;
      if (DAT_40002a50 == 0) {
        sVar3 = DAT_40002a50;
      }
      DAT_40002a50 = sVar3;
      if (sVar3 == 0) {
        cVar4 = DAT_40002a52 + -1;
        if (DAT_40002a52 == '\0') {
          cVar4 = DAT_40002a52;
        }
        DAT_40002a52 = cVar4;
        if (cVar4 == '\0') {
          DAT_40002a52 = DAT_40008970;
          if (((int)DAT_40004266 + (int)(short)((ushort)DAT_40008973 * 10) < (int)DAT_40002a6c) &&
             (DAT_40004266 < (short)((ushort)DAT_40008971 * 100))) {
            DAT_40004266 = DAT_40004266 + 1;
          }
          else if (((int)DAT_40002a6c < (int)DAT_40004266 - (int)(short)((ushort)DAT_40008973 * 10))
                  && ((short)((ushort)DAT_40008972 * -100) < DAT_40004266)) {
            DAT_40004266 = DAT_40004266 + -1;
          }
        }
      }
      else {
        DAT_40002a52 = DAT_40008970;
      }
    }
    else {
      DAT_40002a50 = (ushort)DAT_4000896f * 10;
      DAT_40002a52 = DAT_40008970;
    }
  }
  bVar1 = DAT_40002a38 == 0;
  DAT_40002a38 = DAT_40002a38 + -1;
  if (bVar1) {
    DAT_40002a38 = 0;
  }
  bVar1 = DAT_40002a54 == 0;
  DAT_40002a54 = DAT_40002a54 + -1;
  if (bVar1) {
    DAT_40002a54 = 0;
  }
  DAT_400017a8 = DAT_400017a8 + -1;
  if (DAT_400017a8 == '\0') {
    DAT_400017a8 = '\x02';
    fuel_pump_state_machine_update();
    DAT_400017a9 = DAT_400017a9 + -1;
    if (DAT_400017a9 == '\0') {
      DAT_400017a9 = '\n';
      fuel_pump_obd_monitors_update();
    }
  }
  return;
}



void fuel_pump_state_machine_update(void)

{
  bool bVar1;
  char cVar2;
  
  bVar1 = false;
  if (((((CAL_ecu_system_voltage_threshold[1] < sensor_adc_ecu_voltage) &&
        ((driver_input_flags[1] & 1) == 0)) && (DAT_40002208 != '\0')) &&
      ((DAT_40002209 != '\0' && ((ignition_on_flags & 1) != 0)))) &&
     (((ignition_on_flags & 0x20) == 0 && ((ignition_on_flags & 0x40) != 0)))) {
    if (DAT_400031d9 == '\0') {
      if (DAT_40002a58 != -1) {
        DAT_40002a58 = DAT_40002a58 + '\x01';
      }
      bVar1 = DAT_400017aa == '\x01';
      cVar2 = '\0';
      if (DAT_400017aa == '\x01') {
        cVar2 = DAT_40002a57;
      }
      DAT_400017aa = '\0';
      DAT_40002a57 = cVar2;
    }
    else {
      if (DAT_40002a57 != -1) {
        DAT_40002a57 = DAT_40002a57 + '\x01';
      }
      DAT_400017aa = '\x01';
      DAT_40002a58 = '\0';
    }
    if (((bVar1) || (DAT_40002a57 == -1)) || (DAT_40002a58 == -1)) {
      if ((byte)(DAT_40002a57 - 0x12U) < 5) {
        fuel_pump_state__ = '\x01';
      }
      else if ((byte)(DAT_40002a57 - 0x26U) < 5) {
        fuel_pump_state__ = '\x02';
      }
      else if ((byte)(DAT_40002a57 - 0x30U) < 5) {
        fuel_pump_state__ = '\x03';
      }
      else if ((byte)(DAT_40002a57 - 0x3aU) < 5) {
        fuel_pump_state__ = '\x04';
      }
      else if ((byte)(DAT_40002a57 + 0xb2U) < 5) {
        fuel_pump_state__ = '\x05';
      }
      else {
        fuel_pump_state__ = '\x06';
        DAT_40002a58 = '\0';
        DAT_40002a57 = '\0';
      }
      if (fuel_pump_state__ == DAT_40002a72) {
        cVar2 = DAT_40002a59 + -1;
        if (DAT_40002a59 == '\0') {
          cVar2 = DAT_40002a59;
        }
      }
      else {
        DAT_40002a59 = '\x03';
        cVar2 = DAT_40002a59;
      }
      DAT_40002a59 = cVar2;
      DAT_40002a72 = fuel_pump_state__;
      if (DAT_40002a59 == '\0') {
        DAT_40002a56 = fuel_pump_state__;
        DAT_40002a5a = '\n';
      }
      else if (DAT_40002a5a == '\0') {
        DAT_40002a56 = '\x06';
      }
      else {
        DAT_40002a5a = DAT_40002a5a + -1;
      }
    }
  }
  else {
    DAT_40002a56 = '\0';
    fuel_pump_state__ = '\0';
    DAT_40002a58 = '\0';
    DAT_40002a57 = '\0';
    DAT_40002a59 = '\x03';
    DAT_40002a5a = '\n';
  }
  return;
}



void fuel_pump_obd_monitors_update(void)

{
  if ((CAL_obd_ii_P0627 & 7) != 0) {
    if (DAT_40002a56 == 5) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0627,&LEA_obd_ii_P0627_flags,&DAT_40004dde,&DAT_40004ddf,0x627,0);
    }
    else if (DAT_40002a56 == 2) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0627,&LEA_obd_ii_P0627_flags);
    }
  }
  if ((CAL_obd_ii_P0109 & 7) != 0) {
    if ((((DAT_40002a56 == 1) || (DAT_40002a56 == 3)) || (DAT_40002a56 == 4)) || (DAT_40002a56 == 6)
       ) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P0109,&LEA_obd_ii_P0109_flags,&DAT_40004eaa,&DAT_40004eab,0x109,3);
    }
    else if (DAT_40002a56 == 2) {
      obd_ii_monitor_pass(&CAL_obd_ii_P0109,&LEA_obd_ii_P0109_flags);
    }
  }
  fuel_system_diagnostic__ = fuel_system_diagnostic__ | (byte)(1 << (DAT_40002a56 - 1 & 0x3f));
  if (((((engine_is_running == false) || ((ignition_on_flags & 1) == 0)) ||
       ((runtime_since_start <= (uint)DAT_4000cb19 << 8 ||
        (((engine_state_failure_flags & 2) != 0 || (coolant_temp < DAT_4000cb18)))))) ||
      ((LEA_obd_ii_P0461_flags & 2) != 0)) ||
     (((((LEA_obd_ii_P0462_flags & 2) != 0 || ((LEA_obd_ii_P0463_flags & 2) != 0)) ||
       (fuel_level < DAT_4000cb02)) ||
      (((DAT_4000ca50 <= inj_flow_required_or_estimated___ || (DAT_40002a56 != 2)) ||
       (((inj_flags & 1) != 0 || (DAT_400050ea == '\n')))))))) {
    DAT_40002a5b = 0;
    DAT_40002a5c = 0;
  }
  else {
    if ((CAL_obd_ii_P0087 & 7) != 0) {
      if ((int)((uint)DAT_4000cb1d << 4) < (int)(short)fuel_pressure_lookup_relative) {
        DAT_40002a5b = DAT_40002a5b + 1;
        if (((DAT_4000cb9a <= DAT_40002a5b) && (DAT_40002a5b = 0, DAT_40002a5d != 0)) &&
           (DAT_40002a5d = DAT_40002a5d - 1, DAT_40002a5d == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0087,&LEA_obd_ii_P0087_flags,&DAT_40004c4f,&DAT_40004c50,0x87,0);
        }
      }
      else if (DAT_40002a5b == 0) {
        if (DAT_40002a5d < DAT_4000d470) {
          DAT_40002a5d = DAT_40002a5d + 1;
          DAT_40002a5b = DAT_4000cb9a;
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0087,&LEA_obd_ii_P0087_flags);
        }
      }
      else {
        DAT_40002a5b = DAT_40002a5b - 1;
      }
    }
    if ((CAL_obd_ii_P0088 & 7) != 0) {
      if ((int)(short)fuel_pressure_lookup_relative < (int)((uint)DAT_4000cb93 * -0x10)) {
        DAT_40002a5c = DAT_40002a5c + 1;
        if (((DAT_4000cb9b <= DAT_40002a5c) && (DAT_40002a5c = 0, DAT_40002a5e != 0)) &&
           (DAT_40002a5e = DAT_40002a5e - 1, DAT_40002a5e == 0)) {
          obd_ii_monitor_fail_transition
                    (&CAL_obd_ii_P0088,&LEA_obd_ii_P0088_flags,&DAT_40004c52,&DAT_40004c53,0x88,0);
        }
      }
      else if (DAT_40002a5c == 0) {
        if (DAT_40002a5e < DAT_4000d471) {
          DAT_40002a5e = DAT_40002a5e + 1;
          DAT_40002a5c = DAT_4000cb9b;
        }
        else {
          obd_ii_monitor_pass(&CAL_obd_ii_P0088,&LEA_obd_ii_P0088_flags);
        }
      }
      else {
        DAT_40002a5c = DAT_40002a5c - 1;
      }
    }
  }
  return;
}



void FUN_000cf66c(void)

{
  obdii_update_dtc_state(&CAL_obd_ii_P0087,&LEA_obd_ii_P0087_flags,0x87,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0088,&LEA_obd_ii_P0088_flags,0x88,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0627,&LEA_obd_ii_P0627_flags,0x627,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0109,&LEA_obd_ii_P0109_flags,0x109,3);
  DAT_40002a5b = 0;
  DAT_40002a5c = 0;
  DAT_40002a5d = DAT_4000d470;
  DAT_40002a5e = DAT_4000d471;
  DAT_40002a56 = 0;
  DAT_40002a58 = 0;
  DAT_40002a57 = 0;
  DAT_40002a59 = 3;
  DAT_40002a5a = 10;
  return;
}



void FUN_000cf78c(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0087,&LEA_obd_ii_P0087_flags,&DAT_40004c4f,&DAT_40004c50,0x87,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0088,&LEA_obd_ii_P0088_flags,&DAT_40004c52,&DAT_40004c53,0x88,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0627,&LEA_obd_ii_P0627_flags,&DAT_40004dde,&DAT_40004ddf,0x627,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0109,&LEA_obd_ii_P0109_flags,&DAT_40004eaa,&DAT_40004eab,0x109,3);
  return;
}



void trans_fluid_pump_enable(void)

{
  if ((trans_pump_condition_flags & 1) == 0) {
    siu_gpdo[0x7c] = 1;
    trans_pump_condition_flags = trans_pump_condition_flags | 1;
  }
  return;
}



void trans_fluid_pump_disable(void)

{
  if ((trans_pump_condition_flags & 1) != 0) {
    siu_gpdo[0x7c] = 0;
    trans_pump_condition_flags = trans_pump_condition_flags & 0xfe;
  }
  return;
}



void trans_cooler_control(void)

{
  byte bVar1;
  
  obd_ii_trans_fluid_diagnostic();
  if (car_speed_u8 < CAL_trans_pump_car_speed_threshold[0]) {
                    // speed too low, disable pump
    bVar1 = trans_pump_condition_flags & 0b11110111;
                    // speed very low, maintain current state
    if (CAL_trans_pump_car_speed_threshold[1] < car_speed_u8) {
      bVar1 = trans_pump_condition_flags;
    }
  }
  else {
                    // above enable speed
    bVar1 = trans_pump_condition_flags | 0b00001000;
  }
  trans_pump_condition_flags = bVar1;
  if ((CAL_trans_fluid_temp_threshold_high < trans_fluid_temp_u8) &&
     (trans_fluid_temp_u8 <= CAL_trans_fluid_temp_threshold_low)) {
                    // fluid warm, but not hot
    bVar1 = trans_pump_condition_flags | 0b00000010;
  }
  else if (CAL_trans_fluid_temp_warm < trans_fluid_temp_u8) {
                    // fluid warm
    if ((trans_fluid_temp_u8 < CAL_trans_fluid_temp_hot) ||
       (CAL_trans_fluid_temp_very_hot <= trans_fluid_temp_u8)) {
                    // trans fluid hot
      bVar1 = trans_pump_condition_flags | 0b00000010;
      if (trans_fluid_temp_u8 < CAL_trans_fluid_temp_unknown) {
        bVar1 = trans_pump_condition_flags;
      }
    }
    else {
      bVar1 = trans_pump_condition_flags & 0b11111101;
    }
  }
  else {
    bVar1 = trans_pump_condition_flags & 0b11111101;
                    // fluid cold
  }
  trans_pump_condition_flags = bVar1;
  if ((CAL_trans_pump_coolant_temp_activate_low < coolant_temp) &&
     (coolant_temp <= CAL_trans_pump_coolant_temp_activate_high)) {
    trans_pump_condition_flags = trans_pump_condition_flags | 0b00000100;
  }
  else if ((coolant_temp <= CAL_trans_pump_coolant_temp_deactivate_low) ||
          (CAL_trans_pump_coolant_temp_deactivate_high < coolant_temp)) {
    trans_pump_condition_flags = trans_pump_condition_flags & 0b11111011;
  }
  if ((obd_ii_2f_trans_pump_requested & 1) == 0) {
                    // can't find where this is set
    if (trans_fluid_pump_mode____ == 0) {
      if ((trans_pump_condition_flags & 0b00001110) == 0b00001110) {
        trans_fluid_pump_enable();
      }
      else {
        trans_fluid_pump_disable();
      }
    }
    else if (trans_fluid_pump_mode____ == 1) {
      trans_fluid_pump_enable();
    }
    else if (trans_fluid_pump_mode____ == 2) {
      trans_fluid_pump_disable();
    }
  }
  else if ((obd_ii_2f_trans_pump_state & 1) == 0) {
    trans_fluid_pump_disable();
  }
  else {
    trans_fluid_pump_enable();
  }
  return;
}



void obd_ii_trans_fluid_diagnostic(void)

{
  if ((trans_pump_condition_flags & 0b00000001) == 0) {
                    // pump off
    trans_fluid_pump_timer[1] = 0;
    trans_fluid_pump_timer[0] = 0;
    trans_fluid_last = trans_fluid_temp_u8;
  }
  else {
                    // how long pump has been running
    if (trans_fluid_pump_timer[1] != 0xffff) {
      trans_fluid_pump_timer[1] = trans_fluid_pump_timer[1] + 1;
    }
    if ((((car_speed_u8 < s_P_4000ccac[0]) && (s_P_4000ccac[1] < car_speed_u8)) &&
        (trans_fluid_temp_u8 < u8_temp_5_8_40c_4000ccaa)) &&
       ((u8_temp_5_8_40c_4000ccab < trans_fluid_temp_u8 &&
        ((trans_pump_condition_flags & 0b00010000) == 0)))) {
                    // how long the pump has been in autorun window
      if (trans_fluid_pump_timer[0] != 0xffff) {
        trans_fluid_pump_timer[0] = trans_fluid_pump_timer[0] + 1;
      }
    }
    else {
      trans_fluid_pump_timer[0] = 0;
      trans_fluid_last = trans_fluid_temp_u8;
    }
  }
  if (((CAL_obd_ii_P0712 & 7) != 0) && (engine_is_running)) {
    if (trans_temp_voltage < CAL_trans_temp_voltage_threshold[1]) {
      obd_ii_P0713_failure_count = obd_ii_P0713_failure_count + 1;
      if ((((int)DAT_400023e8 <= (int)(uint)obd_ii_P0713_failure_count) &&
          (obd_ii_P0713_failure_count = 0, DAT_40002a7a != 0)) &&
         (DAT_40002a7a = DAT_40002a7a - 1, DAT_40002a7a == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0712,&LEA_obd_ii_P0712_flags,&DAT_40004df3,&DAT_40004df4,0x712,0);
      }
    }
    else {
      obd_ii_P0713_failure_count = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0712,&LEA_obd_ii_P0712_flags);
      if (DAT_40002a7a < DAT_4000d476) {
        DAT_40002a7a = DAT_40002a7a + 1;
      }
    }
  }
  if (((CAL_obd_ii_P0713 & 7) != 0) && (engine_is_running != false)) {
    if (CAL_trans_temp_voltage_threshold[0] < trans_temp_voltage) {
      DAT_40002a7c = DAT_40002a7c + 1;
      if ((((int)DAT_400023e8 <= (int)(uint)DAT_40002a7c) && (DAT_40002a7c = 0, DAT_40002a7e != 0))
         && (DAT_40002a7e = DAT_40002a7e - 1, DAT_40002a7e == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0713,&LEA_obd_ii_P0713_flags,&DAT_40004df6,&DAT_40004df7,0x713,0);
      }
    }
    else {
      DAT_40002a7c = 0;
      obd_ii_monitor_pass(&CAL_obd_ii_P0713,&LEA_obd_ii_P0713_flags);
      if (DAT_40002a7e < DAT_4000d477) {
        DAT_40002a7e = DAT_40002a7e + 1;
      }
    }
  }
                    // trans pump performance problem
  if ((((((CAL_obd_ii_P2797 & 7) != 0) && (engine_is_running != false)) &&
       ((ignition_on_flags & 1) != 0)) &&
      ((DAT_4000cca2 < trans_fluid_pump_timer[0] && ((trans_pump_condition_flags & 0b00010000) == 0)
       ))) && (((LEA_obd_ii_P0712_flags & 2) == 0 &&
               (((LEA_obd_ii_P0713_flags & 2) == 0 &&
                (trans_pump_condition_flags = trans_pump_condition_flags | 0x10,
                trans_fluid_last < trans_fluid_temp_u8)))))) {
    if ((int)((uint)trans_fluid_temp_u8 - (uint)trans_fluid_last) <
        (int)(uint)CAL_trans_fluid_P2797_threshold) {
      obd_ii_monitor_fail_transition
                (&CAL_obd_ii_P2797,&LEA_obd_ii_P2797_flags,&DAT_40004ea1,&DAT_40004ea2,0x2797,0);
    }
    else if ((int)(uint)CAL_trans_fluid_P2797_threshold <=
             (int)((uint)trans_fluid_temp_u8 - (uint)trans_fluid_last)) {
      obd_ii_monitor_pass(&CAL_obd_ii_P2797,&LEA_obd_ii_P2797_flags);
    }
  }
                    // deterioated trans fluid detection
  if ((CAL_obd_ii_P0897 & 7) != 0) {
    if (((DAT_4000cca0 < trans_fluid_temp_u8) && ((LEA_obd_ii_P0713_flags & 2) == 0)) &&
       ((LEA_obd_ii_P0713_flags & 2) == 0)) {
      DAT_40002a80 = DAT_40002a80 + 1;
      if (((DAT_4000cca1 <= DAT_40002a80) && (DAT_40002a80 = 0, DAT_40002a82 != 0)) &&
         (DAT_40002a82 = DAT_40002a82 - 1, DAT_40002a82 == 0)) {
        obd_ii_monitor_fail_transition
                  (&CAL_obd_ii_P0897,&LEA_obd_ii_P0897_flags,&DAT_40004e9e,&DAT_40004e9f,0x897,0);
      }
    }
    else if (DAT_40002a80 == 0) {
      if (DAT_40002a82 < DAT_4000d473) {
        DAT_40002a82 = DAT_40002a82 + 1;
        DAT_40002a80 = (ushort)DAT_4000cca1;
      }
      else {
        obd_ii_monitor_pass(&CAL_obd_ii_P0897,&LEA_obd_ii_P0897_flags);
      }
    }
    else {
      DAT_40002a80 = DAT_40002a80 - 1;
    }
  }
  return;
}



void obd_ii_setup_trans_fluid_pump(void)

{
  obdii_update_dtc_state(&CAL_obd_ii_P2797,&LEA_obd_ii_P2797_flags,0x2797,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0897,&LEA_obd_ii_P0897_flags,0x897,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0712,&LEA_obd_ii_P0712_flags,0x712,0);
  obdii_update_dtc_state(&CAL_obd_ii_P0713,&LEA_obd_ii_P0713_flags,0x713,0);
  DAT_40002a84 = 0;
  DAT_40002a80 = 0;
  DAT_40002a86 = DAT_4000d475;
  DAT_40002a82 = DAT_4000d473;
  DAT_40002a7a = DAT_4000d476;
  DAT_40002a7e = DAT_4000d477;
  trans_pump_condition_flags = 0;
  trans_fluid_pump_timer[1] = 0;
  return;
}



void obd_ii_dtc_process_trans_fluid_temp(void)

{
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P2797,&LEA_obd_ii_P2797_flags,&DAT_40004ea1,&DAT_40004ea2,0x2797,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0897,&LEA_obd_ii_P0897_flags,&DAT_40004e9e,&DAT_40004e9f,0x897,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0712,&LEA_obd_ii_P0712_flags,&DAT_40004df3,&DAT_40004df4,0x712,0);
  obd_ii_set_active_code_and_FF
            (&CAL_obd_ii_P0713,&LEA_obd_ii_P0713_flags,&DAT_40004df6,&DAT_40004df7,0x713,0);
  return;
}



undefined8 FUN_000d0420(undefined4 param_1,undefined4 param_2)

{
  if (DAT_40008328 == 0) {
    DAT_40008320 = param_1;
    DAT_40008324 = param_2;
    DAT_40008328 = 1;
    return 0;
  }
  return 0xffffffffffffffff;
}



void FUN_000d0454(int param_1)

{
  if (param_1 != 0) {
    return;
  }
  DAT_40008320 = 0;
  DAT_40008324 = 0;
  DAT_40008328 = 0;
  return;
}



longlong u128_divide_to_u64(uint dividend_hi,uint dividend_lo,ulonglong divisor_hi,
                           ulonglong divisor_lo)

{
  uint uVar1;
  longlong dividend_leading_zeros;
  uint uVar2;
  ulonglong uVar3;
  ulonglong uVar4;
  ulonglong uVar5;
  ulonglong uVar6;
  ulonglong uVar7;
  ulonglong uVar8;
  longlong lVar9;
  longlong lVar10;
  uint uVar12;
  ulonglong uVar11;
  bool bVar13;
  bool bVar14;
  
  dividend_leading_zeros = LZCOUNT(dividend_hi);
  if (dividend_hi == 0) {
    dividend_leading_zeros = LZCOUNT(dividend_lo) + 32;
  }
  lVar9 = LZCOUNT((int)divisor_hi);
  if ((int)divisor_hi == 0) {
    lVar9 = LZCOUNT((int)divisor_lo) + 0x20;
  }
  if ((uint)dividend_leading_zeros <= (uint)lVar9) {
    lVar10 = 0x40 - (lVar9 + 1);
    uVar2 = (uint)dividend_leading_zeros + (int)lVar10;
    lVar10 = (0x40 - dividend_leading_zeros) - lVar10;
    uVar12 = (uint)lVar10;
    if ((int)uVar12 < 0x20) {
      uVar1 = dividend_lo >> (uVar12 & 0x3f) | dividend_hi << (0x20 - uVar12 & 0x3f);
      uVar5 = (ulonglong)(dividend_hi >> (uVar12 & 0x3f));
    }
    else {
      uVar1 = dividend_hi >> (uVar12 - 0x20 & 0x3f);
      uVar5 = 0;
    }
    uVar7 = (ulonglong)uVar1;
    if ((int)uVar2 < 0x20) {
      uVar12 = dividend_hi << (uVar2 & 0x3f) | dividend_lo >> (0x20 - uVar2 & 0x3f);
      uVar4 = (ulonglong)(dividend_lo << (uVar2 & 0x3f));
    }
    else {
      uVar12 = dividend_lo << (uVar2 - 0x20 & 0x3f);
      uVar4 = 0;
    }
    uVar3 = (ulonglong)uVar12;
    bVar13 = false;
    do {
      bVar14 = CARRY8(uVar4,(ulonglong)bVar13) || CARRY8(uVar4,uVar4 + bVar13);
      uVar4 = uVar4 * 2 + (ulonglong)bVar13;
      uVar6 = (ulonglong)bVar14;
      bVar13 = CARRY8(uVar3,uVar6) || CARRY8(uVar3,uVar3 + uVar6);
      uVar3 = uVar3 * 2 + (ulonglong)bVar14;
      uVar6 = (ulonglong)bVar13;
      uVar8 = uVar7 * 2 + (ulonglong)bVar13;
      uVar6 = uVar5 * 2 + (ulonglong)(CARRY8(uVar7,uVar6) || CARRY8(uVar7,uVar7 + uVar6));
      uVar11 = uVar6 - (divisor_hi + (uVar8 < divisor_lo));
      uVar5 = uVar6;
      uVar7 = uVar8;
      if (-1 < (longlong)uVar11) {
        uVar5 = uVar11;
        uVar7 = uVar8 - divisor_lo;
      }
      bVar13 = -1 < (longlong)uVar11 ||
               divisor_hi <= uVar6 && (ulonglong)(uVar8 < divisor_lo) <= uVar6 - divisor_hi;
      lVar10 = lVar10 + -1;
    } while (lVar10 != 0);
    return uVar3 * 2 + (ulonglong)(CARRY8(uVar4,(ulonglong)bVar13) || CARRY8(uVar4,uVar4 + bVar13));
  }
  return 0;
}



void FUN_000d0568(void)

{
  undefined8 uVar1;
  undefined4 local_10;
  undefined4 local_c [3];
  
  if (PTR_DAT_400017b0 == &DAT_fffffffe) {
    knock_memcopy_samples(&local_10,local_c);
    uVar1 = FUN_000d0420(local_10,local_c[0]);
    PTR_DAT_400017b0 = (undefined *)uVar1;
  }
  return;
}



void FUN_000d05ac(void)

{
  if (PTR_DAT_400017b0 != &DAT_fffffffe) {
    FUN_000d0454((int)PTR_DAT_400017b0);
    PTR_DAT_400017b0 = &DAT_fffffffe;
  }
  return;
}



longlong libc_abs(longlong param_1)

{
  if ((int)param_1 < 0) {
    param_1 = -param_1;
  }
  return param_1;
}



int libc_memcmp(int a,int b,longlong param_3)

{
  int iVar1;
  byte *pbVar2;
  byte *pbVar3;
  
  pbVar3 = (byte *)(a + -1);
  pbVar2 = (byte *)(b + -1);
  param_3 = param_3 + 1;
  do {
    param_3 = param_3 + -1;
    if (param_3 == 0) {
      return 0;
    }
    pbVar3 = pbVar3 + 1;
    pbVar2 = pbVar2 + 1;
  } while (*pbVar3 == *pbVar2);
  iVar1 = 1;
  if (*pbVar3 < *pbVar2) {
    iVar1 = -1;
  }
  return iVar1;
}



byte libc_memcmp2(int a,int b,longlong param_3)

{
  char cVar1;
  char *pcVar2;
  char *pcVar3;
  
  pcVar2 = (char *)(a + -1);
  pcVar3 = (char *)(b + -1);
  param_3 = param_3 + 1;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 == 0) {
      return 0;
    }
    pcVar2 = pcVar2 + 1;
    cVar1 = *pcVar2;
    pcVar3 = pcVar3 + 1;
    if (cVar1 != *pcVar3) break;
    if (cVar1 == '\0') {
      return 0;
    }
  }
  return cVar1 - *pcVar3;
}



// WARNING: Control flow encountered bad instruction data

undefined8
flash_erase_memory_controller_unknown
          (int param_1,int *param_2,uint param_3,undefined4 *param_4,int *param_5,undefined *param_6
          )

{
  int iVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int *piVar5;
  uint uVar6;
  undefined8 uVar7;
  
  uVar7 = 0;
  if ((((uint)param_2 | param_3) & 7) == 0) {
    piVar5 = (int *)((int)*(int **)(param_1 + 0xc) + *(uint *)(param_1 + 0x10));
    piVar3 = (int *)((int)*(int **)(param_1 + 4) + *(uint *)(param_1 + 8));
    if (((((param_2 < *(int **)(param_1 + 0xc)) || (piVar5 <= param_2)) ||
         (*(uint *)(param_1 + 0x10) < param_3)) || (piVar5 < (int *)((int)param_2 + param_3))) &&
       (((param_2 < *(int **)(param_1 + 4) || (piVar3 <= param_2)) ||
        ((*(uint *)(param_1 + 8) < param_3 || (piVar3 < (int *)((int)param_2 + param_3))))))) {
      uVar7 = 0x200;
    }
    else {
      uVar4 = 0;
      uVar6 = 0;
      if (param_3 >> 3 != 0) {
        do {
          iVar1 = *param_2;
          iVar2 = param_2[1];
          if (iVar1 != -1 || iVar2 != -1) {
            uVar7 = 0x600;
            *param_4 = param_2;
            *param_5 = iVar1;
            param_5[1] = iVar2;
            break;
          }
          param_2 = param_2 + 2;
          if ((param_6 != &DAT_ffffffff) && (uVar6 == uVar4)) {
            (*(code *)param_6)();
            uVar4 = uVar4 + 0x5a;
          }
          uVar6 = uVar6 + 1;
        } while (uVar6 < param_3 >> 3);
      }
    }
  }
  else {
    uVar7 = 0x100;
  }
  if (*(int *)(param_1 + 0x24) != 0) {
                    // WARNING: Bad instruction - Truncating control flow here
    halt_baddata();
  }
  return uVar7;
}



// WARNING: Control flow encountered bad instruction data

ulonglong FUN_000d4f20(undefined4 *param_1)

{
  uint uVar1;
  uint32_t uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  ulonglong uVar6;
  
  uVar1 = *(uint *)*param_1;
  if ((uVar1 & 0x40) != 0) {
    uVar6 = 0x20;
    goto LAB_000d508c;
  }
  uVar2 = siu_midr;
  if ((((undefined *)(uVar2 >> 0x10) == &DAT_00005554) && ((uVar2 & 0xffff) < 4)) &&
     (((uVar2 & 0xffff) != 3 ||
      ((*(int *)(param_1[3] + 200) != 0x4c4a4f4e && (*(int *)(param_1[3] + 0xe8) != 0x4c4a4f4e))))))
  {
    uVar6 = 0x10;
    goto LAB_000d508c;
  }
  if (uVar2 == 0x55340000) {
    uVar6 = 0x10;
    goto LAB_000d508c;
  }
  param_1[6] = 0;
  param_1[7] = 0;
  uVar3 = uVar1 >> 0x14 & 7;
  uVar6 = (ulonglong)(uVar1 >> 0xe) & 3 | (~(ulonglong)uVar1 << 0x20) >> 0x2a & 0xc;
  if (uVar3 < 4) {
    iVar4 = 2 << uVar3;
LAB_000d5014:
    param_1[5] = iVar4;
  }
  else {
    if (uVar3 == 4) {
      iVar4 = 10;
      goto LAB_000d5014;
    }
    if (uVar3 == 5) {
      iVar4 = 0xc;
      goto LAB_000d5014;
    }
    if (uVar3 == 6) {
      iVar4 = 6;
      goto LAB_000d5014;
    }
  }
  if ((uVar1 & 0x10000000) == 0) {
    uVar3 = uVar1 >> 6 & 0x3c0000;
    uVar5 = uVar3 + 0x40000;
    param_1[2] = uVar5;
    if (0x40000 < uVar5) {
      param_1[6] = (uVar1 >> 0xf & 2) + 2;
    }
    if (0x80000 < uVar5) {
      param_1[7] = uVar3 - 0x40000 >> 0x11;
    }
  }
  else if ((uVar1 & 0xf000000) == 0) {
    param_1[2] = 0x20000;
    param_1[5] = 4;
  }
  else {
    param_1[2] = 0x50000;
    param_1[6] = 4;
  }
LAB_000d508c:
  if (param_1[9] != 0) {
                    // WARNING: Bad instruction - Truncating control flow here
    halt_baddata();
  }
  return uVar6;
}



// WARNING: Control flow encountered bad instruction data

undefined8 FUN_000d50b8(int *param_1,int param_2,undefined *param_3,uint *param_4)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined8 uVar5;
  
  uVar5 = 0;
  *param_3 = 0;
  if (6 < param_2) {
    uVar5 = 0x800;
    goto LAB_000d516c;
  }
  iVar2 = 4;
  uVar4 = 0x100000;
  iVar3 = 0x14;
  if (param_2 == 2) {
LAB_000d50f0:
    uVar4 = 0;
LAB_000d5140:
    uVar4 = uVar4 | 0xffff;
    iVar3 = 0;
  }
  else if (param_2 == 4) {
LAB_000d5100:
    uVar4 = 0xf0000;
    iVar3 = 0x10;
  }
  else if (param_2 != 0) {
    iVar2 = 0xc;
    if (param_2 == 3) goto LAB_000d50f0;
    if (param_2 == 5) goto LAB_000d5100;
    if (param_2 != 6) goto LAB_000d5148;
    iVar2 = 8;
    uVar4 = 0xfff0000;
    goto LAB_000d5140;
  }
LAB_000d5148:
  uVar1 = *(uint *)(iVar2 + *param_1);
  if ((uVar1 & 0x80000000) != 0) {
    *param_3 = 1;
  }
  *param_4 = (uVar1 & uVar4) >> iVar3;
LAB_000d516c:
  if (param_1[9] == 0) {
    return uVar5;
  }
                    // WARNING: Bad instruction - Truncating control flow here
  halt_baddata();
}



// WARNING: Control flow encountered bad instruction data

undefined8
FUN_000d5198(int param_1,ulonglong param_2,ulonglong param_3,int *param_4,undefined4 *param_5,
            int *param_6,int *param_7,undefined *param_8)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  ulonglong uVar4;
  ulonglong uVar5;
  undefined8 uVar6;
  int *piVar7;
  
  uVar6 = 0;
  if ((((param_2 | param_3) & 7) == 0) && (((uint)param_4 & 3) == 0)) {
    uVar4 = (ulonglong)*(uint *)(param_1 + 0xc) + (ulonglong)*(uint *)(param_1 + 0x10);
    uVar3 = *(uint *)(param_1 + 4) + *(uint *)(param_1 + 8);
    if ((((((param_2 & 0xffffffff) < (ulonglong)*(uint *)(param_1 + 0xc)) ||
          ((uVar4 & 0xffffffff) <= (param_2 & 0xffffffff))) ||
         ((ulonglong)*(uint *)(param_1 + 0x10) < (param_3 & 0xffffffff))) ||
        ((uVar4 & 0xffffffff) < (param_2 + param_3 & 0xffffffff))) &&
       ((((param_2 & 0xffffffff) < (ulonglong)*(uint *)(param_1 + 4) ||
         ((ulonglong)uVar3 <= (param_2 & 0xffffffff))) ||
        (((ulonglong)*(uint *)(param_1 + 8) < (param_3 & 0xffffffff) ||
         ((ulonglong)uVar3 < (param_2 + param_3 & 0xffffffff))))))) {
      uVar6 = 0x200;
    }
    else {
      uVar4 = 0;
      uVar5 = 0;
      if ((param_3 << 0x20) >> 0x23 != 0) {
        do {
          piVar7 = (int *)param_2;
          iVar1 = *piVar7;
          iVar2 = piVar7[1];
          if (*param_4 != iVar1 || param_4[1] != iVar2) {
            *param_5 = piVar7;
            *param_6 = iVar1;
            param_6[1] = iVar2;
            iVar1 = param_4[1];
            uVar6 = 0x700;
            *param_7 = *param_4;
            param_7[1] = iVar1;
            break;
          }
          param_2 = param_2 + 8;
          param_4 = param_4 + 2;
          if ((param_8 != &DAT_ffffffff) && ((uVar5 & 0xffffffff) == (uVar4 & 0xffffffff))) {
            (*(code *)param_8)();
            uVar4 = uVar4 + 0x50;
          }
          uVar5 = uVar5 + 1;
        } while ((uVar5 & 0xffffffff) < (param_3 << 0x20) >> 0x23);
      }
    }
  }
  else {
    uVar6 = 0x100;
  }
  if (*(int *)(param_1 + 0x24) != 0) {
                    // WARNING: Bad instruction - Truncating control flow here
    halt_baddata();
  }
  return uVar6;
}



// WARNING: Control flow encountered bad instruction data

undefined8 FUN_000d5308(int *param_1,int param_2,int param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  undefined8 uVar5;
  
  if (6 < param_2) {
    uVar5 = 0x800;
    goto LAB_000d53dc;
  }
  iVar3 = 4;
  uVar5 = 0;
  uVar2 = 0x100000;
  iVar1 = 0x14;
  if (param_2 == 2) {
LAB_000d5338:
    uVar2 = 0;
LAB_000d5388:
    uVar2 = uVar2 | 0xffff;
    iVar1 = 0;
  }
  else if (param_2 == 4) {
LAB_000d5348:
    uVar2 = 0xf0000;
    iVar1 = 0x10;
  }
  else if (param_2 != 0) {
    iVar3 = 0xc;
    if (param_2 == 3) goto LAB_000d5338;
    if (param_2 == 5) goto LAB_000d5348;
    if (param_2 != 6) goto LAB_000d5390;
    iVar3 = 8;
    uVar2 = 0xfff0000;
    goto LAB_000d5388;
  }
LAB_000d5390:
  puVar4 = (uint *)(iVar3 + *param_1);
  if (((*puVar4 & 0x80000000) == 0) && (*puVar4 = param_4, (*puVar4 & 0x80000000) == 0)) {
    uVar5 = 0xb00;
  }
  else {
    *puVar4 = *puVar4 & ~uVar2;
    *puVar4 = *puVar4 | uVar2 & param_3 << iVar1;
  }
LAB_000d53dc:
  if (param_1[9] == 0) {
    return uVar5;
  }
                    // WARNING: Bad instruction - Truncating control flow here
  halt_baddata();
}



undefined4 intc_run_routed_handler(undefined4 param_1)

{
  undefined4 *puVar1;
  undefined8 in_MSR;
  uint in_SRR1;
  
                    // It's not clear yet whether this is in hw or sw vectored mode. In SW mode,
                    // reading here has side effects.
  puVar1 = (undefined4 *)intc_iackr;
  WriteExternalEnableImmediate(1);
  (*(code *)*puVar1)();
  enforceInOrderExecutionIO();
  WriteExternalEnableImmediate(0);
  intc_eoir = 0;
  returnFromInterrupt(in_MSR,(ulonglong)in_SRR1);
  return param_1;
}


